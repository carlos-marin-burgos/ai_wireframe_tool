#!/bin/bash

echo "üîê Credential Rotation Script"
echo "=============================="
echo ""
echo "1Ô∏è‚É£ REGENERATE FIGMA OAUTH CREDENTIALS:"
echo "   ‚Üí Go to: https://www.figma.com/developers/apps"
echo "   ‚Üí Select your app"
echo "   ‚Üí Click 'Regenerate secret'"
echo "   ‚Üí Save the new Client ID and Client Secret"
echo ""
echo "2Ô∏è‚É£ REGENERATE AZURE OPENAI KEY:"
echo "   ‚Üí Go to: https://portal.azure.com"
echo "   ‚Üí Find your Cognitive Services (OpenAI) resource"
echo "   ‚Üí Go to 'Keys and Endpoint'"
echo "   ‚Üí Click 'Regenerate Key 1'"
echo "   ‚Üí Copy the new key"
echo ""
echo "3Ô∏è‚É£ UPDATE AZURE FUNCTION APP SETTINGS:"
echo "   ‚Üí Go to: https://portal.azure.com"
echo "   ‚Üí Find 'func-designetica-prod-vmlmp4vej4ckc'"
echo "   ‚Üí Go to 'Configuration'"
echo "   ‚Üí Update these settings:"
echo "     - AZURE_OPENAI_KEY (new key from step 2)"
echo "     - FIGMA_CLIENT_ID (new ID from step 1)"
echo "     - FIGMA_CLIENT_SECRET (new secret from step 1)"
echo "   ‚Üí Click 'Save' and restart the Function App"
echo ""
echo "4Ô∏è‚É£ UPDATE LOCAL .ENV FILE:"
echo "   ‚Üí Create backend/.env with new credentials"
echo ""
echo "‚úÖ Done! All exposed credentials have been rotated."
