
Azure Functions Core Tools
Core Tools Version:       4.1.0+7ff2567e43c1ae7471cea7394452c1447661e175 (64-bit)
Function Runtime Version: 4.1040.300.25317

Warning: unable to verify all settings from local.settings.json and function.json files.
[2025-08-21T18:31:09.760Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: 'dca896d2-0454-4ac6-ad53-74c9fbbeb35b'
[2025-08-21T18:31:09.816Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:31:09.816Z] Host configuration file read:
[2025-08-21T18:31:09.816Z] {
[2025-08-21T18:31:09.816Z]   "version": "2.0",
[2025-08-21T18:31:09.816Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:31:09.816Z]   "logging": {
[2025-08-21T18:31:09.816Z]     "applicationInsights": {
[2025-08-21T18:31:09.816Z]       "samplingSettings": {
[2025-08-21T18:31:09.816Z]         "isEnabled": true,
[2025-08-21T18:31:09.816Z]         "excludedTypes": "Request"
[2025-08-21T18:31:09.816Z]       }
[2025-08-21T18:31:09.816Z]     },
[2025-08-21T18:31:09.816Z]     "logLevel": {
[2025-08-21T18:31:09.816Z]       "default": "Information",
[2025-08-21T18:31:09.816Z]       "Host.Results": "Information",
[2025-08-21T18:31:09.816Z]       "Function": "Information"
[2025-08-21T18:31:09.816Z]     }
[2025-08-21T18:31:09.816Z]   },
[2025-08-21T18:31:09.816Z]   "extensionBundle": {
[2025-08-21T18:31:09.816Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:31:09.816Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:31:09.816Z]   },
[2025-08-21T18:31:09.816Z]   "watchDirectories": [
[2025-08-21T18:31:09.816Z]     "Shared"
[2025-08-21T18:31:09.816Z]   ]
[2025-08-21T18:31:09.816Z] }
[2025-08-21T18:31:09.824Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:31:09.825Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:31:09.825Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:31:09.870Z] Loading functions metadata
[2025-08-21T18:31:09.870Z] Worker indexing is enabled
[2025-08-21T18:31:09.871Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:31:09.871Z] Reading functions metadata (Worker)
[2025-08-21T18:31:10.003Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf connecting on 127.0.0.1:54302
[2025-08-21T18:31:12.101Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received WorkerInitRequest
[2025-08-21T18:31:12.138Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionsMetadataRequest
[2025-08-21T18:31:12.142Z] Reading functions metadata (Host)
[2025-08-21T18:31:12.460Z] 21 functions found (Host)
[2025-08-21T18:31:12.474Z] 21 functions loaded
[2025-08-21T18:31:12.476Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:31:12.476Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:31:12.476Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:31:12.476Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T18:31:12.624Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:31:12.625Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:31:12.626Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T18:31:12.626Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T18:31:12.702Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:31:12.702Z] Host configuration file read:
[2025-08-21T18:31:12.702Z] {
[2025-08-21T18:31:12.702Z]   "version": "2.0",
[2025-08-21T18:31:12.702Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:31:12.702Z]   "logging": {
[2025-08-21T18:31:12.702Z]     "applicationInsights": {
[2025-08-21T18:31:12.702Z]       "samplingSettings": {
[2025-08-21T18:31:12.702Z]         "isEnabled": true,
[2025-08-21T18:31:12.702Z]         "excludedTypes": "Request"
[2025-08-21T18:31:12.702Z]       }
[2025-08-21T18:31:12.702Z]     },
[2025-08-21T18:31:12.702Z]     "logLevel": {
[2025-08-21T18:31:12.702Z]       "default": "Information",
[2025-08-21T18:31:12.702Z]       "Host.Results": "Information",
[2025-08-21T18:31:12.702Z]       "Function": "Information"
[2025-08-21T18:31:12.702Z]     }
[2025-08-21T18:31:12.702Z]   },
[2025-08-21T18:31:12.702Z]   "extensionBundle": {
[2025-08-21T18:31:12.702Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:31:12.702Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:31:12.702Z]   },
[2025-08-21T18:31:12.703Z]   "watchDirectories": [
[2025-08-21T18:31:12.703Z]     "Shared"
[2025-08-21T18:31:12.703Z]   ]
[2025-08-21T18:31:12.703Z] }
[2025-08-21T18:31:12.732Z] Starting host metrics provider.
[2025-08-21T18:31:12.801Z] Initializing Warmup Extension.
[2025-08-21T18:31:12.821Z] Initializing Host. OperationId: 'dca896d2-0454-4ac6-ad53-74c9fbbeb35b'.
[2025-08-21T18:31:12.824Z] Host initialization: ConsecutiveErrors=0, StartupCount=1, OperationId=dca896d2-0454-4ac6-ad53-74c9fbbeb35b
[2025-08-21T18:31:12.833Z] LoggerFilterOptions
[2025-08-21T18:31:12.833Z] {
[2025-08-21T18:31:12.833Z]   "MinLevel": "None",
[2025-08-21T18:31:12.833Z]   "Rules": [
[2025-08-21T18:31:12.833Z]     {
[2025-08-21T18:31:12.833Z]       "ProviderName": null,
[2025-08-21T18:31:12.833Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:31:12.833Z]       "LogLevel": "None",
[2025-08-21T18:31:12.833Z]       "Filter": null
[2025-08-21T18:31:12.833Z]     },
[2025-08-21T18:31:12.833Z]     {
[2025-08-21T18:31:12.833Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": "None",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": null,
[2025-08-21T18:31:12.834Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": null,
[2025-08-21T18:31:12.834Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": null,
[2025-08-21T18:31:12.834Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": "Host.Results",
[2025-08-21T18:31:12.834Z]       "LogLevel": "Information",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": "Function",
[2025-08-21T18:31:12.834Z]       "LogLevel": "Information",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": "Information",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": "None",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": null,
[2025-08-21T18:31:12.834Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": null,
[2025-08-21T18:31:12.834Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.834Z]     }
[2025-08-21T18:31:12.834Z]   ]
[2025-08-21T18:31:12.834Z] }
[2025-08-21T18:31:12.834Z] LoggerFilterOptions
[2025-08-21T18:31:12.834Z] {
[2025-08-21T18:31:12.834Z]   "MinLevel": "None",
[2025-08-21T18:31:12.834Z]   "Rules": [
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:31:12.834Z]       "LogLevel": "None",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": "None",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": null,
[2025-08-21T18:31:12.834Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": null,
[2025-08-21T18:31:12.834Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": null,
[2025-08-21T18:31:12.834Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": "Host.Results",
[2025-08-21T18:31:12.834Z]       "LogLevel": "Information",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": "Function",
[2025-08-21T18:31:12.834Z]       "LogLevel": "Information",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": null,
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.834Z]       "LogLevel": "Information",
[2025-08-21T18:31:12.834Z]       "Filter": null
[2025-08-21T18:31:12.834Z]     },
[2025-08-21T18:31:12.834Z]     {
[2025-08-21T18:31:12.834Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:31:12.834Z]       "CategoryName": null,
[2025-08-21T18:31:12.835Z]       "LogLevel": "None",
[2025-08-21T18:31:12.835Z]       "Filter": null
[2025-08-21T18:31:12.835Z]     },
[2025-08-21T18:31:12.835Z]     {
[2025-08-21T18:31:12.835Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:31:12.835Z]       "CategoryName": null,
[2025-08-21T18:31:12.835Z]       "LogLevel": null,
[2025-08-21T18:31:12.835Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.835Z]     },
[2025-08-21T18:31:12.835Z]     {
[2025-08-21T18:31:12.835Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:31:12.835Z]       "CategoryName": null,
[2025-08-21T18:31:12.835Z]       "LogLevel": null,
[2025-08-21T18:31:12.835Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:31:12.835Z]     }
[2025-08-21T18:31:12.835Z]   ]
[2025-08-21T18:31:12.835Z] }
[2025-08-21T18:31:12.835Z] FunctionResultAggregatorOptions
[2025-08-21T18:31:12.835Z] {
[2025-08-21T18:31:12.835Z]   "BatchSize": 1000,
[2025-08-21T18:31:12.835Z]   "FlushTimeout": "00:00:30",
[2025-08-21T18:31:12.835Z]   "IsEnabled": true
[2025-08-21T18:31:12.835Z] }
[2025-08-21T18:31:12.835Z] ConcurrencyOptions
[2025-08-21T18:31:12.835Z] {
[2025-08-21T18:31:12.835Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T18:31:12.835Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T18:31:12.835Z]   "CPUThreshold": 0.8,
[2025-08-21T18:31:12.835Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T18:31:12.835Z] }
[2025-08-21T18:31:12.835Z] SingletonOptions
[2025-08-21T18:31:12.835Z] {
[2025-08-21T18:31:12.835Z]   "LockPeriod": "00:00:15",
[2025-08-21T18:31:12.835Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T18:31:12.835Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T18:31:12.835Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T18:31:12.835Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T18:31:12.835Z] }
[2025-08-21T18:31:12.835Z] ScaleOptions
[2025-08-21T18:31:12.835Z] {
[2025-08-21T18:31:12.835Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T18:31:12.835Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T18:31:12.835Z]   "MetricsPurgeEnabled": true,
[2025-08-21T18:31:12.835Z]   "IsTargetScalingEnabled": true,
[2025-08-21T18:31:12.835Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T18:31:12.835Z] }
[2025-08-21T18:31:12.835Z] Starting JobHost
[2025-08-21T18:31:12.836Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=3e5112ad-3708-4fa1-b942-3330745c4ed0, Version=4.1040.300.25317, ProcessId=22008, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T18:31:12.838Z] Loading functions metadata
[2025-08-21T18:31:12.838Z] Worker indexing is enabled
[2025-08-21T18:31:12.838Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:31:12.838Z] Reading functions metadata (Worker)
[2025-08-21T18:31:12.838Z] Reading functions metadata (Host)
[2025-08-21T18:31:13.405Z] 21 functions found (Host)
[2025-08-21T18:31:13.410Z] Reading functions metadata (Custom)
[2025-08-21T18:31:13.413Z] 0 functions found (Custom)
[2025-08-21T18:31:13.415Z] 21 functions loaded
[2025-08-21T18:31:13.446Z] Worker process started and initialized.
[2025-08-21T18:31:13.446Z] Generating 21 job function(s)
[2025-08-21T18:31:13.491Z] Found the following functions:
[2025-08-21T18:31:13.491Z] Host.Functions.aiBuilderHealth
[2025-08-21T18:31:13.491Z] Host.Functions.analytics
[2025-08-21T18:31:13.491Z] Host.Functions.analyzeUIImage
[2025-08-21T18:31:13.491Z] Host.Functions.atlasComponents
[2025-08-21T18:31:13.491Z] Host.Functions.fast-suggestions
[2025-08-21T18:31:13.491Z] Host.Functions.figmaOAuthCallback
[2025-08-21T18:31:13.491Z] Host.Functions.figmaOAuthStart
[2025-08-21T18:31:13.491Z] Host.Functions.generateSuggestions
[2025-08-21T18:31:13.491Z] Host.Functions.generateWireframe
[2025-08-21T18:31:13.491Z] Host.Functions.generateWireframeAlias
[2025-08-21T18:31:13.491Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T18:31:13.491Z] Host.Functions.generateWireframeOptionB
[2025-08-21T18:31:13.491Z] Host.Functions.get-template
[2025-08-21T18:31:13.491Z] Host.Functions.githubAuthCallback
[2025-08-21T18:31:13.491Z] Host.Functions.githubAuthStart
[2025-08-21T18:31:13.491Z] Host.Functions.health
[2025-08-21T18:31:13.491Z] Host.Functions.healthCheck
[2025-08-21T18:31:13.491Z] Host.Functions.openai-health
[2025-08-21T18:31:13.491Z] Host.Functions.performance-stats
[2025-08-21T18:31:13.491Z] Host.Functions.testFunction
[2025-08-21T18:31:13.491Z] Host.Functions.testSimple
[2025-08-21T18:31:13.491Z] 
[2025-08-21T18:31:13.495Z] HttpOptions
[2025-08-21T18:31:13.495Z] {
[2025-08-21T18:31:13.495Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T18:31:13.495Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T18:31:13.495Z]   "MaxConcurrentRequests": -1,
[2025-08-21T18:31:13.495Z]   "MaxOutstandingRequests": -1,
[2025-08-21T18:31:13.495Z]   "RoutePrefix": "api"
[2025-08-21T18:31:13.495Z] }
[2025-08-21T18:31:13.496Z] Initializing function HTTP routes
[2025-08-21T18:31:13.496Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T18:31:13.496Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T18:31:13.496Z] 
[2025-08-21T18:31:13.499Z] Host initialized (659ms)
[2025-08-21T18:31:13.501Z] Host started (663ms)
[2025-08-21T18:31:13.501Z] Job host started
[2025-08-21T18:31:13.502Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:31:13.503Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:31:13.598Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T18:31:13.599Z] ✅ OpenAI initialized for image analysis
[2025-08-21T18:31:13.599Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:31:13.599Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:31:13.727Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T18:31:13.727Z] 🔍 Current env vars:
[2025-08-21T18:31:13.727Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T18:31:13.727Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T18:31:13.727Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T18:31:13.727Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:31:13.727Z]   Deployment: gpt-4o
[2025-08-21T18:31:13.727Z]   API Version: 2024-08-01-preview
[2025-08-21T18:31:13.727Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T18:31:13.727Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T18:31:13.727Z] ✅ OpenAI client initialized successfully
[2025-08-21T18:31:13.727Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:31:13.727Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:31:13.729Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T18:31:13.734Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.734Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.734Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.734Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.735Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.735Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.735Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:31:13.735Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.735Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: '119ec108-0347-4467-b2f8-d91fde860263'.
[2025-08-21T18:31:13.735Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.735Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:31:13.735Z] Result: Failure
[2025-08-21T18:31:13.735Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.735Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.735Z] Worker failed to load function: 'figmaOAuthStart' with functionId: 'fe770069-a7fc-4d9f-b013-4065c2d123b4'.
[2025-08-21T18:31:13.735Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:31:13.735Z] Result: Failure
[2025-08-21T18:31:13.735Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T18:31:13.735Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:31:13.735Z]                    ^^^^^
[2025-08-21T18:31:13.735Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:31:13.735Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T18:31:13.735Z] 
[2025-08-21T18:31:13.735Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.735Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:31:13.736Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:31:13.736Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:31:13.736Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:31:13.736Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z]                    ^^^^^
[2025-08-21T18:31:13.736Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:31:13.736Z] 
[2025-08-21T18:31:13.736Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:31:13.736Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:31:13.736Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:31:13.736Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:31:13.736Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:31:13.736Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:31:13.736Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:31:13.736Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:31:13.736Z]     at Generator.next (<anonymous>).
[2025-08-21T18:31:13.736Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:31:13.736Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:31:13.736Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:31:13.736Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:31:13.736Z]     at Generator.next (<anonymous>).
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest
[2025-08-21T18:31:13.736Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionLoadRequest

Functions:

	aiBuilderHealth: [GET] http://localhost:7072/api/ai-builder/health

	analytics: [GET,OPTIONS] http://localhost:7072/api/analytics

	analyzeUIImage: [POST,OPTIONS] http://localhost:7072/api/analyzeUIImage

	atlasComponents: [GET,OPTIONS] http://localhost:7072/api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}

	fast-suggestions: [GET,POST,OPTIONS] http://localhost:7072/api/fast-suggestions

	figmaOAuthCallback: [GET,OPTIONS] http://localhost:7072/api/figmaOAuthCallback

	figmaOAuthStart: [GET,POST,OPTIONS] http://localhost:7072/api/figmaOAuthStart

	generateSuggestions: [GET,POST,OPTIONS] http://localhost:7072/api/generate-suggestions

	generateWireframe: [POST,OPTIONS] http://localhost:7072/api/generate-html-wireframe

	generateWireframeAlias: [POST,OPTIONS] http://localhost:7072/api/generate-wireframe

	generateWireframeEnhanced: [GET,POST,OPTIONS] http://localhost:7072/api/generate-wireframe-enhanced

	generateWireframeOptionB: [GET,POST,OPTIONS] http://localhost:7072/api/generateWireframeOptionB

	get-template: [POST,OPTIONS] http://localhost:7072/api/get-template

	githubAuthCallback: [GET] http://localhost:7072/api/github/auth/callback

	githubAuthStart: [GET] http://localhost:7072/api/github/auth/start

	health: [GET] http://localhost:7072/api/health

	healthCheck: [GET] http://localhost:7072/api/healthCheck

	openai-health: [GET,OPTIONS] http://localhost:7072/api/openai-health

	performance-stats: [GET] http://localhost:7072/api/performance-stats

	testFunction: [GET,POST,OPTIONS] http://localhost:7072/api/test-wireframe

	testSimple: [GET,POST] http://localhost:7072/api/test-simple

For detailed output, run func with --verbose flag.
[2025-08-21T18:31:14.691Z] Executing HTTP request: {
[2025-08-21T18:31:14.692Z]   "requestId": "da2ea89e-91a4-4f0d-859f-8fe930791e44",
[2025-08-21T18:31:14.692Z]   "method": "GET",
[2025-08-21T18:31:14.692Z]   "userAgent": "curl/8.7.1",
[2025-08-21T18:31:14.692Z]   "uri": "/api/health"
[2025-08-21T18:31:14.692Z] }
[2025-08-21T18:31:14.760Z] Executing 'Functions.health' (Reason='This function was programmatically called via the host APIs.', Id=4541a9b8-22d5-4b06-b668-f4e5a6c08f0b)
[2025-08-21T18:31:14.787Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionInvocationRequest with invocationId 4541a9b8-22d5-4b06-b668-f4e5a6c08f0b
[2025-08-21T18:31:14.809Z] Executing HTTP request: {
[2025-08-21T18:31:14.809Z]   "requestId": "b9ff8f5d-a432-49a5-a894-2879be72f2dd",
[2025-08-21T18:31:14.809Z]   "method": "POST",
[2025-08-21T18:31:14.809Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T18:31:14.809Z]   "uri": "/api/generate-suggestions"
[2025-08-21T18:31:14.809Z] }
[2025-08-21T18:31:14.811Z] Executed 'Functions.health' (Succeeded, Id=4541a9b8-22d5-4b06-b668-f4e5a6c08f0b, Duration=59ms)
[2025-08-21T18:31:14.811Z] Executing 'Functions.generateSuggestions' (Reason='This function was programmatically called via the host APIs.', Id=0940b708-8a56-4b5b-9d05-975bccba10fe)
[2025-08-21T18:31:14.816Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionInvocationRequest with invocationId 0940b708-8a56-4b5b-9d05-975bccba10fe
[2025-08-21T18:31:14.817Z] Executed 'Functions.generateSuggestions' (Succeeded, Id=0940b708-8a56-4b5b-9d05-975bccba10fe, Duration=7ms)
[2025-08-21T18:31:14.818Z] Executed HTTP request: {
[2025-08-21T18:31:14.818Z]   "requestId": "da2ea89e-91a4-4f0d-859f-8fe930791e44",
[2025-08-21T18:31:14.818Z]   "identities": "",
[2025-08-21T18:31:14.818Z]   "status": "200",
[2025-08-21T18:31:14.818Z]   "duration": "126"
[2025-08-21T18:31:14.818Z] }
[2025-08-21T18:31:14.819Z] Executed HTTP request: {
[2025-08-21T18:31:14.819Z]   "requestId": "b9ff8f5d-a432-49a5-a894-2879be72f2dd",
[2025-08-21T18:31:14.819Z]   "identities": "",
[2025-08-21T18:31:14.819Z]   "status": "200",
[2025-08-21T18:31:14.819Z]   "duration": "8"
[2025-08-21T18:31:14.819Z] }
[2025-08-21T18:31:17.842Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T18:31:22.126Z] Executing HTTP request: {
[2025-08-21T18:31:22.126Z]   "requestId": "2f7f2811-cbe5-4e33-9ee2-a4b22a42abb3",
[2025-08-21T18:31:22.126Z]   "method": "POST",
[2025-08-21T18:31:22.126Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T18:31:22.126Z]   "uri": "/api/generate-suggestions"
[2025-08-21T18:31:22.126Z] }
[2025-08-21T18:31:22.129Z] Executing 'Functions.generateSuggestions' (Reason='This function was programmatically called via the host APIs.', Id=6948ed87-c8b1-4a23-90b5-aaa722cfede3)
[2025-08-21T18:31:22.134Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionInvocationRequest with invocationId 6948ed87-c8b1-4a23-90b5-aaa722cfede3
[2025-08-21T18:31:22.134Z] Executed 'Functions.generateSuggestions' (Succeeded, Id=6948ed87-c8b1-4a23-90b5-aaa722cfede3, Duration=6ms)
[2025-08-21T18:31:22.135Z] Executed HTTP request: {
[2025-08-21T18:31:22.135Z]   "requestId": "2f7f2811-cbe5-4e33-9ee2-a4b22a42abb3",
[2025-08-21T18:31:22.135Z]   "identities": "",
[2025-08-21T18:31:22.135Z]   "status": "200",
[2025-08-21T18:31:22.135Z]   "duration": "11"
[2025-08-21T18:31:22.135Z] }
[2025-08-21T18:31:23.716Z] Executing HTTP request: {
[2025-08-21T18:31:23.716Z]   "requestId": "71f31118-2328-4f7d-9648-ee9a28dc038d",
[2025-08-21T18:31:23.716Z]   "method": "POST",
[2025-08-21T18:31:23.716Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T18:31:23.716Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T18:31:23.716Z] }
[2025-08-21T18:31:23.726Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=864acfbe-de65-4523-8727-a3ae68a46c9f)
[2025-08-21T18:31:23.771Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionInvocationRequest with invocationId 864acfbe-de65-4523-8727-a3ae68a46c9f
[2025-08-21T18:31:29.906Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T18:31:29.907Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T18:31:29.907Z]     Description: "erwe"
[2025-08-21T18:31:29.907Z]     Contains learning keywords: false
[2025-08-21T18:31:29.907Z]     Is hero section exclusion: false
[2025-08-21T18:31:29.907Z]     Final isLearningPlatform: false
[2025-08-21T18:31:29.907Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T18:31:29.911Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=864acfbe-de65-4523-8727-a3ae68a46c9f, Duration=6188ms)
[2025-08-21T18:31:29.912Z] Executed HTTP request: {
[2025-08-21T18:31:29.912Z]   "requestId": "71f31118-2328-4f7d-9648-ee9a28dc038d",
[2025-08-21T18:31:29.912Z]   "identities": "",
[2025-08-21T18:31:29.912Z]   "status": "200",
[2025-08-21T18:31:29.912Z]   "duration": "6196"
[2025-08-21T18:31:29.912Z] }
[2025-08-21T18:34:05.277Z] Executing HTTP request: {
[2025-08-21T18:34:05.277Z]   "requestId": "d5dc2a89-5bd9-4d3b-9e0b-3a9a9055af3a",
[2025-08-21T18:34:05.277Z]   "method": "POST",
[2025-08-21T18:34:05.277Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T18:34:05.277Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T18:34:05.277Z] }
[2025-08-21T18:34:05.292Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=54ffc027-cfcb-4080-b441-c58e71a6fbd5)
[2025-08-21T18:34:05.328Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf received FunctionInvocationRequest with invocationId 54ffc027-cfcb-4080-b441-c58e71a6fbd5
[2025-08-21T18:34:12.349Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T18:34:12.349Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T18:34:12.349Z]     Description: "Generate Microsoft Learn's assessment portal with skills validation and feedback"
[2025-08-21T18:34:12.349Z]     Contains learning keywords: true
[2025-08-21T18:34:12.349Z]     Is hero section exclusion: false
[2025-08-21T18:34:12.350Z]     Final isLearningPlatform: true
[2025-08-21T18:34:12.354Z] ✅ Added Atlas learning content section
[2025-08-21T18:34:12.354Z] 🎯 Atlas components added: Hero: 0, Modules: 4, Learning Paths: 2
[2025-08-21T18:34:12.359Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=54ffc027-cfcb-4080-b441-c58e71a6fbd5, Duration=7073ms)
[2025-08-21T18:34:12.362Z] Executed HTTP request: {
[2025-08-21T18:34:12.362Z]   "requestId": "d5dc2a89-5bd9-4d3b-9e0b-3a9a9055af3a",
[2025-08-21T18:34:12.362Z]   "identities": "",
[2025-08-21T18:34:12.362Z]   "status": "200",
[2025-08-21T18:34:12.362Z]   "duration": "7085"
[2025-08-21T18:34:12.362Z] }
[2025-08-21T18:41:12.777Z] Stopping the flush logs timer.
[2025-08-21T18:41:12.778Z] We couldn’t initialize the Table Storage Client using the 'AzureWebJobsStorage' connection string. We are unable to record diagnostic events, so the diagnostic logging service is being stopped. Please check the 'AzureWebJobsStorage' connection string in Application Settings.
[2025-08-21T18:52:27.134Z] Restarting host.
[2025-08-21T18:52:27.181Z] Stopping JobHost
[2025-08-21T18:52:27.186Z] Job host stopped
[2025-08-21T18:52:27.220Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '082f722c-3492-4613-a347-e4bc44e5cf5c'
[2025-08-21T18:52:27.312Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:52:27.312Z] Host configuration file read:
[2025-08-21T18:52:27.312Z] {
[2025-08-21T18:52:27.312Z]   "version": "2.0",
[2025-08-21T18:52:27.312Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:52:27.312Z]   "logging": {
[2025-08-21T18:52:27.312Z]     "applicationInsights": {
[2025-08-21T18:52:27.312Z]       "samplingSettings": {
[2025-08-21T18:52:27.312Z]         "isEnabled": true,
[2025-08-21T18:52:27.312Z]         "excludedTypes": "Request"
[2025-08-21T18:52:27.312Z]       }
[2025-08-21T18:52:27.312Z]     },
[2025-08-21T18:52:27.312Z]     "logLevel": {
[2025-08-21T18:52:27.312Z]       "default": "Information",
[2025-08-21T18:52:27.312Z]       "Host.Results": "Information",
[2025-08-21T18:52:27.312Z]       "Function": "Information"
[2025-08-21T18:52:27.312Z]     }
[2025-08-21T18:52:27.312Z]   },
[2025-08-21T18:52:27.312Z]   "extensionBundle": {
[2025-08-21T18:52:27.312Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:52:27.312Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:52:27.312Z]   },
[2025-08-21T18:52:27.312Z]   "watchDirectories": [
[2025-08-21T18:52:27.312Z]     "Shared"
[2025-08-21T18:52:27.312Z]   ]
[2025-08-21T18:52:27.312Z] }
[2025-08-21T18:52:27.320Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:52:27.321Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:52:27.322Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:52:27.322Z] Loading functions metadata
[2025-08-21T18:52:27.322Z] Worker indexing is enabled
[2025-08-21T18:52:27.323Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:52:27.323Z] Reading functions metadata (Worker)
[2025-08-21T18:52:27.323Z] Shutting down language worker channels for runtime:node
[2025-08-21T18:52:27.383Z] Worker 78ae67db-e746-403d-8773-e03773d7cdaf exited with code 0
[2025-08-21T18:52:27.779Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 connecting on 127.0.0.1:54302
[2025-08-21T18:52:27.807Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received WorkerInitRequest
[2025-08-21T18:52:27.811Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionsMetadataRequest
[2025-08-21T18:52:27.811Z] Reading functions metadata (Host)
[2025-08-21T18:52:28.062Z] 21 functions found (Host)
[2025-08-21T18:52:28.062Z] 21 functions loaded
[2025-08-21T18:52:28.062Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:52:28.062Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:52:28.062Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:52:28.062Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T18:52:28.215Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:52:28.215Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:52:28.215Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T18:52:28.215Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T18:52:28.261Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:52:28.261Z] Host configuration file read:
[2025-08-21T18:52:28.261Z] {
[2025-08-21T18:52:28.261Z]   "version": "2.0",
[2025-08-21T18:52:28.261Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:52:28.261Z]   "logging": {
[2025-08-21T18:52:28.261Z]     "applicationInsights": {
[2025-08-21T18:52:28.261Z]       "samplingSettings": {
[2025-08-21T18:52:28.261Z]         "isEnabled": true,
[2025-08-21T18:52:28.261Z]         "excludedTypes": "Request"
[2025-08-21T18:52:28.261Z]       }
[2025-08-21T18:52:28.261Z]     },
[2025-08-21T18:52:28.261Z]     "logLevel": {
[2025-08-21T18:52:28.261Z]       "default": "Information",
[2025-08-21T18:52:28.261Z]       "Host.Results": "Information",
[2025-08-21T18:52:28.261Z]       "Function": "Information"
[2025-08-21T18:52:28.261Z]     }
[2025-08-21T18:52:28.261Z]   },
[2025-08-21T18:52:28.261Z]   "extensionBundle": {
[2025-08-21T18:52:28.261Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:52:28.261Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:52:28.261Z]   },
[2025-08-21T18:52:28.261Z]   "watchDirectories": [
[2025-08-21T18:52:28.261Z]     "Shared"
[2025-08-21T18:52:28.261Z]   ]
[2025-08-21T18:52:28.261Z] }
[2025-08-21T18:52:28.306Z] Initializing Warmup Extension.
[2025-08-21T18:52:28.310Z] Initializing Host. OperationId: '082f722c-3492-4613-a347-e4bc44e5cf5c'.
[2025-08-21T18:52:28.310Z] Host initialization: ConsecutiveErrors=0, StartupCount=2, OperationId=082f722c-3492-4613-a347-e4bc44e5cf5c
[2025-08-21T18:52:28.330Z] LoggerFilterOptions
[2025-08-21T18:52:28.330Z] {
[2025-08-21T18:52:28.330Z]   "MinLevel": "None",
[2025-08-21T18:52:28.330Z]   "Rules": [
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": null,
[2025-08-21T18:52:28.330Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:52:28.330Z]       "LogLevel": "None",
[2025-08-21T18:52:28.330Z]       "Filter": null
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:28.330Z]       "CategoryName": null,
[2025-08-21T18:52:28.330Z]       "LogLevel": "None",
[2025-08-21T18:52:28.330Z]       "Filter": null
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:28.330Z]       "CategoryName": null,
[2025-08-21T18:52:28.330Z]       "LogLevel": null,
[2025-08-21T18:52:28.330Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": null,
[2025-08-21T18:52:28.330Z]       "CategoryName": null,
[2025-08-21T18:52:28.330Z]       "LogLevel": null,
[2025-08-21T18:52:28.330Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": null,
[2025-08-21T18:52:28.330Z]       "CategoryName": null,
[2025-08-21T18:52:28.330Z]       "LogLevel": null,
[2025-08-21T18:52:28.330Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": null,
[2025-08-21T18:52:28.330Z]       "CategoryName": "Host.Results",
[2025-08-21T18:52:28.330Z]       "LogLevel": "Information",
[2025-08-21T18:52:28.330Z]       "Filter": null
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": null,
[2025-08-21T18:52:28.330Z]       "CategoryName": "Function",
[2025-08-21T18:52:28.330Z]       "LogLevel": "Information",
[2025-08-21T18:52:28.330Z]       "Filter": null
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": null,
[2025-08-21T18:52:28.330Z]       "CategoryName": null,
[2025-08-21T18:52:28.330Z]       "LogLevel": "Information",
[2025-08-21T18:52:28.330Z]       "Filter": null
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:52:28.330Z]       "CategoryName": null,
[2025-08-21T18:52:28.330Z]       "LogLevel": "None",
[2025-08-21T18:52:28.330Z]       "Filter": null
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.330Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:52:28.330Z]       "CategoryName": null,
[2025-08-21T18:52:28.330Z]       "LogLevel": null,
[2025-08-21T18:52:28.330Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.330Z]     },
[2025-08-21T18:52:28.330Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": null,
[2025-08-21T18:52:28.331Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.331Z]     }
[2025-08-21T18:52:28.331Z]   ]
[2025-08-21T18:52:28.331Z] }
[2025-08-21T18:52:28.331Z] LoggerFilterOptions
[2025-08-21T18:52:28.331Z] {
[2025-08-21T18:52:28.331Z]   "MinLevel": "None",
[2025-08-21T18:52:28.331Z]   "Rules": [
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": null,
[2025-08-21T18:52:28.331Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:52:28.331Z]       "LogLevel": "None",
[2025-08-21T18:52:28.331Z]       "Filter": null
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": "None",
[2025-08-21T18:52:28.331Z]       "Filter": null
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": null,
[2025-08-21T18:52:28.331Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": null,
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": null,
[2025-08-21T18:52:28.331Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": null,
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": null,
[2025-08-21T18:52:28.331Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": null,
[2025-08-21T18:52:28.331Z]       "CategoryName": "Host.Results",
[2025-08-21T18:52:28.331Z]       "LogLevel": "Information",
[2025-08-21T18:52:28.331Z]       "Filter": null
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": null,
[2025-08-21T18:52:28.331Z]       "CategoryName": "Function",
[2025-08-21T18:52:28.331Z]       "LogLevel": "Information",
[2025-08-21T18:52:28.331Z]       "Filter": null
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": null,
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": "Information",
[2025-08-21T18:52:28.331Z]       "Filter": null
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": "None",
[2025-08-21T18:52:28.331Z]       "Filter": null
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": null,
[2025-08-21T18:52:28.331Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.331Z]     },
[2025-08-21T18:52:28.331Z]     {
[2025-08-21T18:52:28.331Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:28.331Z]       "CategoryName": null,
[2025-08-21T18:52:28.331Z]       "LogLevel": null,
[2025-08-21T18:52:28.331Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:28.331Z]     }
[2025-08-21T18:52:28.331Z]   ]
[2025-08-21T18:52:28.331Z] }
[2025-08-21T18:52:28.331Z] FunctionResultAggregatorOptions
[2025-08-21T18:52:28.332Z] {
[2025-08-21T18:52:28.332Z]   "BatchSize": 1000,
[2025-08-21T18:52:28.332Z]   "FlushTimeout": "00:00:30",
[2025-08-21T18:52:28.332Z]   "IsEnabled": true
[2025-08-21T18:52:28.332Z] }
[2025-08-21T18:52:28.332Z] ConcurrencyOptions
[2025-08-21T18:52:28.332Z] {
[2025-08-21T18:52:28.332Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T18:52:28.332Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T18:52:28.332Z]   "CPUThreshold": 0.8,
[2025-08-21T18:52:28.332Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T18:52:28.332Z] }
[2025-08-21T18:52:28.332Z] SingletonOptions
[2025-08-21T18:52:28.332Z] {
[2025-08-21T18:52:28.332Z]   "LockPeriod": "00:00:15",
[2025-08-21T18:52:28.332Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T18:52:28.332Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T18:52:28.332Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T18:52:28.332Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T18:52:28.332Z] }
[2025-08-21T18:52:28.332Z] ScaleOptions
[2025-08-21T18:52:28.332Z] {
[2025-08-21T18:52:28.332Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T18:52:28.332Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T18:52:28.332Z]   "MetricsPurgeEnabled": true,
[2025-08-21T18:52:28.332Z]   "IsTargetScalingEnabled": true,
[2025-08-21T18:52:28.332Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T18:52:28.332Z] }
[2025-08-21T18:52:28.332Z] Starting JobHost
[2025-08-21T18:52:28.332Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=3b471480-0ff5-45f6-adc5-f55411302ef9, Version=4.1040.300.25317, ProcessId=22008, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T18:52:28.332Z] Loading functions metadata
[2025-08-21T18:52:28.332Z] Worker indexing is enabled
[2025-08-21T18:52:28.332Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:52:28.332Z] Reading functions metadata (Worker)
[2025-08-21T18:52:28.332Z] Reading functions metadata (Host)
[2025-08-21T18:52:28.501Z] 21 functions found (Host)
[2025-08-21T18:52:28.501Z] Reading functions metadata (Custom)
[2025-08-21T18:52:28.501Z] 0 functions found (Custom)
[2025-08-21T18:52:28.501Z] 21 functions loaded
[2025-08-21T18:52:28.504Z] Worker process started and initialized.
[2025-08-21T18:52:28.504Z] Generating 21 job function(s)
[2025-08-21T18:52:28.516Z] Found the following functions:
[2025-08-21T18:52:28.516Z] Host.Functions.aiBuilderHealth
[2025-08-21T18:52:28.516Z] Host.Functions.analytics
[2025-08-21T18:52:28.516Z] Host.Functions.analyzeUIImage
[2025-08-21T18:52:28.516Z] Host.Functions.atlasComponents
[2025-08-21T18:52:28.516Z] Host.Functions.fast-suggestions
[2025-08-21T18:52:28.516Z] Host.Functions.figmaOAuthCallback
[2025-08-21T18:52:28.516Z] Host.Functions.figmaOAuthStart
[2025-08-21T18:52:28.516Z] Host.Functions.generateSuggestions
[2025-08-21T18:52:28.516Z] Host.Functions.generateWireframe
[2025-08-21T18:52:28.516Z] Host.Functions.generateWireframeAlias
[2025-08-21T18:52:28.516Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T18:52:28.516Z] Host.Functions.generateWireframeOptionB
[2025-08-21T18:52:28.516Z] Host.Functions.get-template
[2025-08-21T18:52:28.516Z] Host.Functions.githubAuthCallback
[2025-08-21T18:52:28.516Z] Host.Functions.githubAuthStart
[2025-08-21T18:52:28.516Z] Host.Functions.health
[2025-08-21T18:52:28.516Z] Host.Functions.healthCheck
[2025-08-21T18:52:28.516Z] Host.Functions.openai-health
[2025-08-21T18:52:28.516Z] Host.Functions.performance-stats
[2025-08-21T18:52:28.516Z] Host.Functions.testFunction
[2025-08-21T18:52:28.516Z] Host.Functions.testSimple
[2025-08-21T18:52:28.516Z] 
[2025-08-21T18:52:28.516Z] HttpOptions
[2025-08-21T18:52:28.516Z] {
[2025-08-21T18:52:28.516Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T18:52:28.516Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T18:52:28.516Z]   "MaxConcurrentRequests": -1,
[2025-08-21T18:52:28.516Z]   "MaxOutstandingRequests": -1,
[2025-08-21T18:52:28.516Z]   "RoutePrefix": "api"
[2025-08-21T18:52:28.516Z] }
[2025-08-21T18:52:28.516Z] Initializing function HTTP routes
[2025-08-21T18:52:28.516Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T18:52:28.516Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T18:52:28.516Z] 
[2025-08-21T18:52:28.516Z] Host initialized (184ms)
[2025-08-21T18:52:28.516Z] Host started (184ms)
[2025-08-21T18:52:28.516Z] Job host started
[2025-08-21T18:52:28.516Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:52:28.516Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:52:28.563Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T18:52:28.564Z] ✅ OpenAI initialized for image analysis
[2025-08-21T18:52:28.564Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:52:28.564Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:52:28.613Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T18:52:28.613Z] 🔍 Current env vars:
[2025-08-21T18:52:28.613Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T18:52:28.613Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T18:52:28.613Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T18:52:28.613Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:52:28.613Z]   Deployment: gpt-4o
[2025-08-21T18:52:28.613Z]   API Version: 2024-08-01-preview
[2025-08-21T18:52:28.613Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T18:52:28.613Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T18:52:28.613Z] ✅ OpenAI client initialized successfully
[2025-08-21T18:52:28.613Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:52:28.613Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:52:28.615Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T18:52:28.621Z] Host restarted.
[2025-08-21T18:52:28.622Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.622Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.622Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.622Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.622Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:52:28.623Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: '36e9a309-83f5-45ea-a6f0-09c0f37cc916'.
[2025-08-21T18:52:28.623Z] Result: Failure
[2025-08-21T18:52:28.623Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:52:28.623Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T18:52:28.623Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:52:28.623Z]                    ^^^^^
[2025-08-21T18:52:28.623Z] 
[2025-08-21T18:52:28.623Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:52:28.623Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:52:28.623Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:52:28.623Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:52:28.623Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:52:28.623Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:52:28.623Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:52:28.623Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:52:28.623Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker failed to load function: 'figmaOAuthStart' with functionId: '530e7fbd-42db-413e-bea9-87accf69d722'.
[2025-08-21T18:52:28.623Z] Result: Failure
[2025-08-21T18:52:28.623Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:52:28.623Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2

[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z]     at Generator.next (<anonymous>).
[2025-08-21T18:52:28.623Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:52:28.623Z]                    ^^^^^
[2025-08-21T18:52:28.623Z] 
[2025-08-21T18:52:28.623Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:52:28.623Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:52:28.623Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:52:28.623Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:52:28.623Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:52:28.623Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:52:28.623Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:52:28.623Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:52:28.623Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:52:28.623Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:52:28.623Z]     at Generator.next (<anonymous>).
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.623Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.624Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.624Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:28.624Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 received FunctionLoadRequest
[2025-08-21T18:52:33.331Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T18:52:39.608Z] Restarting host.
[2025-08-21T18:52:39.612Z] Stopping JobHost
[2025-08-21T18:52:39.612Z] Job host stopped
[2025-08-21T18:52:39.614Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '6a05767d-63b9-4770-a8a6-b5f46ea7ef78'
[2025-08-21T18:52:39.684Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:52:39.684Z] Host configuration file read:
[2025-08-21T18:52:39.684Z] {
[2025-08-21T18:52:39.684Z]   "version": "2.0",
[2025-08-21T18:52:39.684Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:52:39.684Z]   "logging": {
[2025-08-21T18:52:39.684Z]     "applicationInsights": {
[2025-08-21T18:52:39.684Z]       "samplingSettings": {
[2025-08-21T18:52:39.684Z]         "isEnabled": true,
[2025-08-21T18:52:39.684Z]         "excludedTypes": "Request"
[2025-08-21T18:52:39.684Z]       }
[2025-08-21T18:52:39.684Z]     },
[2025-08-21T18:52:39.684Z]     "logLevel": {
[2025-08-21T18:52:39.684Z]       "default": "Information",
[2025-08-21T18:52:39.684Z]       "Host.Results": "Information",
[2025-08-21T18:52:39.684Z]       "Function": "Information"
[2025-08-21T18:52:39.684Z]     }
[2025-08-21T18:52:39.684Z]   },
[2025-08-21T18:52:39.684Z]   "extensionBundle": {
[2025-08-21T18:52:39.684Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:52:39.684Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:52:39.684Z]   },
[2025-08-21T18:52:39.684Z]   "watchDirectories": [
[2025-08-21T18:52:39.684Z]     "Shared"
[2025-08-21T18:52:39.684Z]   ]
[2025-08-21T18:52:39.684Z] }
[2025-08-21T18:52:39.688Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:52:39.688Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:52:39.688Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:52:39.688Z] Loading functions metadata
[2025-08-21T18:52:39.689Z] Worker indexing is enabled
[2025-08-21T18:52:39.689Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:52:39.689Z] Reading functions metadata (Worker)
[2025-08-21T18:52:39.689Z] Shutting down language worker channels for runtime:node
[2025-08-21T18:52:39.694Z] Worker 3df5e022-0567-4dde-bf14-d8aa41b425d2 exited with code 0
[2025-08-21T18:52:39.814Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 connecting on 127.0.0.1:54302
[2025-08-21T18:52:39.838Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received WorkerInitRequest
[2025-08-21T18:52:39.841Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionsMetadataRequest
[2025-08-21T18:52:39.841Z] Reading functions metadata (Host)
[2025-08-21T18:52:40.039Z] 21 functions found (Host)
[2025-08-21T18:52:40.040Z] 21 functions loaded
[2025-08-21T18:52:40.040Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:52:40.040Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:52:40.040Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:52:40.041Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T18:52:40.176Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:52:40.176Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:52:40.176Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T18:52:40.176Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T18:52:40.222Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:52:40.222Z] Host configuration file read:
[2025-08-21T18:52:40.222Z] {
[2025-08-21T18:52:40.222Z]   "version": "2.0",
[2025-08-21T18:52:40.222Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:52:40.222Z]   "logging": {
[2025-08-21T18:52:40.222Z]     "applicationInsights": {
[2025-08-21T18:52:40.222Z]       "samplingSettings": {
[2025-08-21T18:52:40.222Z]         "isEnabled": true,
[2025-08-21T18:52:40.222Z]         "excludedTypes": "Request"
[2025-08-21T18:52:40.222Z]       }
[2025-08-21T18:52:40.222Z]     },
[2025-08-21T18:52:40.222Z]     "logLevel": {
[2025-08-21T18:52:40.222Z]       "default": "Information",
[2025-08-21T18:52:40.222Z]       "Host.Results": "Information",
[2025-08-21T18:52:40.222Z]       "Function": "Information"
[2025-08-21T18:52:40.222Z]     }
[2025-08-21T18:52:40.222Z]   },
[2025-08-21T18:52:40.222Z]   "extensionBundle": {
[2025-08-21T18:52:40.222Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:52:40.222Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:52:40.222Z]   },
[2025-08-21T18:52:40.222Z]   "watchDirectories": [
[2025-08-21T18:52:40.222Z]     "Shared"
[2025-08-21T18:52:40.222Z]   ]
[2025-08-21T18:52:40.222Z] }
[2025-08-21T18:52:40.259Z] Initializing Warmup Extension.
[2025-08-21T18:52:40.260Z] Initializing Host. OperationId: '6a05767d-63b9-4770-a8a6-b5f46ea7ef78'.
[2025-08-21T18:52:40.260Z] Host initialization: ConsecutiveErrors=0, StartupCount=3, OperationId=6a05767d-63b9-4770-a8a6-b5f46ea7ef78
[2025-08-21T18:52:40.261Z] LoggerFilterOptions
[2025-08-21T18:52:40.261Z] {
[2025-08-21T18:52:40.261Z]   "MinLevel": "None",
[2025-08-21T18:52:40.261Z]   "Rules": [
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": null,
[2025-08-21T18:52:40.261Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:52:40.261Z]       "LogLevel": "None",
[2025-08-21T18:52:40.261Z]       "Filter": null
[2025-08-21T18:52:40.261Z]     },
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:40.261Z]       "CategoryName": null,
[2025-08-21T18:52:40.261Z]       "LogLevel": "None",
[2025-08-21T18:52:40.261Z]       "Filter": null
[2025-08-21T18:52:40.261Z]     },
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:40.261Z]       "CategoryName": null,
[2025-08-21T18:52:40.261Z]       "LogLevel": null,
[2025-08-21T18:52:40.261Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.261Z]     },
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": null,
[2025-08-21T18:52:40.261Z]       "CategoryName": null,
[2025-08-21T18:52:40.261Z]       "LogLevel": null,
[2025-08-21T18:52:40.261Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.261Z]     },
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": null,
[2025-08-21T18:52:40.261Z]       "CategoryName": null,
[2025-08-21T18:52:40.261Z]       "LogLevel": null,
[2025-08-21T18:52:40.261Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.261Z]     },
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": null,
[2025-08-21T18:52:40.261Z]       "CategoryName": "Host.Results",
[2025-08-21T18:52:40.261Z]       "LogLevel": "Information",
[2025-08-21T18:52:40.261Z]       "Filter": null
[2025-08-21T18:52:40.261Z]     },
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": null,
[2025-08-21T18:52:40.261Z]       "CategoryName": "Function",
[2025-08-21T18:52:40.261Z]       "LogLevel": "Information",
[2025-08-21T18:52:40.261Z]       "Filter": null
[2025-08-21T18:52:40.261Z]     },
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": null,
[2025-08-21T18:52:40.261Z]       "CategoryName": null,
[2025-08-21T18:52:40.261Z]       "LogLevel": "Information",
[2025-08-21T18:52:40.261Z]       "Filter": null
[2025-08-21T18:52:40.261Z]     },
[2025-08-21T18:52:40.261Z]     {
[2025-08-21T18:52:40.261Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:52:40.261Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": "None",
[2025-08-21T18:52:40.262Z]       "Filter": null
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": null,
[2025-08-21T18:52:40.262Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": null,
[2025-08-21T18:52:40.262Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.262Z]     }
[2025-08-21T18:52:40.262Z]   ]
[2025-08-21T18:52:40.262Z] }
[2025-08-21T18:52:40.262Z] LoggerFilterOptions
[2025-08-21T18:52:40.262Z] {
[2025-08-21T18:52:40.262Z]   "MinLevel": "None",
[2025-08-21T18:52:40.262Z]   "Rules": [
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": null,
[2025-08-21T18:52:40.262Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:52:40.262Z]       "LogLevel": "None",
[2025-08-21T18:52:40.262Z]       "Filter": null
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": "None",
[2025-08-21T18:52:40.262Z]       "Filter": null
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": null,
[2025-08-21T18:52:40.262Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": null,
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": null,
[2025-08-21T18:52:40.262Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": null,
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": null,
[2025-08-21T18:52:40.262Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": null,
[2025-08-21T18:52:40.262Z]       "CategoryName": "Host.Results",
[2025-08-21T18:52:40.262Z]       "LogLevel": "Information",
[2025-08-21T18:52:40.262Z]       "Filter": null
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": null,
[2025-08-21T18:52:40.262Z]       "CategoryName": "Function",
[2025-08-21T18:52:40.262Z]       "LogLevel": "Information",
[2025-08-21T18:52:40.262Z]       "Filter": null
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": null,
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": "Information",
[2025-08-21T18:52:40.262Z]       "Filter": null
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": "None",
[2025-08-21T18:52:40.262Z]       "Filter": null
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": null,
[2025-08-21T18:52:40.262Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.262Z]     },
[2025-08-21T18:52:40.262Z]     {
[2025-08-21T18:52:40.262Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:52:40.262Z]       "CategoryName": null,
[2025-08-21T18:52:40.262Z]       "LogLevel": null,
[2025-08-21T18:52:40.262Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:52:40.262Z]     }
[2025-08-21T18:52:40.262Z]   ]
[2025-08-21T18:52:40.262Z] }
[2025-08-21T18:52:40.262Z] FunctionResultAggregatorOptions
[2025-08-21T18:52:40.262Z] {
[2025-08-21T18:52:40.262Z]   "BatchSize": 1000,
[2025-08-21T18:52:40.262Z]   "FlushTimeout": "00:00:30",
[2025-08-21T18:52:40.262Z]   "IsEnabled": true
[2025-08-21T18:52:40.262Z] }
[2025-08-21T18:52:40.262Z] ConcurrencyOptions
[2025-08-21T18:52:40.262Z] {
[2025-08-21T18:52:40.262Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T18:52:40.262Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T18:52:40.262Z]   "CPUThreshold": 0.8,
[2025-08-21T18:52:40.262Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T18:52:40.262Z] }
[2025-08-21T18:52:40.262Z] SingletonOptions
[2025-08-21T18:52:40.262Z] {
[2025-08-21T18:52:40.262Z]   "LockPeriod": "00:00:15",
[2025-08-21T18:52:40.262Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T18:52:40.262Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T18:52:40.262Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T18:52:40.262Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T18:52:40.262Z] }
[2025-08-21T18:52:40.263Z] ScaleOptions
[2025-08-21T18:52:40.263Z] {
[2025-08-21T18:52:40.263Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T18:52:40.263Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T18:52:40.263Z]   "MetricsPurgeEnabled": true,
[2025-08-21T18:52:40.263Z]   "IsTargetScalingEnabled": true,
[2025-08-21T18:52:40.263Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T18:52:40.263Z] }
[2025-08-21T18:52:40.263Z] Starting JobHost
[2025-08-21T18:52:40.263Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=2a4c71f8-fcc5-49f2-ad4a-86cf45e31d8f, Version=4.1040.300.25317, ProcessId=22008, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T18:52:40.263Z] Loading functions metadata
[2025-08-21T18:52:40.263Z] Worker indexing is enabled
[2025-08-21T18:52:40.263Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:52:40.263Z] Reading functions metadata (Worker)
[2025-08-21T18:52:40.263Z] Reading functions metadata (Host)
[2025-08-21T18:52:40.415Z] 21 functions found (Host)
[2025-08-21T18:52:40.415Z] Reading functions metadata (Custom)
[2025-08-21T18:52:40.415Z] 0 functions found (Custom)
[2025-08-21T18:52:40.415Z] 21 functions loaded
[2025-08-21T18:52:40.418Z] Generating 21 job function(s)
[2025-08-21T18:52:40.418Z] Worker process started and initialized.
[2025-08-21T18:52:40.435Z] Found the following functions:
[2025-08-21T18:52:40.435Z] Host.Functions.aiBuilderHealth
[2025-08-21T18:52:40.435Z] Host.Functions.analytics
[2025-08-21T18:52:40.435Z] Host.Functions.analyzeUIImage
[2025-08-21T18:52:40.435Z] Host.Functions.atlasComponents
[2025-08-21T18:52:40.435Z] Host.Functions.fast-suggestions
[2025-08-21T18:52:40.435Z] Host.Functions.figmaOAuthCallback
[2025-08-21T18:52:40.435Z] Host.Functions.figmaOAuthStart
[2025-08-21T18:52:40.435Z] Host.Functions.generateSuggestions
[2025-08-21T18:52:40.435Z] Host.Functions.generateWireframe
[2025-08-21T18:52:40.435Z] Host.Functions.generateWireframeAlias
[2025-08-21T18:52:40.435Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T18:52:40.435Z] Host.Functions.generateWireframeOptionB
[2025-08-21T18:52:40.435Z] Host.Functions.get-template
[2025-08-21T18:52:40.435Z] Host.Functions.githubAuthCallback
[2025-08-21T18:52:40.435Z] Host.Functions.githubAuthStart
[2025-08-21T18:52:40.435Z] Host.Functions.health
[2025-08-21T18:52:40.435Z] Host.Functions.healthCheck
[2025-08-21T18:52:40.435Z] Host.Functions.openai-health
[2025-08-21T18:52:40.435Z] Host.Functions.performance-stats
[2025-08-21T18:52:40.435Z] Host.Functions.testFunction
[2025-08-21T18:52:40.435Z] Host.Functions.testSimple
[2025-08-21T18:52:40.435Z] 
[2025-08-21T18:52:40.435Z] HttpOptions
[2025-08-21T18:52:40.435Z] {
[2025-08-21T18:52:40.435Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T18:52:40.435Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T18:52:40.435Z]   "MaxConcurrentRequests": -1,
[2025-08-21T18:52:40.435Z]   "MaxOutstandingRequests": -1,
[2025-08-21T18:52:40.435Z]   "RoutePrefix": "api"
[2025-08-21T18:52:40.435Z] }
[2025-08-21T18:52:40.435Z] Initializing function HTTP routes
[2025-08-21T18:52:40.435Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T18:52:40.435Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T18:52:40.435Z] 
[2025-08-21T18:52:40.435Z] Host initialized (172ms)
[2025-08-21T18:52:40.435Z] Host started (172ms)
[2025-08-21T18:52:40.435Z] Job host started
[2025-08-21T18:52:40.435Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:52:40.435Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:52:40.460Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T18:52:40.460Z] ✅ OpenAI initialized for image analysis
[2025-08-21T18:52:40.460Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:52:40.460Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:52:40.497Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T18:52:40.498Z] 🔍 Current env vars:
[2025-08-21T18:52:40.498Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T18:52:40.498Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T18:52:40.498Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T18:52:40.498Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:52:40.498Z]   Deployment: gpt-4o
[2025-08-21T18:52:40.498Z]   API Version: 2024-08-01-preview
[2025-08-21T18:52:40.498Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T18:52:40.498Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T18:52:40.498Z] ✅ OpenAI client initialized successfully
[2025-08-21T18:52:40.498Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:52:40.498Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:52:40.499Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T18:52:40.500Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.500Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.504Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.504Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:52:40.505Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: 'b5ce8891-4e05-4068-889b-e009501948e9'.
[2025-08-21T18:52:40.505Z] Result: Failure
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:52:40.505Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T18:52:40.505Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:52:40.505Z]                    ^^^^^
[2025-08-21T18:52:40.505Z] 
[2025-08-21T18:52:40.505Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:52:40.505Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:52:40.505Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:52:40.505Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:52:40.505Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:52:40.505Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:52:40.505Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:52:40.505Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:52:40.505Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:52:40.505Z] Worker failed to load function: 'figmaOAuthStart' with functionId: '05a0abd4-321e-4169-93a3-8bcefdf55082'.
[2025-08-21T18:52:40.505Z] Result: Failure
[2025-08-21T18:52:40.505Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:52:40.505Z]     at Generator.next (<anonymous>).
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:52:40.505Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T18:52:40.505Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:52:40.505Z]                    ^^^^^
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z] 
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:52:40.505Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:52:40.505Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:52:40.505Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:52:40.505Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:52:40.505Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:52:40.505Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.505Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:52:40.505Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:52:40.505Z]     at Generator.next (<anonymous>).
[2025-08-21T18:52:40.506Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.506Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.506Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.506Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.506Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.506Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.506Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 received FunctionLoadRequest
[2025-08-21T18:52:40.528Z] Host restarted.
[2025-08-21T18:52:45.266Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T18:53:03.345Z] Restarting host.
[2025-08-21T18:53:03.354Z] Stopping JobHost
[2025-08-21T18:53:03.354Z] Job host stopped
[2025-08-21T18:53:03.358Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '38ec4088-5c37-48d6-a7b8-6020f2311ae0'
[2025-08-21T18:53:03.465Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:53:03.465Z] Host configuration file read:
[2025-08-21T18:53:03.465Z] {
[2025-08-21T18:53:03.465Z]   "version": "2.0",
[2025-08-21T18:53:03.465Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:53:03.465Z]   "logging": {
[2025-08-21T18:53:03.465Z]     "applicationInsights": {
[2025-08-21T18:53:03.465Z]       "samplingSettings": {
[2025-08-21T18:53:03.465Z]         "isEnabled": true,
[2025-08-21T18:53:03.465Z]         "excludedTypes": "Request"
[2025-08-21T18:53:03.465Z]       }
[2025-08-21T18:53:03.465Z]     },
[2025-08-21T18:53:03.465Z]     "logLevel": {
[2025-08-21T18:53:03.465Z]       "default": "Information",
[2025-08-21T18:53:03.465Z]       "Host.Results": "Information",
[2025-08-21T18:53:03.465Z]       "Function": "Information"
[2025-08-21T18:53:03.465Z]     }
[2025-08-21T18:53:03.465Z]   },
[2025-08-21T18:53:03.465Z]   "extensionBundle": {
[2025-08-21T18:53:03.465Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:53:03.465Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:53:03.465Z]   },
[2025-08-21T18:53:03.465Z]   "watchDirectories": [
[2025-08-21T18:53:03.465Z]     "Shared"
[2025-08-21T18:53:03.465Z]   ]
[2025-08-21T18:53:03.465Z] }
[2025-08-21T18:53:03.475Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:53:03.480Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:03.480Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:03.480Z] Loading functions metadata
[2025-08-21T18:53:03.480Z] Worker indexing is enabled
[2025-08-21T18:53:03.480Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:53:03.480Z] Reading functions metadata (Worker)
[2025-08-21T18:53:03.480Z] Shutting down language worker channels for runtime:node
[2025-08-21T18:53:03.487Z] Worker 666b64ad-dfd9-41a6-99eb-8d950d05f114 exited with code 0
[2025-08-21T18:53:03.627Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 connecting on 127.0.0.1:54302
[2025-08-21T18:53:03.651Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received WorkerInitRequest
[2025-08-21T18:53:03.654Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionsMetadataRequest
[2025-08-21T18:53:03.654Z] Reading functions metadata (Host)
[2025-08-21T18:53:03.868Z] 21 functions found (Host)
[2025-08-21T18:53:03.869Z] 21 functions loaded
[2025-08-21T18:53:03.869Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:53:03.869Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:03.869Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:03.869Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T18:53:04.002Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:04.002Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:04.003Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T18:53:04.003Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T18:53:04.042Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:53:04.042Z] Host configuration file read:
[2025-08-21T18:53:04.042Z] {
[2025-08-21T18:53:04.042Z]   "version": "2.0",
[2025-08-21T18:53:04.042Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:53:04.042Z]   "logging": {
[2025-08-21T18:53:04.042Z]     "applicationInsights": {
[2025-08-21T18:53:04.042Z]       "samplingSettings": {
[2025-08-21T18:53:04.042Z]         "isEnabled": true,
[2025-08-21T18:53:04.042Z]         "excludedTypes": "Request"
[2025-08-21T18:53:04.042Z]       }
[2025-08-21T18:53:04.042Z]     },
[2025-08-21T18:53:04.042Z]     "logLevel": {
[2025-08-21T18:53:04.042Z]       "default": "Information",
[2025-08-21T18:53:04.042Z]       "Host.Results": "Information",
[2025-08-21T18:53:04.042Z]       "Function": "Information"
[2025-08-21T18:53:04.042Z]     }
[2025-08-21T18:53:04.042Z]   },
[2025-08-21T18:53:04.042Z]   "extensionBundle": {
[2025-08-21T18:53:04.042Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:53:04.042Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:53:04.042Z]   },
[2025-08-21T18:53:04.042Z]   "watchDirectories": [
[2025-08-21T18:53:04.042Z]     "Shared"
[2025-08-21T18:53:04.042Z]   ]
[2025-08-21T18:53:04.042Z] }
[2025-08-21T18:53:04.069Z] Initializing Warmup Extension.
[2025-08-21T18:53:04.069Z] Initializing Host. OperationId: '38ec4088-5c37-48d6-a7b8-6020f2311ae0'.
[2025-08-21T18:53:04.069Z] Host initialization: ConsecutiveErrors=0, StartupCount=4, OperationId=38ec4088-5c37-48d6-a7b8-6020f2311ae0
[2025-08-21T18:53:04.071Z] LoggerFilterOptions
[2025-08-21T18:53:04.071Z] {
[2025-08-21T18:53:04.071Z]   "MinLevel": "None",
[2025-08-21T18:53:04.071Z]   "Rules": [
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": null,
[2025-08-21T18:53:04.071Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:53:04.071Z]       "LogLevel": "None",
[2025-08-21T18:53:04.071Z]       "Filter": null
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": "None",
[2025-08-21T18:53:04.071Z]       "Filter": null
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": null,
[2025-08-21T18:53:04.071Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": null,
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": null,
[2025-08-21T18:53:04.071Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": null,
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": null,
[2025-08-21T18:53:04.071Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": null,
[2025-08-21T18:53:04.071Z]       "CategoryName": "Host.Results",
[2025-08-21T18:53:04.071Z]       "LogLevel": "Information",
[2025-08-21T18:53:04.071Z]       "Filter": null
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": null,
[2025-08-21T18:53:04.071Z]       "CategoryName": "Function",
[2025-08-21T18:53:04.071Z]       "LogLevel": "Information",
[2025-08-21T18:53:04.071Z]       "Filter": null
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": null,
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": "Information",
[2025-08-21T18:53:04.071Z]       "Filter": null
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": "None",
[2025-08-21T18:53:04.071Z]       "Filter": null
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": null,
[2025-08-21T18:53:04.071Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": null,
[2025-08-21T18:53:04.071Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.071Z]     }
[2025-08-21T18:53:04.071Z]   ]
[2025-08-21T18:53:04.071Z] }
[2025-08-21T18:53:04.071Z] LoggerFilterOptions
[2025-08-21T18:53:04.071Z] {
[2025-08-21T18:53:04.071Z]   "MinLevel": "None",
[2025-08-21T18:53:04.071Z]   "Rules": [
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": null,
[2025-08-21T18:53:04.071Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:53:04.071Z]       "LogLevel": "None",
[2025-08-21T18:53:04.071Z]       "Filter": null
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": "None",
[2025-08-21T18:53:04.071Z]       "Filter": null
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": null,
[2025-08-21T18:53:04.071Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.071Z]     },
[2025-08-21T18:53:04.071Z]     {
[2025-08-21T18:53:04.071Z]       "ProviderName": null,
[2025-08-21T18:53:04.071Z]       "CategoryName": null,
[2025-08-21T18:53:04.071Z]       "LogLevel": null,
[2025-08-21T18:53:04.071Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.072Z]     },
[2025-08-21T18:53:04.072Z]     {
[2025-08-21T18:53:04.072Z]       "ProviderName": null,
[2025-08-21T18:53:04.072Z]       "CategoryName": null,
[2025-08-21T18:53:04.072Z]       "LogLevel": null,
[2025-08-21T18:53:04.072Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.072Z]     },
[2025-08-21T18:53:04.072Z]     {
[2025-08-21T18:53:04.072Z]       "ProviderName": null,
[2025-08-21T18:53:04.072Z]       "CategoryName": "Host.Results",
[2025-08-21T18:53:04.072Z]       "LogLevel": "Information",
[2025-08-21T18:53:04.072Z]       "Filter": null
[2025-08-21T18:53:04.072Z]     },
[2025-08-21T18:53:04.072Z]     {
[2025-08-21T18:53:04.072Z]       "ProviderName": null,
[2025-08-21T18:53:04.072Z]       "CategoryName": "Function",
[2025-08-21T18:53:04.072Z]       "LogLevel": "Information",
[2025-08-21T18:53:04.072Z]       "Filter": null
[2025-08-21T18:53:04.072Z]     },
[2025-08-21T18:53:04.072Z]     {
[2025-08-21T18:53:04.072Z]       "ProviderName": null,
[2025-08-21T18:53:04.072Z]       "CategoryName": null,
[2025-08-21T18:53:04.072Z]       "LogLevel": "Information",
[2025-08-21T18:53:04.072Z]       "Filter": null
[2025-08-21T18:53:04.072Z]     },
[2025-08-21T18:53:04.072Z]     {
[2025-08-21T18:53:04.072Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:04.072Z]       "CategoryName": null,
[2025-08-21T18:53:04.072Z]       "LogLevel": "None",
[2025-08-21T18:53:04.072Z]       "Filter": null
[2025-08-21T18:53:04.072Z]     },
[2025-08-21T18:53:04.072Z]     {
[2025-08-21T18:53:04.072Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:04.072Z]       "CategoryName": null,
[2025-08-21T18:53:04.072Z]       "LogLevel": null,
[2025-08-21T18:53:04.072Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.072Z]     },
[2025-08-21T18:53:04.072Z]     {
[2025-08-21T18:53:04.072Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:04.072Z]       "CategoryName": null,
[2025-08-21T18:53:04.072Z]       "LogLevel": null,
[2025-08-21T18:53:04.072Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:04.072Z]     }
[2025-08-21T18:53:04.072Z]   ]
[2025-08-21T18:53:04.072Z] }
[2025-08-21T18:53:04.072Z] FunctionResultAggregatorOptions
[2025-08-21T18:53:04.072Z] {
[2025-08-21T18:53:04.072Z]   "BatchSize": 1000,
[2025-08-21T18:53:04.072Z]   "FlushTimeout": "00:00:30",
[2025-08-21T18:53:04.072Z]   "IsEnabled": true
[2025-08-21T18:53:04.072Z] }
[2025-08-21T18:53:04.072Z] ConcurrencyOptions
[2025-08-21T18:53:04.072Z] {
[2025-08-21T18:53:04.072Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T18:53:04.072Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T18:53:04.072Z]   "CPUThreshold": 0.8,
[2025-08-21T18:53:04.072Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T18:53:04.072Z] }
[2025-08-21T18:53:04.072Z] SingletonOptions
[2025-08-21T18:53:04.072Z] {
[2025-08-21T18:53:04.072Z]   "LockPeriod": "00:00:15",
[2025-08-21T18:53:04.072Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T18:53:04.072Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T18:53:04.072Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T18:53:04.072Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T18:53:04.072Z] }
[2025-08-21T18:53:04.072Z] ScaleOptions
[2025-08-21T18:53:04.072Z] {
[2025-08-21T18:53:04.072Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T18:53:04.072Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T18:53:04.072Z]   "MetricsPurgeEnabled": true,
[2025-08-21T18:53:04.072Z]   "IsTargetScalingEnabled": true,
[2025-08-21T18:53:04.072Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T18:53:04.072Z] }
[2025-08-21T18:53:04.072Z] Starting JobHost
[2025-08-21T18:53:04.072Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=9352a1ed-f537-4536-903b-18493dc163c3, Version=4.1040.300.25317, ProcessId=22008, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T18:53:04.072Z] Loading functions metadata
[2025-08-21T18:53:04.072Z] Worker indexing is enabled
[2025-08-21T18:53:04.072Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:53:04.072Z] Reading functions metadata (Worker)
[2025-08-21T18:53:04.072Z] Reading functions metadata (Host)
[2025-08-21T18:53:04.237Z] 21 functions found (Host)
[2025-08-21T18:53:04.237Z] Reading functions metadata (Custom)
[2025-08-21T18:53:04.237Z] 0 functions found (Custom)
[2025-08-21T18:53:04.237Z] 21 functions loaded
[2025-08-21T18:53:04.239Z] Generating 21 job function(s)
[2025-08-21T18:53:04.239Z] Worker process started and initialized.
[2025-08-21T18:53:04.249Z] Found the following functions:
[2025-08-21T18:53:04.249Z] Host.Functions.aiBuilderHealth
[2025-08-21T18:53:04.249Z] Host.Functions.analytics
[2025-08-21T18:53:04.249Z] Host.Functions.analyzeUIImage
[2025-08-21T18:53:04.249Z] Host.Functions.atlasComponents
[2025-08-21T18:53:04.249Z] Host.Functions.fast-suggestions
[2025-08-21T18:53:04.249Z] Host.Functions.figmaOAuthCallback
[2025-08-21T18:53:04.249Z] Host.Functions.figmaOAuthStart
[2025-08-21T18:53:04.249Z] Host.Functions.generateSuggestions
[2025-08-21T18:53:04.249Z] Host.Functions.generateWireframe
[2025-08-21T18:53:04.249Z] Host.Functions.generateWireframeAlias
[2025-08-21T18:53:04.249Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T18:53:04.249Z] Host.Functions.generateWireframeOptionB
[2025-08-21T18:53:04.249Z] Host.Functions.get-template
[2025-08-21T18:53:04.249Z] Host.Functions.githubAuthCallback
[2025-08-21T18:53:04.249Z] Host.Functions.githubAuthStart
[2025-08-21T18:53:04.249Z] Host.Functions.health
[2025-08-21T18:53:04.249Z] Host.Functions.healthCheck
[2025-08-21T18:53:04.249Z] Host.Functions.openai-health
[2025-08-21T18:53:04.249Z] Host.Functions.performance-stats
[2025-08-21T18:53:04.249Z] Host.Functions.testFunction
[2025-08-21T18:53:04.249Z] Host.Functions.testSimple
[2025-08-21T18:53:04.249Z] 
[2025-08-21T18:53:04.250Z] HttpOptions
[2025-08-21T18:53:04.250Z] {
[2025-08-21T18:53:04.250Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T18:53:04.250Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T18:53:04.250Z]   "MaxConcurrentRequests": -1,
[2025-08-21T18:53:04.250Z]   "MaxOutstandingRequests": -1,
[2025-08-21T18:53:04.250Z]   "RoutePrefix": "api"
[2025-08-21T18:53:04.250Z] }
[2025-08-21T18:53:04.250Z] Initializing function HTTP routes
[2025-08-21T18:53:04.250Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T18:53:04.250Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T18:53:04.250Z] 
[2025-08-21T18:53:04.250Z] Host initialized (177ms)
[2025-08-21T18:53:04.250Z] Host started (177ms)
[2025-08-21T18:53:04.250Z] Job host started
[2025-08-21T18:53:04.250Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:53:04.250Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:53:04.288Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T18:53:04.288Z] ✅ OpenAI initialized for image analysis
[2025-08-21T18:53:04.288Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:04.288Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:53:04.326Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T18:53:04.326Z] 🔍 Current env vars:
[2025-08-21T18:53:04.326Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T18:53:04.326Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T18:53:04.326Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T18:53:04.326Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:04.326Z]   Deployment: gpt-4o
[2025-08-21T18:53:04.326Z]   API Version: 2024-08-01-preview
[2025-08-21T18:53:04.326Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T18:53:04.326Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T18:53:04.326Z] ✅ OpenAI client initialized successfully
[2025-08-21T18:53:04.326Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:04.326Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:53:04.327Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T18:53:04.330Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.330Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.333Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.333Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.333Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.333Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.333Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:04.333Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.333Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:04.333Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: 'a09d95b3-2d88-4213-a342-ce24cd3dbb02'.
[2025-08-21T18:53:04.333Z] Result: Failure
[2025-08-21T18:53:04.333Z] Worker failed to load function: 'figmaOAuthStart' with functionId: '6e476b65-c7ee-47cd-ac65-1c1672d90c6e'.
[2025-08-21T18:53:04.333Z] Result: Failure
[2025-08-21T18:53:04.333Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.333Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:04.333Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T18:53:04.333Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:04.333Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:53:04.333Z]                    ^^^^^
[2025-08-21T18:53:04.333Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T18:53:04.333Z] 
[2025-08-21T18:53:04.333Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:53:04.333Z]                    ^^^^^
[2025-08-21T18:53:04.333Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:53:04.333Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:53:04.333Z] 
[2025-08-21T18:53:04.334Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:53:04.333Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:53:04.334Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:53:04.334Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:53:04.334Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:53:04.334Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:53:04.334Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:53:04.334Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:53:04.334Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:53:04.334Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:53:04.334Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:53:04.334Z]     at Generator.next (<anonymous>).
[2025-08-21T18:53:04.334Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:53:04.334Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:53:04.334Z]     at Generator.next (<anonymous>).
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.334Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 received FunctionLoadRequest
[2025-08-21T18:53:04.342Z] Host restarted.
[2025-08-21T18:53:09.073Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T18:53:32.168Z] Restarting host.
[2025-08-21T18:53:32.174Z] Stopping JobHost
[2025-08-21T18:53:32.174Z] Job host stopped
[2025-08-21T18:53:32.180Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '7bb626ef-ad26-44fe-80b3-f6f87d4b6080'
[2025-08-21T18:53:32.284Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:53:32.284Z] Host configuration file read:
[2025-08-21T18:53:32.284Z] {
[2025-08-21T18:53:32.284Z]   "version": "2.0",
[2025-08-21T18:53:32.284Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:53:32.284Z]   "logging": {
[2025-08-21T18:53:32.284Z]     "applicationInsights": {
[2025-08-21T18:53:32.284Z]       "samplingSettings": {
[2025-08-21T18:53:32.284Z]         "isEnabled": true,
[2025-08-21T18:53:32.284Z]         "excludedTypes": "Request"
[2025-08-21T18:53:32.284Z]       }
[2025-08-21T18:53:32.284Z]     },
[2025-08-21T18:53:32.284Z]     "logLevel": {
[2025-08-21T18:53:32.284Z]       "default": "Information",
[2025-08-21T18:53:32.284Z]       "Host.Results": "Information",
[2025-08-21T18:53:32.284Z]       "Function": "Information"
[2025-08-21T18:53:32.284Z]     }
[2025-08-21T18:53:32.284Z]   },
[2025-08-21T18:53:32.284Z]   "extensionBundle": {
[2025-08-21T18:53:32.284Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:53:32.284Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:53:32.284Z]   },
[2025-08-21T18:53:32.284Z]   "watchDirectories": [
[2025-08-21T18:53:32.284Z]     "Shared"
[2025-08-21T18:53:32.284Z]   ]
[2025-08-21T18:53:32.284Z] }
[2025-08-21T18:53:32.286Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:53:32.295Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:32.295Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:32.296Z] Loading functions metadata
[2025-08-21T18:53:32.296Z] Worker indexing is enabled
[2025-08-21T18:53:32.296Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:53:32.296Z] Reading functions metadata (Worker)
[2025-08-21T18:53:32.296Z] Shutting down language worker channels for runtime:node
[2025-08-21T18:53:32.322Z] Worker 91833b90-c1d5-4c62-8167-314c64ca15a7 exited with code 0
[2025-08-21T18:53:32.445Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d connecting on 127.0.0.1:54302
[2025-08-21T18:53:32.468Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received WorkerInitRequest
[2025-08-21T18:53:32.471Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionsMetadataRequest
[2025-08-21T18:53:32.471Z] Reading functions metadata (Host)
[2025-08-21T18:53:32.691Z] 21 functions found (Host)
[2025-08-21T18:53:32.691Z] 21 functions loaded
[2025-08-21T18:53:32.691Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:53:32.691Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:32.691Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:32.691Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T18:53:32.839Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:32.839Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:32.839Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T18:53:32.839Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T18:53:32.923Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:53:32.923Z] Host configuration file read:
[2025-08-21T18:53:32.923Z] {
[2025-08-21T18:53:32.923Z]   "version": "2.0",
[2025-08-21T18:53:32.923Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:53:32.923Z]   "logging": {
[2025-08-21T18:53:32.923Z]     "applicationInsights": {
[2025-08-21T18:53:32.923Z]       "samplingSettings": {
[2025-08-21T18:53:32.923Z]         "isEnabled": true,
[2025-08-21T18:53:32.923Z]         "excludedTypes": "Request"
[2025-08-21T18:53:32.923Z]       }
[2025-08-21T18:53:32.923Z]     },
[2025-08-21T18:53:32.923Z]     "logLevel": {
[2025-08-21T18:53:32.923Z]       "default": "Information",
[2025-08-21T18:53:32.923Z]       "Host.Results": "Information",
[2025-08-21T18:53:32.923Z]       "Function": "Information"
[2025-08-21T18:53:32.923Z]     }
[2025-08-21T18:53:32.923Z]   },
[2025-08-21T18:53:32.923Z]   "extensionBundle": {
[2025-08-21T18:53:32.923Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:53:32.923Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:53:32.923Z]   },
[2025-08-21T18:53:32.923Z]   "watchDirectories": [
[2025-08-21T18:53:32.923Z]     "Shared"
[2025-08-21T18:53:32.923Z]   ]
[2025-08-21T18:53:32.923Z] }
[2025-08-21T18:53:32.988Z] Initializing Warmup Extension.
[2025-08-21T18:53:32.988Z] Initializing Host. OperationId: '7bb626ef-ad26-44fe-80b3-f6f87d4b6080'.
[2025-08-21T18:53:32.988Z] Host initialization: ConsecutiveErrors=0, StartupCount=5, OperationId=7bb626ef-ad26-44fe-80b3-f6f87d4b6080
[2025-08-21T18:53:32.990Z] LoggerFilterOptions
[2025-08-21T18:53:32.990Z] {
[2025-08-21T18:53:32.990Z]   "MinLevel": "None",
[2025-08-21T18:53:32.990Z]   "Rules": [
[2025-08-21T18:53:32.990Z]     {
[2025-08-21T18:53:32.990Z]       "ProviderName": null,
[2025-08-21T18:53:32.990Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:53:32.990Z]       "LogLevel": "None",
[2025-08-21T18:53:32.990Z]       "Filter": null
[2025-08-21T18:53:32.990Z]     },
[2025-08-21T18:53:32.990Z]     {
[2025-08-21T18:53:32.990Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:32.990Z]       "CategoryName": null,
[2025-08-21T18:53:32.990Z]       "LogLevel": "None",
[2025-08-21T18:53:32.990Z]       "Filter": null
[2025-08-21T18:53:32.990Z]     },
[2025-08-21T18:53:32.990Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": "Host.Results",
[2025-08-21T18:53:32.991Z]       "LogLevel": "Information",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": "Function",
[2025-08-21T18:53:32.991Z]       "LogLevel": "Information",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": "Information",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": "None",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     }
[2025-08-21T18:53:32.991Z]   ]
[2025-08-21T18:53:32.991Z] }
[2025-08-21T18:53:32.991Z] LoggerFilterOptions
[2025-08-21T18:53:32.991Z] {
[2025-08-21T18:53:32.991Z]   "MinLevel": "None",
[2025-08-21T18:53:32.991Z]   "Rules": [
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:53:32.991Z]       "LogLevel": "None",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": "None",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": "Host.Results",
[2025-08-21T18:53:32.991Z]       "LogLevel": "Information",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": "Function",
[2025-08-21T18:53:32.991Z]       "LogLevel": "Information",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": null,
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": "Information",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": "None",
[2025-08-21T18:53:32.991Z]       "Filter": null
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     },
[2025-08-21T18:53:32.991Z]     {
[2025-08-21T18:53:32.991Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:32.991Z]       "CategoryName": null,
[2025-08-21T18:53:32.991Z]       "LogLevel": null,
[2025-08-21T18:53:32.991Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:32.991Z]     }
[2025-08-21T18:53:32.991Z]   ]
[2025-08-21T18:53:32.991Z] }
[2025-08-21T18:53:32.991Z] FunctionResultAggregatorOptions
[2025-08-21T18:53:32.991Z] {
[2025-08-21T18:53:32.991Z]   "BatchSize": 1000,
[2025-08-21T18:53:32.991Z]   "FlushTimeout": "00:00:30",
[2025-08-21T18:53:32.991Z]   "IsEnabled": true
[2025-08-21T18:53:32.991Z] }
[2025-08-21T18:53:32.991Z] ConcurrencyOptions
[2025-08-21T18:53:32.991Z] {
[2025-08-21T18:53:32.991Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T18:53:32.991Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T18:53:32.991Z]   "CPUThreshold": 0.8,
[2025-08-21T18:53:32.991Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T18:53:32.991Z] }
[2025-08-21T18:53:32.991Z] SingletonOptions
[2025-08-21T18:53:32.991Z] {
[2025-08-21T18:53:32.991Z]   "LockPeriod": "00:00:15",
[2025-08-21T18:53:32.991Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T18:53:32.991Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T18:53:32.991Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T18:53:32.991Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T18:53:32.991Z] }
[2025-08-21T18:53:32.991Z] ScaleOptions
[2025-08-21T18:53:32.991Z] {
[2025-08-21T18:53:32.991Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T18:53:32.991Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T18:53:32.991Z]   "MetricsPurgeEnabled": true,
[2025-08-21T18:53:32.991Z]   "IsTargetScalingEnabled": true,
[2025-08-21T18:53:32.991Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T18:53:32.992Z] }
[2025-08-21T18:53:32.992Z] Starting JobHost
[2025-08-21T18:53:32.992Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=193e61ae-ef51-4eb7-9fc5-01264a996171, Version=4.1040.300.25317, ProcessId=22008, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T18:53:32.992Z] Loading functions metadata
[2025-08-21T18:53:32.992Z] Worker indexing is enabled
[2025-08-21T18:53:32.992Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:53:32.992Z] Reading functions metadata (Worker)
[2025-08-21T18:53:32.992Z] Reading functions metadata (Host)
[2025-08-21T18:53:33.167Z] 21 functions found (Host)
[2025-08-21T18:53:33.168Z] Reading functions metadata (Custom)
[2025-08-21T18:53:33.168Z] 0 functions found (Custom)
[2025-08-21T18:53:33.168Z] 21 functions loaded
[2025-08-21T18:53:33.169Z] Generating 21 job function(s)
[2025-08-21T18:53:33.169Z] Worker process started and initialized.
[2025-08-21T18:53:33.177Z] Found the following functions:
[2025-08-21T18:53:33.177Z] Host.Functions.aiBuilderHealth
[2025-08-21T18:53:33.177Z] Host.Functions.analytics
[2025-08-21T18:53:33.177Z] Host.Functions.analyzeUIImage
[2025-08-21T18:53:33.177Z] Host.Functions.atlasComponents
[2025-08-21T18:53:33.177Z] Host.Functions.fast-suggestions
[2025-08-21T18:53:33.177Z] Host.Functions.figmaOAuthCallback
[2025-08-21T18:53:33.177Z] Host.Functions.figmaOAuthStart
[2025-08-21T18:53:33.177Z] Host.Functions.generateSuggestions
[2025-08-21T18:53:33.177Z] Host.Functions.generateWireframe
[2025-08-21T18:53:33.177Z] Host.Functions.generateWireframeAlias
[2025-08-21T18:53:33.177Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T18:53:33.177Z] Host.Functions.generateWireframeOptionB
[2025-08-21T18:53:33.177Z] Host.Functions.get-template
[2025-08-21T18:53:33.177Z] Host.Functions.githubAuthCallback
[2025-08-21T18:53:33.177Z] Host.Functions.githubAuthStart
[2025-08-21T18:53:33.177Z] Host.Functions.health
[2025-08-21T18:53:33.177Z] Host.Functions.healthCheck
[2025-08-21T18:53:33.177Z] Host.Functions.openai-health
[2025-08-21T18:53:33.177Z] Host.Functions.performance-stats
[2025-08-21T18:53:33.177Z] Host.Functions.testFunction
[2025-08-21T18:53:33.177Z] Host.Functions.testSimple
[2025-08-21T18:53:33.177Z] 
[2025-08-21T18:53:33.178Z] HttpOptions
[2025-08-21T18:53:33.178Z] {
[2025-08-21T18:53:33.178Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T18:53:33.178Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T18:53:33.178Z]   "MaxConcurrentRequests": -1,
[2025-08-21T18:53:33.178Z]   "MaxOutstandingRequests": -1,
[2025-08-21T18:53:33.178Z]   "RoutePrefix": "api"
[2025-08-21T18:53:33.178Z] }
[2025-08-21T18:53:33.178Z] Initializing function HTTP routes
[2025-08-21T18:53:33.178Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T18:53:33.178Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T18:53:33.178Z] 
[2025-08-21T18:53:33.178Z] Host initialized (186ms)
[2025-08-21T18:53:33.178Z] Host started (186ms)
[2025-08-21T18:53:33.178Z] Job host started
[2025-08-21T18:53:33.178Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:53:33.178Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:53:33.208Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T18:53:33.209Z] ✅ OpenAI initialized for image analysis
[2025-08-21T18:53:33.209Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:33.209Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:53:33.246Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T18:53:33.246Z] 🔍 Current env vars:
[2025-08-21T18:53:33.246Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T18:53:33.246Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T18:53:33.246Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T18:53:33.246Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:33.246Z]   Deployment: gpt-4o
[2025-08-21T18:53:33.246Z]   API Version: 2024-08-01-preview
[2025-08-21T18:53:33.246Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T18:53:33.246Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T18:53:33.246Z] ✅ OpenAI client initialized successfully
[2025-08-21T18:53:33.246Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:33.246Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:53:33.248Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T18:53:33.253Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.253Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.253Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.254Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.254Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.254Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.254Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:33.254Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.254Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: '3e04b42a-6db4-4466-9089-1973d2e9585f'.
[2025-08-21T18:53:33.254Z] Result: Failure
[2025-08-21T18:53:33.254Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:33.254Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T18:53:33.254Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:53:33.254Z]                    ^^^^^
[2025-08-21T18:53:33.254Z] 
[2025-08-21T18:53:33.254Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:33.254Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:53:33.254Z] Worker failed to load function: 'figmaOAuthStart' with functionId: 'e48cd117-0991-4592-836f-e75cac1e55a4'.
[2025-08-21T18:53:33.254Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.254Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:53:33.254Z] Result: Failure
[2025-08-21T18:53:33.254Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:33.254Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T18:53:33.254Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:53:33.254Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:53:33.254Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:53:33.254Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:53:33.254Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.254Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:53:33.254Z]                    ^^^^^
[2025-08-21T18:53:33.254Z] 
[2025-08-21T18:53:33.254Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.254Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:53:33.255Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:53:33.255Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:53:33.254Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:53:33.255Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:53:33.255Z]     at Generator.next (<anonymous>).
[2025-08-21T18:53:33.255Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:53:33.255Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:53:33.255Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:53:33.255Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:53:33.255Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:53:33.255Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:53:33.255Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:53:33.255Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:53:33.255Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:53:33.255Z]     at Generator.next (<anonymous>).
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.255Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d received FunctionLoadRequest
[2025-08-21T18:53:33.266Z] Host restarted.
[2025-08-21T18:53:37.995Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T18:53:49.618Z] Restarting host.
[2025-08-21T18:53:49.625Z] Stopping JobHost
[2025-08-21T18:53:49.626Z] Job host stopped
[2025-08-21T18:53:49.638Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '4b16071c-cc97-44d5-bb9f-877e247b71e9'
[2025-08-21T18:53:49.714Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:53:49.714Z] Host configuration file read:
[2025-08-21T18:53:49.714Z] {
[2025-08-21T18:53:49.714Z]   "version": "2.0",
[2025-08-21T18:53:49.714Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:53:49.714Z]   "logging": {
[2025-08-21T18:53:49.714Z]     "applicationInsights": {
[2025-08-21T18:53:49.714Z]       "samplingSettings": {
[2025-08-21T18:53:49.714Z]         "isEnabled": true,
[2025-08-21T18:53:49.714Z]         "excludedTypes": "Request"
[2025-08-21T18:53:49.714Z]       }
[2025-08-21T18:53:49.714Z]     },
[2025-08-21T18:53:49.714Z]     "logLevel": {
[2025-08-21T18:53:49.714Z]       "default": "Information",
[2025-08-21T18:53:49.714Z]       "Host.Results": "Information",
[2025-08-21T18:53:49.714Z]       "Function": "Information"
[2025-08-21T18:53:49.714Z]     }
[2025-08-21T18:53:49.714Z]   },
[2025-08-21T18:53:49.714Z]   "extensionBundle": {
[2025-08-21T18:53:49.714Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:53:49.714Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:53:49.714Z]   },
[2025-08-21T18:53:49.714Z]   "watchDirectories": [
[2025-08-21T18:53:49.714Z]     "Shared"
[2025-08-21T18:53:49.714Z]   ]
[2025-08-21T18:53:49.714Z] }
[2025-08-21T18:53:49.715Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:53:49.716Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:49.716Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:49.716Z] Loading functions metadata
[2025-08-21T18:53:49.716Z] Worker indexing is enabled
[2025-08-21T18:53:49.716Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:53:49.716Z] Reading functions metadata (Worker)
[2025-08-21T18:53:49.716Z] Shutting down language worker channels for runtime:node
[2025-08-21T18:53:49.734Z] Worker 7448571f-f420-464f-82d8-e9c6d3ab437d exited with code 0
[2025-08-21T18:53:49.917Z] Worker 0a556412-04d2-4492-b77e-5752398025bc connecting on 127.0.0.1:54302
[2025-08-21T18:53:49.945Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received WorkerInitRequest
[2025-08-21T18:53:49.950Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionsMetadataRequest
[2025-08-21T18:53:49.950Z] Reading functions metadata (Host)
[2025-08-21T18:53:50.258Z] 21 functions found (Host)
[2025-08-21T18:53:50.259Z] 21 functions loaded
[2025-08-21T18:53:50.259Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T18:53:50.259Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:50.259Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:50.259Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T18:53:50.406Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T18:53:50.406Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T18:53:50.406Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T18:53:50.406Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T18:53:50.460Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T18:53:50.460Z] Host configuration file read:
[2025-08-21T18:53:50.460Z] {
[2025-08-21T18:53:50.460Z]   "version": "2.0",
[2025-08-21T18:53:50.460Z]   "functionTimeout": "00:05:00",
[2025-08-21T18:53:50.460Z]   "logging": {
[2025-08-21T18:53:50.460Z]     "applicationInsights": {
[2025-08-21T18:53:50.460Z]       "samplingSettings": {
[2025-08-21T18:53:50.460Z]         "isEnabled": true,
[2025-08-21T18:53:50.460Z]         "excludedTypes": "Request"
[2025-08-21T18:53:50.460Z]       }
[2025-08-21T18:53:50.460Z]     },
[2025-08-21T18:53:50.460Z]     "logLevel": {
[2025-08-21T18:53:50.460Z]       "default": "Information",
[2025-08-21T18:53:50.460Z]       "Host.Results": "Information",
[2025-08-21T18:53:50.460Z]       "Function": "Information"
[2025-08-21T18:53:50.460Z]     }
[2025-08-21T18:53:50.460Z]   },
[2025-08-21T18:53:50.460Z]   "extensionBundle": {
[2025-08-21T18:53:50.460Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T18:53:50.460Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T18:53:50.460Z]   },
[2025-08-21T18:53:50.460Z]   "watchDirectories": [
[2025-08-21T18:53:50.460Z]     "Shared"
[2025-08-21T18:53:50.460Z]   ]
[2025-08-21T18:53:50.460Z] }
[2025-08-21T18:53:50.505Z] Initializing Warmup Extension.
[2025-08-21T18:53:50.507Z] Initializing Host. OperationId: '4b16071c-cc97-44d5-bb9f-877e247b71e9'.
[2025-08-21T18:53:50.507Z] Host initialization: ConsecutiveErrors=0, StartupCount=6, OperationId=4b16071c-cc97-44d5-bb9f-877e247b71e9
[2025-08-21T18:53:50.509Z] LoggerFilterOptions
[2025-08-21T18:53:50.509Z] {
[2025-08-21T18:53:50.509Z]   "MinLevel": "None",
[2025-08-21T18:53:50.509Z]   "Rules": [
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": null,
[2025-08-21T18:53:50.509Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:53:50.509Z]       "LogLevel": "None",
[2025-08-21T18:53:50.509Z]       "Filter": null
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:50.509Z]       "CategoryName": null,
[2025-08-21T18:53:50.509Z]       "LogLevel": "None",
[2025-08-21T18:53:50.509Z]       "Filter": null
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:50.509Z]       "CategoryName": null,
[2025-08-21T18:53:50.509Z]       "LogLevel": null,
[2025-08-21T18:53:50.509Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": null,
[2025-08-21T18:53:50.509Z]       "CategoryName": null,
[2025-08-21T18:53:50.509Z]       "LogLevel": null,
[2025-08-21T18:53:50.509Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": null,
[2025-08-21T18:53:50.509Z]       "CategoryName": null,
[2025-08-21T18:53:50.509Z]       "LogLevel": null,
[2025-08-21T18:53:50.509Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": null,
[2025-08-21T18:53:50.509Z]       "CategoryName": "Host.Results",
[2025-08-21T18:53:50.509Z]       "LogLevel": "Information",
[2025-08-21T18:53:50.509Z]       "Filter": null
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": null,
[2025-08-21T18:53:50.509Z]       "CategoryName": "Function",
[2025-08-21T18:53:50.509Z]       "LogLevel": "Information",
[2025-08-21T18:53:50.509Z]       "Filter": null
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": null,
[2025-08-21T18:53:50.509Z]       "CategoryName": null,
[2025-08-21T18:53:50.509Z]       "LogLevel": "Information",
[2025-08-21T18:53:50.509Z]       "Filter": null
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:50.509Z]       "CategoryName": null,
[2025-08-21T18:53:50.509Z]       "LogLevel": "None",
[2025-08-21T18:53:50.509Z]       "Filter": null
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:50.509Z]       "CategoryName": null,
[2025-08-21T18:53:50.509Z]       "LogLevel": null,
[2025-08-21T18:53:50.509Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.509Z]     },
[2025-08-21T18:53:50.509Z]     {
[2025-08-21T18:53:50.509Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:50.509Z]       "CategoryName": null,
[2025-08-21T18:53:50.509Z]       "LogLevel": null,
[2025-08-21T18:53:50.509Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.509Z]     }
[2025-08-21T18:53:50.509Z]   ]
[2025-08-21T18:53:50.509Z] }
[2025-08-21T18:53:50.510Z] LoggerFilterOptions
[2025-08-21T18:53:50.510Z] {
[2025-08-21T18:53:50.510Z]   "MinLevel": "None",
[2025-08-21T18:53:50.510Z]   "Rules": [
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": null,
[2025-08-21T18:53:50.510Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T18:53:50.510Z]       "LogLevel": "None",
[2025-08-21T18:53:50.510Z]       "Filter": null
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:50.510Z]       "CategoryName": null,
[2025-08-21T18:53:50.510Z]       "LogLevel": "None",
[2025-08-21T18:53:50.510Z]       "Filter": null
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:50.510Z]       "CategoryName": null,
[2025-08-21T18:53:50.510Z]       "LogLevel": null,
[2025-08-21T18:53:50.510Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": null,
[2025-08-21T18:53:50.510Z]       "CategoryName": null,
[2025-08-21T18:53:50.510Z]       "LogLevel": null,
[2025-08-21T18:53:50.510Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": null,
[2025-08-21T18:53:50.510Z]       "CategoryName": null,
[2025-08-21T18:53:50.510Z]       "LogLevel": null,
[2025-08-21T18:53:50.510Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": null,
[2025-08-21T18:53:50.510Z]       "CategoryName": "Host.Results",
[2025-08-21T18:53:50.510Z]       "LogLevel": "Information",
[2025-08-21T18:53:50.510Z]       "Filter": null
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": null,
[2025-08-21T18:53:50.510Z]       "CategoryName": "Function",
[2025-08-21T18:53:50.510Z]       "LogLevel": "Information",
[2025-08-21T18:53:50.510Z]       "Filter": null
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": null,
[2025-08-21T18:53:50.510Z]       "CategoryName": null,
[2025-08-21T18:53:50.510Z]       "LogLevel": "Information",
[2025-08-21T18:53:50.510Z]       "Filter": null
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:50.510Z]       "CategoryName": null,
[2025-08-21T18:53:50.510Z]       "LogLevel": "None",
[2025-08-21T18:53:50.510Z]       "Filter": null
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T18:53:50.510Z]       "CategoryName": null,
[2025-08-21T18:53:50.510Z]       "LogLevel": null,
[2025-08-21T18:53:50.510Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.510Z]     },
[2025-08-21T18:53:50.510Z]     {
[2025-08-21T18:53:50.510Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T18:53:50.510Z]       "CategoryName": null,
[2025-08-21T18:53:50.510Z]       "LogLevel": null,
[2025-08-21T18:53:50.510Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T18:53:50.510Z]     }
[2025-08-21T18:53:50.510Z]   ]
[2025-08-21T18:53:50.510Z] }
[2025-08-21T18:53:50.510Z] FunctionResultAggregatorOptions
[2025-08-21T18:53:50.510Z] {
[2025-08-21T18:53:50.510Z]   "BatchSize": 1000,
[2025-08-21T18:53:50.510Z]   "FlushTimeout": "00:00:30",
[2025-08-21T18:53:50.510Z]   "IsEnabled": true
[2025-08-21T18:53:50.510Z] }
[2025-08-21T18:53:50.510Z] ConcurrencyOptions
[2025-08-21T18:53:50.510Z] {
[2025-08-21T18:53:50.510Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T18:53:50.510Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T18:53:50.510Z]   "CPUThreshold": 0.8,
[2025-08-21T18:53:50.510Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T18:53:50.510Z] }
[2025-08-21T18:53:50.510Z] SingletonOptions
[2025-08-21T18:53:50.510Z] {
[2025-08-21T18:53:50.510Z]   "LockPeriod": "00:00:15",
[2025-08-21T18:53:50.510Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T18:53:50.510Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T18:53:50.510Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T18:53:50.510Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T18:53:50.510Z] }
[2025-08-21T18:53:50.510Z] ScaleOptions
[2025-08-21T18:53:50.510Z] {
[2025-08-21T18:53:50.510Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T18:53:50.510Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T18:53:50.510Z]   "MetricsPurgeEnabled": true,
[2025-08-21T18:53:50.510Z]   "IsTargetScalingEnabled": true,
[2025-08-21T18:53:50.510Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T18:53:50.510Z] }
[2025-08-21T18:53:50.510Z] Starting JobHost
[2025-08-21T18:53:50.510Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=9ffd1f63-262b-4b6b-b536-1686da0ae949, Version=4.1040.300.25317, ProcessId=22008, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T18:53:50.510Z] Loading functions metadata
[2025-08-21T18:53:50.510Z] Worker indexing is enabled
[2025-08-21T18:53:50.510Z] Fetching metadata for workerRuntime: node
[2025-08-21T18:53:50.510Z] Reading functions metadata (Worker)
[2025-08-21T18:53:50.510Z] Reading functions metadata (Host)
[2025-08-21T18:53:50.672Z] 21 functions found (Host)
[2025-08-21T18:53:50.672Z] Reading functions metadata (Custom)
[2025-08-21T18:53:50.673Z] 0 functions found (Custom)
[2025-08-21T18:53:50.673Z] 21 functions loaded
[2025-08-21T18:53:50.675Z] Generating 21 job function(s)
[2025-08-21T18:53:50.675Z] Worker process started and initialized.
[2025-08-21T18:53:50.684Z] Found the following functions:
[2025-08-21T18:53:50.684Z] Host.Functions.aiBuilderHealth
[2025-08-21T18:53:50.684Z] Host.Functions.analytics
[2025-08-21T18:53:50.684Z] Host.Functions.analyzeUIImage
[2025-08-21T18:53:50.684Z] Host.Functions.atlasComponents
[2025-08-21T18:53:50.684Z] Host.Functions.fast-suggestions
[2025-08-21T18:53:50.684Z] Host.Functions.figmaOAuthCallback
[2025-08-21T18:53:50.684Z] Host.Functions.figmaOAuthStart
[2025-08-21T18:53:50.684Z] Host.Functions.generateSuggestions
[2025-08-21T18:53:50.684Z] Host.Functions.generateWireframe
[2025-08-21T18:53:50.684Z] Host.Functions.generateWireframeAlias
[2025-08-21T18:53:50.684Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T18:53:50.684Z] Host.Functions.generateWireframeOptionB
[2025-08-21T18:53:50.684Z] Host.Functions.get-template
[2025-08-21T18:53:50.684Z] Host.Functions.githubAuthCallback
[2025-08-21T18:53:50.684Z] Host.Functions.githubAuthStart
[2025-08-21T18:53:50.684Z] Host.Functions.health
[2025-08-21T18:53:50.685Z] Host.Functions.healthCheck
[2025-08-21T18:53:50.685Z] Host.Functions.openai-health
[2025-08-21T18:53:50.685Z] Host.Functions.performance-stats
[2025-08-21T18:53:50.685Z] Host.Functions.testFunction
[2025-08-21T18:53:50.685Z] Host.Functions.testSimple
[2025-08-21T18:53:50.685Z] 
[2025-08-21T18:53:50.685Z] HttpOptions
[2025-08-21T18:53:50.685Z] {
[2025-08-21T18:53:50.685Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T18:53:50.685Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T18:53:50.685Z]   "MaxConcurrentRequests": -1,
[2025-08-21T18:53:50.685Z] Initializing function HTTP routes
[2025-08-21T18:53:50.685Z]   "MaxOutstandingRequests": -1,
[2025-08-21T18:53:50.685Z]   "RoutePrefix": "api"
[2025-08-21T18:53:50.685Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T18:53:50.685Z] }
[2025-08-21T18:53:50.685Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T18:53:50.685Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T18:53:50.685Z] 
[2025-08-21T18:53:50.685Z] Host initialized (174ms)
[2025-08-21T18:53:50.685Z] Host started (174ms)
[2025-08-21T18:53:50.685Z] Job host started
[2025-08-21T18:53:50.685Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:53:50.685Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T18:53:50.715Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T18:53:50.715Z] ✅ OpenAI initialized for image analysis
[2025-08-21T18:53:50.715Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:50.715Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:53:50.756Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T18:53:50.756Z] 🔍 Current env vars:
[2025-08-21T18:53:50.756Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T18:53:50.756Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T18:53:50.756Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T18:53:50.756Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:50.756Z]   Deployment: gpt-4o
[2025-08-21T18:53:50.756Z]   API Version: 2024-08-01-preview
[2025-08-21T18:53:50.756Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T18:53:50.756Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T18:53:50.756Z] ✅ OpenAI client initialized successfully
[2025-08-21T18:53:50.756Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T18:53:50.756Z] 🎯 Using deployment: gpt-4o
[2025-08-21T18:53:50.757Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T18:53:50.763Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.763Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.763Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.763Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.763Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.763Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.763Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:50.764Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: '13b8d5d4-58cf-4228-b005-d2ce5ae7ba36'.
[2025-08-21T18:53:50.764Z] Result: Failure
[2025-08-21T18:53:50.764Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.764Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T18:53:50.764Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:50.764Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:53:50.764Z]                    ^^^^^
[2025-08-21T18:53:50.764Z] 
[2025-08-21T18:53:50.764Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:53:50.764Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:53:50.764Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:53:50.764Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:53:50.764Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.764Z] Worker failed to load function: 'figmaOAuthStart' with functionId: '70843a2e-e6d4-42b2-8e3b-dbee2b613915'.
[2025-08-21T18:53:50.764Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.764Z] Result: Failure
[2025-08-21T18:53:50.764Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:53:50.764Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)

[2025-08-21T18:53:50.764Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T18:53:50.764Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T18:53:50.764Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:53:50.764Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.764Z]                    ^^^^^
[2025-08-21T18:53:50.764Z] 
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.764Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T18:53:50.764Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:53:50.764Z]     at Generator.next (<anonymous>).
[2025-08-21T18:53:50.764Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T18:53:50.764Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T18:53:50.764Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T18:53:50.764Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T18:53:50.764Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T18:53:50.764Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T18:53:50.764Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.764Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.764Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T18:53:50.764Z]     at Generator.next (<anonymous>).
[2025-08-21T18:53:50.764Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.765Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.765Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.765Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.765Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.765Z] Worker 0a556412-04d2-4492-b77e-5752398025bc received FunctionLoadRequest
[2025-08-21T18:53:50.777Z] Host restarted.
[2025-08-21T18:53:55.510Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
