
Azure Functions Core Tools
Core Tools Version:       4.1.0+7ff2567e43c1ae7471cea7394452c1447661e175 (64-bit)
Function Runtime Version: 4.1040.300.25317

Warning: unable to verify all settings from local.settings.json and function.json files.
[2025-08-21T16:50:20.190Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: 'b2479192-4682-4771-97f5-7fb069d414a7'
[2025-08-21T16:50:20.250Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T16:50:20.250Z] Host configuration file read:
[2025-08-21T16:50:20.250Z] {
[2025-08-21T16:50:20.250Z]   "version": "2.0",
[2025-08-21T16:50:20.250Z]   "functionTimeout": "00:05:00",
[2025-08-21T16:50:20.250Z]   "logging": {
[2025-08-21T16:50:20.250Z]     "applicationInsights": {
[2025-08-21T16:50:20.250Z]       "samplingSettings": {
[2025-08-21T16:50:20.250Z]         "isEnabled": true,
[2025-08-21T16:50:20.250Z]         "excludedTypes": "Request"
[2025-08-21T16:50:20.250Z]       }
[2025-08-21T16:50:20.250Z]     },
[2025-08-21T16:50:20.250Z]     "logLevel": {
[2025-08-21T16:50:20.250Z]       "default": "Information",
[2025-08-21T16:50:20.250Z]       "Host.Results": "Information",
[2025-08-21T16:50:20.250Z]       "Function": "Information"
[2025-08-21T16:50:20.250Z]     }
[2025-08-21T16:50:20.250Z]   },
[2025-08-21T16:50:20.250Z]   "extensionBundle": {
[2025-08-21T16:50:20.250Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T16:50:20.250Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T16:50:20.250Z]   },
[2025-08-21T16:50:20.250Z]   "watchDirectories": [
[2025-08-21T16:50:20.250Z]     "Shared"
[2025-08-21T16:50:20.250Z]   ]
[2025-08-21T16:50:20.250Z] }
[2025-08-21T16:50:20.258Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T16:50:20.258Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:50:20.258Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:50:20.311Z] Loading functions metadata
[2025-08-21T16:50:20.311Z] Worker indexing is enabled
[2025-08-21T16:50:20.312Z] Fetching metadata for workerRuntime: node
[2025-08-21T16:50:20.312Z] Reading functions metadata (Worker)
[2025-08-21T16:50:20.440Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 connecting on 127.0.0.1:57999
[2025-08-21T16:50:22.519Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received WorkerInitRequest
[2025-08-21T16:50:22.556Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionsMetadataRequest
[2025-08-21T16:50:22.561Z] Reading functions metadata (Host)
[2025-08-21T16:50:22.774Z] 21 functions found (Host)
[2025-08-21T16:50:22.781Z] 21 functions loaded
[2025-08-21T16:50:22.782Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T16:50:22.783Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:50:22.783Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:50:22.783Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T16:50:22.961Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:50:22.962Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:50:22.963Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T16:50:22.963Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T16:50:23.057Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T16:50:23.057Z] Host configuration file read:
[2025-08-21T16:50:23.057Z] {
[2025-08-21T16:50:23.057Z]   "version": "2.0",
[2025-08-21T16:50:23.057Z]   "functionTimeout": "00:05:00",
[2025-08-21T16:50:23.057Z]   "logging": {
[2025-08-21T16:50:23.057Z]     "applicationInsights": {
[2025-08-21T16:50:23.057Z]       "samplingSettings": {
[2025-08-21T16:50:23.057Z]         "isEnabled": true,
[2025-08-21T16:50:23.057Z]         "excludedTypes": "Request"
[2025-08-21T16:50:23.057Z]       }
[2025-08-21T16:50:23.057Z]     },
[2025-08-21T16:50:23.057Z]     "logLevel": {
[2025-08-21T16:50:23.057Z]       "default": "Information",
[2025-08-21T16:50:23.057Z]       "Host.Results": "Information",
[2025-08-21T16:50:23.057Z]       "Function": "Information"
[2025-08-21T16:50:23.057Z]     }
[2025-08-21T16:50:23.057Z]   },
[2025-08-21T16:50:23.057Z]   "extensionBundle": {
[2025-08-21T16:50:23.057Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T16:50:23.057Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T16:50:23.057Z]   },
[2025-08-21T16:50:23.057Z]   "watchDirectories": [
[2025-08-21T16:50:23.057Z]     "Shared"
[2025-08-21T16:50:23.057Z]   ]
[2025-08-21T16:50:23.057Z] }
[2025-08-21T16:50:23.084Z] Starting host metrics provider.
[2025-08-21T16:50:23.155Z] Initializing Warmup Extension.
[2025-08-21T16:50:23.189Z] Initializing Host. OperationId: 'b2479192-4682-4771-97f5-7fb069d414a7'.
[2025-08-21T16:50:23.192Z] Host initialization: ConsecutiveErrors=0, StartupCount=1, OperationId=b2479192-4682-4771-97f5-7fb069d414a7
[2025-08-21T16:50:23.201Z] LoggerFilterOptions
[2025-08-21T16:50:23.201Z] {
[2025-08-21T16:50:23.201Z]   "MinLevel": "None",
[2025-08-21T16:50:23.201Z]   "Rules": [
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": null,
[2025-08-21T16:50:23.201Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T16:50:23.201Z]       "LogLevel": "None",
[2025-08-21T16:50:23.201Z]       "Filter": null
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:50:23.201Z]       "CategoryName": null,
[2025-08-21T16:50:23.201Z]       "LogLevel": "None",
[2025-08-21T16:50:23.201Z]       "Filter": null
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:50:23.201Z]       "CategoryName": null,
[2025-08-21T16:50:23.201Z]       "LogLevel": null,
[2025-08-21T16:50:23.201Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": null,
[2025-08-21T16:50:23.201Z]       "CategoryName": null,
[2025-08-21T16:50:23.201Z]       "LogLevel": null,
[2025-08-21T16:50:23.201Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": null,
[2025-08-21T16:50:23.201Z]       "CategoryName": null,
[2025-08-21T16:50:23.201Z]       "LogLevel": null,
[2025-08-21T16:50:23.201Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": null,
[2025-08-21T16:50:23.201Z]       "CategoryName": "Host.Results",
[2025-08-21T16:50:23.201Z]       "LogLevel": "Information",
[2025-08-21T16:50:23.201Z]       "Filter": null
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": null,
[2025-08-21T16:50:23.201Z]       "CategoryName": "Function",
[2025-08-21T16:50:23.201Z]       "LogLevel": "Information",
[2025-08-21T16:50:23.201Z]       "Filter": null
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": null,
[2025-08-21T16:50:23.201Z]       "CategoryName": null,
[2025-08-21T16:50:23.201Z]       "LogLevel": "Information",
[2025-08-21T16:50:23.201Z]       "Filter": null
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:50:23.201Z]       "CategoryName": null,
[2025-08-21T16:50:23.201Z]       "LogLevel": "None",
[2025-08-21T16:50:23.201Z]       "Filter": null
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:50:23.201Z]       "CategoryName": null,
[2025-08-21T16:50:23.201Z]       "LogLevel": null,
[2025-08-21T16:50:23.201Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.201Z]     },
[2025-08-21T16:50:23.201Z]     {
[2025-08-21T16:50:23.201Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:50:23.201Z]       "CategoryName": null,
[2025-08-21T16:50:23.201Z]       "LogLevel": null,
[2025-08-21T16:50:23.201Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.201Z]     }
[2025-08-21T16:50:23.201Z]   ]
[2025-08-21T16:50:23.201Z] }
[2025-08-21T16:50:23.202Z] LoggerFilterOptions
[2025-08-21T16:50:23.202Z] {
[2025-08-21T16:50:23.202Z]   "MinLevel": "None",
[2025-08-21T16:50:23.202Z]   "Rules": [
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": null,
[2025-08-21T16:50:23.202Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T16:50:23.202Z]       "LogLevel": "None",
[2025-08-21T16:50:23.202Z]       "Filter": null
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:50:23.202Z]       "CategoryName": null,
[2025-08-21T16:50:23.202Z]       "LogLevel": "None",
[2025-08-21T16:50:23.202Z]       "Filter": null
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:50:23.202Z]       "CategoryName": null,
[2025-08-21T16:50:23.202Z]       "LogLevel": null,
[2025-08-21T16:50:23.202Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": null,
[2025-08-21T16:50:23.202Z]       "CategoryName": null,
[2025-08-21T16:50:23.202Z]       "LogLevel": null,
[2025-08-21T16:50:23.202Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": null,
[2025-08-21T16:50:23.202Z]       "CategoryName": null,
[2025-08-21T16:50:23.202Z]       "LogLevel": null,
[2025-08-21T16:50:23.202Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": null,
[2025-08-21T16:50:23.202Z]       "CategoryName": "Host.Results",
[2025-08-21T16:50:23.202Z]       "LogLevel": "Information",
[2025-08-21T16:50:23.202Z]       "Filter": null
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": null,
[2025-08-21T16:50:23.202Z]       "CategoryName": "Function",
[2025-08-21T16:50:23.202Z]       "LogLevel": "Information",
[2025-08-21T16:50:23.202Z]       "Filter": null
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": null,
[2025-08-21T16:50:23.202Z]       "CategoryName": null,
[2025-08-21T16:50:23.202Z]       "LogLevel": "Information",
[2025-08-21T16:50:23.202Z]       "Filter": null
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:50:23.202Z]       "CategoryName": null,
[2025-08-21T16:50:23.202Z]       "LogLevel": "None",
[2025-08-21T16:50:23.202Z]       "Filter": null
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:50:23.202Z]       "CategoryName": null,
[2025-08-21T16:50:23.202Z]       "LogLevel": null,
[2025-08-21T16:50:23.202Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.202Z]     },
[2025-08-21T16:50:23.202Z]     {
[2025-08-21T16:50:23.202Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:50:23.202Z]       "CategoryName": null,
[2025-08-21T16:50:23.202Z]       "LogLevel": null,
[2025-08-21T16:50:23.202Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:50:23.202Z]     }
[2025-08-21T16:50:23.202Z]   ]
[2025-08-21T16:50:23.202Z] }
[2025-08-21T16:50:23.202Z] FunctionResultAggregatorOptions
[2025-08-21T16:50:23.202Z] {
[2025-08-21T16:50:23.202Z]   "BatchSize": 1000,
[2025-08-21T16:50:23.202Z]   "FlushTimeout": "00:00:30",
[2025-08-21T16:50:23.202Z]   "IsEnabled": true
[2025-08-21T16:50:23.202Z] }
[2025-08-21T16:50:23.202Z] ConcurrencyOptions
[2025-08-21T16:50:23.202Z] {
[2025-08-21T16:50:23.202Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T16:50:23.202Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T16:50:23.202Z]   "CPUThreshold": 0.8,
[2025-08-21T16:50:23.202Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T16:50:23.202Z] }
[2025-08-21T16:50:23.202Z] SingletonOptions
[2025-08-21T16:50:23.202Z] {
[2025-08-21T16:50:23.202Z]   "LockPeriod": "00:00:15",
[2025-08-21T16:50:23.202Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T16:50:23.202Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T16:50:23.202Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T16:50:23.202Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T16:50:23.202Z] }
[2025-08-21T16:50:23.202Z] ScaleOptions
[2025-08-21T16:50:23.202Z] {
[2025-08-21T16:50:23.202Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T16:50:23.202Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T16:50:23.202Z]   "MetricsPurgeEnabled": true,
[2025-08-21T16:50:23.202Z]   "IsTargetScalingEnabled": true,
[2025-08-21T16:50:23.202Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T16:50:23.202Z] }
[2025-08-21T16:50:23.203Z] Starting JobHost
[2025-08-21T16:50:23.204Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=4fea746e-6886-43fc-8894-02903d210e58, Version=4.1040.300.25317, ProcessId=81368, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T16:50:23.206Z] Loading functions metadata
[2025-08-21T16:50:23.206Z] Worker indexing is enabled
[2025-08-21T16:50:23.206Z] Fetching metadata for workerRuntime: node
[2025-08-21T16:50:23.206Z] Reading functions metadata (Worker)
[2025-08-21T16:50:23.206Z] Reading functions metadata (Host)
[2025-08-21T16:50:23.418Z] 21 functions found (Host)
[2025-08-21T16:50:23.421Z] Reading functions metadata (Custom)
[2025-08-21T16:50:23.427Z] 0 functions found (Custom)
[2025-08-21T16:50:23.428Z] 21 functions loaded
[2025-08-21T16:50:23.444Z] Generating 21 job function(s)
[2025-08-21T16:50:23.444Z] Worker process started and initialized.
[2025-08-21T16:50:23.473Z] Found the following functions:
[2025-08-21T16:50:23.473Z] Host.Functions.aiBuilderHealth
[2025-08-21T16:50:23.473Z] Host.Functions.analytics
[2025-08-21T16:50:23.473Z] Host.Functions.analyzeUIImage
[2025-08-21T16:50:23.473Z] Host.Functions.atlasComponents
[2025-08-21T16:50:23.473Z] Host.Functions.fast-suggestions
[2025-08-21T16:50:23.473Z] Host.Functions.figmaOAuthCallback
[2025-08-21T16:50:23.473Z] Host.Functions.figmaOAuthStart
[2025-08-21T16:50:23.473Z] Host.Functions.generateSuggestions
[2025-08-21T16:50:23.473Z] Host.Functions.generateWireframe
[2025-08-21T16:50:23.473Z] Host.Functions.generateWireframeAlias
[2025-08-21T16:50:23.473Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T16:50:23.473Z] Host.Functions.generateWireframeOptionB
[2025-08-21T16:50:23.473Z] Host.Functions.get-template
[2025-08-21T16:50:23.473Z] Host.Functions.githubAuthCallback
[2025-08-21T16:50:23.473Z] Host.Functions.githubAuthStart
[2025-08-21T16:50:23.473Z] Host.Functions.health
[2025-08-21T16:50:23.473Z] Host.Functions.healthCheck
[2025-08-21T16:50:23.473Z] Host.Functions.openai-health
[2025-08-21T16:50:23.473Z] Host.Functions.performance-stats
[2025-08-21T16:50:23.473Z] Host.Functions.testFunction
[2025-08-21T16:50:23.473Z] Host.Functions.testSimple
[2025-08-21T16:50:23.473Z] 
[2025-08-21T16:50:23.477Z] HttpOptions
[2025-08-21T16:50:23.477Z] {
[2025-08-21T16:50:23.477Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T16:50:23.477Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T16:50:23.477Z]   "MaxConcurrentRequests": -1,
[2025-08-21T16:50:23.477Z]   "MaxOutstandingRequests": -1,
[2025-08-21T16:50:23.477Z]   "RoutePrefix": "api"
[2025-08-21T16:50:23.477Z] }
[2025-08-21T16:50:23.478Z] Initializing function HTTP routes
[2025-08-21T16:50:23.478Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T16:50:23.478Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T16:50:23.478Z] 
[2025-08-21T16:50:23.480Z] Host initialized (273ms)
[2025-08-21T16:50:23.482Z] Host started (277ms)
[2025-08-21T16:50:23.482Z] Job host started
[2025-08-21T16:50:23.483Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T16:50:23.483Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T16:50:23.509Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T16:50:23.509Z] ✅ OpenAI initialized for image analysis
[2025-08-21T16:50:23.509Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:50:23.509Z] 🎯 Using deployment: gpt-4o
[2025-08-21T16:50:23.563Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.563Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.564Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T16:50:23.565Z] 🔍 Current env vars:
[2025-08-21T16:50:23.565Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T16:50:23.565Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T16:50:23.565Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T16:50:23.565Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:50:23.565Z]   Deployment: gpt-4o
[2025-08-21T16:50:23.565Z]   API Version: 2024-08-01-preview
[2025-08-21T16:50:23.565Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T16:50:23.565Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T16:50:23.565Z] ✅ OpenAI client initialized successfully
[2025-08-21T16:50:23.565Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:50:23.565Z] 🎯 Using deployment: gpt-4o
[2025-08-21T16:50:23.566Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T16:50:23.570Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.570Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.570Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.571Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.571Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:50:23.571Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.571Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.571Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:50:23.571Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.571Z] Worker failed to load function: 'figmaOAuthStart' with functionId: '1da17a68-2ec3-4456-8a47-9996cae51ec0'.
[2025-08-21T16:50:23.571Z] Result: Failure
[2025-08-21T16:50:23.571Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: 'a425a85f-ef98-4a64-8947-01a9f381c63e'.
[2025-08-21T16:50:23.571Z] Result: Failure
[2025-08-21T16:50:23.571Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:50:23.571Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.571Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:50:23.572Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T16:50:23.571Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.571Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.571Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T16:50:23.572Z] const figmaSetup = await import("../../figma-oauth2-setup.js");[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest

[2025-08-21T16:50:23.572Z]                    ^^^^^
[2025-08-21T16:50:23.572Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.572Z] 
[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.572Z]                    ^^^^^
[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.572Z] 
[2025-08-21T16:50:23.572Z] SyntaxError: await is only valid in async functions and the top level bodies of modules[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.572Z] SyntaxError: await is only valid in async functions and the top level bodies of modules

[2025-08-21T16:50:23.572Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T16:50:23.572Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T16:50:23.572Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T16:50:23.572Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T16:50:23.572Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T16:50:23.572Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T16:50:23.572Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T16:50:23.572Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T16:50:23.572Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T16:50:23.572Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.572Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.572Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T16:50:23.572Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T16:50:23.572Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T16:50:23.572Z]     at Generator.next (<anonymous>).[2025-08-21T16:50:23.572Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T16:50:23.572Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest


[2025-08-21T16:50:23.572Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T16:50:23.572Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionLoadRequest
[2025-08-21T16:50:23.572Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T16:50:23.572Z]     at Generator.next (<anonymous>).

Functions:

	aiBuilderHealth: [GET] http://localhost:7072/api/ai-builder/health

	analytics: [GET,OPTIONS] http://localhost:7072/api/analytics

	analyzeUIImage: [POST,OPTIONS] http://localhost:7072/api/analyzeUIImage

	atlasComponents: [GET,OPTIONS] http://localhost:7072/api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}

	fast-suggestions: [GET,POST,OPTIONS] http://localhost:7072/api/fast-suggestions

	figmaOAuthCallback: [GET,OPTIONS] http://localhost:7072/api/figmaOAuthCallback

	figmaOAuthStart: [GET,POST,OPTIONS] http://localhost:7072/api/figmaOAuthStart

	generateSuggestions: [GET,POST,OPTIONS] http://localhost:7072/api/generate-suggestions

	generateWireframe: [POST,OPTIONS] http://localhost:7072/api/generate-html-wireframe

	generateWireframeAlias: [POST,OPTIONS] http://localhost:7072/api/generate-wireframe

	generateWireframeEnhanced: [GET,POST,OPTIONS] http://localhost:7072/api/generate-wireframe-enhanced

	generateWireframeOptionB: [GET,POST,OPTIONS] http://localhost:7072/api/generateWireframeOptionB

	get-template: [POST,OPTIONS] http://localhost:7072/api/get-template

	githubAuthCallback: [GET] http://localhost:7072/api/github/auth/callback

	githubAuthStart: [GET] http://localhost:7072/api/github/auth/start

	health: [GET] http://localhost:7072/api/health

	healthCheck: [GET] http://localhost:7072/api/healthCheck

	openai-health: [GET,OPTIONS] http://localhost:7072/api/openai-health

	performance-stats: [GET] http://localhost:7072/api/performance-stats

	testFunction: [GET,POST,OPTIONS] http://localhost:7072/api/test-wireframe

	testSimple: [GET,POST] http://localhost:7072/api/test-simple

For detailed output, run func with --verbose flag.
[2025-08-21T16:50:24.069Z] Executing HTTP request: {
[2025-08-21T16:50:24.069Z]   "requestId": "094c4808-3de4-4054-b602-4f39e6ebde29",
[2025-08-21T16:50:24.069Z]   "method": "GET",
[2025-08-21T16:50:24.069Z]   "userAgent": "curl/8.7.1",
[2025-08-21T16:50:24.069Z]   "uri": "/api/health"
[2025-08-21T16:50:24.069Z] }
[2025-08-21T16:50:24.125Z] Executing 'Functions.health' (Reason='This function was programmatically called via the host APIs.', Id=f642a25c-4bdf-48ee-a0b2-89b6c0b0710e)
[2025-08-21T16:50:24.149Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionInvocationRequest with invocationId f642a25c-4bdf-48ee-a0b2-89b6c0b0710e
[2025-08-21T16:50:24.175Z] Executed 'Functions.health' (Succeeded, Id=f642a25c-4bdf-48ee-a0b2-89b6c0b0710e, Duration=58ms)
[2025-08-21T16:50:24.182Z] Executed HTTP request: {
[2025-08-21T16:50:24.182Z]   "requestId": "094c4808-3de4-4054-b602-4f39e6ebde29",
[2025-08-21T16:50:24.182Z]   "identities": "",
[2025-08-21T16:50:24.182Z]   "status": "200",
[2025-08-21T16:50:24.182Z]   "duration": "112"
[2025-08-21T16:50:24.182Z] }
[2025-08-21T16:50:28.216Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T16:50:41.389Z] Executing HTTP request: {
[2025-08-21T16:50:41.389Z]   "requestId": "f330ca51-ccad-4ac9-8d38-106ea27cac08",
[2025-08-21T16:50:41.389Z]   "method": "POST",
[2025-08-21T16:50:41.389Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T16:50:41.389Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T16:50:41.389Z] }
[2025-08-21T16:50:41.415Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=36cccf92-bd71-472c-ab2b-51abf7b8e7af)
[2025-08-21T16:50:41.473Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionInvocationRequest with invocationId 36cccf92-bd71-472c-ab2b-51abf7b8e7af
[2025-08-21T16:50:46.901Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T16:50:46.902Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T16:50:46.902Z]     Description: "Hero section with call-to-action"
[2025-08-21T16:50:46.902Z]     Contains learning keywords: false
[2025-08-21T16:50:46.902Z]     Is hero section exclusion: true
[2025-08-21T16:50:46.902Z]     Final isLearningPlatform: false
[2025-08-21T16:50:46.902Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T16:50:46.908Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=36cccf92-bd71-472c-ab2b-51abf7b8e7af, Duration=5509ms)
[2025-08-21T16:50:46.913Z] Executed HTTP request: {
[2025-08-21T16:50:46.913Z]   "requestId": "f330ca51-ccad-4ac9-8d38-106ea27cac08",
[2025-08-21T16:50:46.913Z]   "identities": "",
[2025-08-21T16:50:46.913Z]   "status": "200",
[2025-08-21T16:50:46.913Z]   "duration": "5525"
[2025-08-21T16:50:46.913Z] }
[2025-08-21T16:50:47.481Z] Executing HTTP request: {
[2025-08-21T16:50:47.482Z]   "requestId": "a75a17be-6f4c-4ea6-8fa0-37babd19a09a",
[2025-08-21T16:50:47.482Z]   "method": "POST",
[2025-08-21T16:50:47.482Z]   "userAgent": "curl/8.7.1",
[2025-08-21T16:50:47.482Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T16:50:47.482Z] }
[2025-08-21T16:50:47.483Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=4cfbe49c-32cc-44cf-a686-d28bccf3fbd2)
[2025-08-21T16:50:47.491Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionInvocationRequest with invocationId 4cfbe49c-32cc-44cf-a686-d28bccf3fbd2
[2025-08-21T16:50:52.847Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T16:50:52.847Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T16:50:52.847Z]     Description: "corporate homepage with navigation header"
[2025-08-21T16:50:52.847Z]     Contains learning keywords: false
[2025-08-21T16:50:52.847Z]     Is hero section exclusion: false
[2025-08-21T16:50:52.847Z]     Final isLearningPlatform: false
[2025-08-21T16:50:52.847Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T16:50:52.849Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=4cfbe49c-32cc-44cf-a686-d28bccf3fbd2, Duration=5366ms)
[2025-08-21T16:50:52.850Z] Executed HTTP request: {
[2025-08-21T16:50:52.850Z]   "requestId": "a75a17be-6f4c-4ea6-8fa0-37babd19a09a",
[2025-08-21T16:50:52.850Z]   "identities": "",
[2025-08-21T16:50:52.850Z]   "status": "200",
[2025-08-21T16:50:52.850Z]   "duration": "5368"
[2025-08-21T16:50:52.850Z] }
[2025-08-21T16:51:04.958Z] Executing HTTP request: {
[2025-08-21T16:51:04.958Z]   "requestId": "678df811-0b92-4e00-bec1-a8b70154963c",
[2025-08-21T16:51:04.958Z]   "method": "POST",
[2025-08-21T16:51:04.958Z]   "userAgent": "curl/8.7.1",
[2025-08-21T16:51:04.958Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T16:51:04.958Z] }
[2025-08-21T16:51:04.966Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=95508b77-e469-4730-a449-4e7eed82e1ac)
[2025-08-21T16:51:04.985Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionInvocationRequest with invocationId 95508b77-e469-4730-a449-4e7eed82e1ac
[2025-08-21T16:51:11.605Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T16:51:11.605Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T16:51:11.606Z]     Description: "Microsoft Learn style homepage with navigation header"
[2025-08-21T16:51:11.606Z]     Contains learning keywords: false
[2025-08-21T16:51:11.606Z]     Is hero section exclusion: false
[2025-08-21T16:51:11.606Z]     Final isLearningPlatform: false
[2025-08-21T16:51:11.606Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T16:51:11.608Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=95508b77-e469-4730-a449-4e7eed82e1ac, Duration=6644ms)
[2025-08-21T16:51:11.610Z] Executed HTTP request: {
[2025-08-21T16:51:11.610Z]   "requestId": "678df811-0b92-4e00-bec1-a8b70154963c",
[2025-08-21T16:51:11.610Z]   "identities": "",
[2025-08-21T16:51:11.610Z]   "status": "200",
[2025-08-21T16:51:11.610Z]   "duration": "6652"
[2025-08-21T16:51:11.610Z] }
[2025-08-21T16:51:44.016Z] Executing HTTP request: {
[2025-08-21T16:51:44.016Z]   "requestId": "b5262438-de37-4773-a77b-68bd0ce6caa3",
[2025-08-21T16:51:44.016Z]   "method": "POST",
[2025-08-21T16:51:44.016Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T16:51:44.016Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T16:51:44.016Z] }
[2025-08-21T16:51:44.027Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=9971d902-7065-4216-9a13-4b59518b4d02)
[2025-08-21T16:51:44.053Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionInvocationRequest with invocationId 9971d902-7065-4216-9a13-4b59518b4d02
[2025-08-21T16:51:50.394Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T16:51:50.395Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T16:51:50.395Z]     Description: "Hero section with call-to-action"
[2025-08-21T16:51:50.395Z]     Contains learning keywords: false
[2025-08-21T16:51:50.395Z]     Is hero section exclusion: true
[2025-08-21T16:51:50.395Z]     Final isLearningPlatform: false
[2025-08-21T16:51:50.395Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T16:51:50.397Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=9971d902-7065-4216-9a13-4b59518b4d02, Duration=6373ms)
[2025-08-21T16:51:50.398Z] Executed HTTP request: {
[2025-08-21T16:51:50.398Z]   "requestId": "b5262438-de37-4773-a77b-68bd0ce6caa3",
[2025-08-21T16:51:50.398Z]   "identities": "",
[2025-08-21T16:51:50.398Z]   "status": "200",
[2025-08-21T16:51:50.398Z]   "duration": "6382"
[2025-08-21T16:51:50.398Z] }
[2025-08-21T16:53:11.077Z] Executing HTTP request: {
[2025-08-21T16:53:11.078Z]   "requestId": "43cec833-b5c7-4c6e-85fa-afb6a13ddf4c",
[2025-08-21T16:53:11.078Z]   "method": "POST",
[2025-08-21T16:53:11.078Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T16:53:11.078Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T16:53:11.078Z] }
[2025-08-21T16:53:11.092Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=d1e7b9d5-a784-4e24-baa2-78bc09066c80)
[2025-08-21T16:53:11.134Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 received FunctionInvocationRequest with invocationId d1e7b9d5-a784-4e24-baa2-78bc09066c80
[2025-08-21T16:53:17.015Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T16:53:17.015Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T16:53:17.015Z]     Description: "Hero section with call-to-action"
[2025-08-21T16:53:17.016Z]     Contains learning keywords: false
[2025-08-21T16:53:17.016Z]     Is hero section exclusion: true
[2025-08-21T16:53:17.016Z]     Final isLearningPlatform: false
[2025-08-21T16:53:17.016Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T16:53:17.030Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=d1e7b9d5-a784-4e24-baa2-78bc09066c80, Duration=5945ms)
[2025-08-21T16:53:17.032Z] Executed HTTP request: {
[2025-08-21T16:53:17.032Z]   "requestId": "43cec833-b5c7-4c6e-85fa-afb6a13ddf4c",
[2025-08-21T16:53:17.032Z]   "identities": "",
[2025-08-21T16:53:17.032Z]   "status": "200",
[2025-08-21T16:53:17.032Z]   "duration": "5956"
[2025-08-21T16:53:17.032Z] }
[2025-08-21T16:56:39.568Z] Restarting host.
[2025-08-21T16:56:39.606Z] Stopping JobHost
[2025-08-21T16:56:39.610Z] Job host stopped
[2025-08-21T16:56:39.634Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '3d292de9-d849-44da-a0a5-d85ef76bcf4b'
[2025-08-21T16:56:39.713Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T16:56:39.713Z] Host configuration file read:
[2025-08-21T16:56:39.713Z] {
[2025-08-21T16:56:39.713Z]   "version": "2.0",
[2025-08-21T16:56:39.713Z]   "functionTimeout": "00:05:00",
[2025-08-21T16:56:39.713Z]   "logging": {
[2025-08-21T16:56:39.713Z]     "applicationInsights": {
[2025-08-21T16:56:39.713Z]       "samplingSettings": {
[2025-08-21T16:56:39.713Z]         "isEnabled": true,
[2025-08-21T16:56:39.713Z]         "excludedTypes": "Request"
[2025-08-21T16:56:39.713Z]       }
[2025-08-21T16:56:39.713Z]     },
[2025-08-21T16:56:39.713Z]     "logLevel": {
[2025-08-21T16:56:39.713Z]       "default": "Information",
[2025-08-21T16:56:39.713Z]       "Host.Results": "Information",
[2025-08-21T16:56:39.713Z]       "Function": "Information"
[2025-08-21T16:56:39.713Z]     }
[2025-08-21T16:56:39.713Z]   },
[2025-08-21T16:56:39.713Z]   "extensionBundle": {
[2025-08-21T16:56:39.713Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T16:56:39.713Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T16:56:39.713Z]   },
[2025-08-21T16:56:39.713Z]   "watchDirectories": [
[2025-08-21T16:56:39.713Z]     "Shared"
[2025-08-21T16:56:39.713Z]   ]
[2025-08-21T16:56:39.713Z] }
[2025-08-21T16:56:39.723Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T16:56:39.724Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:56:39.724Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:56:39.724Z] Loading functions metadata
[2025-08-21T16:56:39.725Z] Worker indexing is enabled
[2025-08-21T16:56:39.725Z] Fetching metadata for workerRuntime: node
[2025-08-21T16:56:39.725Z] Reading functions metadata (Worker)
[2025-08-21T16:56:39.725Z] Shutting down language worker channels for runtime:node
[2025-08-21T16:56:39.776Z] Worker fb34089d-8d92-4f9a-837e-653a2886b451 exited with code 0
[2025-08-21T16:56:40.234Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 connecting on 127.0.0.1:57999
[2025-08-21T16:56:40.264Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received WorkerInitRequest
[2025-08-21T16:56:40.268Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionsMetadataRequest
[2025-08-21T16:56:40.269Z] Reading functions metadata (Host)
[2025-08-21T16:56:40.537Z] 21 functions found (Host)
[2025-08-21T16:56:40.538Z] 21 functions loaded
[2025-08-21T16:56:40.538Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T16:56:40.538Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:56:40.538Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:56:40.538Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T16:56:40.698Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:56:40.699Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:56:40.699Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T16:56:40.699Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T16:56:40.746Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T16:56:40.746Z] Host configuration file read:
[2025-08-21T16:56:40.746Z] {
[2025-08-21T16:56:40.746Z]   "version": "2.0",
[2025-08-21T16:56:40.746Z]   "functionTimeout": "00:05:00",
[2025-08-21T16:56:40.746Z]   "logging": {
[2025-08-21T16:56:40.746Z]     "applicationInsights": {
[2025-08-21T16:56:40.746Z]       "samplingSettings": {
[2025-08-21T16:56:40.746Z]         "isEnabled": true,
[2025-08-21T16:56:40.746Z]         "excludedTypes": "Request"
[2025-08-21T16:56:40.746Z]       }
[2025-08-21T16:56:40.746Z]     },
[2025-08-21T16:56:40.746Z]     "logLevel": {
[2025-08-21T16:56:40.746Z]       "default": "Information",
[2025-08-21T16:56:40.746Z]       "Host.Results": "Information",
[2025-08-21T16:56:40.746Z]       "Function": "Information"
[2025-08-21T16:56:40.746Z]     }
[2025-08-21T16:56:40.746Z]   },
[2025-08-21T16:56:40.746Z]   "extensionBundle": {
[2025-08-21T16:56:40.746Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T16:56:40.746Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T16:56:40.746Z]   },
[2025-08-21T16:56:40.746Z]   "watchDirectories": [
[2025-08-21T16:56:40.746Z]     "Shared"
[2025-08-21T16:56:40.746Z]   ]
[2025-08-21T16:56:40.746Z] }
[2025-08-21T16:56:40.793Z] Initializing Warmup Extension.
[2025-08-21T16:56:40.796Z] Initializing Host. OperationId: '3d292de9-d849-44da-a0a5-d85ef76bcf4b'.
[2025-08-21T16:56:40.796Z] Host initialization: ConsecutiveErrors=0, StartupCount=2, OperationId=3d292de9-d849-44da-a0a5-d85ef76bcf4b
[2025-08-21T16:56:40.800Z] LoggerFilterOptions
[2025-08-21T16:56:40.800Z] {
[2025-08-21T16:56:40.800Z]   "MinLevel": "None",
[2025-08-21T16:56:40.800Z]   "Rules": [
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T16:56:40.800Z]       "LogLevel": "None",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": "None",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": "Host.Results",
[2025-08-21T16:56:40.800Z]       "LogLevel": "Information",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": "Function",
[2025-08-21T16:56:40.800Z]       "LogLevel": "Information",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": "Information",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": "None",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     }
[2025-08-21T16:56:40.800Z]   ]
[2025-08-21T16:56:40.800Z] }
[2025-08-21T16:56:40.800Z] LoggerFilterOptions
[2025-08-21T16:56:40.800Z] {
[2025-08-21T16:56:40.800Z]   "MinLevel": "None",
[2025-08-21T16:56:40.800Z]   "Rules": [
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T16:56:40.800Z]       "LogLevel": "None",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": "None",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": "Host.Results",
[2025-08-21T16:56:40.800Z]       "LogLevel": "Information",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": "Function",
[2025-08-21T16:56:40.800Z]       "LogLevel": "Information",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": null,
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": "Information",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": "None",
[2025-08-21T16:56:40.800Z]       "Filter": null
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     },
[2025-08-21T16:56:40.800Z]     {
[2025-08-21T16:56:40.800Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:56:40.800Z]       "CategoryName": null,
[2025-08-21T16:56:40.800Z]       "LogLevel": null,
[2025-08-21T16:56:40.800Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:56:40.800Z]     }
[2025-08-21T16:56:40.800Z]   ]
[2025-08-21T16:56:40.800Z] }
[2025-08-21T16:56:40.800Z] FunctionResultAggregatorOptions
[2025-08-21T16:56:40.800Z] {
[2025-08-21T16:56:40.800Z]   "BatchSize": 1000,
[2025-08-21T16:56:40.800Z]   "FlushTimeout": "00:00:30",
[2025-08-21T16:56:40.800Z]   "IsEnabled": true
[2025-08-21T16:56:40.800Z] }
[2025-08-21T16:56:40.801Z] ConcurrencyOptions
[2025-08-21T16:56:40.801Z] {
[2025-08-21T16:56:40.801Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T16:56:40.801Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T16:56:40.801Z]   "CPUThreshold": 0.8,
[2025-08-21T16:56:40.801Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T16:56:40.801Z] }
[2025-08-21T16:56:40.801Z] SingletonOptions
[2025-08-21T16:56:40.801Z] {
[2025-08-21T16:56:40.801Z]   "LockPeriod": "00:00:15",
[2025-08-21T16:56:40.801Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T16:56:40.801Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T16:56:40.801Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T16:56:40.801Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T16:56:40.801Z] }
[2025-08-21T16:56:40.801Z] ScaleOptions
[2025-08-21T16:56:40.801Z] {
[2025-08-21T16:56:40.801Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T16:56:40.801Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T16:56:40.801Z]   "MetricsPurgeEnabled": true,
[2025-08-21T16:56:40.801Z]   "IsTargetScalingEnabled": true,
[2025-08-21T16:56:40.801Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T16:56:40.801Z] }
[2025-08-21T16:56:40.801Z] Starting JobHost
[2025-08-21T16:56:40.801Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=0edff7f6-e5ea-4001-b5cb-2f517033c911, Version=4.1040.300.25317, ProcessId=81368, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T16:56:40.801Z] Loading functions metadata
[2025-08-21T16:56:40.801Z] Worker indexing is enabled
[2025-08-21T16:56:40.801Z] Fetching metadata for workerRuntime: node
[2025-08-21T16:56:40.801Z] Reading functions metadata (Worker)
[2025-08-21T16:56:40.801Z] Reading functions metadata (Host)
[2025-08-21T16:56:40.971Z] 21 functions found (Host)
[2025-08-21T16:56:40.971Z] Reading functions metadata (Custom)
[2025-08-21T16:56:40.971Z] 0 functions found (Custom)
[2025-08-21T16:56:40.971Z] 21 functions loaded
[2025-08-21T16:56:40.986Z] Worker process started and initialized.
[2025-08-21T16:56:40.986Z] Generating 21 job function(s)
[2025-08-21T16:56:40.996Z] Found the following functions:
[2025-08-21T16:56:40.996Z] Host.Functions.aiBuilderHealth
[2025-08-21T16:56:40.996Z] Host.Functions.analytics
[2025-08-21T16:56:40.996Z] Host.Functions.analyzeUIImage
[2025-08-21T16:56:40.996Z] Host.Functions.atlasComponents
[2025-08-21T16:56:40.996Z] Host.Functions.fast-suggestions
[2025-08-21T16:56:40.996Z] Host.Functions.figmaOAuthCallback
[2025-08-21T16:56:40.996Z] Host.Functions.figmaOAuthStart
[2025-08-21T16:56:40.996Z] Host.Functions.generateSuggestions
[2025-08-21T16:56:40.996Z] Host.Functions.generateWireframe
[2025-08-21T16:56:40.996Z] Host.Functions.generateWireframeAlias
[2025-08-21T16:56:40.996Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T16:56:40.996Z] Host.Functions.generateWireframeOptionB
[2025-08-21T16:56:40.996Z] Host.Functions.get-template
[2025-08-21T16:56:40.996Z] Host.Functions.githubAuthCallback
[2025-08-21T16:56:40.996Z] Host.Functions.githubAuthStart
[2025-08-21T16:56:40.996Z] Host.Functions.health
[2025-08-21T16:56:40.996Z] Host.Functions.healthCheck
[2025-08-21T16:56:40.996Z] Host.Functions.openai-health
[2025-08-21T16:56:40.996Z] Host.Functions.performance-stats
[2025-08-21T16:56:40.996Z] Host.Functions.testFunction
[2025-08-21T16:56:40.996Z] Host.Functions.testSimple
[2025-08-21T16:56:40.996Z] 
[2025-08-21T16:56:40.996Z] HttpOptions
[2025-08-21T16:56:40.996Z] {
[2025-08-21T16:56:40.996Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T16:56:40.996Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T16:56:40.996Z]   "MaxConcurrentRequests": -1,
[2025-08-21T16:56:40.996Z]   "MaxOutstandingRequests": -1,
[2025-08-21T16:56:40.996Z]   "RoutePrefix": "api"
[2025-08-21T16:56:40.996Z] }
[2025-08-21T16:56:40.996Z] Initializing function HTTP routes
[2025-08-21T16:56:40.996Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T16:56:40.996Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T16:56:40.996Z] 
[2025-08-21T16:56:40.996Z] Host initialized (195ms)
[2025-08-21T16:56:40.996Z] Host started (195ms)
[2025-08-21T16:56:40.996Z] Job host started
[2025-08-21T16:56:40.996Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T16:56:40.996Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T16:56:41.038Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T16:56:41.039Z] ✅ OpenAI initialized for image analysis
[2025-08-21T16:56:41.039Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:56:41.039Z] 🎯 Using deployment: gpt-4o
[2025-08-21T16:56:41.068Z] Host restarted.
[2025-08-21T16:56:41.086Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T16:56:41.086Z] 🔍 Current env vars:
[2025-08-21T16:56:41.086Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T16:56:41.086Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T16:56:41.086Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T16:56:41.086Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:56:41.086Z]   Deployment: gpt-4o
[2025-08-21T16:56:41.086Z]   API Version: 2024-08-01-preview
[2025-08-21T16:56:41.086Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T16:56:41.086Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T16:56:41.086Z] ✅ OpenAI client initialized successfully
[2025-08-21T16:56:41.086Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:56:41.086Z] 🎯 Using deployment: gpt-4o
[2025-08-21T16:56:41.087Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T16:56:41.089Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.089Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.091Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.091Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.092Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.092Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.092Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:56:41.092Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.092Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: 'dc695a07-861b-4da4-8673-408c113c8b48'.
[2025-08-21T16:56:41.092Z] Result: Failure
[2025-08-21T16:56:41.092Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:56:41.092Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T16:56:41.092Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T16:56:41.092Z]                    ^^^^^
[2025-08-21T16:56:41.092Z] 
[2025-08-21T16:56:41.092Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T16:56:41.092Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T16:56:41.092Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T16:56:41.092Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T16:56:41.092Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T16:56:41.092Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T16:56:41.092Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T16:56:41.092Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T16:56:41.092Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T16:56:41.092Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T16:56:41.092Z]     at Generator.next (<anonymous>).
[2025-08-21T16:56:41.092Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:56:41.092Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.092Z] Worker failed to load function: 'figmaOAuthStart' with functionId: 'e5dbc600-7ce0-4512-9c1e-c0d33a7e8fce'.
[2025-08-21T16:56:41.092Z] Result: Failure
[2025-08-21T16:56:41.092Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:56:41.092Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T16:56:41.092Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T16:56:41.092Z]                    ^^^^^
[2025-08-21T16:56:41.092Z] 
[2025-08-21T16:56:41.092Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T16:56:41.092Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T16:56:41.092Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.092Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T16:56:41.092Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T16:56:41.092Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T16:56:41.092Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T16:56:41.092Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T16:56:41.092Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T16:56:41.092Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T16:56:41.092Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.092Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T16:56:41.092Z]     at Generator.next (<anonymous>).
[2025-08-21T16:56:41.092Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.092Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:41.093Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 received FunctionLoadRequest
[2025-08-21T16:56:45.808Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T16:57:05.095Z] Restarting host.
[2025-08-21T16:57:05.234Z] Stopping JobHost
[2025-08-21T16:57:05.236Z] Job host stopped
[2025-08-21T16:57:05.246Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '31cee530-e0af-4368-baa8-4824573353d8'
[2025-08-21T16:57:05.528Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T16:57:05.528Z] Host configuration file read:
[2025-08-21T16:57:05.528Z] {
[2025-08-21T16:57:05.528Z]   "version": "2.0",
[2025-08-21T16:57:05.528Z]   "functionTimeout": "00:05:00",
[2025-08-21T16:57:05.528Z]   "logging": {
[2025-08-21T16:57:05.528Z]     "applicationInsights": {
[2025-08-21T16:57:05.528Z]       "samplingSettings": {
[2025-08-21T16:57:05.528Z]         "isEnabled": true,
[2025-08-21T16:57:05.528Z]         "excludedTypes": "Request"
[2025-08-21T16:57:05.528Z]       }
[2025-08-21T16:57:05.528Z]     },
[2025-08-21T16:57:05.528Z]     "logLevel": {
[2025-08-21T16:57:05.528Z]       "default": "Information",
[2025-08-21T16:57:05.528Z]       "Host.Results": "Information",
[2025-08-21T16:57:05.528Z]       "Function": "Information"
[2025-08-21T16:57:05.528Z]     }
[2025-08-21T16:57:05.528Z]   },
[2025-08-21T16:57:05.528Z]   "extensionBundle": {
[2025-08-21T16:57:05.528Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T16:57:05.528Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T16:57:05.528Z]   },
[2025-08-21T16:57:05.528Z]   "watchDirectories": [
[2025-08-21T16:57:05.528Z]     "Shared"
[2025-08-21T16:57:05.528Z]   ]
[2025-08-21T16:57:05.528Z] }
[2025-08-21T16:57:05.536Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T16:57:05.537Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:57:05.537Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:57:05.537Z] Loading functions metadata
[2025-08-21T16:57:05.537Z] Worker indexing is enabled
[2025-08-21T16:57:05.537Z] Fetching metadata for workerRuntime: node
[2025-08-21T16:57:05.537Z] Reading functions metadata (Worker)
[2025-08-21T16:57:05.537Z] Shutting down language worker channels for runtime:node
[2025-08-21T16:57:05.585Z] Executing HTTP request: {
[2025-08-21T16:57:05.585Z]   "requestId": "266c6994-9d77-448e-8dd0-37f8a79c5315",
[2025-08-21T16:57:05.585Z]   "method": "POST",
[2025-08-21T16:57:05.585Z]   "userAgent": "curl/8.7.1",
[2025-08-21T16:57:05.585Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T16:57:05.585Z] }
[2025-08-21T16:57:05.588Z] Worker 6fe3c217-bf78-4c74-bf38-1602a120b9f7 exited with code 0
[2025-08-21T16:57:06.087Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 connecting on 127.0.0.1:57999
[2025-08-21T16:57:06.126Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received WorkerInitRequest
[2025-08-21T16:57:06.131Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionsMetadataRequest
[2025-08-21T16:57:06.131Z] Reading functions metadata (Host)
[2025-08-21T16:57:06.667Z] 21 functions found (Host)
[2025-08-21T16:57:06.668Z] 21 functions loaded
[2025-08-21T16:57:06.668Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T16:57:06.668Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:57:06.668Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:57:06.668Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T16:57:06.878Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T16:57:06.879Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T16:57:06.879Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T16:57:06.879Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T16:57:06.958Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T16:57:06.959Z] Host configuration file read:
[2025-08-21T16:57:06.959Z] {
[2025-08-21T16:57:06.959Z]   "version": "2.0",
[2025-08-21T16:57:06.959Z]   "functionTimeout": "00:05:00",
[2025-08-21T16:57:06.959Z]   "logging": {
[2025-08-21T16:57:06.959Z]     "applicationInsights": {
[2025-08-21T16:57:06.959Z]       "samplingSettings": {
[2025-08-21T16:57:06.959Z]         "isEnabled": true,
[2025-08-21T16:57:06.959Z]         "excludedTypes": "Request"
[2025-08-21T16:57:06.959Z]       }
[2025-08-21T16:57:06.959Z]     },
[2025-08-21T16:57:06.959Z]     "logLevel": {
[2025-08-21T16:57:06.959Z]       "default": "Information",
[2025-08-21T16:57:06.959Z]       "Host.Results": "Information",
[2025-08-21T16:57:06.959Z]       "Function": "Information"
[2025-08-21T16:57:06.959Z]     }
[2025-08-21T16:57:06.959Z]   },
[2025-08-21T16:57:06.959Z]   "extensionBundle": {
[2025-08-21T16:57:06.959Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T16:57:06.959Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T16:57:06.959Z]   },
[2025-08-21T16:57:06.959Z]   "watchDirectories": [
[2025-08-21T16:57:06.959Z]     "Shared"
[2025-08-21T16:57:06.959Z]   ]
[2025-08-21T16:57:06.959Z] }
[2025-08-21T16:57:07.015Z] Initializing Warmup Extension.
[2025-08-21T16:57:07.018Z] Initializing Host. OperationId: '31cee530-e0af-4368-baa8-4824573353d8'.
[2025-08-21T16:57:07.018Z] Host initialization: ConsecutiveErrors=0, StartupCount=3, OperationId=31cee530-e0af-4368-baa8-4824573353d8
[2025-08-21T16:57:07.020Z] LoggerFilterOptions
[2025-08-21T16:57:07.020Z] {
[2025-08-21T16:57:07.021Z]   "MinLevel": "None",
[2025-08-21T16:57:07.021Z]   "Rules": [
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T16:57:07.021Z]       "LogLevel": "None",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": "None",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": "Host.Results",
[2025-08-21T16:57:07.021Z]       "LogLevel": "Information",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": "Function",
[2025-08-21T16:57:07.021Z]       "LogLevel": "Information",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": "Information",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": "None",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     }
[2025-08-21T16:57:07.021Z]   ]
[2025-08-21T16:57:07.021Z] }
[2025-08-21T16:57:07.021Z] LoggerFilterOptions
[2025-08-21T16:57:07.021Z] {
[2025-08-21T16:57:07.021Z]   "MinLevel": "None",
[2025-08-21T16:57:07.021Z]   "Rules": [
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T16:57:07.021Z]       "LogLevel": "None",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": "None",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": "Host.Results",
[2025-08-21T16:57:07.021Z]       "LogLevel": "Information",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": "Function",
[2025-08-21T16:57:07.021Z]       "LogLevel": "Information",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": null,
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": "Information",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": "None",
[2025-08-21T16:57:07.021Z]       "Filter": null
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T16:57:07.021Z]       "CategoryName": null,
[2025-08-21T16:57:07.021Z]       "LogLevel": null,
[2025-08-21T16:57:07.021Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.021Z]     },
[2025-08-21T16:57:07.021Z]     {
[2025-08-21T16:57:07.021Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T16:57:07.022Z]       "CategoryName": null,
[2025-08-21T16:57:07.022Z]       "LogLevel": null,
[2025-08-21T16:57:07.022Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T16:57:07.022Z]     }
[2025-08-21T16:57:07.022Z]   ]
[2025-08-21T16:57:07.022Z] }
[2025-08-21T16:57:07.022Z] FunctionResultAggregatorOptions
[2025-08-21T16:57:07.022Z] {
[2025-08-21T16:57:07.022Z]   "BatchSize": 1000,
[2025-08-21T16:57:07.022Z]   "FlushTimeout": "00:00:30",
[2025-08-21T16:57:07.022Z]   "IsEnabled": true
[2025-08-21T16:57:07.022Z] }
[2025-08-21T16:57:07.022Z] ConcurrencyOptions
[2025-08-21T16:57:07.022Z] {
[2025-08-21T16:57:07.022Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T16:57:07.022Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T16:57:07.022Z]   "CPUThreshold": 0.8,
[2025-08-21T16:57:07.022Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T16:57:07.022Z] }
[2025-08-21T16:57:07.022Z] SingletonOptions
[2025-08-21T16:57:07.022Z] {
[2025-08-21T16:57:07.022Z]   "LockPeriod": "00:00:15",
[2025-08-21T16:57:07.022Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T16:57:07.022Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T16:57:07.022Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T16:57:07.022Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T16:57:07.022Z] }
[2025-08-21T16:57:07.022Z] ScaleOptions
[2025-08-21T16:57:07.022Z] {
[2025-08-21T16:57:07.022Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T16:57:07.022Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T16:57:07.022Z]   "MetricsPurgeEnabled": true,
[2025-08-21T16:57:07.022Z]   "IsTargetScalingEnabled": true,
[2025-08-21T16:57:07.022Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T16:57:07.022Z] }
[2025-08-21T16:57:07.022Z] Starting JobHost
[2025-08-21T16:57:07.022Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=b87c6e29-c4a9-4e9f-8c70-7c1648c87a9d, Version=4.1040.300.25317, ProcessId=81368, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T16:57:07.022Z] Loading functions metadata
[2025-08-21T16:57:07.022Z] Worker indexing is enabled
[2025-08-21T16:57:07.022Z] Fetching metadata for workerRuntime: node
[2025-08-21T16:57:07.023Z] Reading functions metadata (Worker)
[2025-08-21T16:57:07.023Z] Reading functions metadata (Host)
[2025-08-21T16:57:07.470Z] 21 functions found (Host)
[2025-08-21T16:57:07.471Z] Reading functions metadata (Custom)
[2025-08-21T16:57:07.471Z] 0 functions found (Custom)
[2025-08-21T16:57:07.471Z] 21 functions loaded
[2025-08-21T16:57:07.476Z] Worker process started and initialized.
[2025-08-21T16:57:07.476Z] Generating 21 job function(s)
[2025-08-21T16:57:07.493Z] Found the following functions:
[2025-08-21T16:57:07.493Z] Host.Functions.aiBuilderHealth
[2025-08-21T16:57:07.493Z] Host.Functions.analytics
[2025-08-21T16:57:07.493Z] Host.Functions.analyzeUIImage
[2025-08-21T16:57:07.493Z] Host.Functions.atlasComponents
[2025-08-21T16:57:07.493Z] Host.Functions.fast-suggestions
[2025-08-21T16:57:07.493Z] Host.Functions.figmaOAuthCallback
[2025-08-21T16:57:07.493Z] Host.Functions.figmaOAuthStart
[2025-08-21T16:57:07.493Z] Host.Functions.generateSuggestions
[2025-08-21T16:57:07.493Z] Host.Functions.generateWireframe
[2025-08-21T16:57:07.493Z] Host.Functions.generateWireframeAlias
[2025-08-21T16:57:07.493Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T16:57:07.493Z] Host.Functions.generateWireframeOptionB
[2025-08-21T16:57:07.493Z] Host.Functions.get-template
[2025-08-21T16:57:07.493Z] Host.Functions.githubAuthCallback
[2025-08-21T16:57:07.493Z] Host.Functions.githubAuthStart
[2025-08-21T16:57:07.493Z] Host.Functions.health
[2025-08-21T16:57:07.493Z] Host.Functions.healthCheck
[2025-08-21T16:57:07.493Z] Host.Functions.openai-health
[2025-08-21T16:57:07.494Z] Host.Functions.performance-stats
[2025-08-21T16:57:07.494Z] Host.Functions.testFunction
[2025-08-21T16:57:07.494Z] Host.Functions.testSimple
[2025-08-21T16:57:07.494Z] 
[2025-08-21T16:57:07.495Z] HttpOptions
[2025-08-21T16:57:07.495Z] {
[2025-08-21T16:57:07.495Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T16:57:07.495Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T16:57:07.495Z]   "MaxConcurrentRequests": -1,
[2025-08-21T16:57:07.495Z]   "MaxOutstandingRequests": -1,
[2025-08-21T16:57:07.495Z]   "RoutePrefix": "api"
[2025-08-21T16:57:07.495Z] }
[2025-08-21T16:57:07.495Z] Initializing function HTTP routes
[2025-08-21T16:57:07.495Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T16:57:07.495Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T16:57:07.496Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T16:57:07.496Z] 
[2025-08-21T16:57:07.496Z] Host initialized (473ms)
[2025-08-21T16:57:07.496Z] Host started (473ms)
[2025-08-21T16:57:07.496Z] Job host started
[2025-08-21T16:57:07.496Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T16:57:07.496Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T16:57:07.526Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=2ea78134-1eba-423e-8a88-fc44baa7dc5c)
[2025-08-21T16:57:07.529Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T16:57:07.529Z] ✅ OpenAI initialized for image analysis
[2025-08-21T16:57:07.529Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:57:07.529Z] 🎯 Using deployment: gpt-4o
[2025-08-21T16:57:07.575Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T16:57:07.575Z] 🔍 Current env vars:
[2025-08-21T16:57:07.575Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T16:57:07.575Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T16:57:07.575Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T16:57:07.575Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:57:07.575Z]   Deployment: gpt-4o
[2025-08-21T16:57:07.575Z]   API Version: 2024-08-01-preview
[2025-08-21T16:57:07.575Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T16:57:07.575Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T16:57:07.575Z] ✅ OpenAI client initialized successfully
[2025-08-21T16:57:07.575Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T16:57:07.575Z] 🎯 Using deployment: gpt-4o
[2025-08-21T16:57:07.576Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T16:57:07.577Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.577Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.581Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.581Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.581Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.582Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.582Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:57:07.582Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.582Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:57:07.582Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: '23a53157-24b4-46d3-b1d4-3f8a1df43f60'.
[2025-08-21T16:57:07.582Z] Result: Failure
[2025-08-21T16:57:07.582Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T16:57:07.582Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T16:57:07.582Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T16:57:07.582Z]                    ^^^^^
[2025-08-21T16:57:07.582Z] 
[2025-08-21T16:57:07.582Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T16:57:07.582Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T16:57:07.582Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T16:57:07.582Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T16:57:07.582Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T16:57:07.582Z] Worker failed to load function: 'figmaOAuthStart' with functionId: 'fb0aacbc-bf71-489b-9e86-6f0b6c003e54'.
[2025-08-21T16:57:07.582Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T16:57:07.582Z] Result: Failure
[2025-08-21T16:57:07.582Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T16:57:07.582Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'[2025-08-21T16:57:07.582Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T16:57:07.582Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest

[2025-08-21T16:57:07.582Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T16:57:07.582Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T16:57:07.582Z]     at Generator.next (<anonymous>).
[2025-08-21T16:57:07.582Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T16:57:07.582Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T16:57:07.582Z]                    ^^^^^
[2025-08-21T16:57:07.582Z] 
[2025-08-21T16:57:07.582Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T16:57:07.582Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T16:57:07.582Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T16:57:07.582Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T16:57:07.582Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T16:57:07.582Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T16:57:07.582Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T16:57:07.582Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.582Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T16:57:07.582Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T16:57:07.582Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T16:57:07.582Z]     at Generator.next (<anonymous>).
[2025-08-21T16:57:07.582Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.582Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.582Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.582Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.583Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.583Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.583Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.583Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.583Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.583Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.583Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.583Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionLoadRequest
[2025-08-21T16:57:07.600Z] Host restarted.
[2025-08-21T16:57:07.621Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionInvocationRequest with invocationId 2ea78134-1eba-423e-8a88-fc44baa7dc5c
[2025-08-21T16:57:12.023Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T16:57:12.113Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T16:57:12.113Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T16:57:12.113Z]     Description: "simple website with navigation header"
[2025-08-21T16:57:12.113Z]     Contains learning keywords: false
[2025-08-21T16:57:12.113Z]     Is hero section exclusion: false
[2025-08-21T16:57:12.113Z]     Final isLearningPlatform: false
[2025-08-21T16:57:12.113Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T16:57:12.127Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=2ea78134-1eba-423e-8a88-fc44baa7dc5c, Duration=4601ms)
[2025-08-21T16:57:12.130Z] Executed HTTP request: {
[2025-08-21T16:57:12.130Z]   "requestId": "266c6994-9d77-448e-8dd0-37f8a79c5315",
[2025-08-21T16:57:12.130Z]   "identities": "",
[2025-08-21T16:57:12.130Z]   "status": "200",
[2025-08-21T16:57:12.130Z]   "duration": "6544"
[2025-08-21T16:57:12.130Z] }
[2025-08-21T16:59:33.719Z] Executing HTTP request: {
[2025-08-21T16:59:33.720Z]   "requestId": "952472a2-6a69-4904-a865-573f8d3ae8f0",
[2025-08-21T16:59:33.720Z]   "method": "POST",
[2025-08-21T16:59:33.720Z]   "userAgent": "curl/8.7.1",
[2025-08-21T16:59:33.720Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T16:59:33.720Z] }
[2025-08-21T16:59:33.742Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=04522404-6c05-4690-88e2-5c583a2b0db6)
[2025-08-21T16:59:33.794Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionInvocationRequest with invocationId 04522404-6c05-4690-88e2-5c583a2b0db6
[2025-08-21T16:59:38.481Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T16:59:38.482Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T16:59:38.482Z]     Description: "header test with navigation and dark text"
[2025-08-21T16:59:38.482Z]     Contains learning keywords: false
[2025-08-21T16:59:38.482Z]     Is hero section exclusion: false
[2025-08-21T16:59:38.482Z]     Final isLearningPlatform: false
[2025-08-21T16:59:38.482Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T16:59:38.484Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=04522404-6c05-4690-88e2-5c583a2b0db6, Duration=4750ms)
[2025-08-21T16:59:38.486Z] Executed HTTP request: {
[2025-08-21T16:59:38.486Z]   "requestId": "952472a2-6a69-4904-a865-573f8d3ae8f0",
[2025-08-21T16:59:38.486Z]   "identities": "",
[2025-08-21T16:59:38.486Z]   "status": "200",
[2025-08-21T16:59:38.486Z]   "duration": "4769"
[2025-08-21T16:59:38.486Z] }
[2025-08-21T17:00:23.111Z] Stopping the flush logs timer.
[2025-08-21T17:00:23.111Z] We couldn’t initialize the Table Storage Client using the 'AzureWebJobsStorage' connection string. We are unable to record diagnostic events, so the diagnostic logging service is being stopped. Please check the 'AzureWebJobsStorage' connection string in Application Settings.
[2025-08-21T17:01:43.517Z] Executing HTTP request: {
[2025-08-21T17:01:43.517Z]   "requestId": "cbcd6687-f801-4a7c-8cde-a2d47363f045",
[2025-08-21T17:01:43.517Z]   "method": "POST",
[2025-08-21T17:01:43.517Z]   "userAgent": "curl/8.7.1",
[2025-08-21T17:01:43.517Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:01:43.517Z] }
[2025-08-21T17:01:43.552Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=0956a90e-efee-48cf-8131-59256b2562c9)
[2025-08-21T17:01:43.627Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionInvocationRequest with invocationId 0956a90e-efee-48cf-8131-59256b2562c9
[2025-08-21T17:01:48.033Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:01:48.033Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:01:48.033Z]     Description: "simple business website with colored sections"
[2025-08-21T17:01:48.033Z]     Contains learning keywords: false
[2025-08-21T17:01:48.033Z]     Is hero section exclusion: false
[2025-08-21T17:01:48.033Z]     Final isLearningPlatform: false
[2025-08-21T17:01:48.033Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:01:48.041Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=0956a90e-efee-48cf-8131-59256b2562c9, Duration=4500ms)
[2025-08-21T17:01:48.044Z] Executed HTTP request: {
[2025-08-21T17:01:48.044Z]   "requestId": "cbcd6687-f801-4a7c-8cde-a2d47363f045",
[2025-08-21T17:01:48.044Z]   "identities": "",
[2025-08-21T17:01:48.045Z]   "status": "200",
[2025-08-21T17:01:48.045Z]   "duration": "4529"
[2025-08-21T17:01:48.045Z] }
[2025-08-21T17:04:49.602Z] Executing HTTP request: {
[2025-08-21T17:04:49.604Z]   "requestId": "53a283fd-d7e7-43db-ab66-2713146d952f",
[2025-08-21T17:04:49.604Z]   "method": "POST",
[2025-08-21T17:04:49.604Z]   "userAgent": "curl/8.7.1",
[2025-08-21T17:04:49.604Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:04:49.604Z] }
[2025-08-21T17:04:49.632Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=90ab6dad-ae63-47c0-819d-63cb49174c66)
[2025-08-21T17:04:49.695Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionInvocationRequest with invocationId 90ab6dad-ae63-47c0-819d-63cb49174c66
[2025-08-21T17:04:55.393Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:04:55.393Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:04:55.394Z]     Description: "restaurant homepage with colorful sections"
[2025-08-21T17:04:55.394Z]     Contains learning keywords: false
[2025-08-21T17:04:55.394Z]     Is hero section exclusion: false
[2025-08-21T17:04:55.394Z]     Final isLearningPlatform: false
[2025-08-21T17:04:55.394Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:04:55.399Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=90ab6dad-ae63-47c0-819d-63cb49174c66, Duration=5785ms)
[2025-08-21T17:04:55.405Z] Executed HTTP request: {
[2025-08-21T17:04:55.405Z]   "requestId": "53a283fd-d7e7-43db-ab66-2713146d952f",
[2025-08-21T17:04:55.405Z]   "identities": "",
[2025-08-21T17:04:55.405Z]   "status": "200",
[2025-08-21T17:04:55.405Z]   "duration": "5808"
[2025-08-21T17:04:55.405Z] }
[2025-08-21T17:05:22.734Z] Executing HTTP request: {
[2025-08-21T17:05:22.734Z]   "requestId": "9f27919f-a0dd-472e-8be1-fdabacd17ed8",
[2025-08-21T17:05:22.734Z]   "method": "POST",
[2025-08-21T17:05:22.734Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:05:22.734Z]   "uri": "/api/generate-suggestions"
[2025-08-21T17:05:22.734Z] }
[2025-08-21T17:05:22.757Z] Executing 'Functions.generateSuggestions' (Reason='This function was programmatically called via the host APIs.', Id=bb8d786d-9001-4f2e-abc5-e018014dcdf4)
[2025-08-21T17:05:22.783Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionInvocationRequest with invocationId bb8d786d-9001-4f2e-abc5-e018014dcdf4
[2025-08-21T17:05:22.789Z] Executed 'Functions.generateSuggestions' (Succeeded, Id=bb8d786d-9001-4f2e-abc5-e018014dcdf4, Duration=50ms)
[2025-08-21T17:05:22.790Z] Executed HTTP request: {
[2025-08-21T17:05:22.790Z]   "requestId": "9f27919f-a0dd-472e-8be1-fdabacd17ed8",
[2025-08-21T17:05:22.790Z]   "identities": "",
[2025-08-21T17:05:22.790Z]   "status": "200",
[2025-08-21T17:05:22.790Z]   "duration": "56"
[2025-08-21T17:05:22.790Z] }
[2025-08-21T17:05:23.970Z] Executing HTTP request: {
[2025-08-21T17:05:23.970Z]   "requestId": "9d1112d2-e3b0-46f0-b710-df1c8f535124",
[2025-08-21T17:05:23.970Z]   "method": "POST",
[2025-08-21T17:05:23.970Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:05:23.970Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:05:23.970Z] }
[2025-08-21T17:05:23.972Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=4077098b-89b2-45ed-a126-4fef1e347f72)
[2025-08-21T17:05:23.996Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 received FunctionInvocationRequest with invocationId 4077098b-89b2-45ed-a126-4fef1e347f72
[2025-08-21T17:05:30.438Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:05:30.439Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:05:30.439Z]     Description: "Create Microsoft Learn's learning path overview with module cards and progress tracking"
[2025-08-21T17:05:30.439Z]     Contains learning keywords: true
[2025-08-21T17:05:30.439Z]     Is hero section exclusion: false
[2025-08-21T17:05:30.439Z]     Final isLearningPlatform: true
[2025-08-21T17:05:30.441Z] ✅ Added Atlas learning content section
[2025-08-21T17:05:30.442Z] 🎯 Atlas components added: Hero: 0, Modules: 4, Learning Paths: 2
[2025-08-21T17:05:30.453Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=4077098b-89b2-45ed-a126-4fef1e347f72, Duration=6481ms)
[2025-08-21T17:05:30.460Z] Executed HTTP request: {
[2025-08-21T17:05:30.460Z]   "requestId": "9d1112d2-e3b0-46f0-b710-df1c8f535124",
[2025-08-21T17:05:30.460Z]   "identities": "",
[2025-08-21T17:05:30.460Z]   "status": "200",
[2025-08-21T17:05:30.460Z]   "duration": "6490"
[2025-08-21T17:05:30.460Z] }
[2025-08-21T17:10:56.919Z] Restarting host.
[2025-08-21T17:10:56.951Z] Stopping JobHost
[2025-08-21T17:10:56.954Z] Job host stopped
[2025-08-21T17:10:56.978Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '597bd183-46b5-4c2f-a084-465b2ec94994'
[2025-08-21T17:10:57.094Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T17:10:57.095Z] Host configuration file read:
[2025-08-21T17:10:57.095Z] {
[2025-08-21T17:10:57.095Z]   "version": "2.0",
[2025-08-21T17:10:57.095Z]   "functionTimeout": "00:05:00",
[2025-08-21T17:10:57.095Z]   "logging": {
[2025-08-21T17:10:57.095Z]     "applicationInsights": {
[2025-08-21T17:10:57.095Z]       "samplingSettings": {
[2025-08-21T17:10:57.095Z]         "isEnabled": true,
[2025-08-21T17:10:57.095Z]         "excludedTypes": "Request"
[2025-08-21T17:10:57.095Z]       }
[2025-08-21T17:10:57.095Z]     },
[2025-08-21T17:10:57.095Z]     "logLevel": {
[2025-08-21T17:10:57.095Z]       "default": "Information",
[2025-08-21T17:10:57.095Z]       "Host.Results": "Information",
[2025-08-21T17:10:57.095Z]       "Function": "Information"
[2025-08-21T17:10:57.095Z]     }
[2025-08-21T17:10:57.095Z]   },
[2025-08-21T17:10:57.095Z]   "extensionBundle": {
[2025-08-21T17:10:57.095Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T17:10:57.095Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T17:10:57.095Z]   },
[2025-08-21T17:10:57.095Z]   "watchDirectories": [
[2025-08-21T17:10:57.095Z]     "Shared"
[2025-08-21T17:10:57.095Z]   ]
[2025-08-21T17:10:57.095Z] }
[2025-08-21T17:10:57.104Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T17:10:57.106Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:10:57.108Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:10:57.109Z] Loading functions metadata
[2025-08-21T17:10:57.110Z] Worker indexing is enabled
[2025-08-21T17:10:57.110Z] Fetching metadata for workerRuntime: node
[2025-08-21T17:10:57.110Z] Reading functions metadata (Worker)
[2025-08-21T17:10:57.110Z] Shutting down language worker channels for runtime:node
[2025-08-21T17:10:57.160Z] Worker 833bc725-4325-44e5-9a19-e46f5bc32db4 exited with code 0
[2025-08-21T17:10:57.621Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 connecting on 127.0.0.1:57999
[2025-08-21T17:10:57.649Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received WorkerInitRequest
[2025-08-21T17:10:57.653Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionsMetadataRequest
[2025-08-21T17:10:57.653Z] Reading functions metadata (Host)
[2025-08-21T17:10:58.009Z] 21 functions found (Host)
[2025-08-21T17:10:58.009Z] 21 functions loaded
[2025-08-21T17:10:58.010Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T17:10:58.010Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:10:58.010Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:10:58.011Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T17:10:58.214Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:10:58.215Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:10:58.215Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T17:10:58.215Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T17:10:58.279Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T17:10:58.279Z] Host configuration file read:
[2025-08-21T17:10:58.279Z] {
[2025-08-21T17:10:58.279Z]   "version": "2.0",
[2025-08-21T17:10:58.279Z]   "functionTimeout": "00:05:00",
[2025-08-21T17:10:58.279Z]   "logging": {
[2025-08-21T17:10:58.279Z]     "applicationInsights": {
[2025-08-21T17:10:58.279Z]       "samplingSettings": {
[2025-08-21T17:10:58.279Z]         "isEnabled": true,
[2025-08-21T17:10:58.280Z]         "excludedTypes": "Request"
[2025-08-21T17:10:58.280Z]       }
[2025-08-21T17:10:58.280Z]     },
[2025-08-21T17:10:58.280Z]     "logLevel": {
[2025-08-21T17:10:58.280Z]       "default": "Information",
[2025-08-21T17:10:58.280Z]       "Host.Results": "Information",
[2025-08-21T17:10:58.280Z]       "Function": "Information"
[2025-08-21T17:10:58.280Z]     }
[2025-08-21T17:10:58.280Z]   },
[2025-08-21T17:10:58.280Z]   "extensionBundle": {
[2025-08-21T17:10:58.280Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T17:10:58.280Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T17:10:58.280Z]   },
[2025-08-21T17:10:58.280Z]   "watchDirectories": [
[2025-08-21T17:10:58.280Z]     "Shared"
[2025-08-21T17:10:58.280Z]   ]
[2025-08-21T17:10:58.280Z] }
[2025-08-21T17:10:58.326Z] Initializing Warmup Extension.
[2025-08-21T17:10:58.329Z] Initializing Host. OperationId: '597bd183-46b5-4c2f-a084-465b2ec94994'.
[2025-08-21T17:10:58.329Z] Host initialization: ConsecutiveErrors=0, StartupCount=4, OperationId=597bd183-46b5-4c2f-a084-465b2ec94994
[2025-08-21T17:10:58.333Z] LoggerFilterOptions
[2025-08-21T17:10:58.333Z] {
[2025-08-21T17:10:58.333Z]   "MinLevel": "None",
[2025-08-21T17:10:58.333Z]   "Rules": [
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T17:10:58.333Z]       "LogLevel": "None",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": "None",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": null,
[2025-08-21T17:10:58.333Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": null,
[2025-08-21T17:10:58.333Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": null,
[2025-08-21T17:10:58.333Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": "Host.Results",
[2025-08-21T17:10:58.333Z]       "LogLevel": "Information",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": "Function",
[2025-08-21T17:10:58.333Z]       "LogLevel": "Information",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": "Information",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": "None",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": null,
[2025-08-21T17:10:58.333Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": null,
[2025-08-21T17:10:58.333Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.333Z]     }
[2025-08-21T17:10:58.333Z]   ]
[2025-08-21T17:10:58.333Z] }
[2025-08-21T17:10:58.333Z] LoggerFilterOptions
[2025-08-21T17:10:58.333Z] {
[2025-08-21T17:10:58.333Z]   "MinLevel": "None",
[2025-08-21T17:10:58.333Z]   "Rules": [
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T17:10:58.333Z]       "LogLevel": "None",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": "None",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": null,
[2025-08-21T17:10:58.333Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": null,
[2025-08-21T17:10:58.333Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": null,
[2025-08-21T17:10:58.333Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": "Host.Results",
[2025-08-21T17:10:58.333Z]       "LogLevel": "Information",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": "Function",
[2025-08-21T17:10:58.333Z]       "LogLevel": "Information",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": null,
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": "Information",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.333Z]     {
[2025-08-21T17:10:58.333Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:10:58.333Z]       "CategoryName": null,
[2025-08-21T17:10:58.333Z]       "LogLevel": "None",
[2025-08-21T17:10:58.333Z]       "Filter": null
[2025-08-21T17:10:58.333Z]     },
[2025-08-21T17:10:58.334Z]     {
[2025-08-21T17:10:58.334Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:10:58.334Z]       "CategoryName": null,
[2025-08-21T17:10:58.334Z]       "LogLevel": null,
[2025-08-21T17:10:58.334Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.334Z]     },
[2025-08-21T17:10:58.334Z]     {
[2025-08-21T17:10:58.334Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:10:58.334Z]       "CategoryName": null,
[2025-08-21T17:10:58.334Z]       "LogLevel": null,
[2025-08-21T17:10:58.334Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:10:58.334Z]     }
[2025-08-21T17:10:58.334Z]   ]
[2025-08-21T17:10:58.334Z] }
[2025-08-21T17:10:58.334Z] FunctionResultAggregatorOptions
[2025-08-21T17:10:58.334Z] {
[2025-08-21T17:10:58.334Z]   "BatchSize": 1000,
[2025-08-21T17:10:58.334Z]   "FlushTimeout": "00:00:30",
[2025-08-21T17:10:58.334Z]   "IsEnabled": true
[2025-08-21T17:10:58.334Z] }
[2025-08-21T17:10:58.334Z] ConcurrencyOptions
[2025-08-21T17:10:58.334Z] {
[2025-08-21T17:10:58.334Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T17:10:58.334Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T17:10:58.334Z]   "CPUThreshold": 0.8,
[2025-08-21T17:10:58.334Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T17:10:58.334Z] }
[2025-08-21T17:10:58.334Z] SingletonOptions
[2025-08-21T17:10:58.334Z] {
[2025-08-21T17:10:58.334Z]   "LockPeriod": "00:00:15",
[2025-08-21T17:10:58.334Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T17:10:58.334Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T17:10:58.334Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T17:10:58.334Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T17:10:58.334Z] }
[2025-08-21T17:10:58.334Z] ScaleOptions
[2025-08-21T17:10:58.334Z] {
[2025-08-21T17:10:58.334Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T17:10:58.334Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T17:10:58.334Z]   "MetricsPurgeEnabled": true,
[2025-08-21T17:10:58.334Z]   "IsTargetScalingEnabled": true,
[2025-08-21T17:10:58.334Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T17:10:58.334Z] }
[2025-08-21T17:10:58.334Z] Starting JobHost
[2025-08-21T17:10:58.334Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=e09e3f12-0820-4815-80a2-502fdc7f038b, Version=4.1040.300.25317, ProcessId=81368, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T17:10:58.334Z] Loading functions metadata
[2025-08-21T17:10:58.334Z] Worker indexing is enabled
[2025-08-21T17:10:58.334Z] Fetching metadata for workerRuntime: node
[2025-08-21T17:10:58.334Z] Reading functions metadata (Worker)
[2025-08-21T17:10:58.334Z] Reading functions metadata (Host)
[2025-08-21T17:10:58.501Z] 21 functions found (Host)
[2025-08-21T17:10:58.502Z] Reading functions metadata (Custom)
[2025-08-21T17:10:58.502Z] 0 functions found (Custom)
[2025-08-21T17:10:58.502Z] 21 functions loaded
[2025-08-21T17:10:58.504Z] Generating 21 job function(s)
[2025-08-21T17:10:58.504Z] Worker process started and initialized.
[2025-08-21T17:10:58.558Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T17:10:58.559Z] ✅ OpenAI initialized for image analysis
[2025-08-21T17:10:58.559Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:10:58.559Z] 🎯 Using deployment: gpt-4o
[2025-08-21T17:10:58.560Z] Found the following functions:
[2025-08-21T17:10:58.560Z] Host.Functions.aiBuilderHealth
[2025-08-21T17:10:58.560Z] Host.Functions.analytics
[2025-08-21T17:10:58.560Z] Host.Functions.analyzeUIImage
[2025-08-21T17:10:58.560Z] Host.Functions.atlasComponents
[2025-08-21T17:10:58.560Z] Host.Functions.fast-suggestions
[2025-08-21T17:10:58.560Z] Host.Functions.figmaOAuthCallback
[2025-08-21T17:10:58.560Z] Host.Functions.figmaOAuthStart
[2025-08-21T17:10:58.560Z] Host.Functions.generateSuggestions
[2025-08-21T17:10:58.560Z] Host.Functions.generateWireframe
[2025-08-21T17:10:58.560Z] Host.Functions.generateWireframeAlias
[2025-08-21T17:10:58.560Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T17:10:58.560Z] Host.Functions.generateWireframeOptionB
[2025-08-21T17:10:58.560Z] Host.Functions.get-template
[2025-08-21T17:10:58.560Z] Host.Functions.githubAuthCallback
[2025-08-21T17:10:58.560Z] Host.Functions.githubAuthStart
[2025-08-21T17:10:58.560Z] Host.Functions.health
[2025-08-21T17:10:58.560Z] Host.Functions.healthCheck
[2025-08-21T17:10:58.560Z] Host.Functions.openai-health
[2025-08-21T17:10:58.560Z] Host.Functions.performance-stats
[2025-08-21T17:10:58.560Z] Host.Functions.testFunction
[2025-08-21T17:10:58.560Z] Host.Functions.testSimple
[2025-08-21T17:10:58.560Z] 
[2025-08-21T17:10:58.561Z] HttpOptions
[2025-08-21T17:10:58.561Z] {
[2025-08-21T17:10:58.561Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T17:10:58.561Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T17:10:58.561Z]   "MaxConcurrentRequests": -1,
[2025-08-21T17:10:58.561Z]   "MaxOutstandingRequests": -1,
[2025-08-21T17:10:58.561Z]   "RoutePrefix": "api"
[2025-08-21T17:10:58.561Z] }
[2025-08-21T17:10:58.561Z] Initializing function HTTP routes
[2025-08-21T17:10:58.561Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T17:10:58.561Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T17:10:58.561Z] 
[2025-08-21T17:10:58.561Z] Host initialized (227ms)
[2025-08-21T17:10:58.561Z] Host started (227ms)
[2025-08-21T17:10:58.561Z] Job host started
[2025-08-21T17:10:58.561Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T17:10:58.561Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T17:10:58.613Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T17:10:58.613Z] 🔍 Current env vars:
[2025-08-21T17:10:58.613Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T17:10:58.613Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T17:10:58.613Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T17:10:58.613Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:10:58.613Z]   Deployment: gpt-4o
[2025-08-21T17:10:58.613Z]   API Version: 2024-08-01-preview
[2025-08-21T17:10:58.613Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T17:10:58.613Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T17:10:58.613Z] ✅ OpenAI client initialized successfully
[2025-08-21T17:10:58.613Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:10:58.613Z] 🎯 Using deployment: gpt-4o
[2025-08-21T17:10:58.615Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T17:10:58.622Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.622Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.622Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.622Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.623Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.623Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.623Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:10:58.623Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: '2fa05bae-48b6-40c7-b203-5e763ae98479'.
[2025-08-21T17:10:58.623Z] Result: Failure
[2025-08-21T17:10:58.623Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:10:58.623Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T17:10:58.623Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T17:10:58.623Z]                    ^^^^^
[2025-08-21T17:10:58.623Z] 
[2025-08-21T17:10:58.623Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T17:10:58.623Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T17:10:58.623Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T17:10:58.623Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T17:10:58.623Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T17:10:58.623Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T17:10:58.623Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T17:10:58.623Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T17:10:58.623Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T17:10:58.623Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T17:10:58.623Z]     at Generator.next (<anonymous>).
[2025-08-21T17:10:58.623Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.623Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:10:58.623Z] Worker failed to load function: 'figmaOAuthStart' with functionId: '07bd27eb-3018-4f35-b8ed-02aa2a0b92de'.
[2025-08-21T17:10:58.623Z] Result: Failure
[2025-08-21T17:10:58.623Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:10:58.623Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T17:10:58.623Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T17:10:58.623Z]                    ^^^^^
[2025-08-21T17:10:58.623Z] 
[2025-08-21T17:10:58.623Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T17:10:58.623Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T17:10:58.623Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T17:10:58.623Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T17:10:58.624Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T17:10:58.624Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T17:10:58.624Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T17:10:58.624Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T17:10:58.624Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T17:10:58.624Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T17:10:58.624Z]     at Generator.next (<anonymous>).
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.624Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionLoadRequest
[2025-08-21T17:10:58.656Z] Host restarted.
[2025-08-21T17:11:03.346Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T17:11:03.678Z] Executing HTTP request: {
[2025-08-21T17:11:03.678Z]   "requestId": "1917d9ad-6386-4603-b123-b5a9ad5fb802",
[2025-08-21T17:11:03.678Z]   "method": "POST",
[2025-08-21T17:11:03.678Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:11:03.678Z]   "uri": "/api/generate-suggestions"
[2025-08-21T17:11:03.678Z] }
[2025-08-21T17:11:03.688Z] Executing 'Functions.generateSuggestions' (Reason='This function was programmatically called via the host APIs.', Id=19069beb-40d1-4659-b8d4-435e223d8b40)
[2025-08-21T17:11:03.724Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionInvocationRequest with invocationId 19069beb-40d1-4659-b8d4-435e223d8b40
[2025-08-21T17:11:03.725Z] Executed 'Functions.generateSuggestions' (Succeeded, Id=19069beb-40d1-4659-b8d4-435e223d8b40, Duration=39ms)
[2025-08-21T17:11:03.726Z] Executed HTTP request: {
[2025-08-21T17:11:03.726Z]   "requestId": "1917d9ad-6386-4603-b123-b5a9ad5fb802",
[2025-08-21T17:11:03.726Z]   "identities": "",
[2025-08-21T17:11:03.726Z]   "status": "200",
[2025-08-21T17:11:03.726Z]   "duration": "48"
[2025-08-21T17:11:03.726Z] }
[2025-08-21T17:11:09.232Z] Executing HTTP request: {
[2025-08-21T17:11:09.232Z]   "requestId": "fd9a8537-2bff-4281-ab3c-117b12cebc90",
[2025-08-21T17:11:09.232Z]   "method": "POST",
[2025-08-21T17:11:09.232Z]   "userAgent": "curl/8.7.1",
[2025-08-21T17:11:09.232Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:11:09.232Z] }
[2025-08-21T17:11:09.243Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=eaf6f9f6-d8a7-4fa0-875a-b7e06aadb2e5)
[2025-08-21T17:11:09.352Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionInvocationRequest with invocationId eaf6f9f6-d8a7-4fa0-875a-b7e06aadb2e5
[2025-08-21T17:11:15.446Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:11:15.457Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:11:15.458Z]     Description: "business homepage with header navigation and content sections"
[2025-08-21T17:11:15.459Z]     Contains learning keywords: false
[2025-08-21T17:11:15.459Z]     Is hero section exclusion: false
[2025-08-21T17:11:15.459Z]     Final isLearningPlatform: false
[2025-08-21T17:11:15.459Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:11:15.532Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=eaf6f9f6-d8a7-4fa0-875a-b7e06aadb2e5, Duration=6292ms)
[2025-08-21T17:11:15.766Z] Executed HTTP request: {
[2025-08-21T17:11:15.766Z]   "requestId": "fd9a8537-2bff-4281-ab3c-117b12cebc90",
[2025-08-21T17:11:15.766Z]   "identities": "",
[2025-08-21T17:11:15.766Z]   "status": "200",
[2025-08-21T17:11:15.766Z]   "duration": "6534"
[2025-08-21T17:11:15.766Z] }
[2025-08-21T17:12:24.194Z] Executing HTTP request: {
[2025-08-21T17:12:24.195Z]   "requestId": "a6665788-9891-4559-8f60-adcb45dc6321",
[2025-08-21T17:12:24.195Z]   "method": "POST",
[2025-08-21T17:12:24.195Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:12:24.195Z]   "uri": "/api/generate-suggestions"
[2025-08-21T17:12:24.195Z] }
[2025-08-21T17:12:24.214Z] Executing 'Functions.generateSuggestions' (Reason='This function was programmatically called via the host APIs.', Id=8fea3768-efa3-472a-bb86-2bddc9aaad45)
[2025-08-21T17:12:24.256Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionInvocationRequest with invocationId 8fea3768-efa3-472a-bb86-2bddc9aaad45
[2025-08-21T17:12:24.258Z] Executed 'Functions.generateSuggestions' (Succeeded, Id=8fea3768-efa3-472a-bb86-2bddc9aaad45, Duration=53ms)
[2025-08-21T17:12:24.260Z] Executed HTTP request: {
[2025-08-21T17:12:24.260Z]   "requestId": "a6665788-9891-4559-8f60-adcb45dc6321",
[2025-08-21T17:12:24.260Z]   "identities": "",
[2025-08-21T17:12:24.260Z]   "status": "200",
[2025-08-21T17:12:24.260Z]   "duration": "68"
[2025-08-21T17:12:24.260Z] }
[2025-08-21T17:12:24.470Z] Executing HTTP request: {
[2025-08-21T17:12:24.470Z]   "requestId": "7921f296-4f9e-460d-96cd-4e07a6807beb",
[2025-08-21T17:12:24.470Z]   "method": "POST",
[2025-08-21T17:12:24.470Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:12:24.470Z]   "uri": "/api/generate-suggestions"
[2025-08-21T17:12:24.470Z] }
[2025-08-21T17:12:24.473Z] Executing 'Functions.generateSuggestions' (Reason='This function was programmatically called via the host APIs.', Id=bbe25876-4e53-46b4-bb7b-1bbd725eb0a9)
[2025-08-21T17:12:24.477Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionInvocationRequest with invocationId bbe25876-4e53-46b4-bb7b-1bbd725eb0a9
[2025-08-21T17:12:24.482Z] Executed 'Functions.generateSuggestions' (Succeeded, Id=bbe25876-4e53-46b4-bb7b-1bbd725eb0a9, Duration=10ms)
[2025-08-21T17:12:24.482Z] Executed HTTP request: {
[2025-08-21T17:12:24.482Z]   "requestId": "7921f296-4f9e-460d-96cd-4e07a6807beb",
[2025-08-21T17:12:24.482Z]   "identities": "",
[2025-08-21T17:12:24.482Z]   "status": "200",
[2025-08-21T17:12:24.482Z]   "duration": "12"
[2025-08-21T17:12:24.482Z] }
[2025-08-21T17:12:26.608Z] Executing HTTP request: {
[2025-08-21T17:12:26.608Z]   "requestId": "5f589049-44eb-425a-838e-588463d6ca8f",
[2025-08-21T17:12:26.608Z]   "method": "POST",
[2025-08-21T17:12:26.608Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:12:26.608Z]   "uri": "/api/generate-suggestions"
[2025-08-21T17:12:26.608Z] }
[2025-08-21T17:12:26.609Z] Executing 'Functions.generateSuggestions' (Reason='This function was programmatically called via the host APIs.', Id=c24e9f4f-923c-4366-8550-f7679c5e4572)
[2025-08-21T17:12:26.612Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 received FunctionInvocationRequest with invocationId c24e9f4f-923c-4366-8550-f7679c5e4572
[2025-08-21T17:12:26.612Z] Executed 'Functions.generateSuggestions' (Succeeded, Id=c24e9f4f-923c-4366-8550-f7679c5e4572, Duration=3ms)
[2025-08-21T17:12:26.613Z] Executed HTTP request: {
[2025-08-21T17:12:26.613Z]   "requestId": "5f589049-44eb-425a-838e-588463d6ca8f",
[2025-08-21T17:12:26.613Z]   "identities": "",
[2025-08-21T17:12:26.613Z]   "status": "200",
[2025-08-21T17:12:26.613Z]   "duration": "4"
[2025-08-21T17:12:26.613Z] }
[2025-08-21T17:47:19.320Z] Restarting host.
[2025-08-21T17:47:20.231Z] Stopping JobHost
[2025-08-21T17:47:20.482Z] Job host stopped
[2025-08-21T17:47:21.155Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: 'cad25760-8976-4a83-bcd1-dfc712e44185'
[2025-08-21T17:47:24.606Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T17:47:24.608Z] Host configuration file read:
[2025-08-21T17:47:24.608Z] {
[2025-08-21T17:47:24.608Z]   "version": "2.0",
[2025-08-21T17:47:24.608Z]   "functionTimeout": "00:05:00",
[2025-08-21T17:47:24.608Z]   "logging": {
[2025-08-21T17:47:24.608Z]     "applicationInsights": {
[2025-08-21T17:47:24.608Z]       "samplingSettings": {
[2025-08-21T17:47:24.608Z]         "isEnabled": true,
[2025-08-21T17:47:24.608Z]         "excludedTypes": "Request"
[2025-08-21T17:47:24.608Z]       }
[2025-08-21T17:47:24.608Z]     },
[2025-08-21T17:47:24.608Z]     "logLevel": {
[2025-08-21T17:47:24.608Z]       "default": "Information",
[2025-08-21T17:47:24.608Z]       "Host.Results": "Information",
[2025-08-21T17:47:24.608Z]       "Function": "Information"
[2025-08-21T17:47:24.608Z]     }
[2025-08-21T17:47:24.608Z]   },
[2025-08-21T17:47:24.608Z]   "extensionBundle": {
[2025-08-21T17:47:24.608Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T17:47:24.608Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T17:47:24.608Z]   },
[2025-08-21T17:47:24.608Z]   "watchDirectories": [
[2025-08-21T17:47:24.608Z]     "Shared"
[2025-08-21T17:47:24.608Z]   ]
[2025-08-21T17:47:24.608Z] }
[2025-08-21T17:47:24.654Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T17:47:24.662Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:47:24.666Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:47:24.683Z] Loading functions metadata
[2025-08-21T17:47:24.691Z] Worker indexing is enabled
[2025-08-21T17:47:24.691Z] Fetching metadata for workerRuntime: node
[2025-08-21T17:47:24.692Z] Reading functions metadata (Worker)
[2025-08-21T17:47:24.692Z] Shutting down language worker channels for runtime:node
[2025-08-21T17:47:24.951Z] Worker cf747ef0-ad3b-4a47-af66-cb9af68f0f88 exited with code 0
[2025-08-21T17:47:26.710Z] Executing HTTP request: {
[2025-08-21T17:47:26.711Z]   "requestId": "06b72790-ac4a-4fc4-b5a6-9e83e6cf4167",
[2025-08-21T17:47:26.711Z]   "method": "POST",
[2025-08-21T17:47:26.711Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:47:26.711Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:47:26.711Z] }
[2025-08-21T17:47:28.621Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b connecting on 127.0.0.1:57999
[2025-08-21T17:47:28.847Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received WorkerInitRequest
[2025-08-21T17:47:28.885Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionsMetadataRequest
[2025-08-21T17:47:28.895Z] Reading functions metadata (Host)
[2025-08-21T17:47:36.448Z] 21 functions found (Host)
[2025-08-21T17:47:36.537Z] 21 functions loaded
[2025-08-21T17:47:36.570Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T17:47:36.587Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:47:36.591Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:47:36.598Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T17:47:37.423Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:47:37.424Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:47:37.428Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T17:47:37.428Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T17:47:38.232Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T17:47:38.237Z] Host configuration file read:
[2025-08-21T17:47:38.237Z] {
[2025-08-21T17:47:38.237Z]   "version": "2.0",
[2025-08-21T17:47:38.237Z]   "functionTimeout": "00:05:00",
[2025-08-21T17:47:38.237Z]   "logging": {
[2025-08-21T17:47:38.237Z]     "applicationInsights": {
[2025-08-21T17:47:38.237Z]       "samplingSettings": {
[2025-08-21T17:47:38.237Z]         "isEnabled": true,
[2025-08-21T17:47:38.237Z]         "excludedTypes": "Request"
[2025-08-21T17:47:38.237Z]       }
[2025-08-21T17:47:38.237Z]     },
[2025-08-21T17:47:38.237Z]     "logLevel": {
[2025-08-21T17:47:38.237Z]       "default": "Information",
[2025-08-21T17:47:38.237Z]       "Host.Results": "Information",
[2025-08-21T17:47:38.237Z]       "Function": "Information"
[2025-08-21T17:47:38.237Z]     }
[2025-08-21T17:47:38.237Z]   },
[2025-08-21T17:47:38.237Z]   "extensionBundle": {
[2025-08-21T17:47:38.237Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T17:47:38.237Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T17:47:38.237Z]   },
[2025-08-21T17:47:38.237Z]   "watchDirectories": [
[2025-08-21T17:47:38.237Z]     "Shared"
[2025-08-21T17:47:38.237Z]   ]
[2025-08-21T17:47:38.237Z] }
[2025-08-21T17:47:39.381Z] Initializing Warmup Extension.
[2025-08-21T17:47:39.396Z] Initializing Host. OperationId: 'cad25760-8976-4a83-bcd1-dfc712e44185'.
[2025-08-21T17:47:39.396Z] Host initialization: ConsecutiveErrors=0, StartupCount=5, OperationId=cad25760-8976-4a83-bcd1-dfc712e44185
[2025-08-21T17:47:39.448Z] LoggerFilterOptions
[2025-08-21T17:47:39.448Z] {
[2025-08-21T17:47:39.448Z]   "MinLevel": "None",
[2025-08-21T17:47:39.448Z]   "Rules": [
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": null,
[2025-08-21T17:47:39.448Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T17:47:39.448Z]       "LogLevel": "None",
[2025-08-21T17:47:39.448Z]       "Filter": null
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:47:39.448Z]       "CategoryName": null,
[2025-08-21T17:47:39.448Z]       "LogLevel": "None",
[2025-08-21T17:47:39.448Z]       "Filter": null
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:47:39.448Z]       "CategoryName": null,
[2025-08-21T17:47:39.448Z]       "LogLevel": null,
[2025-08-21T17:47:39.448Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": null,
[2025-08-21T17:47:39.448Z]       "CategoryName": null,
[2025-08-21T17:47:39.448Z]       "LogLevel": null,
[2025-08-21T17:47:39.448Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": null,
[2025-08-21T17:47:39.448Z]       "CategoryName": null,
[2025-08-21T17:47:39.448Z]       "LogLevel": null,
[2025-08-21T17:47:39.448Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": null,
[2025-08-21T17:47:39.448Z]       "CategoryName": "Host.Results",
[2025-08-21T17:47:39.448Z]       "LogLevel": "Information",
[2025-08-21T17:47:39.448Z]       "Filter": null
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": null,
[2025-08-21T17:47:39.448Z]       "CategoryName": "Function",
[2025-08-21T17:47:39.448Z]       "LogLevel": "Information",
[2025-08-21T17:47:39.448Z]       "Filter": null
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": null,
[2025-08-21T17:47:39.448Z]       "CategoryName": null,
[2025-08-21T17:47:39.448Z]       "LogLevel": "Information",
[2025-08-21T17:47:39.448Z]       "Filter": null
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:47:39.448Z]       "CategoryName": null,
[2025-08-21T17:47:39.448Z]       "LogLevel": "None",
[2025-08-21T17:47:39.448Z]       "Filter": null
[2025-08-21T17:47:39.448Z]     },
[2025-08-21T17:47:39.448Z]     {
[2025-08-21T17:47:39.448Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:47:39.449Z]       "CategoryName": null,
[2025-08-21T17:47:39.449Z]       "LogLevel": null,
[2025-08-21T17:47:39.449Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.449Z]     },
[2025-08-21T17:47:39.449Z]     {
[2025-08-21T17:47:39.449Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:47:39.449Z]       "CategoryName": null,
[2025-08-21T17:47:39.449Z]       "LogLevel": null,
[2025-08-21T17:47:39.449Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.449Z]     }
[2025-08-21T17:47:39.449Z]   ]
[2025-08-21T17:47:39.449Z] }
[2025-08-21T17:47:39.449Z] LoggerFilterOptions
[2025-08-21T17:47:39.449Z] {
[2025-08-21T17:47:39.449Z]   "MinLevel": "None",
[2025-08-21T17:47:39.449Z]   "Rules": [
[2025-08-21T17:47:39.449Z]     {
[2025-08-21T17:47:39.449Z]       "ProviderName": null,
[2025-08-21T17:47:39.449Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T17:47:39.449Z]       "LogLevel": "None",
[2025-08-21T17:47:39.449Z]       "Filter": null
[2025-08-21T17:47:39.449Z]     },
[2025-08-21T17:47:39.449Z]     {
[2025-08-21T17:47:39.449Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:47:39.449Z]       "CategoryName": null,
[2025-08-21T17:47:39.449Z]       "LogLevel": "None",
[2025-08-21T17:47:39.449Z]       "Filter": null
[2025-08-21T17:47:39.449Z]     },
[2025-08-21T17:47:39.449Z]     {
[2025-08-21T17:47:39.449Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:47:39.449Z]       "CategoryName": null,
[2025-08-21T17:47:39.449Z]       "LogLevel": null,
[2025-08-21T17:47:39.449Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.449Z]     },
[2025-08-21T17:47:39.449Z]     {
[2025-08-21T17:47:39.449Z]       "ProviderName": null,
[2025-08-21T17:47:39.449Z]       "CategoryName": null,
[2025-08-21T17:47:39.449Z]       "LogLevel": null,
[2025-08-21T17:47:39.449Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.449Z]     },
[2025-08-21T17:47:39.449Z]     {
[2025-08-21T17:47:39.449Z]       "ProviderName": null,
[2025-08-21T17:47:39.449Z]       "CategoryName": null,
[2025-08-21T17:47:39.449Z]       "LogLevel": null,
[2025-08-21T17:47:39.449Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.449Z]     },
[2025-08-21T17:47:39.449Z]     {
[2025-08-21T17:47:39.449Z]       "ProviderName": null,
[2025-08-21T17:47:39.449Z]       "CategoryName": "Host.Results",
[2025-08-21T17:47:39.449Z]       "LogLevel": "Information",
[2025-08-21T17:47:39.449Z]       "Filter": null
[2025-08-21T17:47:39.449Z]     },
[2025-08-21T17:47:39.449Z]     {
[2025-08-21T17:47:39.449Z]       "ProviderName": null,
[2025-08-21T17:47:39.449Z]       "CategoryName": "Function",
[2025-08-21T17:47:39.449Z]       "LogLevel": "Information",
[2025-08-21T17:47:39.449Z]       "Filter": null
[2025-08-21T17:47:39.450Z]     },
[2025-08-21T17:47:39.450Z]     {
[2025-08-21T17:47:39.450Z]       "ProviderName": null,
[2025-08-21T17:47:39.450Z]       "CategoryName": null,
[2025-08-21T17:47:39.450Z]       "LogLevel": "Information",
[2025-08-21T17:47:39.450Z]       "Filter": null
[2025-08-21T17:47:39.450Z]     },
[2025-08-21T17:47:39.450Z]     {
[2025-08-21T17:47:39.450Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:47:39.450Z]       "CategoryName": null,
[2025-08-21T17:47:39.450Z]       "LogLevel": "None",
[2025-08-21T17:47:39.450Z]       "Filter": null
[2025-08-21T17:47:39.450Z]     },
[2025-08-21T17:47:39.450Z]     {
[2025-08-21T17:47:39.450Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:47:39.450Z]       "CategoryName": null,
[2025-08-21T17:47:39.450Z]       "LogLevel": null,
[2025-08-21T17:47:39.450Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.450Z]     },
[2025-08-21T17:47:39.450Z]     {
[2025-08-21T17:47:39.450Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:47:39.450Z]       "CategoryName": null,
[2025-08-21T17:47:39.451Z]       "LogLevel": null,
[2025-08-21T17:47:39.451Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:47:39.451Z]     }
[2025-08-21T17:47:39.451Z]   ]
[2025-08-21T17:47:39.451Z] }
[2025-08-21T17:47:39.451Z] FunctionResultAggregatorOptions
[2025-08-21T17:47:39.451Z] {
[2025-08-21T17:47:39.451Z]   "BatchSize": 1000,
[2025-08-21T17:47:39.451Z]   "FlushTimeout": "00:00:30",
[2025-08-21T17:47:39.451Z]   "IsEnabled": true
[2025-08-21T17:47:39.451Z] }
[2025-08-21T17:47:39.451Z] ConcurrencyOptions
[2025-08-21T17:47:39.451Z] {
[2025-08-21T17:47:39.451Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T17:47:39.451Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T17:47:39.451Z]   "CPUThreshold": 0.8,
[2025-08-21T17:47:39.451Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T17:47:39.451Z] }
[2025-08-21T17:47:39.451Z] SingletonOptions
[2025-08-21T17:47:39.451Z] {
[2025-08-21T17:47:39.451Z]   "LockPeriod": "00:00:15",
[2025-08-21T17:47:39.451Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T17:47:39.451Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T17:47:39.451Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T17:47:39.451Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T17:47:39.451Z] }
[2025-08-21T17:47:39.451Z] ScaleOptions
[2025-08-21T17:47:39.451Z] {
[2025-08-21T17:47:39.451Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T17:47:39.451Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T17:47:39.451Z]   "MetricsPurgeEnabled": true,
[2025-08-21T17:47:39.451Z]   "IsTargetScalingEnabled": true,
[2025-08-21T17:47:39.451Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T17:47:39.451Z] }
[2025-08-21T17:47:39.451Z] Starting JobHost
[2025-08-21T17:47:39.452Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=e5070e86-0672-4869-ba27-3c3522348713, Version=4.1040.300.25317, ProcessId=81368, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T17:47:39.453Z] Loading functions metadata
[2025-08-21T17:47:39.453Z] Worker indexing is enabled
[2025-08-21T17:47:39.453Z] Fetching metadata for workerRuntime: node
[2025-08-21T17:47:39.453Z] Reading functions metadata (Worker)
[2025-08-21T17:47:39.454Z] Reading functions metadata (Host)
[2025-08-21T17:47:42.903Z] 21 functions found (Host)
[2025-08-21T17:47:42.918Z] Reading functions metadata (Custom)
[2025-08-21T17:47:42.929Z] 0 functions found (Custom)
[2025-08-21T17:47:42.932Z] 21 functions loaded
[2025-08-21T17:47:43.032Z] Generating 21 job function(s)
[2025-08-21T17:47:43.032Z] Worker process started and initialized.
[2025-08-21T17:47:43.067Z] Found the following functions:
[2025-08-21T17:47:43.067Z] Host.Functions.aiBuilderHealth
[2025-08-21T17:47:43.067Z] Host.Functions.analytics
[2025-08-21T17:47:43.067Z] Host.Functions.analyzeUIImage
[2025-08-21T17:47:43.067Z] Host.Functions.atlasComponents
[2025-08-21T17:47:43.067Z] Host.Functions.fast-suggestions
[2025-08-21T17:47:43.067Z] Host.Functions.figmaOAuthCallback
[2025-08-21T17:47:43.067Z] Host.Functions.figmaOAuthStart
[2025-08-21T17:47:43.067Z] Host.Functions.generateSuggestions
[2025-08-21T17:47:43.067Z] Host.Functions.generateWireframe
[2025-08-21T17:47:43.067Z] Host.Functions.generateWireframeAlias
[2025-08-21T17:47:43.067Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T17:47:43.067Z] Host.Functions.generateWireframeOptionB
[2025-08-21T17:47:43.067Z] Host.Functions.get-template
[2025-08-21T17:47:43.067Z] Host.Functions.githubAuthCallback
[2025-08-21T17:47:43.067Z] Host.Functions.githubAuthStart
[2025-08-21T17:47:43.067Z] Host.Functions.health
[2025-08-21T17:47:43.067Z] Host.Functions.healthCheck
[2025-08-21T17:47:43.067Z] Host.Functions.openai-health
[2025-08-21T17:47:43.067Z] Host.Functions.performance-stats
[2025-08-21T17:47:43.067Z] Host.Functions.testFunction
[2025-08-21T17:47:43.067Z] Host.Functions.testSimple
[2025-08-21T17:47:43.067Z] 
[2025-08-21T17:47:43.068Z] HttpOptions
[2025-08-21T17:47:43.068Z] {
[2025-08-21T17:47:43.068Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T17:47:43.068Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T17:47:43.068Z]   "MaxConcurrentRequests": -1,
[2025-08-21T17:47:43.068Z]   "MaxOutstandingRequests": -1,
[2025-08-21T17:47:43.068Z]   "RoutePrefix": "api"
[2025-08-21T17:47:43.068Z] }
[2025-08-21T17:47:43.070Z] Initializing function HTTP routes
[2025-08-21T17:47:43.070Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T17:47:43.070Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T17:47:43.070Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T17:47:43.070Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T17:47:43.070Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T17:47:43.070Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T17:47:43.070Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T17:47:43.070Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T17:47:43.071Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T17:47:43.071Z] 
[2025-08-21T17:47:43.071Z] Host initialized (3618ms)
[2025-08-21T17:47:43.071Z] Host started (3619ms)
[2025-08-21T17:47:43.071Z] Job host started
[2025-08-21T17:47:43.071Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T17:47:43.071Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T17:47:43.104Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=65801329-18ca-40d2-b225-3676a21b06b4)
[2025-08-21T17:47:43.132Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.379Z] Host restarted.
[2025-08-21T17:47:43.409Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T17:47:43.409Z] ✅ OpenAI initialized for image analysis
[2025-08-21T17:47:43.409Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:47:43.410Z] 🎯 Using deployment: gpt-4o
[2025-08-21T17:47:43.561Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T17:47:43.561Z] 🔍 Current env vars:
[2025-08-21T17:47:43.561Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T17:47:43.561Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T17:47:43.561Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T17:47:43.561Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:47:43.561Z]   Deployment: gpt-4o
[2025-08-21T17:47:43.561Z]   API Version: 2024-08-01-preview
[2025-08-21T17:47:43.561Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T17:47:43.561Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T17:47:43.561Z] ✅ OpenAI client initialized successfully
[2025-08-21T17:47:43.561Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:47:43.561Z] 🎯 Using deployment: gpt-4o
[2025-08-21T17:47:43.567Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T17:47:43.575Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.575Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.575Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.575Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.575Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.576Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:47:43.576Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.576Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:47:43.576Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.576Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.576Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.577Z] Worker failed to load function: 'figmaOAuthStart' with functionId: '14e947e4-4573-4b6b-93a9-5da00d77b836'.
[2025-08-21T17:47:43.577Z] Result: Failure
[2025-08-21T17:47:43.577Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:47:43.577Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T17:47:43.577Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T17:47:43.577Z]                    ^^^^^
[2025-08-21T17:47:43.577Z] 
[2025-08-21T17:47:43.577Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T17:47:43.577Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T17:47:43.577Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: 'fcbd2eb0-c41b-44e1-b25a-fa3f7fd52a74'.
[2025-08-21T17:47:43.577Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T17:47:43.577Z] Result: Failure
[2025-08-21T17:47:43.577Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:47:43.577Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T17:47:43.577Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T17:47:43.577Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T17:47:43.577Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T17:47:43.577Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T17:47:43.577Z]                    ^^^^^
[2025-08-21T17:47:43.577Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T17:47:43.577Z] 
[2025-08-21T17:47:43.577Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T17:47:43.577Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T17:47:43.577Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.577Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T17:47:43.577Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.577Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T17:47:43.577Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T17:47:43.577Z]     at Generator.next (<anonymous>).
[2025-08-21T17:47:43.577Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T17:47:43.577Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T17:47:43.577Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.577Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T17:47:43.577Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.577Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T17:47:43.578Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.578Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T17:47:43.578Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T17:47:43.578Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T17:47:43.578Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T17:47:43.578Z]     at Generator.next (<anonymous>).
[2025-08-21T17:47:43.578Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.578Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.578Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.578Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.578Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.770Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionLoadRequest
[2025-08-21T17:47:43.770Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionInvocationRequest with invocationId 65801329-18ca-40d2-b225-3676a21b06b4
[2025-08-21T17:47:44.452Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T17:47:51.314Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:47:51.315Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:47:51.315Z]     Description: "Hero section with call-to-action"
[2025-08-21T17:47:51.315Z]     Contains learning keywords: false
[2025-08-21T17:47:51.315Z]     Is hero section exclusion: true
[2025-08-21T17:47:51.315Z]     Final isLearningPlatform: false
[2025-08-21T17:47:51.315Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:47:51.343Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=65801329-18ca-40d2-b225-3676a21b06b4, Duration=8246ms)
[2025-08-21T17:47:51.348Z] Executed HTTP request: {
[2025-08-21T17:47:51.348Z]   "requestId": "06b72790-ac4a-4fc4-b5a6-9e83e6cf4167",
[2025-08-21T17:47:51.348Z]   "identities": "",
[2025-08-21T17:47:51.348Z]   "status": "200",
[2025-08-21T17:47:51.348Z]   "duration": "24638"
[2025-08-21T17:47:51.348Z] }
[2025-08-21T17:51:26.084Z] Executing HTTP request: {
[2025-08-21T17:51:26.085Z]   "requestId": "d1b7b632-83f4-4855-9d8f-435c99db4ce0",
[2025-08-21T17:51:26.085Z]   "method": "POST",
[2025-08-21T17:51:26.085Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:51:26.085Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:51:26.085Z] }
[2025-08-21T17:51:26.130Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=e93f4004-07b4-489d-be51-3a3640400ed7)
[2025-08-21T17:51:26.322Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionInvocationRequest with invocationId e93f4004-07b4-489d-be51-3a3640400ed7
[2025-08-21T17:51:36.255Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:51:36.255Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:51:36.255Z]     Description: "Create a page called "Login page". Create a login page with all the controls."
[2025-08-21T17:51:36.255Z]     Contains learning keywords: false
[2025-08-21T17:51:36.255Z]     Is hero section exclusion: false
[2025-08-21T17:51:36.256Z]     Final isLearningPlatform: false
[2025-08-21T17:51:36.256Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:51:36.274Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=e93f4004-07b4-489d-be51-3a3640400ed7, Duration=10166ms)
[2025-08-21T17:51:36.279Z] Executed HTTP request: {
[2025-08-21T17:51:36.280Z]   "requestId": "d1b7b632-83f4-4855-9d8f-435c99db4ce0",
[2025-08-21T17:51:36.280Z]   "identities": "",
[2025-08-21T17:51:36.280Z]   "status": "200",
[2025-08-21T17:51:36.280Z]   "duration": "10198"
[2025-08-21T17:51:36.280Z] }
[2025-08-21T17:52:17.201Z] Executing HTTP request: {
[2025-08-21T17:52:17.202Z]   "requestId": "74d755e0-e657-42c0-a068-998ad3354357",
[2025-08-21T17:52:17.202Z]   "method": "POST",
[2025-08-21T17:52:17.202Z]   "userAgent": "curl/8.7.1",
[2025-08-21T17:52:17.202Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:52:17.202Z] }
[2025-08-21T17:52:17.220Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=1403fcb2-1ec6-4121-a72e-589bea34dbcf)
[2025-08-21T17:52:17.268Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionInvocationRequest with invocationId 1403fcb2-1ec6-4121-a72e-589bea34dbcf
[2025-08-21T17:52:24.402Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:52:24.402Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:52:24.402Z]     Description: "simple contact form"
[2025-08-21T17:52:24.403Z]     Contains learning keywords: false
[2025-08-21T17:52:24.403Z]     Is hero section exclusion: false
[2025-08-21T17:52:24.403Z]     Final isLearningPlatform: false
[2025-08-21T17:52:24.403Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:52:24.408Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=1403fcb2-1ec6-4121-a72e-589bea34dbcf, Duration=7194ms)
[2025-08-21T17:52:24.411Z] Executed HTTP request: {
[2025-08-21T17:52:24.411Z]   "requestId": "74d755e0-e657-42c0-a068-998ad3354357",
[2025-08-21T17:52:24.411Z]   "identities": "",
[2025-08-21T17:52:24.411Z]   "status": "200",
[2025-08-21T17:52:24.411Z]   "duration": "7211"
[2025-08-21T17:52:24.411Z] }
[2025-08-21T17:52:32.350Z] Executing HTTP request: {
[2025-08-21T17:52:32.351Z]   "requestId": "4c3a81c6-8989-4a62-a08a-3ba5d3daf135",
[2025-08-21T17:52:32.351Z]   "method": "POST",
[2025-08-21T17:52:32.351Z]   "userAgent": "curl/8.7.1",
[2025-08-21T17:52:32.351Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:52:32.351Z] }
[2025-08-21T17:52:32.353Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=69810a55-09c4-4e94-b557-04baf7778f75)
[2025-08-21T17:52:32.365Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionInvocationRequest with invocationId 69810a55-09c4-4e94-b557-04baf7778f75
[2025-08-21T17:52:39.837Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:52:39.837Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:52:39.837Z]     Description: "simple contact form"
[2025-08-21T17:52:39.838Z]     Contains learning keywords: false
[2025-08-21T17:52:39.838Z]     Is hero section exclusion: false
[2025-08-21T17:52:39.838Z]     Final isLearningPlatform: false
[2025-08-21T17:52:39.838Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:52:39.845Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=69810a55-09c4-4e94-b557-04baf7778f75, Duration=7493ms)
[2025-08-21T17:52:39.850Z] Executed HTTP request: {
[2025-08-21T17:52:39.850Z]   "requestId": "4c3a81c6-8989-4a62-a08a-3ba5d3daf135",
[2025-08-21T17:52:39.850Z]   "identities": "",
[2025-08-21T17:52:39.850Z]   "status": "200",
[2025-08-21T17:52:39.850Z]   "duration": "7499"
[2025-08-21T17:52:39.850Z] }
[2025-08-21T17:53:34.462Z] Executing HTTP request: {
[2025-08-21T17:53:34.463Z]   "requestId": "5084c395-5a9a-4593-b6e7-7e46d4529002",
[2025-08-21T17:53:34.463Z]   "method": "POST",
[2025-08-21T17:53:34.463Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:53:34.463Z]   "uri": "/api/generate-suggestions"
[2025-08-21T17:53:34.463Z] }
[2025-08-21T17:53:34.480Z] Executing 'Functions.generateSuggestions' (Reason='This function was programmatically called via the host APIs.', Id=2e0bf568-36d1-4f0a-85bb-de590bed76ea)
[2025-08-21T17:53:34.527Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionInvocationRequest with invocationId 2e0bf568-36d1-4f0a-85bb-de590bed76ea
[2025-08-21T17:53:34.530Z] Executed 'Functions.generateSuggestions' (Succeeded, Id=2e0bf568-36d1-4f0a-85bb-de590bed76ea, Duration=60ms)
[2025-08-21T17:53:34.531Z] Executed HTTP request: {
[2025-08-21T17:53:34.531Z]   "requestId": "5084c395-5a9a-4593-b6e7-7e46d4529002",
[2025-08-21T17:53:34.531Z]   "identities": "",
[2025-08-21T17:53:34.531Z]   "status": "200",
[2025-08-21T17:53:34.531Z]   "duration": "71"
[2025-08-21T17:53:34.531Z] }
[2025-08-21T17:54:05.918Z] Executing HTTP request: {
[2025-08-21T17:54:05.919Z]   "requestId": "b353bbe8-6bf5-48ea-ac0a-6d162913095d",
[2025-08-21T17:54:05.919Z]   "method": "POST",
[2025-08-21T17:54:05.919Z]   "userAgent": "curl/8.7.1",
[2025-08-21T17:54:05.919Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:54:05.919Z] }
[2025-08-21T17:54:05.923Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=70d89978-b226-4dd8-a9b3-67b058d0de16)
[2025-08-21T17:54:05.998Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionInvocationRequest with invocationId 70d89978-b226-4dd8-a9b3-67b058d0de16
[2025-08-21T17:54:08.180Z] Executing HTTP request: {
[2025-08-21T17:54:08.180Z]   "requestId": "5da83c0d-45e5-4840-aee6-e14e8f490880",
[2025-08-21T17:54:08.180Z]   "method": "POST",
[2025-08-21T17:54:08.181Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:54:08.181Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:54:08.181Z] }
[2025-08-21T17:54:08.189Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=1e4b9e32-b436-4530-ad82-cbea6e4cb51e)
[2025-08-21T17:54:08.209Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionInvocationRequest with invocationId 1e4b9e32-b436-4530-ad82-cbea6e4cb51e
[2025-08-21T17:54:12.418Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:54:12.419Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:54:12.419Z]     Description: "hero section"
[2025-08-21T17:54:12.420Z]     Contains learning keywords: false
[2025-08-21T17:54:12.420Z]     Is hero section exclusion: true
[2025-08-21T17:54:12.420Z]     Final isLearningPlatform: false
[2025-08-21T17:54:12.420Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:54:12.423Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=70d89978-b226-4dd8-a9b3-67b058d0de16, Duration=6501ms)
[2025-08-21T17:54:12.424Z] Executed HTTP request: {
[2025-08-21T17:54:12.424Z]   "requestId": "b353bbe8-6bf5-48ea-ac0a-6d162913095d",
[2025-08-21T17:54:12.424Z]   "identities": "",
[2025-08-21T17:54:12.424Z]   "status": "200",
[2025-08-21T17:54:12.424Z]   "duration": "6506"
[2025-08-21T17:54:12.424Z] }
[2025-08-21T17:54:15.234Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:54:15.234Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:54:15.234Z]     Description: "a learn page with a hero section three radio buttons, a red background and 5 buttons."
[2025-08-21T17:54:15.234Z]     Contains learning keywords: false
[2025-08-21T17:54:15.234Z]     Is hero section exclusion: false
[2025-08-21T17:54:15.234Z]     Final isLearningPlatform: false
[2025-08-21T17:54:15.234Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:54:15.244Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=1e4b9e32-b436-4530-ad82-cbea6e4cb51e, Duration=7060ms)
[2025-08-21T17:54:15.246Z] Executed HTTP request: {
[2025-08-21T17:54:15.246Z]   "requestId": "5da83c0d-45e5-4840-aee6-e14e8f490880",
[2025-08-21T17:54:15.246Z]   "identities": "",
[2025-08-21T17:54:15.246Z]   "status": "200",
[2025-08-21T17:54:15.246Z]   "duration": "7066"
[2025-08-21T17:54:15.246Z] }
[2025-08-21T17:55:12.254Z] Executing HTTP request: {
[2025-08-21T17:55:12.254Z]   "requestId": "59c5f885-025e-4ee3-bc91-593fd34da250",
[2025-08-21T17:55:12.254Z]   "method": "POST",
[2025-08-21T17:55:12.254Z]   "userAgent": "curl/8.7.1",
[2025-08-21T17:55:12.254Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:55:12.254Z] }
[2025-08-21T17:55:12.284Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=6953ee34-b2f5-4549-9e4c-f9549df89511)
[2025-08-21T17:55:12.434Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b received FunctionInvocationRequest with invocationId 6953ee34-b2f5-4549-9e4c-f9549df89511
[2025-08-21T17:55:18.838Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:55:18.839Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:55:18.839Z]     Description: "simple contact form"
[2025-08-21T17:55:18.839Z]     Contains learning keywords: false
[2025-08-21T17:55:18.839Z]     Is hero section exclusion: false
[2025-08-21T17:55:18.839Z]     Final isLearningPlatform: false
[2025-08-21T17:55:18.841Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:55:18.843Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=6953ee34-b2f5-4549-9e4c-f9549df89511, Duration=6573ms)
[2025-08-21T17:55:18.846Z] Executed HTTP request: {
[2025-08-21T17:55:18.846Z]   "requestId": "59c5f885-025e-4ee3-bc91-593fd34da250",
[2025-08-21T17:55:18.846Z]   "identities": "",
[2025-08-21T17:55:18.846Z]   "status": "200",
[2025-08-21T17:55:18.846Z]   "duration": "6597"
[2025-08-21T17:55:18.846Z] }
[2025-08-21T17:55:36.282Z] Restarting host.
[2025-08-21T17:55:36.295Z] Stopping JobHost
[2025-08-21T17:55:36.296Z] Job host stopped
[2025-08-21T17:55:36.312Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '3f0823a9-d118-4909-92f5-0bfc021f47dd'
[2025-08-21T17:55:36.390Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T17:55:36.390Z] Host configuration file read:
[2025-08-21T17:55:36.390Z] {
[2025-08-21T17:55:36.390Z]   "version": "2.0",
[2025-08-21T17:55:36.390Z]   "functionTimeout": "00:05:00",
[2025-08-21T17:55:36.391Z]   "logging": {
[2025-08-21T17:55:36.391Z]     "applicationInsights": {
[2025-08-21T17:55:36.391Z]       "samplingSettings": {
[2025-08-21T17:55:36.391Z]         "isEnabled": true,
[2025-08-21T17:55:36.391Z]         "excludedTypes": "Request"
[2025-08-21T17:55:36.391Z]       }
[2025-08-21T17:55:36.391Z]     },
[2025-08-21T17:55:36.391Z]     "logLevel": {
[2025-08-21T17:55:36.391Z]       "default": "Information",
[2025-08-21T17:55:36.391Z]       "Host.Results": "Information",
[2025-08-21T17:55:36.391Z]       "Function": "Information"
[2025-08-21T17:55:36.391Z]     }
[2025-08-21T17:55:36.391Z]   },
[2025-08-21T17:55:36.391Z]   "extensionBundle": {
[2025-08-21T17:55:36.391Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T17:55:36.391Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T17:55:36.391Z]   },
[2025-08-21T17:55:36.391Z]   "watchDirectories": [
[2025-08-21T17:55:36.391Z]     "Shared"
[2025-08-21T17:55:36.391Z]   ]
[2025-08-21T17:55:36.391Z] }
[2025-08-21T17:55:36.398Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T17:55:36.399Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:55:36.399Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:55:36.399Z] Loading functions metadata
[2025-08-21T17:55:36.400Z] Worker indexing is enabled
[2025-08-21T17:55:36.401Z] Fetching metadata for workerRuntime: node
[2025-08-21T17:55:36.401Z] Reading functions metadata (Worker)
[2025-08-21T17:55:36.401Z] Shutting down language worker channels for runtime:node
[2025-08-21T17:55:36.422Z] Worker fc69d76b-3587-4a1b-a4cd-c2817bb6da0b exited with code 0
[2025-08-21T17:55:37.385Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd connecting on 127.0.0.1:57999
[2025-08-21T17:55:37.412Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received WorkerInitRequest
[2025-08-21T17:55:37.417Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionsMetadataRequest
[2025-08-21T17:55:37.417Z] Reading functions metadata (Host)
[2025-08-21T17:55:37.834Z] 21 functions found (Host)
[2025-08-21T17:55:37.835Z] 21 functions loaded
[2025-08-21T17:55:37.836Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T17:55:37.837Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:55:37.837Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:55:37.837Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T17:55:38.109Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:55:38.110Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:55:38.110Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T17:55:38.110Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T17:55:38.237Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T17:55:38.237Z] Host configuration file read:
[2025-08-21T17:55:38.237Z] {
[2025-08-21T17:55:38.237Z]   "version": "2.0",
[2025-08-21T17:55:38.237Z]   "functionTimeout": "00:05:00",
[2025-08-21T17:55:38.237Z]   "logging": {
[2025-08-21T17:55:38.237Z]     "applicationInsights": {
[2025-08-21T17:55:38.237Z]       "samplingSettings": {
[2025-08-21T17:55:38.237Z]         "isEnabled": true,
[2025-08-21T17:55:38.237Z]         "excludedTypes": "Request"
[2025-08-21T17:55:38.237Z]       }
[2025-08-21T17:55:38.237Z]     },
[2025-08-21T17:55:38.237Z]     "logLevel": {
[2025-08-21T17:55:38.237Z]       "default": "Information",
[2025-08-21T17:55:38.237Z]       "Host.Results": "Information",
[2025-08-21T17:55:38.237Z]       "Function": "Information"
[2025-08-21T17:55:38.237Z]     }
[2025-08-21T17:55:38.237Z]   },
[2025-08-21T17:55:38.237Z]   "extensionBundle": {
[2025-08-21T17:55:38.237Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T17:55:38.237Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T17:55:38.237Z]   },
[2025-08-21T17:55:38.237Z]   "watchDirectories": [
[2025-08-21T17:55:38.237Z]     "Shared"
[2025-08-21T17:55:38.237Z]   ]
[2025-08-21T17:55:38.237Z] }
[2025-08-21T17:55:38.274Z] Initializing Warmup Extension.
[2025-08-21T17:55:38.278Z] Initializing Host. OperationId: '3f0823a9-d118-4909-92f5-0bfc021f47dd'.
[2025-08-21T17:55:38.278Z] Host initialization: ConsecutiveErrors=0, StartupCount=6, OperationId=3f0823a9-d118-4909-92f5-0bfc021f47dd
[2025-08-21T17:55:38.281Z] LoggerFilterOptions
[2025-08-21T17:55:38.281Z] {
[2025-08-21T17:55:38.281Z]   "MinLevel": "None",
[2025-08-21T17:55:38.281Z]   "Rules": [
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T17:55:38.281Z]       "LogLevel": "None",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": "None",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": "Host.Results",
[2025-08-21T17:55:38.281Z]       "LogLevel": "Information",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": "Function",
[2025-08-21T17:55:38.281Z]       "LogLevel": "Information",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": "Information",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": "None",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     }
[2025-08-21T17:55:38.281Z]   ]
[2025-08-21T17:55:38.281Z] }
[2025-08-21T17:55:38.281Z] LoggerFilterOptions
[2025-08-21T17:55:38.281Z] {
[2025-08-21T17:55:38.281Z]   "MinLevel": "None",
[2025-08-21T17:55:38.281Z]   "Rules": [
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T17:55:38.281Z]       "LogLevel": "None",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": "None",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": "Host.Results",
[2025-08-21T17:55:38.281Z]       "LogLevel": "Information",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": "Function",
[2025-08-21T17:55:38.281Z]       "LogLevel": "Information",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": null,
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": "Information",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": "None",
[2025-08-21T17:55:38.281Z]       "Filter": null
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     },
[2025-08-21T17:55:38.281Z]     {
[2025-08-21T17:55:38.281Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:38.281Z]       "CategoryName": null,
[2025-08-21T17:55:38.281Z]       "LogLevel": null,
[2025-08-21T17:55:38.281Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:38.281Z]     }
[2025-08-21T17:55:38.281Z]   ]
[2025-08-21T17:55:38.281Z] }
[2025-08-21T17:55:38.281Z] FunctionResultAggregatorOptions
[2025-08-21T17:55:38.281Z] {
[2025-08-21T17:55:38.281Z]   "BatchSize": 1000,
[2025-08-21T17:55:38.281Z]   "FlushTimeout": "00:00:30",
[2025-08-21T17:55:38.281Z]   "IsEnabled": true
[2025-08-21T17:55:38.281Z] }
[2025-08-21T17:55:38.281Z] ConcurrencyOptions
[2025-08-21T17:55:38.281Z] {
[2025-08-21T17:55:38.281Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T17:55:38.282Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T17:55:38.282Z]   "CPUThreshold": 0.8,
[2025-08-21T17:55:38.282Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T17:55:38.282Z] }
[2025-08-21T17:55:38.282Z] SingletonOptions
[2025-08-21T17:55:38.282Z] {
[2025-08-21T17:55:38.282Z]   "LockPeriod": "00:00:15",
[2025-08-21T17:55:38.282Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T17:55:38.282Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T17:55:38.282Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T17:55:38.282Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T17:55:38.282Z] }
[2025-08-21T17:55:38.282Z] ScaleOptions
[2025-08-21T17:55:38.282Z] {
[2025-08-21T17:55:38.282Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T17:55:38.282Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T17:55:38.282Z]   "MetricsPurgeEnabled": true,
[2025-08-21T17:55:38.282Z]   "IsTargetScalingEnabled": true,
[2025-08-21T17:55:38.282Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T17:55:38.282Z] }
[2025-08-21T17:55:38.282Z] Starting JobHost
[2025-08-21T17:55:38.282Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=e157928d-b519-45e4-9ac9-a6f84de6556d, Version=4.1040.300.25317, ProcessId=81368, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T17:55:38.282Z] Loading functions metadata
[2025-08-21T17:55:38.282Z] Worker indexing is enabled
[2025-08-21T17:55:38.282Z] Fetching metadata for workerRuntime: node
[2025-08-21T17:55:38.282Z] Reading functions metadata (Worker)
[2025-08-21T17:55:38.282Z] Reading functions metadata (Host)
[2025-08-21T17:55:38.470Z] 21 functions found (Host)
[2025-08-21T17:55:38.471Z] Reading functions metadata (Custom)
[2025-08-21T17:55:38.471Z] 0 functions found (Custom)
[2025-08-21T17:55:38.471Z] 21 functions loaded
[2025-08-21T17:55:38.473Z] Generating 21 job function(s)
[2025-08-21T17:55:38.473Z] Worker process started and initialized.
[2025-08-21T17:55:38.483Z] Found the following functions:
[2025-08-21T17:55:38.483Z] Host.Functions.aiBuilderHealth
[2025-08-21T17:55:38.483Z] Host.Functions.analytics
[2025-08-21T17:55:38.483Z] Host.Functions.analyzeUIImage
[2025-08-21T17:55:38.483Z] Host.Functions.atlasComponents
[2025-08-21T17:55:38.483Z] Host.Functions.fast-suggestions
[2025-08-21T17:55:38.483Z] Host.Functions.figmaOAuthCallback
[2025-08-21T17:55:38.483Z] Host.Functions.figmaOAuthStart
[2025-08-21T17:55:38.483Z] Host.Functions.generateSuggestions
[2025-08-21T17:55:38.483Z] Host.Functions.generateWireframe
[2025-08-21T17:55:38.483Z] Host.Functions.generateWireframeAlias
[2025-08-21T17:55:38.483Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T17:55:38.483Z] Host.Functions.generateWireframeOptionB
[2025-08-21T17:55:38.483Z] Host.Functions.get-template
[2025-08-21T17:55:38.483Z] Host.Functions.githubAuthCallback
[2025-08-21T17:55:38.483Z] Host.Functions.githubAuthStart
[2025-08-21T17:55:38.483Z] Host.Functions.health
[2025-08-21T17:55:38.483Z] Host.Functions.healthCheck
[2025-08-21T17:55:38.483Z] Host.Functions.openai-health
[2025-08-21T17:55:38.483Z] Host.Functions.performance-stats
[2025-08-21T17:55:38.483Z] Host.Functions.testFunction
[2025-08-21T17:55:38.483Z] Host.Functions.testSimple
[2025-08-21T17:55:38.483Z] 
[2025-08-21T17:55:38.483Z] HttpOptions
[2025-08-21T17:55:38.483Z] {
[2025-08-21T17:55:38.483Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T17:55:38.483Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T17:55:38.483Z]   "MaxConcurrentRequests": -1,
[2025-08-21T17:55:38.483Z]   "MaxOutstandingRequests": -1,
[2025-08-21T17:55:38.483Z]   "RoutePrefix": "api"
[2025-08-21T17:55:38.483Z] }
[2025-08-21T17:55:38.483Z] Initializing function HTTP routes
[2025-08-21T17:55:38.483Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T17:55:38.483Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T17:55:38.483Z] 
[2025-08-21T17:55:38.483Z] Host initialized (201ms)
[2025-08-21T17:55:38.483Z] Host started (201ms)
[2025-08-21T17:55:38.483Z] Job host started
[2025-08-21T17:55:38.483Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T17:55:38.483Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T17:55:38.520Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T17:55:38.520Z] ✅ OpenAI initialized for image analysis
[2025-08-21T17:55:38.520Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:55:38.520Z] 🎯 Using deployment: gpt-4o
[2025-08-21T17:55:38.558Z] Host restarted.
[2025-08-21T17:55:38.565Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T17:55:38.565Z] 🔍 Current env vars:
[2025-08-21T17:55:38.565Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T17:55:38.565Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T17:55:38.565Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T17:55:38.565Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:55:38.565Z]   Deployment: gpt-4o
[2025-08-21T17:55:38.565Z]   API Version: 2024-08-01-preview
[2025-08-21T17:55:38.565Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T17:55:38.565Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T17:55:38.565Z] ✅ OpenAI client initialized successfully
[2025-08-21T17:55:38.565Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:55:38.565Z] 🎯 Using deployment: gpt-4o
[2025-08-21T17:55:38.566Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T17:55:38.570Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.570Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.570Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.570Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.570Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.570Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:55:38.570Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.570Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:55:38.570Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.570Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: '38f82e5c-a217-4bf5-a282-cc50f5336987'.
[2025-08-21T17:55:38.571Z] Worker failed to load function: 'figmaOAuthStart' with functionId: '19a1a17d-ae04-482d-add9-bb949b0dd39b'.
[2025-08-21T17:55:38.571Z] Result: Failure
[2025-08-21T17:55:38.571Z] Result: Failure
[2025-08-21T17:55:38.571Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:55:38.571Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:55:38.571Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T17:55:38.571Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2
[2025-08-21T17:55:38.571Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T17:55:38.571Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T17:55:38.571Z]                    ^^^^^
[2025-08-21T17:55:38.571Z]                    ^^^^^
[2025-08-21T17:55:38.571Z] 
[2025-08-21T17:55:38.571Z] 
[2025-08-21T17:55:38.571Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T17:55:38.571Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T17:55:38.571Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T17:55:38.571Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T17:55:38.571Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)

[2025-08-21T17:55:38.571Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T17:55:38.571Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T17:55:38.571Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T17:55:38.571Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T17:55:38.571Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T17:55:38.571Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T17:55:38.571Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T17:55:38.571Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T17:55:38.571Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T17:55:38.571Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z]     at Generator.next (<anonymous>).
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T17:55:38.571Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z]     at Generator.next (<anonymous>).
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:38.571Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd received FunctionLoadRequest
[2025-08-21T17:55:43.292Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T17:55:49.811Z] Restarting host.
[2025-08-21T17:55:49.815Z] Stopping JobHost
[2025-08-21T17:55:49.816Z] Job host stopped
[2025-08-21T17:55:49.818Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '0b899277-8cae-4f7c-9691-a6c3b7e3667d'
[2025-08-21T17:55:49.887Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T17:55:49.887Z] Host configuration file read:
[2025-08-21T17:55:49.887Z] {
[2025-08-21T17:55:49.887Z]   "version": "2.0",
[2025-08-21T17:55:49.887Z]   "functionTimeout": "00:05:00",
[2025-08-21T17:55:49.887Z]   "logging": {
[2025-08-21T17:55:49.887Z]     "applicationInsights": {
[2025-08-21T17:55:49.887Z]       "samplingSettings": {
[2025-08-21T17:55:49.887Z]         "isEnabled": true,
[2025-08-21T17:55:49.887Z]         "excludedTypes": "Request"
[2025-08-21T17:55:49.887Z]       }
[2025-08-21T17:55:49.887Z]     },
[2025-08-21T17:55:49.887Z]     "logLevel": {
[2025-08-21T17:55:49.887Z]       "default": "Information",
[2025-08-21T17:55:49.887Z]       "Host.Results": "Information",
[2025-08-21T17:55:49.887Z]       "Function": "Information"
[2025-08-21T17:55:49.887Z]     }
[2025-08-21T17:55:49.887Z]   },
[2025-08-21T17:55:49.887Z]   "extensionBundle": {
[2025-08-21T17:55:49.887Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T17:55:49.887Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T17:55:49.887Z]   },
[2025-08-21T17:55:49.887Z]   "watchDirectories": [
[2025-08-21T17:55:49.887Z]     "Shared"
[2025-08-21T17:55:49.887Z]   ]
[2025-08-21T17:55:49.887Z] }
[2025-08-21T17:55:49.888Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T17:55:49.888Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:55:49.888Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:55:49.888Z] Loading functions metadata
[2025-08-21T17:55:49.889Z] Worker indexing is enabled
[2025-08-21T17:55:49.889Z] Fetching metadata for workerRuntime: node
[2025-08-21T17:55:49.889Z] Reading functions metadata (Worker)
[2025-08-21T17:55:49.889Z] Shutting down language worker channels for runtime:node
[2025-08-21T17:55:49.893Z] Worker a29b5def-5f80-4666-b738-e5a53730dddd exited with code 0
[2025-08-21T17:55:50.010Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a connecting on 127.0.0.1:57999
[2025-08-21T17:55:50.036Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received WorkerInitRequest
[2025-08-21T17:55:50.039Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionsMetadataRequest
[2025-08-21T17:55:50.039Z] Reading functions metadata (Host)
[2025-08-21T17:55:50.271Z] 21 functions found (Host)
[2025-08-21T17:55:50.271Z] 21 functions loaded
[2025-08-21T17:55:50.272Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-08-21T17:55:50.272Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:55:50.272Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:55:50.272Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-08-21T17:55:50.447Z] Applying platform release channel configuration LATEST. Bundle version 4.24.2 will be used
[2025-08-21T17:55:50.447Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2
[2025-08-21T17:55:50.447Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin
[2025-08-21T17:55:50.447Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.24.2/bin'.
[2025-08-21T17:55:50.547Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-08-21T17:55:50.547Z] Host configuration file read:
[2025-08-21T17:55:50.547Z] {
[2025-08-21T17:55:50.547Z]   "version": "2.0",
[2025-08-21T17:55:50.547Z]   "functionTimeout": "00:05:00",
[2025-08-21T17:55:50.547Z]   "logging": {
[2025-08-21T17:55:50.547Z]     "applicationInsights": {
[2025-08-21T17:55:50.547Z]       "samplingSettings": {
[2025-08-21T17:55:50.547Z]         "isEnabled": true,
[2025-08-21T17:55:50.547Z]         "excludedTypes": "Request"
[2025-08-21T17:55:50.547Z]       }
[2025-08-21T17:55:50.547Z]     },
[2025-08-21T17:55:50.547Z]     "logLevel": {
[2025-08-21T17:55:50.547Z]       "default": "Information",
[2025-08-21T17:55:50.547Z]       "Host.Results": "Information",
[2025-08-21T17:55:50.547Z]       "Function": "Information"
[2025-08-21T17:55:50.547Z]     }
[2025-08-21T17:55:50.547Z]   },
[2025-08-21T17:55:50.547Z]   "extensionBundle": {
[2025-08-21T17:55:50.547Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-08-21T17:55:50.547Z]     "version": "[4.*, 5.0.0)"
[2025-08-21T17:55:50.547Z]   },
[2025-08-21T17:55:50.547Z]   "watchDirectories": [
[2025-08-21T17:55:50.547Z]     "Shared"
[2025-08-21T17:55:50.547Z]   ]
[2025-08-21T17:55:50.547Z] }
[2025-08-21T17:55:50.594Z] Initializing Warmup Extension.
[2025-08-21T17:55:50.595Z] Initializing Host. OperationId: '0b899277-8cae-4f7c-9691-a6c3b7e3667d'.
[2025-08-21T17:55:50.595Z] Host initialization: ConsecutiveErrors=0, StartupCount=7, OperationId=0b899277-8cae-4f7c-9691-a6c3b7e3667d
[2025-08-21T17:55:50.597Z] LoggerFilterOptions
[2025-08-21T17:55:50.597Z] {
[2025-08-21T17:55:50.597Z]   "MinLevel": "None",
[2025-08-21T17:55:50.597Z]   "Rules": [
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T17:55:50.597Z]       "LogLevel": "None",
[2025-08-21T17:55:50.597Z]       "Filter": null
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": "None",
[2025-08-21T17:55:50.597Z]       "Filter": null
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": null,
[2025-08-21T17:55:50.597Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": null,
[2025-08-21T17:55:50.597Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": null,
[2025-08-21T17:55:50.597Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": "Host.Results",
[2025-08-21T17:55:50.597Z]       "LogLevel": "Information",
[2025-08-21T17:55:50.597Z]       "Filter": null
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": "Function",
[2025-08-21T17:55:50.597Z]       "LogLevel": "Information",
[2025-08-21T17:55:50.597Z]       "Filter": null
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": "Information",
[2025-08-21T17:55:50.597Z]       "Filter": null
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": "None",
[2025-08-21T17:55:50.597Z]       "Filter": null
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": null,
[2025-08-21T17:55:50.597Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": null,
[2025-08-21T17:55:50.597Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.597Z]     }
[2025-08-21T17:55:50.597Z]   ]
[2025-08-21T17:55:50.597Z] }
[2025-08-21T17:55:50.597Z] LoggerFilterOptions
[2025-08-21T17:55:50.597Z] {
[2025-08-21T17:55:50.597Z]   "MinLevel": "None",
[2025-08-21T17:55:50.597Z]   "Rules": [
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-08-21T17:55:50.597Z]       "LogLevel": "None",
[2025-08-21T17:55:50.597Z]       "Filter": null
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": "None",
[2025-08-21T17:55:50.597Z]       "Filter": null
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": null,
[2025-08-21T17:55:50.597Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": null,
[2025-08-21T17:55:50.597Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.597Z]     },
[2025-08-21T17:55:50.597Z]     {
[2025-08-21T17:55:50.597Z]       "ProviderName": null,
[2025-08-21T17:55:50.597Z]       "CategoryName": null,
[2025-08-21T17:55:50.597Z]       "LogLevel": null,
[2025-08-21T17:55:50.597Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.598Z]     },
[2025-08-21T17:55:50.598Z]     {
[2025-08-21T17:55:50.598Z]       "ProviderName": null,
[2025-08-21T17:55:50.598Z]       "CategoryName": "Host.Results",
[2025-08-21T17:55:50.598Z]       "LogLevel": "Information",
[2025-08-21T17:55:50.598Z]       "Filter": null
[2025-08-21T17:55:50.598Z]     },
[2025-08-21T17:55:50.598Z]     {
[2025-08-21T17:55:50.598Z]       "ProviderName": null,
[2025-08-21T17:55:50.598Z]       "CategoryName": "Function",
[2025-08-21T17:55:50.598Z]       "LogLevel": "Information",
[2025-08-21T17:55:50.598Z]       "Filter": null
[2025-08-21T17:55:50.598Z]     },
[2025-08-21T17:55:50.598Z]     {
[2025-08-21T17:55:50.598Z]       "ProviderName": null,
[2025-08-21T17:55:50.598Z]       "CategoryName": null,
[2025-08-21T17:55:50.598Z]       "LogLevel": "Information",
[2025-08-21T17:55:50.598Z]       "Filter": null
[2025-08-21T17:55:50.598Z]     },
[2025-08-21T17:55:50.598Z]     {
[2025-08-21T17:55:50.598Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:55:50.598Z]       "CategoryName": null,
[2025-08-21T17:55:50.598Z]       "LogLevel": "None",
[2025-08-21T17:55:50.598Z]       "Filter": null
[2025-08-21T17:55:50.598Z]     },
[2025-08-21T17:55:50.598Z]     {
[2025-08-21T17:55:50.598Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-08-21T17:55:50.598Z]       "CategoryName": null,
[2025-08-21T17:55:50.598Z]       "LogLevel": null,
[2025-08-21T17:55:50.598Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.598Z]     },
[2025-08-21T17:55:50.598Z]     {
[2025-08-21T17:55:50.598Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-08-21T17:55:50.598Z]       "CategoryName": null,
[2025-08-21T17:55:50.598Z]       "LogLevel": null,
[2025-08-21T17:55:50.598Z]       "Filter": "<AddFilter>b__0"
[2025-08-21T17:55:50.598Z]     }
[2025-08-21T17:55:50.598Z]   ]
[2025-08-21T17:55:50.598Z] }
[2025-08-21T17:55:50.598Z] FunctionResultAggregatorOptions
[2025-08-21T17:55:50.598Z] {
[2025-08-21T17:55:50.598Z]   "BatchSize": 1000,
[2025-08-21T17:55:50.598Z]   "FlushTimeout": "00:00:30",
[2025-08-21T17:55:50.598Z]   "IsEnabled": true
[2025-08-21T17:55:50.598Z] }
[2025-08-21T17:55:50.598Z] ConcurrencyOptions
[2025-08-21T17:55:50.598Z] {
[2025-08-21T17:55:50.598Z]   "DynamicConcurrencyEnabled": false,
[2025-08-21T17:55:50.598Z]   "MaximumFunctionConcurrency": 500,
[2025-08-21T17:55:50.598Z]   "CPUThreshold": 0.8,
[2025-08-21T17:55:50.598Z]   "SnapshotPersistenceEnabled": true
[2025-08-21T17:55:50.598Z] }
[2025-08-21T17:55:50.598Z] SingletonOptions
[2025-08-21T17:55:50.598Z] {
[2025-08-21T17:55:50.598Z]   "LockPeriod": "00:00:15",
[2025-08-21T17:55:50.598Z]   "ListenerLockPeriod": "00:00:15",
[2025-08-21T17:55:50.598Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-08-21T17:55:50.598Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-08-21T17:55:50.598Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-08-21T17:55:50.598Z] }
[2025-08-21T17:55:50.598Z] ScaleOptions
[2025-08-21T17:55:50.598Z] {
[2025-08-21T17:55:50.598Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-08-21T17:55:50.598Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-08-21T17:55:50.598Z]   "MetricsPurgeEnabled": true,
[2025-08-21T17:55:50.598Z]   "IsTargetScalingEnabled": true,
[2025-08-21T17:55:50.598Z]   "IsRuntimeScalingEnabled": false
[2025-08-21T17:55:50.598Z] }
[2025-08-21T17:55:50.598Z] Starting JobHost
[2025-08-21T17:55:50.598Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=1ef7517a-2950-48d2-883b-0ee6f15fae1b, Version=4.1040.300.25317, ProcessId=81368, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-08-21T17:55:50.598Z] Loading functions metadata
[2025-08-21T17:55:50.598Z] Worker indexing is enabled
[2025-08-21T17:55:50.598Z] Fetching metadata for workerRuntime: node
[2025-08-21T17:55:50.598Z] Reading functions metadata (Worker)
[2025-08-21T17:55:50.598Z] Reading functions metadata (Host)
[2025-08-21T17:55:50.768Z] 21 functions found (Host)
[2025-08-21T17:55:50.768Z] Reading functions metadata (Custom)
[2025-08-21T17:55:50.768Z] 0 functions found (Custom)
[2025-08-21T17:55:50.768Z] 21 functions loaded
[2025-08-21T17:55:50.769Z] Generating 21 job function(s)
[2025-08-21T17:55:50.769Z] Worker process started and initialized.
[2025-08-21T17:55:50.777Z] Found the following functions:
[2025-08-21T17:55:50.777Z] Host.Functions.aiBuilderHealth
[2025-08-21T17:55:50.777Z] Host.Functions.analytics
[2025-08-21T17:55:50.777Z] Host.Functions.analyzeUIImage
[2025-08-21T17:55:50.777Z] Host.Functions.atlasComponents
[2025-08-21T17:55:50.777Z] Host.Functions.fast-suggestions
[2025-08-21T17:55:50.777Z] Host.Functions.figmaOAuthCallback
[2025-08-21T17:55:50.777Z] Host.Functions.figmaOAuthStart
[2025-08-21T17:55:50.777Z] Host.Functions.generateSuggestions
[2025-08-21T17:55:50.777Z] Host.Functions.generateWireframe
[2025-08-21T17:55:50.777Z] Host.Functions.generateWireframeAlias
[2025-08-21T17:55:50.777Z] Host.Functions.generateWireframeEnhanced
[2025-08-21T17:55:50.777Z] Host.Functions.generateWireframeOptionB
[2025-08-21T17:55:50.777Z] Host.Functions.get-template
[2025-08-21T17:55:50.777Z] Host.Functions.githubAuthCallback
[2025-08-21T17:55:50.777Z] Host.Functions.githubAuthStart
[2025-08-21T17:55:50.777Z] Host.Functions.health
[2025-08-21T17:55:50.777Z] Host.Functions.healthCheck
[2025-08-21T17:55:50.777Z] Host.Functions.openai-health
[2025-08-21T17:55:50.777Z] Host.Functions.performance-stats
[2025-08-21T17:55:50.777Z] Host.Functions.testFunction
[2025-08-21T17:55:50.777Z] Host.Functions.testSimple
[2025-08-21T17:55:50.777Z] 
[2025-08-21T17:55:50.778Z] HttpOptions
[2025-08-21T17:55:50.778Z] {
[2025-08-21T17:55:50.778Z]   "DynamicThrottlesEnabled": false,
[2025-08-21T17:55:50.778Z]   "EnableChunkedRequestBinding": false,
[2025-08-21T17:55:50.778Z]   "MaxConcurrentRequests": -1,
[2025-08-21T17:55:50.778Z]   "MaxOutstandingRequests": -1,
[2025-08-21T17:55:50.778Z]   "RoutePrefix": "api"
[2025-08-21T17:55:50.778Z] }
[2025-08-21T17:55:50.778Z] Initializing function HTTP routes
[2025-08-21T17:55:50.778Z] Mapped function route 'api/ai-builder/health' [get] to 'aiBuilderHealth'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/analytics' [get,options] to 'analytics'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/fast-suggestions' [get,post,options] to 'fast-suggestions'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/generate-wireframe' [post,options] to 'generateWireframeAlias'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/generateWireframeOptionB' [get,post,options] to 'generateWireframeOptionB'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/health' [get] to 'health'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/healthCheck' [get] to 'healthCheck'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/performance-stats' [get] to 'performance-stats'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/test-wireframe' [get,post,options] to 'testFunction'
[2025-08-21T17:55:50.778Z] Mapped function route 'api/test-simple' [get,post] to 'testSimple'
[2025-08-21T17:55:50.778Z] 
[2025-08-21T17:55:50.778Z] Host initialized (179ms)
[2025-08-21T17:55:50.778Z] Host started (179ms)
[2025-08-21T17:55:50.778Z] Job host started
[2025-08-21T17:55:50.778Z] The 'frontend' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T17:55:50.778Z] The 'wireframeAnalyze' function is in error: Error reading JObject from JsonReader. Path '', line 0, position 0.
[2025-08-21T17:55:50.808Z] 🔧 Initializing OpenAI for image analysis...
[2025-08-21T17:55:50.809Z] ✅ OpenAI initialized for image analysis
[2025-08-21T17:55:50.809Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:55:50.809Z] 🎯 Using deployment: gpt-4o
[2025-08-21T17:55:50.844Z] 📁 AZURE_OPENAI_KEY already set, skipping local.settings.json
[2025-08-21T17:55:50.844Z] 🔍 Current env vars:
[2025-08-21T17:55:50.844Z]   AZURE_OPENAI_KEY: CnGZHVd6QV...
[2025-08-21T17:55:50.844Z]   AZURE_OPENAI_ENDPOINT: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/
[2025-08-21T17:55:50.844Z] 🔍 DEBUG OpenAI Config:
[2025-08-21T17:55:50.844Z]   Endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:55:50.844Z]   Deployment: gpt-4o
[2025-08-21T17:55:50.844Z]   API Version: 2024-08-01-preview
[2025-08-21T17:55:50.844Z]   API Key starts with: CnGZHVd6QV...
[2025-08-21T17:55:50.844Z]   Base URL: https://cog-designetica-vdlmicyosd4ua.openai.azure.com/openai/deployments/gpt-4o
[2025-08-21T17:55:50.844Z] ✅ OpenAI client initialized successfully
[2025-08-21T17:55:50.844Z] 🔑 Using endpoint: https://cog-designetica-vdlmicyosd4ua.openai.azure.com
[2025-08-21T17:55:50.844Z] 🎯 Using deployment: gpt-4o
[2025-08-21T17:55:50.845Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-08-21T17:55:50.846Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.846Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.849Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.849Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.849Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.849Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:55:50.850Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.851Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:55:50.850Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.851Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker failed to load function: 'figmaOAuthCallback' with functionId: 'adf9b0db-442c-4746-837a-829b39e1ea16'.
[2025-08-21T17:55:50.851Z] Result: Failure
[2025-08-21T17:55:50.851Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest[2025-08-21T17:55:50.851Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.851Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.851Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.851Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.850Z] Worker failed to load function: 'figmaOAuthStart' with functionId: 'd7f30172-a0fd-430b-a507-787700e52095'.
[2025-08-21T17:55:50.851Z] Result: Failure
[2025-08-21T17:55:50.851Z] Exception: Worker was unable to load function figmaOAuthCallback: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:55:50.851Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthCallback/index.js:2

[2025-08-21T17:55:50.851Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T17:55:50.850Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionLoadRequest
[2025-08-21T17:55:50.851Z] Exception: Worker was unable to load function figmaOAuthStart: 'await is only valid in async functions and the top level bodies of modules'
[2025-08-21T17:55:50.851Z]                    ^^^^^
[2025-08-21T17:55:50.851Z] 
[2025-08-21T17:55:50.851Z] Stack: /Users/carlosmarinburgos/designetica/backend/figmaOAuthStart/index.js:2
[2025-08-21T17:55:50.851Z] const figmaSetup = await import("../../figma-oauth2-setup.js");
[2025-08-21T17:55:50.851Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T17:55:50.851Z]                    ^^^^^
[2025-08-21T17:55:50.851Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T17:55:50.852Z] 
[2025-08-21T17:55:50.852Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T17:55:50.852Z] SyntaxError: await is only valid in async functions and the top level bodies of modules
[2025-08-21T17:55:50.852Z]     at wrapSafe (node:internal/modules/cjs/loader:1378:20)
[2025-08-21T17:55:50.852Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T17:55:50.852Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T17:55:50.852Z]     at Module._compile (node:internal/modules/cjs/loader:1428:41)
[2025-08-21T17:55:50.852Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T17:55:50.852Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T17:55:50.852Z]     at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
[2025-08-21T17:55:50.852Z]     at Module.load (node:internal/modules/cjs/loader:1288:32)
[2025-08-21T17:55:50.852Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T17:55:50.852Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T17:55:50.852Z]     at Module._load (node:internal/modules/cjs/loader:1104:12)
[2025-08-21T17:55:50.852Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T17:55:50.852Z]     at Generator.next (<anonymous>).
[2025-08-21T17:55:50.852Z]     at Module.require (node:internal/modules/cjs/loader:1311:19)
[2025-08-21T17:55:50.852Z]     at Object.apply (/Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:52368)
[2025-08-21T17:55:50.852Z]     at require (node:internal/modules/helpers:179:18)
[2025-08-21T17:55:50.852Z]     at /Users/carlosmarinburgos/.nvm/versions/node/v20.17.0/lib/node_modules/azure-functions-core-tools/bin/workers/node/dist/src/worker-bundle.js:2:49951
[2025-08-21T17:55:50.852Z]     at Generator.next (<anonymous>).
[2025-08-21T17:55:50.854Z] Host restarted.
[2025-08-21T17:55:55.599Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-08-21T17:56:07.745Z] Executing HTTP request: {
[2025-08-21T17:56:07.746Z]   "requestId": "fa3633a3-0702-4932-a4d8-3b825c1ae67b",
[2025-08-21T17:56:07.746Z]   "method": "POST",
[2025-08-21T17:56:07.746Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
[2025-08-21T17:56:07.746Z]   "uri": "/api/generate-wireframe-enhanced"
[2025-08-21T17:56:07.746Z] }
[2025-08-21T17:56:07.812Z] Executing 'Functions.generateWireframeEnhanced' (Reason='This function was programmatically called via the host APIs.', Id=5715efb8-0d79-4d73-98c2-b6a54f4078fc)
[2025-08-21T17:56:08.092Z] Worker 04665e7d-65c3-429f-a6c9-a9ff0674724a received FunctionInvocationRequest with invocationId 5715efb8-0d79-4d73-98c2-b6a54f4078fc
[2025-08-21T17:56:16.085Z] 🎨 Processing wireframe for Atlas components...
[2025-08-21T17:56:16.086Z] 🔍 Atlas component check (ENHANCED):
[2025-08-21T17:56:16.086Z]     Description: "Hero section with call-to-action"
[2025-08-21T17:56:16.086Z]     Contains learning keywords: false
[2025-08-21T17:56:16.086Z]     Is hero section exclusion: true
[2025-08-21T17:56:16.086Z]     Final isLearningPlatform: false
[2025-08-21T17:56:16.086Z] ℹ️ Not a learning platform, skipping Atlas components
[2025-08-21T17:56:16.093Z] Executed 'Functions.generateWireframeEnhanced' (Succeeded, Id=5715efb8-0d79-4d73-98c2-b6a54f4078fc, Duration=8297ms)
[2025-08-21T17:56:16.094Z] Executed HTTP request: {
[2025-08-21T17:56:16.094Z]   "requestId": "fa3633a3-0702-4932-a4d8-3b825c1ae67b",
[2025-08-21T17:56:16.094Z]   "identities": "",
[2025-08-21T17:56:16.094Z]   "status": "200",
[2025-08-21T17:56:16.094Z]   "duration": "8352"
[2025-08-21T17:56:16.094Z] }
