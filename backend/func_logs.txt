
Azure Functions Core Tools
Core Tools Version:       4.2.2+78afd8b84c8e31f0ddac570ba9e8128eefbd3d4a (64-bit)
Function Runtime Version: 4.1041.200.25360

[2025-09-16T02:29:19.451Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '7ff3db4b-43d6-4aac-8c89-9cdb75c51e4b'
[2025-09-16T02:29:19.499Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:29:19.499Z] Host configuration file read:
[2025-09-16T02:29:19.500Z] {
[2025-09-16T02:29:19.500Z]   "version": "2.0",
[2025-09-16T02:29:19.500Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:29:19.500Z]   "functions": [
[2025-09-16T02:29:19.500Z]     "addFigmaComponent",
[2025-09-16T02:29:19.500Z]     "analyzeImage",
[2025-09-16T02:29:19.500Z]     "analyzeUIImage",
[2025-09-16T02:29:19.500Z]     "atlasComponents",
[2025-09-16T02:29:19.500Z]     "directImageToWireframe",
[2025-09-16T02:29:19.500Z]     "figmaComponents",
[2025-09-16T02:29:19.500Z]     "figmaImport",
[2025-09-16T02:29:19.500Z]     "figmaNodeImporter",
[2025-09-16T02:29:19.500Z]     "figmaOAuthCallback",
[2025-09-16T02:29:19.500Z]     "figmaOAuthStart",
[2025-09-16T02:29:19.500Z]     "generateSuggestions",
[2025-09-16T02:29:19.500Z]     "generateWireframe",
[2025-09-16T02:29:19.500Z]     "generateWireframeEnhanced",
[2025-09-16T02:29:19.500Z]     "get-template",
[2025-09-16T02:29:19.500Z]     "githubAuthCallback",
[2025-09-16T02:29:19.500Z]     "githubAuthStart",
[2025-09-16T02:29:19.500Z]     "health",
[2025-09-16T02:29:19.500Z]     "openai-health",
[2025-09-16T02:29:19.500Z]     "testFigma",
[2025-09-16T02:29:19.500Z]     "updateThemeColors",
[2025-09-16T02:29:19.500Z]     "wireframeAnalyze",
[2025-09-16T02:29:19.500Z]     "frontend"
[2025-09-16T02:29:19.500Z]   ],
[2025-09-16T02:29:19.500Z]   "logging": {
[2025-09-16T02:29:19.500Z]     "applicationInsights": {
[2025-09-16T02:29:19.500Z]       "samplingSettings": {
[2025-09-16T02:29:19.500Z]         "isEnabled": true,
[2025-09-16T02:29:19.500Z]         "excludedTypes": "Request"
[2025-09-16T02:29:19.500Z]       }
[2025-09-16T02:29:19.500Z]     },
[2025-09-16T02:29:19.500Z]     "logLevel": {
[2025-09-16T02:29:19.500Z]       "default": "Information",
[2025-09-16T02:29:19.500Z]       "Host.Results": "Information",
[2025-09-16T02:29:19.500Z]       "Function": "Information"
[2025-09-16T02:29:19.500Z]     }
[2025-09-16T02:29:19.500Z]   },
[2025-09-16T02:29:19.500Z]   "extensionBundle": {
[2025-09-16T02:29:19.500Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:29:19.500Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:29:19.500Z]   },
[2025-09-16T02:29:19.500Z]   "watchDirectories": [
[2025-09-16T02:29:19.500Z]     "Shared"
[2025-09-16T02:29:19.500Z]   ]
[2025-09-16T02:29:19.500Z] }
[2025-09-16T02:29:19.509Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:29:19.510Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:29:19.510Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:29:19.548Z] Loading functions metadata
[2025-09-16T02:29:19.548Z] Worker indexing is enabled
[2025-09-16T02:29:19.549Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:29:19.549Z] Reading functions metadata (Worker)
[2025-09-16T02:29:19.663Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 connecting on 127.0.0.1:64048
[2025-09-16T02:29:21.759Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received WorkerInitRequest
[2025-09-16T02:29:21.799Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionsMetadataRequest
[2025-09-16T02:29:21.803Z] Reading functions metadata (Host)
[2025-09-16T02:29:22.067Z] 22 functions found (Host)
[2025-09-16T02:29:22.072Z] 22 functions loaded
[2025-09-16T02:29:22.074Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:29:22.074Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:29:22.074Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:29:22.074Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:29:22.377Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:29:22.377Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:29:22.386Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:29:22.386Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:29:22.445Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:29:22.445Z] Host configuration file read:
[2025-09-16T02:29:22.445Z] {
[2025-09-16T02:29:22.445Z]   "version": "2.0",
[2025-09-16T02:29:22.445Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:29:22.445Z]   "functions": [
[2025-09-16T02:29:22.445Z]     "addFigmaComponent",
[2025-09-16T02:29:22.445Z]     "analyzeImage",
[2025-09-16T02:29:22.445Z]     "analyzeUIImage",
[2025-09-16T02:29:22.445Z]     "atlasComponents",
[2025-09-16T02:29:22.445Z]     "directImageToWireframe",
[2025-09-16T02:29:22.445Z]     "figmaComponents",
[2025-09-16T02:29:22.445Z]     "figmaImport",
[2025-09-16T02:29:22.445Z]     "figmaNodeImporter",
[2025-09-16T02:29:22.445Z]     "figmaOAuthCallback",
[2025-09-16T02:29:22.445Z]     "figmaOAuthStart",
[2025-09-16T02:29:22.445Z]     "generateSuggestions",
[2025-09-16T02:29:22.446Z]     "generateWireframe",
[2025-09-16T02:29:22.446Z]     "generateWireframeEnhanced",
[2025-09-16T02:29:22.446Z]     "get-template",
[2025-09-16T02:29:22.446Z]     "githubAuthCallback",
[2025-09-16T02:29:22.446Z]     "githubAuthStart",
[2025-09-16T02:29:22.446Z]     "health",
[2025-09-16T02:29:22.446Z]     "openai-health",
[2025-09-16T02:29:22.446Z]     "testFigma",
[2025-09-16T02:29:22.446Z]     "updateThemeColors",
[2025-09-16T02:29:22.446Z]     "wireframeAnalyze",
[2025-09-16T02:29:22.446Z]     "frontend"
[2025-09-16T02:29:22.446Z]   ],
[2025-09-16T02:29:22.446Z]   "logging": {
[2025-09-16T02:29:22.446Z]     "applicationInsights": {
[2025-09-16T02:29:22.446Z]       "samplingSettings": {
[2025-09-16T02:29:22.446Z]         "isEnabled": true,
[2025-09-16T02:29:22.446Z]         "excludedTypes": "Request"
[2025-09-16T02:29:22.446Z]       }
[2025-09-16T02:29:22.446Z]     },
[2025-09-16T02:29:22.446Z]     "logLevel": {
[2025-09-16T02:29:22.446Z]       "default": "Information",
[2025-09-16T02:29:22.446Z]       "Host.Results": "Information",
[2025-09-16T02:29:22.446Z]       "Function": "Information"
[2025-09-16T02:29:22.446Z]     }
[2025-09-16T02:29:22.446Z]   },
[2025-09-16T02:29:22.446Z]   "extensionBundle": {
[2025-09-16T02:29:22.446Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:29:22.446Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:29:22.446Z]   },
[2025-09-16T02:29:22.446Z]   "watchDirectories": [
[2025-09-16T02:29:22.446Z]     "Shared"
[2025-09-16T02:29:22.446Z]   ]
[2025-09-16T02:29:22.446Z] }
[2025-09-16T02:29:22.465Z] Starting host metrics provider.
[2025-09-16T02:29:22.528Z] Initializing Warmup Extension.
[2025-09-16T02:29:22.545Z] Initializing Host. OperationId: '7ff3db4b-43d6-4aac-8c89-9cdb75c51e4b'.
[2025-09-16T02:29:22.547Z] Host initialization: ConsecutiveErrors=0, StartupCount=1, OperationId=7ff3db4b-43d6-4aac-8c89-9cdb75c51e4b
[2025-09-16T02:29:22.558Z] LoggerFilterOptions
[2025-09-16T02:29:22.558Z] {
[2025-09-16T02:29:22.558Z]   "MinLevel": "None",
[2025-09-16T02:29:22.558Z]   "Rules": [
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:29:22.558Z]       "LogLevel": "None",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": "None",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": null,
[2025-09-16T02:29:22.558Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": null,
[2025-09-16T02:29:22.558Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": null,
[2025-09-16T02:29:22.558Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": "Host.Results",
[2025-09-16T02:29:22.558Z]       "LogLevel": "Information",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": "Function",
[2025-09-16T02:29:22.558Z]       "LogLevel": "Information",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": "Information",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": "None",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": null,
[2025-09-16T02:29:22.558Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": null,
[2025-09-16T02:29:22.558Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.558Z]     }
[2025-09-16T02:29:22.558Z]   ]
[2025-09-16T02:29:22.558Z] }
[2025-09-16T02:29:22.558Z] LoggerFilterOptions
[2025-09-16T02:29:22.558Z] {
[2025-09-16T02:29:22.558Z]   "MinLevel": "None",
[2025-09-16T02:29:22.558Z]   "Rules": [
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:29:22.558Z]       "LogLevel": "None",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": "None",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": null,
[2025-09-16T02:29:22.558Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": null,
[2025-09-16T02:29:22.558Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": null,
[2025-09-16T02:29:22.558Z]       "LogLevel": null,
[2025-09-16T02:29:22.558Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": "Host.Results",
[2025-09-16T02:29:22.558Z]       "LogLevel": "Information",
[2025-09-16T02:29:22.558Z]       "Filter": null
[2025-09-16T02:29:22.558Z]     },
[2025-09-16T02:29:22.558Z]     {
[2025-09-16T02:29:22.558Z]       "ProviderName": null,
[2025-09-16T02:29:22.558Z]       "CategoryName": "Function",
[2025-09-16T02:29:22.559Z]       "LogLevel": "Information",
[2025-09-16T02:29:22.559Z]       "Filter": null
[2025-09-16T02:29:22.559Z]     },
[2025-09-16T02:29:22.559Z]     {
[2025-09-16T02:29:22.559Z]       "ProviderName": null,
[2025-09-16T02:29:22.559Z]       "CategoryName": null,
[2025-09-16T02:29:22.559Z]       "LogLevel": "Information",
[2025-09-16T02:29:22.559Z]       "Filter": null
[2025-09-16T02:29:22.559Z]     },
[2025-09-16T02:29:22.559Z]     {
[2025-09-16T02:29:22.559Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:29:22.559Z]       "CategoryName": null,
[2025-09-16T02:29:22.559Z]       "LogLevel": "None",
[2025-09-16T02:29:22.559Z]       "Filter": null
[2025-09-16T02:29:22.559Z]     },
[2025-09-16T02:29:22.559Z]     {
[2025-09-16T02:29:22.559Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:29:22.559Z]       "CategoryName": null,
[2025-09-16T02:29:22.559Z]       "LogLevel": null,
[2025-09-16T02:29:22.559Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.559Z]     },
[2025-09-16T02:29:22.559Z]     {
[2025-09-16T02:29:22.559Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:29:22.559Z]       "CategoryName": null,
[2025-09-16T02:29:22.559Z]       "LogLevel": null,
[2025-09-16T02:29:22.559Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:29:22.559Z]     }
[2025-09-16T02:29:22.559Z]   ]
[2025-09-16T02:29:22.559Z] }
[2025-09-16T02:29:22.559Z] FunctionResultAggregatorOptions
[2025-09-16T02:29:22.559Z] {
[2025-09-16T02:29:22.559Z]   "BatchSize": 1000,
[2025-09-16T02:29:22.559Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:29:22.559Z]   "IsEnabled": true
[2025-09-16T02:29:22.559Z] }
[2025-09-16T02:29:22.559Z] ConcurrencyOptions
[2025-09-16T02:29:22.559Z] {
[2025-09-16T02:29:22.559Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:29:22.559Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:29:22.559Z]   "CPUThreshold": 0.8,
[2025-09-16T02:29:22.559Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:29:22.559Z] }
[2025-09-16T02:29:22.559Z] SingletonOptions
[2025-09-16T02:29:22.559Z] {
[2025-09-16T02:29:22.559Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:29:22.559Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:29:22.559Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:29:22.559Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:29:22.559Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:29:22.559Z] }
[2025-09-16T02:29:22.559Z] ScaleOptions
[2025-09-16T02:29:22.559Z] {
[2025-09-16T02:29:22.559Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:29:22.559Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:29:22.559Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:29:22.559Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:29:22.559Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:29:22.559Z] }
[2025-09-16T02:29:22.559Z] Starting JobHost
[2025-09-16T02:29:22.560Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=2454003b-1127-46c2-8bed-80f6ec771ed1, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:29:22.562Z] Loading functions metadata
[2025-09-16T02:29:22.562Z] Worker indexing is enabled
[2025-09-16T02:29:22.562Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:29:22.562Z] Reading functions metadata (Worker)
[2025-09-16T02:29:22.562Z] Reading functions metadata (Host)
[2025-09-16T02:29:22.807Z] 22 functions found (Host)
[2025-09-16T02:29:22.808Z] Reading functions metadata (Custom)
[2025-09-16T02:29:22.811Z] 0 functions found (Custom)
[2025-09-16T02:29:22.811Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:29:22.812Z] 21 functions loaded
[2025-09-16T02:29:22.826Z] Generating 21 job function(s)
[2025-09-16T02:29:22.826Z] Worker process started and initialized.
[2025-09-16T02:29:22.845Z] Found the following functions:
[2025-09-16T02:29:22.845Z] Host.Functions.addFigmaComponent
[2025-09-16T02:29:22.845Z] Host.Functions.analyzeImage
[2025-09-16T02:29:22.845Z] Host.Functions.analyzeUIImage
[2025-09-16T02:29:22.845Z] Host.Functions.atlasComponents
[2025-09-16T02:29:22.845Z] Host.Functions.directImageToWireframe
[2025-09-16T02:29:22.845Z] Host.Functions.figmaComponents
[2025-09-16T02:29:22.845Z] Host.Functions.figmaImport
[2025-09-16T02:29:22.845Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:29:22.845Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:29:22.845Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:29:22.845Z] Host.Functions.frontend
[2025-09-16T02:29:22.845Z] Host.Functions.generateSuggestions
[2025-09-16T02:29:22.845Z] Host.Functions.generateWireframe
[2025-09-16T02:29:22.845Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:29:22.845Z] Host.Functions.get-template
[2025-09-16T02:29:22.845Z] Host.Functions.githubAuthCallback
[2025-09-16T02:29:22.845Z] Host.Functions.githubAuthStart
[2025-09-16T02:29:22.845Z] Host.Functions.health
[2025-09-16T02:29:22.845Z] Host.Functions.openai-health
[2025-09-16T02:29:22.845Z] Host.Functions.updateThemeColors
[2025-09-16T02:29:22.845Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:29:22.845Z] 
[2025-09-16T02:29:22.849Z] HttpOptions
[2025-09-16T02:29:22.849Z] {
[2025-09-16T02:29:22.849Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:29:22.849Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:29:22.849Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:29:22.849Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:29:22.849Z]   "RoutePrefix": "api"
[2025-09-16T02:29:22.849Z] }
[2025-09-16T02:29:22.849Z] Initializing function HTTP routes
[2025-09-16T02:29:22.849Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:29:22.849Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:29:22.849Z] 
[2025-09-16T02:29:22.851Z] Host initialized (288ms)
[2025-09-16T02:29:22.852Z] Host started (291ms)
[2025-09-16T02:29:22.852Z] Job host started

Functions:

	addFigmaComponent: [POST,OPTIONS] http://localhost:7071/api/addFigmaComponent

	analyzeImage: [POST,OPTIONS] http://localhost:7071/api/analyze-image

	analyzeUIImage: [POST,OPTIONS] http://localhost:7071/api/analyzeUIImage

	atlasComponents: [GET,OPTIONS] http://localhost:7071/api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}

	directImageToWireframe: [POST,OPTIONS] http://localhost:7071/api/direct-image-to-wireframe

	figmaComponents: [GET] http://localhost:7071/api/figma/components

	figmaImport: [POST,OPTIONS] http://localhost:7071/api/figma/import

	figmaNodeImporter: [POST,OPTIONS] http://localhost:7071/api/figmaNodeImporter

	figmaOAuthCallback: [GET,OPTIONS] http://localhost:7071/api/figmaOAuthCallback

	figmaOAuthStart: [GET,POST,OPTIONS] http://localhost:7071/api/figmaOAuthStart

	frontend: [GET] http://localhost:7071/api/{*path}

	generateSuggestions: [GET,POST,OPTIONS] http://localhost:7071/api/generate-suggestions

	generateWireframe: [POST,OPTIONS] http://localhost:7071/api/generate-html-wireframe

	generateWireframeEnhanced: [GET,POST,OPTIONS] http://localhost:7071/api/generate-wireframe-enhanced

	get-template: [POST,OPTIONS] http://localhost:7071/api/get-template

	githubAuthCallback: [GET] http://localhost:7071/api/github/auth/callback

	githubAuthStart: [GET] http://localhost:7071/api/github/auth/start

	health: [GET] http://localhost:7071/api/health

	openai-health: [GET,OPTIONS] http://localhost:7071/api/openai-health

	updateThemeColors: [POST,OPTIONS] http://localhost:7071/api/update-theme-colors

	wireframeAnalyze: [POST,OPTIONS] http://localhost:7071/api/wireframeAnalyze

For detailed output, run func with --verbose flag.
[2025-09-16T02:29:22.939Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: ⚙️  suppress all logs with { quiet: true }
[2025-09-16T02:29:22.940Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.940Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.941Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:29:22.944Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.944Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.945Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.945Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.945Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.945Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.945Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:22.946Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionLoadRequest
[2025-09-16T02:29:27.571Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:29:44.888Z] Executing HTTP request: {
[2025-09-16T02:29:44.888Z]   "requestId": "c172f172-a7fc-46de-a4fd-1b78e04860ba",
[2025-09-16T02:29:44.888Z]   "method": "GET",
[2025-09-16T02:29:44.888Z]   "userAgent": "curl/8.7.1",
[2025-09-16T02:29:44.888Z]   "uri": "/api/figmaOAuthCallback"
[2025-09-16T02:29:44.888Z] }
[2025-09-16T02:29:45.009Z] Executing 'Functions.figmaOAuthCallback' (Reason='This function was programmatically called via the host APIs.', Id=272e930a-bcd7-4beb-83e9-2b14cb1162b5)
[2025-09-16T02:29:45.052Z] 🔐 Figma OAuth2 Callback Handler
[2025-09-16T02:29:45.052Z] 🔄 Processing OAuth2 callback with code: test123...
[2025-09-16T02:29:45.052Z] 🔗 Using redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:29:45.052Z] 🔑 Client ID: 2079DJvSEX...
[2025-09-16T02:29:45.052Z] 🔐 Client Secret: Present
[2025-09-16T02:29:45.052Z] 📤 Request params: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=test123&grant_type=authorization_code
[2025-09-16T02:29:45.052Z] 🌍 NODE_ENV: development
[2025-09-16T02:29:45.052Z] 🔄 Exact redirect_uri being sent: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:29:45.094Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId 272e930a-bcd7-4beb-83e9-2b14cb1162b5
[2025-09-16T02:29:45.500Z] ❌ Full error details:
[2025-09-16T02:29:45.500Z] Status: 404
[2025-09-16T02:29:45.500Z] Headers: Object [AxiosHeaders] {
[2025-09-16T02:29:45.500Z]   'content-type': 'text/plain',
[2025-09-16T02:29:45.500Z]   'content-length': '9',
[2025-09-16T02:29:45.500Z]   connection: 'keep-alive',
[2025-09-16T02:29:45.500Z]   date: 'Tue, 16 Sep 2025 02:29:45 GMT',
[2025-09-16T02:29:45.500Z]   'x-content-type-options': 'nosniff',
[2025-09-16T02:29:45.500Z]   'x-cache': 'Error from cloudfront',
[2025-09-16T02:29:45.500Z]   via: '1.1 31dfa94142c6eaf975b0e5454c00340a.cloudfront.net (CloudFront)',
[2025-09-16T02:29:45.500Z]   'x-amz-cf-pop': 'SEA19-C3',
[2025-09-16T02:29:45.500Z]   'alt-svc': 'h3=":443"; ma=86400',
[2025-09-16T02:29:45.500Z]   'x-amz-cf-id': 'ZpV1CiTpQwbog9Qne2TCCojd8WvmnLfDWOBgT-89z8C4_0ed4bmSPw==',
[2025-09-16T02:29:45.500Z]   'strict-transport-security': 'max-age=31536000; includeSubDomains; preload'
[2025-09-16T02:29:45.500Z] }
[2025-09-16T02:29:45.500Z] Data: Not Found
[2025-09-16T02:29:45.500Z] Message: Request failed with status code 404
[2025-09-16T02:29:45.500Z] Config URL: https://www.figma.com/api/oauth/token
[2025-09-16T02:29:45.500Z] Config Data: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=test123&grant_type=authorization_code
[2025-09-16T02:29:45.501Z] ❌ Failed to exchange code for token: Not Found
[2025-09-16T02:29:45.516Z] Executed 'Functions.figmaOAuthCallback' (Succeeded, Id=272e930a-bcd7-4beb-83e9-2b14cb1162b5, Duration=517ms)
[2025-09-16T02:29:45.524Z] Executed HTTP request: {
[2025-09-16T02:29:45.524Z]   "requestId": "c172f172-a7fc-46de-a4fd-1b78e04860ba",
[2025-09-16T02:29:45.524Z]   "identities": "(WebJobsAuthLevel:Admin)",
[2025-09-16T02:29:45.524Z]   "status": "400",
[2025-09-16T02:29:45.524Z]   "duration": "636"
[2025-09-16T02:29:45.524Z] }
[2025-09-16T02:30:37.386Z] Executing HTTP request: {
[2025-09-16T02:30:37.387Z]   "requestId": "2356d995-be95-4a3d-b439-754e503b2abf",
[2025-09-16T02:30:37.387Z]   "method": "GET",
[2025-09-16T02:30:37.387Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:30:37.387Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:30:37.387Z] }
[2025-09-16T02:30:37.399Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=137dc048-4fa1-4468-beb3-abc9f8d747c2)
[2025-09-16T02:30:37.432Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:30:37.433Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:30:37.433Z]   hasClientId: true,
[2025-09-16T02:30:37.433Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:30:37.433Z]   hasClientSecret: true,
[2025-09-16T02:30:37.433Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:30:37.433Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:30:37.433Z] }
[2025-09-16T02:30:37.433Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:30:37.433Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:30:37.435Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId 137dc048-4fa1-4468-beb3-abc9f8d747c2
[2025-09-16T02:30:37.438Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=137dc048-4fa1-4468-beb3-abc9f8d747c2, Duration=47ms)
[2025-09-16T02:30:37.445Z] Executed HTTP request: {
[2025-09-16T02:30:37.445Z]   "requestId": "2356d995-be95-4a3d-b439-754e503b2abf",
[2025-09-16T02:30:37.445Z]   "identities": "",
[2025-09-16T02:30:37.445Z]   "status": "200",
[2025-09-16T02:30:37.445Z]   "duration": "57"
[2025-09-16T02:30:37.445Z] }
[2025-09-16T02:30:42.003Z] Executing HTTP request: {
[2025-09-16T02:30:42.004Z]   "requestId": "f299e683-2697-4440-9b37-2152f13cd162",
[2025-09-16T02:30:42.004Z]   "method": "GET",
[2025-09-16T02:30:42.004Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:30:42.004Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:30:42.004Z] }
[2025-09-16T02:30:42.017Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=b56b87c8-7517-47bb-99e4-d73359f5ed4b)
[2025-09-16T02:30:42.027Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:30:42.027Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:30:42.027Z]   hasClientId: true,
[2025-09-16T02:30:42.027Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:30:42.027Z]   hasClientSecret: true,
[2025-09-16T02:30:42.027Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:30:42.027Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:30:42.027Z] }
[2025-09-16T02:30:42.027Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:30:42.027Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:30:42.027Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId b56b87c8-7517-47bb-99e4-d73359f5ed4b
[2025-09-16T02:30:42.029Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=b56b87c8-7517-47bb-99e4-d73359f5ed4b, Duration=20ms)
[2025-09-16T02:30:42.035Z] Executed HTTP request: {
[2025-09-16T02:30:42.035Z]   "requestId": "f299e683-2697-4440-9b37-2152f13cd162",
[2025-09-16T02:30:42.035Z]   "identities": "",
[2025-09-16T02:30:42.035Z]   "status": "200",
[2025-09-16T02:30:42.035Z]   "duration": "31"
[2025-09-16T02:30:42.035Z] }
[2025-09-16T02:30:45.266Z] Executing HTTP request: {
[2025-09-16T02:30:45.267Z]   "requestId": "9414aa66-3cf4-4dce-abc3-255d8d6ba515",
[2025-09-16T02:30:45.267Z]   "method": "POST",
[2025-09-16T02:30:45.267Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:30:45.267Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:30:45.267Z] }
[2025-09-16T02:30:45.269Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=775e810f-04e0-4474-bc4a-2e0396a21611)
[2025-09-16T02:30:45.279Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:30:45.279Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:30:45.279Z]   hasClientId: true,
[2025-09-16T02:30:45.279Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:30:45.279Z]   hasClientSecret: true,
[2025-09-16T02:30:45.279Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:30:45.279Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:30:45.279Z] }
[2025-09-16T02:30:45.279Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:30:45.279Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:30:45.280Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId 775e810f-04e0-4474-bc4a-2e0396a21611
[2025-09-16T02:30:45.280Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=775e810f-04e0-4474-bc4a-2e0396a21611, Duration=11ms)
[2025-09-16T02:30:45.280Z] Executed HTTP request: {
[2025-09-16T02:30:45.280Z]   "requestId": "9414aa66-3cf4-4dce-abc3-255d8d6ba515",
[2025-09-16T02:30:45.280Z]   "identities": "",
[2025-09-16T02:30:45.280Z]   "status": "200",
[2025-09-16T02:30:45.280Z]   "duration": "14"
[2025-09-16T02:30:45.280Z] }
[2025-09-16T02:30:48.232Z] Executing HTTP request: {
[2025-09-16T02:30:48.232Z]   "requestId": "9440c6a4-760f-4069-84cb-4ffe286da2ed",
[2025-09-16T02:30:48.232Z]   "method": "GET",
[2025-09-16T02:30:48.232Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:30:48.232Z]   "uri": "/api/figmaOAuthCallback"
[2025-09-16T02:30:48.232Z] }
[2025-09-16T02:30:48.243Z] Executing 'Functions.figmaOAuthCallback' (Reason='This function was programmatically called via the host APIs.', Id=82fd577f-c914-4def-adfe-5e09296b9eb7)
[2025-09-16T02:30:48.248Z] 🔐 Figma OAuth2 Callback Handler
[2025-09-16T02:30:48.248Z] 🔄 Processing OAuth2 callback with code: qSlnbqOPkx...
[2025-09-16T02:30:48.248Z] 🔗 Using redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:30:48.248Z] 🔑 Client ID: 2079DJvSEX...
[2025-09-16T02:30:48.248Z] 🔐 Client Secret: Present
[2025-09-16T02:30:48.248Z] 📤 Request params: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=qSlnbqOPkxDrNa0UlwUgUfdH0&grant_type=authorization_code
[2025-09-16T02:30:48.248Z] 🌍 NODE_ENV: development
[2025-09-16T02:30:48.248Z] 🔄 Exact redirect_uri being sent: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:30:48.271Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId 82fd577f-c914-4def-adfe-5e09296b9eb7
[2025-09-16T02:30:48.594Z] ❌ Full error details:
[2025-09-16T02:30:48.595Z] Status: 404
[2025-09-16T02:30:48.595Z] Headers: Object [AxiosHeaders] {
[2025-09-16T02:30:48.595Z]   'content-type': 'text/plain',
[2025-09-16T02:30:48.595Z]   'content-length': '9',
[2025-09-16T02:30:48.595Z]   connection: 'keep-alive',
[2025-09-16T02:30:48.595Z]   date: 'Tue, 16 Sep 2025 02:30:48 GMT',
[2025-09-16T02:30:48.595Z]   'x-content-type-options': 'nosniff',
[2025-09-16T02:30:48.595Z]   'x-cache': 'Error from cloudfront',
[2025-09-16T02:30:48.595Z]   via: '1.1 9825a45e2b387a61504c0c3df20048ee.cloudfront.net (CloudFront)',
[2025-09-16T02:30:48.595Z]   'x-amz-cf-pop': 'SEA19-C3',
[2025-09-16T02:30:48.595Z]   'alt-svc': 'h3=":443"; ma=86400',
[2025-09-16T02:30:48.595Z]   'x-amz-cf-id': 'aRF1Xb2t_1EhV6ZYCzM2uzvhkgfL0c_On2_BDluFtV3hDdThmUcMKw==',
[2025-09-16T02:30:48.595Z]   'strict-transport-security': 'max-age=31536000; includeSubDomains; preload'
[2025-09-16T02:30:48.595Z] }
[2025-09-16T02:30:48.595Z] Data: Not Found
[2025-09-16T02:30:48.595Z] Message: Request failed with status code 404
[2025-09-16T02:30:48.595Z] Config URL: https://www.figma.com/api/oauth/token
[2025-09-16T02:30:48.595Z] Config Data: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=qSlnbqOPkxDrNa0UlwUgUfdH0&grant_type=authorization_code
[2025-09-16T02:30:48.595Z] ❌ Failed to exchange code for token: Not Found
[2025-09-16T02:30:48.598Z] Executed 'Functions.figmaOAuthCallback' (Succeeded, Id=82fd577f-c914-4def-adfe-5e09296b9eb7, Duration=355ms)
[2025-09-16T02:30:48.598Z] Executed HTTP request: {
[2025-09-16T02:30:48.598Z]   "requestId": "9440c6a4-760f-4069-84cb-4ffe286da2ed",
[2025-09-16T02:30:48.598Z]   "identities": "(WebJobsAuthLevel:Admin)",
[2025-09-16T02:30:48.598Z]   "status": "400",
[2025-09-16T02:30:48.598Z]   "duration": "367"
[2025-09-16T02:30:48.598Z] }
[2025-09-16T02:30:48.675Z] Executing HTTP request: {
[2025-09-16T02:30:48.675Z]   "requestId": "e7fbf8cf-7eee-4e60-becc-f0a2717fea02",
[2025-09-16T02:30:48.675Z]   "method": "GET",
[2025-09-16T02:30:48.675Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:30:48.675Z]   "uri": "/favicon.ico"
[2025-09-16T02:30:48.675Z] }
[2025-09-16T02:30:48.676Z] Executed HTTP request: {
[2025-09-16T02:30:48.676Z]   "requestId": "e7fbf8cf-7eee-4e60-becc-f0a2717fea02",
[2025-09-16T02:30:48.676Z]   "identities": "",
[2025-09-16T02:30:48.677Z]   "status": "404",
[2025-09-16T02:30:48.677Z]   "duration": "1"
[2025-09-16T02:30:48.677Z] }
[2025-09-16T02:31:22.441Z] Executing HTTP request: {
[2025-09-16T02:31:22.443Z]   "requestId": "3ccb11ad-57ee-418f-96f3-b93d5547f47e",
[2025-09-16T02:31:22.443Z]   "method": "GET",
[2025-09-16T02:31:22.443Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:31:22.443Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:31:22.443Z] }
[2025-09-16T02:31:22.453Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=f8544437-2056-40fe-a164-06c50c4da8ea)
[2025-09-16T02:31:22.471Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:31:22.472Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:31:22.472Z]   hasClientId: true,
[2025-09-16T02:31:22.472Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:31:22.473Z]   hasClientSecret: true,
[2025-09-16T02:31:22.473Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:31:22.473Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:31:22.473Z] }
[2025-09-16T02:31:22.473Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:31:22.473Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:31:22.474Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId f8544437-2056-40fe-a164-06c50c4da8ea
[2025-09-16T02:31:22.475Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=f8544437-2056-40fe-a164-06c50c4da8ea, Duration=23ms)
[2025-09-16T02:31:22.476Z] Executed HTTP request: {
[2025-09-16T02:31:22.476Z]   "requestId": "3ccb11ad-57ee-418f-96f3-b93d5547f47e",
[2025-09-16T02:31:22.476Z]   "identities": "",
[2025-09-16T02:31:22.476Z]   "status": "200",
[2025-09-16T02:31:22.476Z]   "duration": "39"
[2025-09-16T02:31:22.476Z] }
[2025-09-16T02:31:24.699Z] Executing HTTP request: {
[2025-09-16T02:31:24.699Z]   "requestId": "a4d2d925-3f3e-453e-8221-81ae3c4c933f",
[2025-09-16T02:31:24.699Z]   "method": "GET",
[2025-09-16T02:31:24.699Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:31:24.699Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:31:24.699Z] }
[2025-09-16T02:31:24.712Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=61c75dda-ef4f-4e67-b945-bfb2e481656a)
[2025-09-16T02:31:24.726Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:31:24.726Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:31:24.726Z]   hasClientId: true,
[2025-09-16T02:31:24.726Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:31:24.726Z]   hasClientSecret: true,
[2025-09-16T02:31:24.726Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:31:24.726Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:31:24.726Z] }
[2025-09-16T02:31:24.726Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:31:24.726Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:31:24.727Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId 61c75dda-ef4f-4e67-b945-bfb2e481656a
[2025-09-16T02:31:24.727Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=61c75dda-ef4f-4e67-b945-bfb2e481656a, Duration=20ms)
[2025-09-16T02:31:24.728Z] Executed HTTP request: {
[2025-09-16T02:31:24.728Z]   "requestId": "a4d2d925-3f3e-453e-8221-81ae3c4c933f",
[2025-09-16T02:31:24.728Z]   "identities": "",
[2025-09-16T02:31:24.728Z]   "status": "200",
[2025-09-16T02:31:24.728Z]   "duration": "29"
[2025-09-16T02:31:24.728Z] }
[2025-09-16T02:31:28.786Z] Executing HTTP request: {
[2025-09-16T02:31:28.786Z]   "requestId": "240625e7-9789-4962-b670-4c53056994de",
[2025-09-16T02:31:28.786Z]   "method": "POST",
[2025-09-16T02:31:28.786Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:31:28.786Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:31:28.786Z] }
[2025-09-16T02:31:28.788Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=82c9038f-975c-45ed-9c91-fc9350f653de)
[2025-09-16T02:31:28.793Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:31:28.793Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:31:28.793Z]   hasClientId: true,
[2025-09-16T02:31:28.793Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:31:28.793Z]   hasClientSecret: true,
[2025-09-16T02:31:28.793Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:31:28.793Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:31:28.793Z] }
[2025-09-16T02:31:28.793Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:31:28.793Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:31:28.793Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId 82c9038f-975c-45ed-9c91-fc9350f653de
[2025-09-16T02:31:28.794Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=82c9038f-975c-45ed-9c91-fc9350f653de, Duration=6ms)
[2025-09-16T02:31:28.794Z] Executed HTTP request: {
[2025-09-16T02:31:28.794Z]   "requestId": "240625e7-9789-4962-b670-4c53056994de",
[2025-09-16T02:31:28.794Z]   "identities": "",
[2025-09-16T02:31:28.794Z]   "status": "200",
[2025-09-16T02:31:28.794Z]   "duration": "8"
[2025-09-16T02:31:28.794Z] }
[2025-09-16T02:31:33.990Z] Executing HTTP request: {
[2025-09-16T02:31:33.990Z]   "requestId": "64c67a0f-5f4f-4a74-8ac6-d3cfa5a06117",
[2025-09-16T02:31:33.990Z]   "method": "GET",
[2025-09-16T02:31:33.990Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:31:33.990Z]   "uri": "/api/figmaOAuthCallback"
[2025-09-16T02:31:33.990Z] }
[2025-09-16T02:31:33.998Z] Executing 'Functions.figmaOAuthCallback' (Reason='This function was programmatically called via the host APIs.', Id=ccf936fa-cb2f-4ec1-bee9-561fb439e435)
[2025-09-16T02:31:34.009Z] 🔐 Figma OAuth2 Callback Handler
[2025-09-16T02:31:34.009Z] 🔄 Processing OAuth2 callback with code: S3bb8IcUOX...
[2025-09-16T02:31:34.009Z] 🔗 Using redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:31:34.009Z] 🔑 Client ID: 2079DJvSEX...
[2025-09-16T02:31:34.009Z] 🔐 Client Secret: Present
[2025-09-16T02:31:34.009Z] 📤 Request params: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=S3bb8IcUOXWovR8h3PJEio2xv&grant_type=authorization_code
[2025-09-16T02:31:34.009Z] 🌍 NODE_ENV: development
[2025-09-16T02:31:34.009Z] 🔄 Exact redirect_uri being sent: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:31:34.026Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId ccf936fa-cb2f-4ec1-bee9-561fb439e435
[2025-09-16T02:31:35.659Z] ❌ Full error details:
[2025-09-16T02:31:35.659Z] Status: 404
[2025-09-16T02:31:35.659Z] Headers: Object [AxiosHeaders] {
[2025-09-16T02:31:35.660Z]   'content-type': 'text/plain',
[2025-09-16T02:31:35.660Z]   'content-length': '9',
[2025-09-16T02:31:35.660Z]   connection: 'keep-alive',
[2025-09-16T02:31:35.660Z]   date: 'Tue, 16 Sep 2025 02:31:35 GMT',
[2025-09-16T02:31:35.661Z]   'x-content-type-options': 'nosniff',
[2025-09-16T02:31:35.661Z]   'x-cache': 'Error from cloudfront',
[2025-09-16T02:31:35.661Z]   via: '1.1 82c2ab57bc9900898383f6b70681b9e6.cloudfront.net (CloudFront)',
[2025-09-16T02:31:35.662Z]   'x-amz-cf-pop': 'SEA19-C3',
[2025-09-16T02:31:35.662Z]   'alt-svc': 'h3=":443"; ma=86400',
[2025-09-16T02:31:35.662Z]   'x-amz-cf-id': 'yocRDrZHqYb-3lC5822R5DcgzMXL_DBFVIBadzJwA_C7wpOjxTcztA==',
[2025-09-16T02:31:35.662Z]   'strict-transport-security': 'max-age=31536000; includeSubDomains; preload'
[2025-09-16T02:31:35.662Z] }
[2025-09-16T02:31:35.662Z] Data: Not Found
[2025-09-16T02:31:35.662Z] Message: Request failed with status code 404
[2025-09-16T02:31:35.662Z] Config URL: https://www.figma.com/api/oauth/token
[2025-09-16T02:31:35.662Z] Config Data: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=S3bb8IcUOXWovR8h3PJEio2xv&grant_type=authorization_code
[2025-09-16T02:31:35.662Z] ❌ Failed to exchange code for token: Not Found
[2025-09-16T02:31:35.664Z] Executed 'Functions.figmaOAuthCallback' (Succeeded, Id=ccf936fa-cb2f-4ec1-bee9-561fb439e435, Duration=1666ms)
[2025-09-16T02:31:35.665Z] Executed HTTP request: {
[2025-09-16T02:31:35.665Z]   "requestId": "64c67a0f-5f4f-4a74-8ac6-d3cfa5a06117",
[2025-09-16T02:31:35.665Z]   "identities": "(WebJobsAuthLevel:Admin)",
[2025-09-16T02:31:35.666Z]   "status": "400",
[2025-09-16T02:31:35.666Z]   "duration": "1675"
[2025-09-16T02:31:35.666Z] }
[2025-09-16T02:31:35.756Z] Executing HTTP request: {
[2025-09-16T02:31:35.756Z]   "requestId": "ed9b42ee-118f-4a57-9368-2cb8a2bfe7d7",
[2025-09-16T02:31:35.756Z]   "method": "GET",
[2025-09-16T02:31:35.756Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:31:35.757Z]   "uri": "/favicon.ico"
[2025-09-16T02:31:35.757Z] }
[2025-09-16T02:31:35.758Z] Executed HTTP request: {
[2025-09-16T02:31:35.758Z]   "requestId": "ed9b42ee-118f-4a57-9368-2cb8a2bfe7d7",
[2025-09-16T02:31:35.758Z]   "identities": "",
[2025-09-16T02:31:35.758Z]   "status": "404",
[2025-09-16T02:31:35.758Z]   "duration": "1"
[2025-09-16T02:31:35.758Z] }
[2025-09-16T02:31:38.893Z] Executing HTTP request: {
[2025-09-16T02:31:38.893Z]   "requestId": "b4dfdbbf-21e0-474c-8047-ed1e386833d1",
[2025-09-16T02:31:38.893Z]   "method": "GET",
[2025-09-16T02:31:38.893Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:31:38.893Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:31:38.893Z] }
[2025-09-16T02:31:38.895Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=98eddaab-02e2-4bbe-88cf-8fdae9287299)
[2025-09-16T02:31:38.906Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:31:38.906Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:31:38.907Z]   hasClientId: true,
[2025-09-16T02:31:38.907Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:31:38.907Z]   hasClientSecret: true,
[2025-09-16T02:31:38.907Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:31:38.907Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:31:38.907Z] }
[2025-09-16T02:31:38.907Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:31:38.908Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 received FunctionInvocationRequest with invocationId 98eddaab-02e2-4bbe-88cf-8fdae9287299
[2025-09-16T02:31:38.908Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:31:38.908Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=98eddaab-02e2-4bbe-88cf-8fdae9287299, Duration=14ms)
[2025-09-16T02:31:38.909Z] Executed HTTP request: {
[2025-09-16T02:31:38.909Z]   "requestId": "b4dfdbbf-21e0-474c-8047-ed1e386833d1",
[2025-09-16T02:31:38.909Z]   "identities": "",
[2025-09-16T02:31:38.909Z]   "status": "200",
[2025-09-16T02:31:38.909Z]   "duration": "16"
[2025-09-16T02:31:38.909Z] }
[2025-09-16T02:34:16.484Z] Restarting host.
[2025-09-16T02:34:16.506Z] Stopping JobHost
[2025-09-16T02:34:16.510Z] Job host stopped
[2025-09-16T02:34:16.528Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: 'f9c67de9-bcef-415f-b6b6-bb750c3c4e35'
[2025-09-16T02:34:16.589Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:34:16.589Z] Host configuration file read:
[2025-09-16T02:34:16.589Z] {
[2025-09-16T02:34:16.589Z]   "version": "2.0",
[2025-09-16T02:34:16.589Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:34:16.589Z]   "functions": [
[2025-09-16T02:34:16.589Z]     "addFigmaComponent",
[2025-09-16T02:34:16.589Z]     "analyzeImage",
[2025-09-16T02:34:16.589Z]     "analyzeUIImage",
[2025-09-16T02:34:16.589Z]     "atlasComponents",
[2025-09-16T02:34:16.589Z]     "directImageToWireframe",
[2025-09-16T02:34:16.589Z]     "figmaComponents",
[2025-09-16T02:34:16.589Z]     "figmaImport",
[2025-09-16T02:34:16.589Z]     "figmaNodeImporter",
[2025-09-16T02:34:16.589Z]     "figmaOAuthCallback",
[2025-09-16T02:34:16.589Z]     "figmaOAuthStart",
[2025-09-16T02:34:16.589Z]     "generateSuggestions",
[2025-09-16T02:34:16.589Z]     "generateWireframe",
[2025-09-16T02:34:16.589Z]     "generateWireframeEnhanced",
[2025-09-16T02:34:16.589Z]     "get-template",
[2025-09-16T02:34:16.589Z]     "githubAuthCallback",
[2025-09-16T02:34:16.589Z]     "githubAuthStart",
[2025-09-16T02:34:16.589Z]     "health",
[2025-09-16T02:34:16.589Z]     "openai-health",
[2025-09-16T02:34:16.589Z]     "testFigma",
[2025-09-16T02:34:16.589Z]     "updateThemeColors",
[2025-09-16T02:34:16.589Z]     "wireframeAnalyze",
[2025-09-16T02:34:16.589Z]     "frontend"
[2025-09-16T02:34:16.589Z]   ],
[2025-09-16T02:34:16.589Z]   "logging": {
[2025-09-16T02:34:16.589Z]     "applicationInsights": {
[2025-09-16T02:34:16.589Z]       "samplingSettings": {
[2025-09-16T02:34:16.589Z]         "isEnabled": true,
[2025-09-16T02:34:16.589Z]         "excludedTypes": "Request"
[2025-09-16T02:34:16.589Z]       }
[2025-09-16T02:34:16.589Z]     },
[2025-09-16T02:34:16.589Z]     "logLevel": {
[2025-09-16T02:34:16.589Z]       "default": "Information",
[2025-09-16T02:34:16.589Z]       "Host.Results": "Information",
[2025-09-16T02:34:16.589Z]       "Function": "Information"
[2025-09-16T02:34:16.589Z]     }
[2025-09-16T02:34:16.589Z]   },
[2025-09-16T02:34:16.589Z]   "extensionBundle": {
[2025-09-16T02:34:16.589Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:34:16.589Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:34:16.589Z]   },
[2025-09-16T02:34:16.589Z]   "watchDirectories": [
[2025-09-16T02:34:16.589Z]     "Shared"
[2025-09-16T02:34:16.589Z]   ]
[2025-09-16T02:34:16.589Z] }
[2025-09-16T02:34:16.593Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:34:16.593Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:34:16.593Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:34:16.593Z] Loading functions metadata
[2025-09-16T02:34:16.594Z] Worker indexing is enabled
[2025-09-16T02:34:16.594Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:34:16.594Z] Reading functions metadata (Worker)
[2025-09-16T02:34:16.594Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:34:16.617Z] Worker b6460b11-1584-43c5-a8e9-9848bd6e4991 exited with code 0
[2025-09-16T02:34:16.887Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d connecting on 127.0.0.1:64048
[2025-09-16T02:34:16.917Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received WorkerInitRequest
[2025-09-16T02:34:16.920Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionsMetadataRequest
[2025-09-16T02:34:16.920Z] Reading functions metadata (Host)
[2025-09-16T02:34:17.399Z] 22 functions found (Host)
[2025-09-16T02:34:17.400Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:34:17.400Z] 21 functions loaded
[2025-09-16T02:34:17.401Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:34:17.402Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:34:17.402Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:34:17.402Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:34:17.795Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:34:17.795Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:34:17.796Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:34:17.796Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:34:17.864Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:34:17.864Z] Host configuration file read:
[2025-09-16T02:34:17.864Z] {
[2025-09-16T02:34:17.864Z]   "version": "2.0",
[2025-09-16T02:34:17.864Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:34:17.864Z]   "functions": [
[2025-09-16T02:34:17.864Z]     "addFigmaComponent",
[2025-09-16T02:34:17.864Z]     "analyzeImage",
[2025-09-16T02:34:17.864Z]     "analyzeUIImage",
[2025-09-16T02:34:17.864Z]     "atlasComponents",
[2025-09-16T02:34:17.864Z]     "directImageToWireframe",
[2025-09-16T02:34:17.864Z]     "figmaComponents",
[2025-09-16T02:34:17.864Z]     "figmaImport",
[2025-09-16T02:34:17.864Z]     "figmaNodeImporter",
[2025-09-16T02:34:17.865Z]     "figmaOAuthCallback",
[2025-09-16T02:34:17.865Z]     "figmaOAuthStart",
[2025-09-16T02:34:17.865Z]     "generateSuggestions",
[2025-09-16T02:34:17.865Z]     "generateWireframe",
[2025-09-16T02:34:17.865Z]     "generateWireframeEnhanced",
[2025-09-16T02:34:17.865Z]     "get-template",
[2025-09-16T02:34:17.865Z]     "githubAuthCallback",
[2025-09-16T02:34:17.865Z]     "githubAuthStart",
[2025-09-16T02:34:17.865Z]     "health",
[2025-09-16T02:34:17.865Z]     "openai-health",
[2025-09-16T02:34:17.865Z]     "testFigma",
[2025-09-16T02:34:17.865Z]     "updateThemeColors",
[2025-09-16T02:34:17.865Z]     "wireframeAnalyze",
[2025-09-16T02:34:17.865Z]     "frontend"
[2025-09-16T02:34:17.865Z]   ],
[2025-09-16T02:34:17.865Z]   "logging": {
[2025-09-16T02:34:17.865Z]     "applicationInsights": {
[2025-09-16T02:34:17.865Z]       "samplingSettings": {
[2025-09-16T02:34:17.865Z]         "isEnabled": true,
[2025-09-16T02:34:17.865Z]         "excludedTypes": "Request"
[2025-09-16T02:34:17.865Z]       }
[2025-09-16T02:34:17.865Z]     },
[2025-09-16T02:34:17.865Z]     "logLevel": {
[2025-09-16T02:34:17.865Z]       "default": "Information",
[2025-09-16T02:34:17.865Z]       "Host.Results": "Information",
[2025-09-16T02:34:17.865Z]       "Function": "Information"
[2025-09-16T02:34:17.865Z]     }
[2025-09-16T02:34:17.865Z]   },
[2025-09-16T02:34:17.865Z]   "extensionBundle": {
[2025-09-16T02:34:17.865Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:34:17.865Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:34:17.865Z]   },
[2025-09-16T02:34:17.865Z]   "watchDirectories": [
[2025-09-16T02:34:17.865Z]     "Shared"
[2025-09-16T02:34:17.865Z]   ]
[2025-09-16T02:34:17.865Z] }
[2025-09-16T02:34:17.922Z] Initializing Warmup Extension.
[2025-09-16T02:34:17.925Z] Initializing Host. OperationId: 'f9c67de9-bcef-415f-b6b6-bb750c3c4e35'.
[2025-09-16T02:34:17.925Z] Host initialization: ConsecutiveErrors=0, StartupCount=2, OperationId=f9c67de9-bcef-415f-b6b6-bb750c3c4e35
[2025-09-16T02:34:17.929Z] LoggerFilterOptions
[2025-09-16T02:34:17.929Z] {
[2025-09-16T02:34:17.929Z]   "MinLevel": "None",
[2025-09-16T02:34:17.929Z]   "Rules": [
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:34:17.929Z]       "LogLevel": "None",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": "None",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": "Host.Results",
[2025-09-16T02:34:17.929Z]       "LogLevel": "Information",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": "Function",
[2025-09-16T02:34:17.929Z]       "LogLevel": "Information",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": "Information",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": "None",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     }
[2025-09-16T02:34:17.929Z]   ]
[2025-09-16T02:34:17.929Z] }
[2025-09-16T02:34:17.929Z] LoggerFilterOptions
[2025-09-16T02:34:17.929Z] {
[2025-09-16T02:34:17.929Z]   "MinLevel": "None",
[2025-09-16T02:34:17.929Z]   "Rules": [
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:34:17.929Z]       "LogLevel": "None",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": "None",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": "Host.Results",
[2025-09-16T02:34:17.929Z]       "LogLevel": "Information",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": "Function",
[2025-09-16T02:34:17.929Z]       "LogLevel": "Information",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": null,
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": "Information",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": "None",
[2025-09-16T02:34:17.929Z]       "Filter": null
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     },
[2025-09-16T02:34:17.929Z]     {
[2025-09-16T02:34:17.929Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:17.929Z]       "CategoryName": null,
[2025-09-16T02:34:17.929Z]       "LogLevel": null,
[2025-09-16T02:34:17.929Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:17.929Z]     }
[2025-09-16T02:34:17.929Z]   ]
[2025-09-16T02:34:17.929Z] }
[2025-09-16T02:34:17.929Z] FunctionResultAggregatorOptions
[2025-09-16T02:34:17.929Z] {
[2025-09-16T02:34:17.929Z]   "BatchSize": 1000,
[2025-09-16T02:34:17.929Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:34:17.929Z]   "IsEnabled": true
[2025-09-16T02:34:17.929Z] }
[2025-09-16T02:34:17.929Z] ConcurrencyOptions
[2025-09-16T02:34:17.929Z] {
[2025-09-16T02:34:17.929Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:34:17.929Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:34:17.929Z]   "CPUThreshold": 0.8,
[2025-09-16T02:34:17.930Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:34:17.930Z] }
[2025-09-16T02:34:17.930Z] SingletonOptions
[2025-09-16T02:34:17.930Z] {
[2025-09-16T02:34:17.930Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:34:17.930Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:34:17.930Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:34:17.930Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:34:17.930Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:34:17.930Z] }
[2025-09-16T02:34:17.930Z] ScaleOptions
[2025-09-16T02:34:17.930Z] {
[2025-09-16T02:34:17.930Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:34:17.930Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:34:17.930Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:34:17.930Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:34:17.930Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:34:17.930Z] }
[2025-09-16T02:34:17.930Z] Starting JobHost
[2025-09-16T02:34:17.930Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=0a20cf17-a839-489a-abd0-935811030c9e, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:34:17.930Z] Loading functions metadata
[2025-09-16T02:34:17.930Z] Worker indexing is enabled
[2025-09-16T02:34:17.930Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:34:17.930Z] Reading functions metadata (Worker)
[2025-09-16T02:34:17.930Z] Reading functions metadata (Host)
[2025-09-16T02:34:18.368Z] 22 functions found (Host)
[2025-09-16T02:34:18.368Z] Reading functions metadata (Custom)
[2025-09-16T02:34:18.371Z] 0 functions found (Custom)
[2025-09-16T02:34:18.371Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:34:18.371Z] 21 functions loaded
[2025-09-16T02:34:18.373Z] Generating 21 job function(s)
[2025-09-16T02:34:18.373Z] Worker process started and initialized.
[2025-09-16T02:34:18.397Z] Found the following functions:
[2025-09-16T02:34:18.397Z] Host.Functions.addFigmaComponent
[2025-09-16T02:34:18.397Z] Host.Functions.analyzeImage
[2025-09-16T02:34:18.397Z] Host.Functions.analyzeUIImage
[2025-09-16T02:34:18.397Z] Host.Functions.atlasComponents
[2025-09-16T02:34:18.397Z] Host.Functions.directImageToWireframe
[2025-09-16T02:34:18.397Z] Host.Functions.figmaComponents
[2025-09-16T02:34:18.397Z] Host.Functions.figmaImport
[2025-09-16T02:34:18.397Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:34:18.397Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:34:18.397Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:34:18.397Z] Host.Functions.frontend
[2025-09-16T02:34:18.397Z] Host.Functions.generateSuggestions
[2025-09-16T02:34:18.397Z] Host.Functions.generateWireframe
[2025-09-16T02:34:18.397Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:34:18.397Z] Host.Functions.get-template
[2025-09-16T02:34:18.397Z] Host.Functions.githubAuthCallback
[2025-09-16T02:34:18.397Z] Host.Functions.githubAuthStart
[2025-09-16T02:34:18.397Z] Host.Functions.health
[2025-09-16T02:34:18.397Z] Host.Functions.openai-health
[2025-09-16T02:34:18.397Z] Host.Functions.updateThemeColors
[2025-09-16T02:34:18.397Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:34:18.397Z] 
[2025-09-16T02:34:18.397Z] HttpOptions
[2025-09-16T02:34:18.397Z] {
[2025-09-16T02:34:18.397Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:34:18.397Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:34:18.397Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:34:18.397Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:34:18.397Z]   "RoutePrefix": "api"
[2025-09-16T02:34:18.397Z] }
[2025-09-16T02:34:18.397Z] Initializing function HTTP routes
[2025-09-16T02:34:18.397Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:34:18.397Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:34:18.397Z] 
[2025-09-16T02:34:18.397Z] Host initialized (467ms)
[2025-09-16T02:34:18.397Z] Host started (467ms)
[2025-09-16T02:34:18.397Z] Job host started
[2025-09-16T02:34:18.506Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit
[2025-09-16T02:34:18.507Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:34:18.507Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.507Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.511Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.516Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.518Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.518Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.518Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.518Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.518Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.519Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.519Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.519Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.519Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.519Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.519Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.520Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.520Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.520Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.520Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.520Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.520Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d received FunctionLoadRequest
[2025-09-16T02:34:18.528Z] Host restarted.
[2025-09-16T02:34:22.933Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:34:44.253Z] Restarting host.
[2025-09-16T02:34:44.263Z] Stopping JobHost
[2025-09-16T02:34:44.264Z] Job host stopped
[2025-09-16T02:34:44.267Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: 'f901996f-4b1c-42eb-8847-4757439e9ec1'
[2025-09-16T02:34:44.364Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:34:44.364Z] Host configuration file read:
[2025-09-16T02:34:44.364Z] {
[2025-09-16T02:34:44.364Z]   "version": "2.0",
[2025-09-16T02:34:44.364Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:34:44.364Z]   "functions": [
[2025-09-16T02:34:44.364Z]     "addFigmaComponent",
[2025-09-16T02:34:44.364Z]     "analyzeImage",
[2025-09-16T02:34:44.364Z]     "analyzeUIImage",
[2025-09-16T02:34:44.364Z]     "atlasComponents",
[2025-09-16T02:34:44.364Z]     "directImageToWireframe",
[2025-09-16T02:34:44.364Z]     "figmaComponents",
[2025-09-16T02:34:44.364Z]     "figmaImport",
[2025-09-16T02:34:44.364Z]     "figmaNodeImporter",
[2025-09-16T02:34:44.364Z]     "figmaOAuthCallback",
[2025-09-16T02:34:44.364Z]     "figmaOAuthStart",
[2025-09-16T02:34:44.364Z]     "generateSuggestions",
[2025-09-16T02:34:44.364Z]     "generateWireframe",
[2025-09-16T02:34:44.364Z]     "generateWireframeEnhanced",
[2025-09-16T02:34:44.364Z]     "get-template",
[2025-09-16T02:34:44.364Z]     "githubAuthCallback",
[2025-09-16T02:34:44.364Z]     "githubAuthStart",
[2025-09-16T02:34:44.364Z]     "health",
[2025-09-16T02:34:44.364Z]     "openai-health",
[2025-09-16T02:34:44.364Z]     "testFigma",
[2025-09-16T02:34:44.364Z]     "updateThemeColors",
[2025-09-16T02:34:44.364Z]     "wireframeAnalyze",
[2025-09-16T02:34:44.364Z]     "frontend"
[2025-09-16T02:34:44.364Z]   ],
[2025-09-16T02:34:44.364Z]   "logging": {
[2025-09-16T02:34:44.364Z]     "applicationInsights": {
[2025-09-16T02:34:44.364Z]       "samplingSettings": {
[2025-09-16T02:34:44.364Z]         "isEnabled": true,
[2025-09-16T02:34:44.364Z]         "excludedTypes": "Request"
[2025-09-16T02:34:44.364Z]       }
[2025-09-16T02:34:44.364Z]     },
[2025-09-16T02:34:44.364Z]     "logLevel": {
[2025-09-16T02:34:44.364Z]       "default": "Information",
[2025-09-16T02:34:44.364Z]       "Host.Results": "Information",
[2025-09-16T02:34:44.364Z]       "Function": "Information"
[2025-09-16T02:34:44.364Z]     }
[2025-09-16T02:34:44.364Z]   },
[2025-09-16T02:34:44.364Z]   "extensionBundle": {
[2025-09-16T02:34:44.364Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:34:44.364Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:34:44.364Z]   },
[2025-09-16T02:34:44.364Z]   "watchDirectories": [
[2025-09-16T02:34:44.364Z]     "Shared"
[2025-09-16T02:34:44.364Z]   ]
[2025-09-16T02:34:44.364Z] }
[2025-09-16T02:34:44.366Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:34:44.366Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:34:44.366Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:34:44.366Z] Loading functions metadata
[2025-09-16T02:34:44.366Z] Worker indexing is enabled
[2025-09-16T02:34:44.366Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:34:44.366Z] Reading functions metadata (Worker)
[2025-09-16T02:34:44.366Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:34:44.380Z] Worker 5bf44a7b-4cea-4ef1-a7c2-3108ced7676d exited with code 0
[2025-09-16T02:34:44.559Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e connecting on 127.0.0.1:64048
[2025-09-16T02:34:44.585Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received WorkerInitRequest
[2025-09-16T02:34:44.589Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionsMetadataRequest
[2025-09-16T02:34:44.589Z] Reading functions metadata (Host)
[2025-09-16T02:34:45.053Z] 22 functions found (Host)
[2025-09-16T02:34:45.053Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:34:45.053Z] 21 functions loaded
[2025-09-16T02:34:45.054Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:34:45.054Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:34:45.054Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:34:45.054Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:34:45.365Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:34:45.365Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:34:45.366Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:34:45.366Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:34:45.445Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:34:45.445Z] Host configuration file read:
[2025-09-16T02:34:45.445Z] {
[2025-09-16T02:34:45.445Z]   "version": "2.0",
[2025-09-16T02:34:45.445Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:34:45.445Z]   "functions": [
[2025-09-16T02:34:45.445Z]     "addFigmaComponent",
[2025-09-16T02:34:45.445Z]     "analyzeImage",
[2025-09-16T02:34:45.445Z]     "analyzeUIImage",
[2025-09-16T02:34:45.445Z]     "atlasComponents",
[2025-09-16T02:34:45.445Z]     "directImageToWireframe",
[2025-09-16T02:34:45.445Z]     "figmaComponents",
[2025-09-16T02:34:45.445Z]     "figmaImport",
[2025-09-16T02:34:45.445Z]     "figmaNodeImporter",
[2025-09-16T02:34:45.445Z]     "figmaOAuthCallback",
[2025-09-16T02:34:45.445Z]     "figmaOAuthStart",
[2025-09-16T02:34:45.445Z]     "generateSuggestions",
[2025-09-16T02:34:45.445Z]     "generateWireframe",
[2025-09-16T02:34:45.445Z]     "generateWireframeEnhanced",
[2025-09-16T02:34:45.445Z]     "get-template",
[2025-09-16T02:34:45.445Z]     "githubAuthCallback",
[2025-09-16T02:34:45.445Z]     "githubAuthStart",
[2025-09-16T02:34:45.445Z]     "health",
[2025-09-16T02:34:45.445Z]     "openai-health",
[2025-09-16T02:34:45.445Z]     "testFigma",
[2025-09-16T02:34:45.445Z]     "updateThemeColors",
[2025-09-16T02:34:45.445Z]     "wireframeAnalyze",
[2025-09-16T02:34:45.445Z]     "frontend"
[2025-09-16T02:34:45.445Z]   ],
[2025-09-16T02:34:45.445Z]   "logging": {
[2025-09-16T02:34:45.445Z]     "applicationInsights": {
[2025-09-16T02:34:45.445Z]       "samplingSettings": {
[2025-09-16T02:34:45.445Z]         "isEnabled": true,
[2025-09-16T02:34:45.445Z]         "excludedTypes": "Request"
[2025-09-16T02:34:45.445Z]       }
[2025-09-16T02:34:45.445Z]     },
[2025-09-16T02:34:45.445Z]     "logLevel": {
[2025-09-16T02:34:45.446Z]       "default": "Information",
[2025-09-16T02:34:45.446Z]       "Host.Results": "Information",
[2025-09-16T02:34:45.446Z]       "Function": "Information"
[2025-09-16T02:34:45.446Z]     }
[2025-09-16T02:34:45.446Z]   },
[2025-09-16T02:34:45.446Z]   "extensionBundle": {
[2025-09-16T02:34:45.446Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:34:45.446Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:34:45.446Z]   },
[2025-09-16T02:34:45.446Z]   "watchDirectories": [
[2025-09-16T02:34:45.446Z]     "Shared"
[2025-09-16T02:34:45.446Z]   ]
[2025-09-16T02:34:45.446Z] }
[2025-09-16T02:34:45.487Z] Initializing Warmup Extension.
[2025-09-16T02:34:45.487Z] Initializing Host. OperationId: 'f901996f-4b1c-42eb-8847-4757439e9ec1'.
[2025-09-16T02:34:45.488Z] Host initialization: ConsecutiveErrors=0, StartupCount=3, OperationId=f901996f-4b1c-42eb-8847-4757439e9ec1
[2025-09-16T02:34:45.489Z] LoggerFilterOptions
[2025-09-16T02:34:45.489Z] {
[2025-09-16T02:34:45.489Z]   "MinLevel": "None",
[2025-09-16T02:34:45.489Z]   "Rules": [
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": null,
[2025-09-16T02:34:45.489Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:34:45.489Z]       "LogLevel": "None",
[2025-09-16T02:34:45.489Z]       "Filter": null
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:45.489Z]       "CategoryName": null,
[2025-09-16T02:34:45.489Z]       "LogLevel": "None",
[2025-09-16T02:34:45.489Z]       "Filter": null
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:45.489Z]       "CategoryName": null,
[2025-09-16T02:34:45.489Z]       "LogLevel": null,
[2025-09-16T02:34:45.489Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": null,
[2025-09-16T02:34:45.489Z]       "CategoryName": null,
[2025-09-16T02:34:45.489Z]       "LogLevel": null,
[2025-09-16T02:34:45.489Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": null,
[2025-09-16T02:34:45.489Z]       "CategoryName": null,
[2025-09-16T02:34:45.489Z]       "LogLevel": null,
[2025-09-16T02:34:45.489Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": null,
[2025-09-16T02:34:45.489Z]       "CategoryName": "Host.Results",
[2025-09-16T02:34:45.489Z]       "LogLevel": "Information",
[2025-09-16T02:34:45.489Z]       "Filter": null
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": null,
[2025-09-16T02:34:45.489Z]       "CategoryName": "Function",
[2025-09-16T02:34:45.489Z]       "LogLevel": "Information",
[2025-09-16T02:34:45.489Z]       "Filter": null
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": null,
[2025-09-16T02:34:45.489Z]       "CategoryName": null,
[2025-09-16T02:34:45.489Z]       "LogLevel": "Information",
[2025-09-16T02:34:45.489Z]       "Filter": null
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:34:45.489Z]       "CategoryName": null,
[2025-09-16T02:34:45.489Z]       "LogLevel": "None",
[2025-09-16T02:34:45.489Z]       "Filter": null
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:34:45.489Z]       "CategoryName": null,
[2025-09-16T02:34:45.489Z]       "LogLevel": null,
[2025-09-16T02:34:45.489Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.489Z]     },
[2025-09-16T02:34:45.489Z]     {
[2025-09-16T02:34:45.489Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:45.489Z]       "CategoryName": null,
[2025-09-16T02:34:45.489Z]       "LogLevel": null,
[2025-09-16T02:34:45.489Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.489Z]     }
[2025-09-16T02:34:45.489Z]   ]
[2025-09-16T02:34:45.489Z] }
[2025-09-16T02:34:45.490Z] LoggerFilterOptions
[2025-09-16T02:34:45.490Z] {
[2025-09-16T02:34:45.490Z]   "MinLevel": "None",
[2025-09-16T02:34:45.490Z]   "Rules": [
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": null,
[2025-09-16T02:34:45.490Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:34:45.490Z]       "LogLevel": "None",
[2025-09-16T02:34:45.490Z]       "Filter": null
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:45.490Z]       "CategoryName": null,
[2025-09-16T02:34:45.490Z]       "LogLevel": "None",
[2025-09-16T02:34:45.490Z]       "Filter": null
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:45.490Z]       "CategoryName": null,
[2025-09-16T02:34:45.490Z]       "LogLevel": null,
[2025-09-16T02:34:45.490Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": null,
[2025-09-16T02:34:45.490Z]       "CategoryName": null,
[2025-09-16T02:34:45.490Z]       "LogLevel": null,
[2025-09-16T02:34:45.490Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": null,
[2025-09-16T02:34:45.490Z]       "CategoryName": null,
[2025-09-16T02:34:45.490Z]       "LogLevel": null,
[2025-09-16T02:34:45.490Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": null,
[2025-09-16T02:34:45.490Z]       "CategoryName": "Host.Results",
[2025-09-16T02:34:45.490Z]       "LogLevel": "Information",
[2025-09-16T02:34:45.490Z]       "Filter": null
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": null,
[2025-09-16T02:34:45.490Z]       "CategoryName": "Function",
[2025-09-16T02:34:45.490Z]       "LogLevel": "Information",
[2025-09-16T02:34:45.490Z]       "Filter": null
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": null,
[2025-09-16T02:34:45.490Z]       "CategoryName": null,
[2025-09-16T02:34:45.490Z]       "LogLevel": "Information",
[2025-09-16T02:34:45.490Z]       "Filter": null
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:34:45.490Z]       "CategoryName": null,
[2025-09-16T02:34:45.490Z]       "LogLevel": "None",
[2025-09-16T02:34:45.490Z]       "Filter": null
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:34:45.490Z]       "CategoryName": null,
[2025-09-16T02:34:45.490Z]       "LogLevel": null,
[2025-09-16T02:34:45.490Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.490Z]     },
[2025-09-16T02:34:45.490Z]     {
[2025-09-16T02:34:45.490Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:34:45.490Z]       "CategoryName": null,
[2025-09-16T02:34:45.490Z]       "LogLevel": null,
[2025-09-16T02:34:45.490Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:34:45.490Z]     }
[2025-09-16T02:34:45.490Z]   ]
[2025-09-16T02:34:45.490Z] }
[2025-09-16T02:34:45.490Z] FunctionResultAggregatorOptions
[2025-09-16T02:34:45.490Z] {
[2025-09-16T02:34:45.490Z]   "BatchSize": 1000,
[2025-09-16T02:34:45.490Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:34:45.490Z]   "IsEnabled": true
[2025-09-16T02:34:45.490Z] }
[2025-09-16T02:34:45.490Z] ConcurrencyOptions
[2025-09-16T02:34:45.490Z] {
[2025-09-16T02:34:45.490Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:34:45.490Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:34:45.490Z]   "CPUThreshold": 0.8,
[2025-09-16T02:34:45.490Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:34:45.490Z] }
[2025-09-16T02:34:45.490Z] SingletonOptions
[2025-09-16T02:34:45.490Z] {
[2025-09-16T02:34:45.490Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:34:45.490Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:34:45.490Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:34:45.490Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:34:45.490Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:34:45.490Z] }
[2025-09-16T02:34:45.490Z] ScaleOptions
[2025-09-16T02:34:45.490Z] {
[2025-09-16T02:34:45.490Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:34:45.490Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:34:45.490Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:34:45.490Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:34:45.490Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:34:45.490Z] }
[2025-09-16T02:34:45.490Z] Starting JobHost
[2025-09-16T02:34:45.490Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=40eb9277-dcae-4adf-87ae-d75f84554e97, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:34:45.490Z] Loading functions metadata
[2025-09-16T02:34:45.490Z] Worker indexing is enabled
[2025-09-16T02:34:45.490Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:34:45.490Z] Reading functions metadata (Worker)
[2025-09-16T02:34:45.490Z] Reading functions metadata (Host)
[2025-09-16T02:34:45.917Z] 22 functions found (Host)
[2025-09-16T02:34:45.918Z] Reading functions metadata (Custom)
[2025-09-16T02:34:45.918Z] 0 functions found (Custom)
[2025-09-16T02:34:45.918Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:34:45.918Z] 21 functions loaded
[2025-09-16T02:34:45.924Z] Generating 21 job function(s)
[2025-09-16T02:34:45.924Z] Worker process started and initialized.
[2025-09-16T02:34:45.959Z] Found the following functions:
[2025-09-16T02:34:45.959Z] Host.Functions.addFigmaComponent
[2025-09-16T02:34:45.959Z] Host.Functions.analyzeImage
[2025-09-16T02:34:45.959Z] Host.Functions.analyzeUIImage
[2025-09-16T02:34:45.959Z] Host.Functions.atlasComponents
[2025-09-16T02:34:45.959Z] Host.Functions.directImageToWireframe
[2025-09-16T02:34:45.959Z] Host.Functions.figmaComponents
[2025-09-16T02:34:45.959Z] Host.Functions.figmaImport
[2025-09-16T02:34:45.959Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:34:45.959Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:34:45.959Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:34:45.959Z] Host.Functions.frontend
[2025-09-16T02:34:45.959Z] Host.Functions.generateSuggestions
[2025-09-16T02:34:45.960Z] Host.Functions.generateWireframe
[2025-09-16T02:34:45.960Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:34:45.960Z] Host.Functions.get-template
[2025-09-16T02:34:45.960Z] Host.Functions.githubAuthCallback
[2025-09-16T02:34:45.960Z] Host.Functions.githubAuthStart
[2025-09-16T02:34:45.960Z] Host.Functions.health
[2025-09-16T02:34:45.960Z] Host.Functions.openai-health
[2025-09-16T02:34:45.960Z] Host.Functions.updateThemeColors
[2025-09-16T02:34:45.960Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:34:45.960Z] 
[2025-09-16T02:34:45.960Z] HttpOptions
[2025-09-16T02:34:45.960Z] {
[2025-09-16T02:34:45.960Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:34:45.960Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:34:45.960Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:34:45.960Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:34:45.960Z]   "RoutePrefix": "api"
[2025-09-16T02:34:45.960Z] }
[2025-09-16T02:34:45.961Z] Initializing function HTTP routes
[2025-09-16T02:34:45.961Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:34:45.961Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:34:45.961Z] 
[2025-09-16T02:34:45.961Z] Host initialized (471ms)
[2025-09-16T02:34:45.962Z] Host started (471ms)
[2025-09-16T02:34:45.962Z] Job host started
[2025-09-16T02:34:46.036Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.036Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.043Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: 📡 auto-backup env with Radar: https://dotenvx.com/radar
[2025-09-16T02:34:46.044Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:34:46.049Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.053Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.053Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.053Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.053Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.053Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.053Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.056Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.055Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.056Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.056Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionLoadRequest
[2025-09-16T02:34:46.094Z] Host restarted.
[2025-09-16T02:34:50.500Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:35:02.020Z] Executing HTTP request: {
[2025-09-16T02:35:02.021Z]   "requestId": "9562cd08-7d2e-4fc4-a090-04bd0ec3be5f",
[2025-09-16T02:35:02.021Z]   "method": "GET",
[2025-09-16T02:35:02.021Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:35:02.021Z]   "uri": "/api/figmaOAuthCallback"
[2025-09-16T02:35:02.021Z] }
[2025-09-16T02:35:02.053Z] Executing 'Functions.figmaOAuthCallback' (Reason='This function was programmatically called via the host APIs.', Id=1b411f77-e883-4cb3-b231-32c808fde461)
[2025-09-16T02:35:02.117Z] 🔐 Figma OAuth2 Callback Handler
[2025-09-16T02:35:02.118Z] 🔄 Processing OAuth2 callback with code: SpfHCKlWvw...
[2025-09-16T02:35:02.118Z] 🔗 Using redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:35:02.118Z] 🔑 Client ID: 2079DJvSEX...
[2025-09-16T02:35:02.118Z] 🔐 Client Secret: Present
[2025-09-16T02:35:02.118Z] 📤 Request params: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=SpfHCKlWvwEqevvIfbdFKcVey&grant_type=authorization_code
[2025-09-16T02:35:02.118Z] 🌍 NODE_ENV: development
[2025-09-16T02:35:02.118Z] 🔄 Exact redirect_uri being sent: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:35:02.164Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionInvocationRequest with invocationId 1b411f77-e883-4cb3-b231-32c808fde461
[2025-09-16T02:35:02.930Z] ❌ Full error details:
[2025-09-16T02:35:02.931Z] Status: 404
[2025-09-16T02:35:02.933Z] Headers: Object [AxiosHeaders] {
[2025-09-16T02:35:02.933Z]   'content-type': 'text/plain',
[2025-09-16T02:35:02.933Z]   'content-length': '9',
[2025-09-16T02:35:02.934Z]   connection: 'keep-alive',
[2025-09-16T02:35:02.934Z]   date: 'Tue, 16 Sep 2025 02:35:02 GMT',
[2025-09-16T02:35:02.934Z]   'x-content-type-options': 'nosniff',
[2025-09-16T02:35:02.934Z]   'x-cache': 'Error from cloudfront',
[2025-09-16T02:35:02.934Z]   via: '1.1 f3ac324bf05099849ebda59e8136db0e.cloudfront.net (CloudFront)',
[2025-09-16T02:35:02.934Z]   'x-amz-cf-pop': 'SEA19-C3',
[2025-09-16T02:35:02.934Z]   'alt-svc': 'h3=":443"; ma=86400',
[2025-09-16T02:35:02.934Z]   'x-amz-cf-id': '2ZqODckTcT75EUjJpvQ738h5gEE-ps3DfJDIjRv7vZLBSAVNwOwFhQ==',
[2025-09-16T02:35:02.934Z]   'strict-transport-security': 'max-age=31536000; includeSubDomains; preload'
[2025-09-16T02:35:02.934Z] }
[2025-09-16T02:35:02.934Z] Data: Not Found
[2025-09-16T02:35:02.934Z] Message: Request failed with status code 404
[2025-09-16T02:35:02.935Z] Config URL: https://www.figma.com/api/oauth/token
[2025-09-16T02:35:02.935Z] Config Data: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=SpfHCKlWvwEqevvIfbdFKcVey&grant_type=authorization_code
[2025-09-16T02:35:02.935Z] ❌ Failed to exchange code for token: Not Found
[2025-09-16T02:35:02.943Z] Executed 'Functions.figmaOAuthCallback' (Succeeded, Id=1b411f77-e883-4cb3-b231-32c808fde461, Duration=895ms)
[2025-09-16T02:35:02.944Z] Executed HTTP request: {
[2025-09-16T02:35:02.944Z]   "requestId": "9562cd08-7d2e-4fc4-a090-04bd0ec3be5f",
[2025-09-16T02:35:02.944Z]   "identities": "(WebJobsAuthLevel:Admin)",
[2025-09-16T02:35:02.944Z]   "status": "400",
[2025-09-16T02:35:02.944Z]   "duration": "924"
[2025-09-16T02:35:02.944Z] }
[2025-09-16T02:39:20.747Z] Executing HTTP request: {
[2025-09-16T02:39:20.747Z]   "requestId": "48219d3a-2520-4775-b710-1d270d83aa7a",
[2025-09-16T02:39:20.747Z]   "method": "GET",
[2025-09-16T02:39:20.747Z]   "userAgent": "curl/8.7.1",
[2025-09-16T02:39:20.747Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:39:20.747Z] }
[2025-09-16T02:39:20.822Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=d4be8f70-f2ff-4d7c-a9ba-375b4b09525c)
[2025-09-16T02:39:20.913Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:39:20.913Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:39:20.913Z]   hasClientId: true,
[2025-09-16T02:39:20.913Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:39:20.913Z]   hasClientSecret: true,
[2025-09-16T02:39:20.913Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:39:20.913Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:39:20.913Z] }
[2025-09-16T02:39:20.913Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:39:20.914Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:39:20.917Z] Worker 0e7f8147-ee54-4d8e-a145-0fd2d0dacf6e received FunctionInvocationRequest with invocationId d4be8f70-f2ff-4d7c-a9ba-375b4b09525c
[2025-09-16T02:39:20.926Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=d4be8f70-f2ff-4d7c-a9ba-375b4b09525c, Duration=162ms)
[2025-09-16T02:39:20.951Z] Executed HTTP request: {
[2025-09-16T02:39:20.951Z]   "requestId": "48219d3a-2520-4775-b710-1d270d83aa7a",
[2025-09-16T02:39:20.951Z]   "identities": "",
[2025-09-16T02:39:20.951Z]   "status": "200",
[2025-09-16T02:39:20.951Z]   "duration": "221"
[2025-09-16T02:39:20.951Z] }
[2025-09-16T02:39:38.043Z] Language Worker Process exited. Pid=16702.
[2025-09-16T02:39:38.043Z] node exited with code 143 (0x8F).   'x-cache': 'Error from cloudfront',,Message: Request failed with status code 404,❌ Failed to exchange code for token: Not Found.
[2025-09-16T02:39:38.511Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 connecting on 127.0.0.1:64048
[2025-09-16T02:39:38.537Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received WorkerInitRequest
[2025-09-16T02:39:38.543Z] Worker process started and initialized.
[2025-09-16T02:39:39.930Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: ⚙️  write to custom object with { processEnv: myObject }
[2025-09-16T02:39:39.932Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:39.936Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:39.951Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:39:40.204Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.205Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.205Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.208Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.210Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.210Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.210Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.210Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:39:40.210Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionLoadRequest
[2025-09-16T02:41:35.218Z] Executing HTTP request: {
[2025-09-16T02:41:35.219Z]   "requestId": "53e8155b-09a9-4fa9-98cf-4b308e335a6a",
[2025-09-16T02:41:35.219Z]   "method": "GET",
[2025-09-16T02:41:35.219Z]   "userAgent": "curl/8.7.1",
[2025-09-16T02:41:35.219Z]   "uri": "/api/health"
[2025-09-16T02:41:35.219Z] }
[2025-09-16T02:41:35.241Z] Executing 'Functions.frontend' (Reason='This function was programmatically called via the host APIs.', Id=301681ea-e54f-4a1f-85b0-989b5dd26be8)
[2025-09-16T02:41:35.294Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionInvocationRequest with invocationId 301681ea-e54f-4a1f-85b0-989b5dd26be8
[2025-09-16T02:41:35.295Z] Executed 'Functions.frontend' (Succeeded, Id=301681ea-e54f-4a1f-85b0-989b5dd26be8, Duration=62ms)
[2025-09-16T02:41:35.296Z] Executed HTTP request: {
[2025-09-16T02:41:35.296Z]   "requestId": "53e8155b-09a9-4fa9-98cf-4b308e335a6a",
[2025-09-16T02:41:35.296Z]   "identities": "",
[2025-09-16T02:41:35.296Z]   "status": "200",
[2025-09-16T02:41:35.296Z]   "duration": "79"
[2025-09-16T02:41:35.296Z] }
[2025-09-16T02:41:41.455Z] Executing HTTP request: {
[2025-09-16T02:41:41.455Z]   "requestId": "2737a977-27c6-4ecd-b326-ec307a896f0d",
[2025-09-16T02:41:41.455Z]   "method": "GET",
[2025-09-16T02:41:41.455Z]   "userAgent": "curl/8.7.1",
[2025-09-16T02:41:41.455Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:41:41.455Z] }
[2025-09-16T02:41:41.457Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=e922ab57-5614-43e9-870f-f59ae75b3d8c)
[2025-09-16T02:41:41.460Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:41:41.462Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:41:41.462Z]   hasClientId: true,
[2025-09-16T02:41:41.462Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:41:41.462Z]   hasClientSecret: true,
[2025-09-16T02:41:41.462Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:41:41.462Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:41:41.462Z] }
[2025-09-16T02:41:41.462Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:41:41.463Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:41:41.464Z] Worker 7c5b41af-f34e-4e6d-b6eb-84c131344765 received FunctionInvocationRequest with invocationId e922ab57-5614-43e9-870f-f59ae75b3d8c
[2025-09-16T02:41:41.465Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=e922ab57-5614-43e9-870f-f59ae75b3d8c, Duration=8ms)
[2025-09-16T02:41:41.465Z] Executed HTTP request: {
[2025-09-16T02:41:41.465Z]   "requestId": "2737a977-27c6-4ecd-b326-ec307a896f0d",
[2025-09-16T02:41:41.465Z]   "identities": "",
[2025-09-16T02:41:41.465Z]   "status": "200",
[2025-09-16T02:41:41.465Z]   "duration": "10"
[2025-09-16T02:41:41.465Z] }
[2025-09-16T02:42:31.662Z] Language Worker Process exited. Pid=17918.
[2025-09-16T02:42:31.662Z] node exited with code 143 (0x8F). .
[2025-09-16T02:42:31.925Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 connecting on 127.0.0.1:64048
[2025-09-16T02:42:31.955Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received WorkerInitRequest
[2025-09-16T02:42:31.959Z] Worker process started and initialized.
[2025-09-16T02:42:32.123Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.123Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.129Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: ⚙️  write to custom object with { processEnv: myObject }
[2025-09-16T02:42:32.131Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:42:32.136Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.137Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.137Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.137Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.138Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.138Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.138Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.138Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.139Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.139Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.139Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.140Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.140Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.140Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.140Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.140Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.140Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.141Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:42:32.141Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionLoadRequest
[2025-09-16T02:47:45.664Z] Executing HTTP request: {
[2025-09-16T02:47:45.665Z]   "requestId": "73aa7717-e6e1-4c0c-b838-53a601fbaf6d",
[2025-09-16T02:47:45.665Z]   "method": "GET",
[2025-09-16T02:47:45.665Z]   "userAgent": "curl/8.7.1",
[2025-09-16T02:47:45.665Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:47:45.665Z] }
[2025-09-16T02:47:45.694Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=36877cea-2e20-4f3d-8064-79d84bb06f65)
[2025-09-16T02:47:45.747Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:47:45.749Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:47:45.749Z]   hasClientId: true,
[2025-09-16T02:47:45.749Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:47:45.749Z]   hasClientSecret: true,
[2025-09-16T02:47:45.749Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:47:45.749Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:47:45.749Z] }
[2025-09-16T02:47:45.749Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:47:45.750Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:47:45.755Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 received FunctionInvocationRequest with invocationId 36877cea-2e20-4f3d-8064-79d84bb06f65
[2025-09-16T02:47:45.759Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=36877cea-2e20-4f3d-8064-79d84bb06f65, Duration=73ms)
[2025-09-16T02:47:45.762Z] Executed HTTP request: {
[2025-09-16T02:47:45.762Z]   "requestId": "73aa7717-e6e1-4c0c-b838-53a601fbaf6d",
[2025-09-16T02:47:45.762Z]   "identities": "",
[2025-09-16T02:47:45.762Z]   "status": "200",
[2025-09-16T02:47:45.762Z]   "duration": "99"
[2025-09-16T02:47:45.762Z] }
[2025-09-16T02:48:03.872Z] Restarting host.
[2025-09-16T02:48:03.880Z] Stopping JobHost
[2025-09-16T02:48:03.880Z] Job host stopped
[2025-09-16T02:48:03.918Z] Worker 8e6b4bcc-ebe5-404c-82b4-9a4d476b3772 exited with code 0
[2025-09-16T02:48:03.932Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '8f832867-fbe5-4c09-9b8a-88695058819b'
[2025-09-16T02:48:04.038Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:48:04.038Z] Host configuration file read:
[2025-09-16T02:48:04.038Z] {
[2025-09-16T02:48:04.038Z]   "version": "2.0",
[2025-09-16T02:48:04.038Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:48:04.038Z]   "functions": [
[2025-09-16T02:48:04.038Z]     "addFigmaComponent",
[2025-09-16T02:48:04.038Z]     "analyzeImage",
[2025-09-16T02:48:04.038Z]     "analyzeUIImage",
[2025-09-16T02:48:04.038Z]     "atlasComponents",
[2025-09-16T02:48:04.038Z]     "directImageToWireframe",
[2025-09-16T02:48:04.038Z]     "figmaComponents",
[2025-09-16T02:48:04.038Z]     "figmaImport",
[2025-09-16T02:48:04.038Z]     "figmaNodeImporter",
[2025-09-16T02:48:04.038Z]     "figmaOAuthCallback",
[2025-09-16T02:48:04.038Z]     "figmaOAuthStart",
[2025-09-16T02:48:04.038Z]     "generateSuggestions",
[2025-09-16T02:48:04.038Z]     "generateWireframe",
[2025-09-16T02:48:04.038Z]     "generateWireframeEnhanced",
[2025-09-16T02:48:04.038Z]     "get-template",
[2025-09-16T02:48:04.038Z]     "githubAuthCallback",
[2025-09-16T02:48:04.038Z]     "githubAuthStart",
[2025-09-16T02:48:04.038Z]     "health",
[2025-09-16T02:48:04.038Z]     "openai-health",
[2025-09-16T02:48:04.038Z]     "testFigma",
[2025-09-16T02:48:04.038Z]     "updateThemeColors",
[2025-09-16T02:48:04.038Z]     "wireframeAnalyze",
[2025-09-16T02:48:04.038Z]     "frontend"
[2025-09-16T02:48:04.038Z]   ],
[2025-09-16T02:48:04.038Z]   "logging": {
[2025-09-16T02:48:04.038Z]     "applicationInsights": {
[2025-09-16T02:48:04.038Z]       "samplingSettings": {
[2025-09-16T02:48:04.038Z]         "isEnabled": true,
[2025-09-16T02:48:04.039Z]         "excludedTypes": "Request"
[2025-09-16T02:48:04.039Z]       }
[2025-09-16T02:48:04.039Z]     },
[2025-09-16T02:48:04.039Z]     "logLevel": {
[2025-09-16T02:48:04.039Z]       "default": "Information",
[2025-09-16T02:48:04.039Z]       "Host.Results": "Information",
[2025-09-16T02:48:04.039Z]       "Function": "Information"
[2025-09-16T02:48:04.039Z]     }
[2025-09-16T02:48:04.039Z]   },
[2025-09-16T02:48:04.039Z]   "extensionBundle": {
[2025-09-16T02:48:04.039Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:48:04.039Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:48:04.039Z]   },
[2025-09-16T02:48:04.039Z]   "watchDirectories": [
[2025-09-16T02:48:04.039Z]     "Shared"
[2025-09-16T02:48:04.039Z]   ]
[2025-09-16T02:48:04.039Z] }
[2025-09-16T02:48:04.045Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:48:04.046Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:48:04.046Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:48:04.046Z] Loading functions metadata
[2025-09-16T02:48:04.047Z] Worker indexing is enabled
[2025-09-16T02:48:04.047Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:48:04.047Z] Reading functions metadata (Worker)
[2025-09-16T02:48:04.047Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:48:04.599Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 connecting on 127.0.0.1:64048
[2025-09-16T02:48:04.633Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received WorkerInitRequest
[2025-09-16T02:48:04.642Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionsMetadataRequest
[2025-09-16T02:48:04.643Z] Reading functions metadata (Host)
[2025-09-16T02:48:05.432Z] 22 functions found (Host)
[2025-09-16T02:48:05.434Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:48:05.435Z] 21 functions loaded
[2025-09-16T02:48:05.437Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:48:05.438Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:48:05.438Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:48:05.439Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:48:06.555Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:48:06.556Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:48:06.556Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:48:06.556Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:48:06.627Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:48:06.627Z] Host configuration file read:
[2025-09-16T02:48:06.627Z] {
[2025-09-16T02:48:06.627Z]   "version": "2.0",
[2025-09-16T02:48:06.627Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:48:06.627Z]   "functions": [
[2025-09-16T02:48:06.627Z]     "addFigmaComponent",
[2025-09-16T02:48:06.627Z]     "analyzeImage",
[2025-09-16T02:48:06.627Z]     "analyzeUIImage",
[2025-09-16T02:48:06.627Z]     "atlasComponents",
[2025-09-16T02:48:06.627Z]     "directImageToWireframe",
[2025-09-16T02:48:06.627Z]     "figmaComponents",
[2025-09-16T02:48:06.627Z]     "figmaImport",
[2025-09-16T02:48:06.627Z]     "figmaNodeImporter",
[2025-09-16T02:48:06.627Z]     "figmaOAuthCallback",
[2025-09-16T02:48:06.627Z]     "figmaOAuthStart",
[2025-09-16T02:48:06.627Z]     "generateSuggestions",
[2025-09-16T02:48:06.627Z]     "generateWireframe",
[2025-09-16T02:48:06.627Z]     "generateWireframeEnhanced",
[2025-09-16T02:48:06.627Z]     "get-template",
[2025-09-16T02:48:06.627Z]     "githubAuthCallback",
[2025-09-16T02:48:06.627Z]     "githubAuthStart",
[2025-09-16T02:48:06.627Z]     "health",
[2025-09-16T02:48:06.627Z]     "openai-health",
[2025-09-16T02:48:06.627Z]     "testFigma",
[2025-09-16T02:48:06.627Z]     "updateThemeColors",
[2025-09-16T02:48:06.627Z]     "wireframeAnalyze",
[2025-09-16T02:48:06.627Z]     "frontend"
[2025-09-16T02:48:06.627Z]   ],
[2025-09-16T02:48:06.627Z]   "logging": {
[2025-09-16T02:48:06.627Z]     "applicationInsights": {
[2025-09-16T02:48:06.627Z]       "samplingSettings": {
[2025-09-16T02:48:06.627Z]         "isEnabled": true,
[2025-09-16T02:48:06.627Z]         "excludedTypes": "Request"
[2025-09-16T02:48:06.627Z]       }
[2025-09-16T02:48:06.627Z]     },
[2025-09-16T02:48:06.627Z]     "logLevel": {
[2025-09-16T02:48:06.627Z]       "default": "Information",
[2025-09-16T02:48:06.627Z]       "Host.Results": "Information",
[2025-09-16T02:48:06.627Z]       "Function": "Information"
[2025-09-16T02:48:06.627Z]     }
[2025-09-16T02:48:06.627Z]   },
[2025-09-16T02:48:06.627Z]   "extensionBundle": {
[2025-09-16T02:48:06.627Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:48:06.627Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:48:06.627Z]   },
[2025-09-16T02:48:06.627Z]   "watchDirectories": [
[2025-09-16T02:48:06.627Z]     "Shared"
[2025-09-16T02:48:06.627Z]   ]
[2025-09-16T02:48:06.627Z] }
[2025-09-16T02:48:06.739Z] Initializing Warmup Extension.
[2025-09-16T02:48:06.741Z] Initializing Host. OperationId: '8f832867-fbe5-4c09-9b8a-88695058819b'.
[2025-09-16T02:48:06.741Z] Host initialization: ConsecutiveErrors=0, StartupCount=4, OperationId=8f832867-fbe5-4c09-9b8a-88695058819b
[2025-09-16T02:48:06.742Z] LoggerFilterOptions
[2025-09-16T02:48:06.742Z] {
[2025-09-16T02:48:06.742Z]   "MinLevel": "None",
[2025-09-16T02:48:06.742Z]   "Rules": [
[2025-09-16T02:48:06.742Z]     {
[2025-09-16T02:48:06.742Z]       "ProviderName": null,
[2025-09-16T02:48:06.742Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:48:06.742Z]       "LogLevel": "None",
[2025-09-16T02:48:06.742Z]       "Filter": null
[2025-09-16T02:48:06.742Z]     },
[2025-09-16T02:48:06.742Z]     {
[2025-09-16T02:48:06.742Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:48:06.742Z]       "CategoryName": null,
[2025-09-16T02:48:06.742Z]       "LogLevel": "None",
[2025-09-16T02:48:06.742Z]       "Filter": null
[2025-09-16T02:48:06.742Z]     },
[2025-09-16T02:48:06.742Z]     {
[2025-09-16T02:48:06.742Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:48:06.742Z]       "CategoryName": null,
[2025-09-16T02:48:06.742Z]       "LogLevel": null,
[2025-09-16T02:48:06.742Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.742Z]     },
[2025-09-16T02:48:06.742Z]     {
[2025-09-16T02:48:06.742Z]       "ProviderName": null,
[2025-09-16T02:48:06.742Z]       "CategoryName": null,
[2025-09-16T02:48:06.742Z]       "LogLevel": null,
[2025-09-16T02:48:06.742Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.742Z]     },
[2025-09-16T02:48:06.742Z]     {
[2025-09-16T02:48:06.742Z]       "ProviderName": null,
[2025-09-16T02:48:06.742Z]       "CategoryName": null,
[2025-09-16T02:48:06.742Z]       "LogLevel": null,
[2025-09-16T02:48:06.742Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.742Z]     },
[2025-09-16T02:48:06.742Z]     {
[2025-09-16T02:48:06.742Z]       "ProviderName": null,
[2025-09-16T02:48:06.742Z]       "CategoryName": "Host.Results",
[2025-09-16T02:48:06.742Z]       "LogLevel": "Information",
[2025-09-16T02:48:06.742Z]       "Filter": null
[2025-09-16T02:48:06.742Z]     },
[2025-09-16T02:48:06.742Z]     {
[2025-09-16T02:48:06.742Z]       "ProviderName": null,
[2025-09-16T02:48:06.742Z]       "CategoryName": "Function",
[2025-09-16T02:48:06.742Z]       "LogLevel": "Information",
[2025-09-16T02:48:06.742Z]       "Filter": null
[2025-09-16T02:48:06.742Z]     },
[2025-09-16T02:48:06.742Z]     {
[2025-09-16T02:48:06.742Z]       "ProviderName": null,
[2025-09-16T02:48:06.742Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": "Information",
[2025-09-16T02:48:06.743Z]       "Filter": null
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": "None",
[2025-09-16T02:48:06.743Z]       "Filter": null
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": null,
[2025-09-16T02:48:06.743Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": null,
[2025-09-16T02:48:06.743Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.743Z]     }
[2025-09-16T02:48:06.743Z]   ]
[2025-09-16T02:48:06.743Z] }
[2025-09-16T02:48:06.743Z] LoggerFilterOptions
[2025-09-16T02:48:06.743Z] {
[2025-09-16T02:48:06.743Z]   "MinLevel": "None",
[2025-09-16T02:48:06.743Z]   "Rules": [
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": null,
[2025-09-16T02:48:06.743Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:48:06.743Z]       "LogLevel": "None",
[2025-09-16T02:48:06.743Z]       "Filter": null
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": "None",
[2025-09-16T02:48:06.743Z]       "Filter": null
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": null,
[2025-09-16T02:48:06.743Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": null,
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": null,
[2025-09-16T02:48:06.743Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": null,
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": null,
[2025-09-16T02:48:06.743Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": null,
[2025-09-16T02:48:06.743Z]       "CategoryName": "Host.Results",
[2025-09-16T02:48:06.743Z]       "LogLevel": "Information",
[2025-09-16T02:48:06.743Z]       "Filter": null
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": null,
[2025-09-16T02:48:06.743Z]       "CategoryName": "Function",
[2025-09-16T02:48:06.743Z]       "LogLevel": "Information",
[2025-09-16T02:48:06.743Z]       "Filter": null
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": null,
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": "Information",
[2025-09-16T02:48:06.743Z]       "Filter": null
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": "None",
[2025-09-16T02:48:06.743Z]       "Filter": null
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": null,
[2025-09-16T02:48:06.743Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.743Z]     },
[2025-09-16T02:48:06.743Z]     {
[2025-09-16T02:48:06.743Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:48:06.743Z]       "CategoryName": null,
[2025-09-16T02:48:06.743Z]       "LogLevel": null,
[2025-09-16T02:48:06.743Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:48:06.743Z]     }
[2025-09-16T02:48:06.743Z]   ]
[2025-09-16T02:48:06.743Z] }
[2025-09-16T02:48:06.743Z] FunctionResultAggregatorOptions
[2025-09-16T02:48:06.743Z] {
[2025-09-16T02:48:06.743Z]   "BatchSize": 1000,
[2025-09-16T02:48:06.743Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:48:06.743Z]   "IsEnabled": true
[2025-09-16T02:48:06.743Z] }
[2025-09-16T02:48:06.743Z] ConcurrencyOptions
[2025-09-16T02:48:06.743Z] {
[2025-09-16T02:48:06.743Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:48:06.743Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:48:06.743Z]   "CPUThreshold": 0.8,
[2025-09-16T02:48:06.743Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:48:06.743Z] }
[2025-09-16T02:48:06.743Z] SingletonOptions
[2025-09-16T02:48:06.743Z] {
[2025-09-16T02:48:06.743Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:48:06.743Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:48:06.743Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:48:06.743Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:48:06.743Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:48:06.743Z] }
[2025-09-16T02:48:06.743Z] ScaleOptions
[2025-09-16T02:48:06.743Z] {
[2025-09-16T02:48:06.743Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:48:06.743Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:48:06.743Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:48:06.743Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:48:06.743Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:48:06.743Z] }
[2025-09-16T02:48:06.743Z] Starting JobHost
[2025-09-16T02:48:06.743Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=0b8fd682-ea0e-4a10-8f94-f3b5661d7f1c, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:48:06.743Z] Loading functions metadata
[2025-09-16T02:48:06.743Z] Worker indexing is enabled
[2025-09-16T02:48:06.743Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:48:06.743Z] Reading functions metadata (Worker)
[2025-09-16T02:48:06.743Z] Reading functions metadata (Host)
[2025-09-16T02:48:07.195Z] 22 functions found (Host)
[2025-09-16T02:48:07.195Z] Reading functions metadata (Custom)
[2025-09-16T02:48:07.195Z] 0 functions found (Custom)
[2025-09-16T02:48:07.195Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:48:07.195Z] 21 functions loaded
[2025-09-16T02:48:07.197Z] Generating 21 job function(s)
[2025-09-16T02:48:07.197Z] Worker process started and initialized.
[2025-09-16T02:48:07.206Z] Found the following functions:
[2025-09-16T02:48:07.206Z] Host.Functions.addFigmaComponent
[2025-09-16T02:48:07.206Z] Host.Functions.analyzeImage
[2025-09-16T02:48:07.206Z] Host.Functions.analyzeUIImage
[2025-09-16T02:48:07.206Z] Host.Functions.atlasComponents
[2025-09-16T02:48:07.206Z] Host.Functions.directImageToWireframe
[2025-09-16T02:48:07.206Z] Host.Functions.figmaComponents
[2025-09-16T02:48:07.206Z] Host.Functions.figmaImport
[2025-09-16T02:48:07.206Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:48:07.206Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:48:07.206Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:48:07.206Z] Host.Functions.frontend
[2025-09-16T02:48:07.206Z] Host.Functions.generateSuggestions
[2025-09-16T02:48:07.206Z] Host.Functions.generateWireframe
[2025-09-16T02:48:07.206Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:48:07.206Z] Host.Functions.get-template
[2025-09-16T02:48:07.206Z] Host.Functions.githubAuthCallback
[2025-09-16T02:48:07.206Z] Host.Functions.githubAuthStart
[2025-09-16T02:48:07.206Z] Host.Functions.health
[2025-09-16T02:48:07.206Z] Host.Functions.openai-health
[2025-09-16T02:48:07.206Z] Host.Functions.updateThemeColors
[2025-09-16T02:48:07.206Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:48:07.206Z] 
[2025-09-16T02:48:07.206Z] HttpOptions
[2025-09-16T02:48:07.206Z] {
[2025-09-16T02:48:07.206Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:48:07.206Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:48:07.206Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:48:07.206Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:48:07.206Z]   "RoutePrefix": "api"
[2025-09-16T02:48:07.206Z] }
[2025-09-16T02:48:07.206Z] Initializing function HTTP routes
[2025-09-16T02:48:07.206Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:48:07.206Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:48:07.207Z] 
[2025-09-16T02:48:07.207Z] Host initialized (463ms)
[2025-09-16T02:48:07.207Z] Host started (463ms)
[2025-09-16T02:48:07.207Z] Job host started
[2025-09-16T02:48:07.338Z] Host restarted.
[2025-09-16T02:48:07.950Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: 📡 observe env with Radar: https://dotenvx.com/radar
[2025-09-16T02:48:07.954Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:07.954Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:07.961Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:48:08.002Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.002Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.002Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.002Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.003Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest

[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:08.006Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionLoadRequest
[2025-09-16T02:48:11.748Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:48:25.747Z] Executing HTTP request: {
[2025-09-16T02:48:25.747Z]   "requestId": "d3281937-51ce-4e57-8bbe-f29bc4745e3e",
[2025-09-16T02:48:25.747Z]   "method": "GET",
[2025-09-16T02:48:25.747Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:48:25.747Z]   "uri": "/api/figmaOAuthCallback"
[2025-09-16T02:48:25.747Z] }
[2025-09-16T02:48:25.766Z] Executing 'Functions.figmaOAuthCallback' (Reason='This function was programmatically called via the host APIs.', Id=8d0ce564-0d8f-458a-917d-870a561f7beb)
[2025-09-16T02:48:25.789Z] 🔐 Figma OAuth2 Callback Handler
[2025-09-16T02:48:25.789Z] 🔄 Processing OAuth2 callback with code: CrHms8pqQ3...
[2025-09-16T02:48:25.789Z] 🔗 Using redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:48:25.789Z] 🔑 Client ID: 2079DJvSEX...
[2025-09-16T02:48:25.789Z] 🔐 Client Secret: Present
[2025-09-16T02:48:25.789Z] 📤 Request params: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=CrHms8pqQ3bxsh64yTZGPe1Pv&grant_type=authorization_code
[2025-09-16T02:48:25.789Z] 🌍 NODE_ENV: development
[2025-09-16T02:48:25.789Z] 🔄 Exact redirect_uri being sent: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:48:25.927Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 received FunctionInvocationRequest with invocationId 8d0ce564-0d8f-458a-917d-870a561f7beb
[2025-09-16T02:48:26.158Z] ❌ Full error details:
[2025-09-16T02:48:26.158Z] Status: 404
[2025-09-16T02:48:26.160Z] Headers: Object [AxiosHeaders] {
[2025-09-16T02:48:26.160Z]   'content-type': 'text/plain',
[2025-09-16T02:48:26.160Z]   'content-length': '9',
[2025-09-16T02:48:26.160Z]   connection: 'keep-alive',
[2025-09-16T02:48:26.160Z]   date: 'Tue, 16 Sep 2025 02:48:26 GMT',
[2025-09-16T02:48:26.160Z]   'x-content-type-options': 'nosniff',
[2025-09-16T02:48:26.160Z]   'x-cache': 'Error from cloudfront',
[2025-09-16T02:48:26.160Z]   via: '1.1 5c7981a979abd51ba7e5ca7d464fd048.cloudfront.net (CloudFront)',
[2025-09-16T02:48:26.160Z]   'x-amz-cf-pop': 'SEA19-C3',
[2025-09-16T02:48:26.160Z]   'alt-svc': 'h3=":443"; ma=86400',
[2025-09-16T02:48:26.160Z]   'x-amz-cf-id': 'v0kvzQViyudSYdO23Zjzzkumr2rse6tPG13nv0-D4yASpe-v0AGMeA==',
[2025-09-16T02:48:26.160Z]   'strict-transport-security': 'max-age=31536000; includeSubDomains; preload'
[2025-09-16T02:48:26.160Z] }
[2025-09-16T02:48:26.160Z] Data: Not Found
[2025-09-16T02:48:26.160Z] Message: Request failed with status code 404
[2025-09-16T02:48:26.160Z] Config URL: https://www.figma.com/api/oauth/token
[2025-09-16T02:48:26.160Z] Config Data: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=CrHms8pqQ3bxsh64yTZGPe1Pv&grant_type=authorization_code
[2025-09-16T02:48:26.160Z] ❌ Failed to exchange code for token: Not Found
[2025-09-16T02:48:26.166Z] Executed 'Functions.figmaOAuthCallback' (Succeeded, Id=8d0ce564-0d8f-458a-917d-870a561f7beb, Duration=401ms)
[2025-09-16T02:48:26.167Z] Executed HTTP request: {
[2025-09-16T02:48:26.167Z]   "requestId": "d3281937-51ce-4e57-8bbe-f29bc4745e3e",
[2025-09-16T02:48:26.167Z]   "identities": "(WebJobsAuthLevel:Admin)",
[2025-09-16T02:48:26.167Z]   "status": "400",
[2025-09-16T02:48:26.167Z]   "duration": "420"
[2025-09-16T02:48:26.167Z] }
[2025-09-16T02:48:26.345Z] Executing HTTP request: {
[2025-09-16T02:48:26.345Z]   "requestId": "4b2bc81b-6b0f-4fa9-91fc-790c160338e2",
[2025-09-16T02:48:26.345Z]   "method": "GET",
[2025-09-16T02:48:26.345Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:48:26.345Z]   "uri": "/favicon.ico"
[2025-09-16T02:48:26.345Z] }
[2025-09-16T02:48:26.346Z] Executed HTTP request: {
[2025-09-16T02:48:26.346Z]   "requestId": "4b2bc81b-6b0f-4fa9-91fc-790c160338e2",
[2025-09-16T02:48:26.346Z]   "identities": "",
[2025-09-16T02:48:26.346Z]   "status": "404",
[2025-09-16T02:48:26.346Z]   "duration": "1"
[2025-09-16T02:48:26.346Z] }
[2025-09-16T02:48:31.212Z] Executing HTTP request: {
[2025-09-16T02:48:31.213Z]   "requestId": "c416da83-43b0-4a2f-a359-66779353b4d8",
[2025-09-16T02:48:31.213Z]   "method": "GET",
[2025-09-16T02:48:31.213Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:48:31.213Z]   "uri": "/.well-known/appspecific/com.chrome.devtools.json"
[2025-09-16T02:48:31.213Z] }
[2025-09-16T02:48:31.215Z] Executed HTTP request: {
[2025-09-16T02:48:31.215Z]   "requestId": "c416da83-43b0-4a2f-a359-66779353b4d8",
[2025-09-16T02:48:31.215Z]   "identities": "",
[2025-09-16T02:48:31.215Z]   "status": "404",
[2025-09-16T02:48:31.215Z]   "duration": "6"
[2025-09-16T02:48:31.215Z] }
[2025-09-16T02:49:20.852Z] Restarting host.
[2025-09-16T02:49:20.858Z] Stopping JobHost
[2025-09-16T02:49:20.859Z] Job host stopped
[2025-09-16T02:49:20.878Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: 'e41ddb13-5eec-4415-a84e-bf1cfaee7d5c'
[2025-09-16T02:49:20.971Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:49:20.971Z] Host configuration file read:
[2025-09-16T02:49:20.972Z] {
[2025-09-16T02:49:20.972Z]   "version": "2.0",
[2025-09-16T02:49:20.972Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:49:20.972Z]   "functions": [
[2025-09-16T02:49:20.972Z]     "addFigmaComponent",
[2025-09-16T02:49:20.972Z]     "analyzeImage",
[2025-09-16T02:49:20.972Z]     "analyzeUIImage",
[2025-09-16T02:49:20.972Z]     "atlasComponents",
[2025-09-16T02:49:20.972Z]     "directImageToWireframe",
[2025-09-16T02:49:20.972Z]     "figmaComponents",
[2025-09-16T02:49:20.972Z]     "figmaImport",
[2025-09-16T02:49:20.972Z]     "figmaNodeImporter",
[2025-09-16T02:49:20.972Z]     "figmaOAuthCallback",
[2025-09-16T02:49:20.972Z]     "figmaOAuthStart",
[2025-09-16T02:49:20.972Z]     "generateSuggestions",
[2025-09-16T02:49:20.972Z]     "generateWireframe",
[2025-09-16T02:49:20.972Z]     "generateWireframeEnhanced",
[2025-09-16T02:49:20.972Z]     "get-template",
[2025-09-16T02:49:20.972Z]     "githubAuthCallback",
[2025-09-16T02:49:20.972Z]     "githubAuthStart",
[2025-09-16T02:49:20.972Z]     "health",
[2025-09-16T02:49:20.972Z]     "openai-health",
[2025-09-16T02:49:20.972Z]     "testFigma",
[2025-09-16T02:49:20.972Z]     "updateThemeColors",
[2025-09-16T02:49:20.972Z]     "wireframeAnalyze",
[2025-09-16T02:49:20.972Z]     "frontend"
[2025-09-16T02:49:20.972Z]   ],
[2025-09-16T02:49:20.972Z]   "logging": {
[2025-09-16T02:49:20.972Z]     "applicationInsights": {
[2025-09-16T02:49:20.972Z]       "samplingSettings": {
[2025-09-16T02:49:20.972Z]         "isEnabled": true,
[2025-09-16T02:49:20.972Z]         "excludedTypes": "Request"
[2025-09-16T02:49:20.972Z]       }
[2025-09-16T02:49:20.972Z]     },
[2025-09-16T02:49:20.972Z]     "logLevel": {
[2025-09-16T02:49:20.972Z]       "default": "Information",
[2025-09-16T02:49:20.972Z]       "Host.Results": "Information",
[2025-09-16T02:49:20.972Z]       "Function": "Information"
[2025-09-16T02:49:20.972Z]     }
[2025-09-16T02:49:20.972Z]   },
[2025-09-16T02:49:20.972Z]   "extensionBundle": {
[2025-09-16T02:49:20.972Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:49:20.972Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:49:20.972Z]   },
[2025-09-16T02:49:20.972Z]   "watchDirectories": [
[2025-09-16T02:49:20.972Z]     "Shared"
[2025-09-16T02:49:20.972Z]   ]
[2025-09-16T02:49:20.972Z] }
[2025-09-16T02:49:20.974Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:49:20.975Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:49:20.975Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:49:20.975Z] Loading functions metadata
[2025-09-16T02:49:20.975Z] Worker indexing is enabled
[2025-09-16T02:49:20.975Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:49:20.975Z] Reading functions metadata (Worker)
[2025-09-16T02:49:20.975Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:49:20.984Z] Worker 6d7cc0e7-c2e9-435a-b4c2-4ec1efe07350 exited with code 0
[2025-09-16T02:49:21.223Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 connecting on 127.0.0.1:64048
[2025-09-16T02:49:21.255Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received WorkerInitRequest
[2025-09-16T02:49:21.259Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionsMetadataRequest
[2025-09-16T02:49:21.259Z] Reading functions metadata (Host)
[2025-09-16T02:49:21.750Z] 22 functions found (Host)
[2025-09-16T02:49:21.751Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:49:21.751Z] 21 functions loaded
[2025-09-16T02:49:21.751Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:49:21.752Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:49:21.752Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:49:21.752Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:49:22.053Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:49:22.053Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:49:22.053Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:49:22.053Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:49:22.109Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:49:22.109Z] Host configuration file read:
[2025-09-16T02:49:22.109Z] {
[2025-09-16T02:49:22.109Z]   "version": "2.0",
[2025-09-16T02:49:22.109Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:49:22.109Z]   "functions": [
[2025-09-16T02:49:22.109Z]     "addFigmaComponent",
[2025-09-16T02:49:22.109Z]     "analyzeImage",
[2025-09-16T02:49:22.109Z]     "analyzeUIImage",
[2025-09-16T02:49:22.109Z]     "atlasComponents",
[2025-09-16T02:49:22.109Z]     "directImageToWireframe",
[2025-09-16T02:49:22.109Z]     "figmaComponents",
[2025-09-16T02:49:22.109Z]     "figmaImport",
[2025-09-16T02:49:22.109Z]     "figmaNodeImporter",
[2025-09-16T02:49:22.109Z]     "figmaOAuthCallback",
[2025-09-16T02:49:22.110Z]     "figmaOAuthStart",
[2025-09-16T02:49:22.110Z]     "generateSuggestions",
[2025-09-16T02:49:22.110Z]     "generateWireframe",
[2025-09-16T02:49:22.110Z]     "generateWireframeEnhanced",
[2025-09-16T02:49:22.110Z]     "get-template",
[2025-09-16T02:49:22.110Z]     "githubAuthCallback",
[2025-09-16T02:49:22.110Z]     "githubAuthStart",
[2025-09-16T02:49:22.110Z]     "health",
[2025-09-16T02:49:22.110Z]     "openai-health",
[2025-09-16T02:49:22.110Z]     "testFigma",
[2025-09-16T02:49:22.110Z]     "updateThemeColors",
[2025-09-16T02:49:22.110Z]     "wireframeAnalyze",
[2025-09-16T02:49:22.110Z]     "frontend"
[2025-09-16T02:49:22.110Z]   ],
[2025-09-16T02:49:22.110Z]   "logging": {
[2025-09-16T02:49:22.110Z]     "applicationInsights": {
[2025-09-16T02:49:22.110Z]       "samplingSettings": {
[2025-09-16T02:49:22.110Z]         "isEnabled": true,
[2025-09-16T02:49:22.110Z]         "excludedTypes": "Request"
[2025-09-16T02:49:22.110Z]       }
[2025-09-16T02:49:22.110Z]     },
[2025-09-16T02:49:22.110Z]     "logLevel": {
[2025-09-16T02:49:22.110Z]       "default": "Information",
[2025-09-16T02:49:22.110Z]       "Host.Results": "Information",
[2025-09-16T02:49:22.110Z]       "Function": "Information"
[2025-09-16T02:49:22.110Z]     }
[2025-09-16T02:49:22.110Z]   },
[2025-09-16T02:49:22.110Z]   "extensionBundle": {
[2025-09-16T02:49:22.110Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:49:22.110Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:49:22.110Z]   },
[2025-09-16T02:49:22.110Z]   "watchDirectories": [
[2025-09-16T02:49:22.110Z]     "Shared"
[2025-09-16T02:49:22.110Z]   ]
[2025-09-16T02:49:22.110Z] }
[2025-09-16T02:49:22.156Z] Initializing Warmup Extension.
[2025-09-16T02:49:22.157Z] Initializing Host. OperationId: 'e41ddb13-5eec-4415-a84e-bf1cfaee7d5c'.
[2025-09-16T02:49:22.157Z] Host initialization: ConsecutiveErrors=0, StartupCount=5, OperationId=e41ddb13-5eec-4415-a84e-bf1cfaee7d5c
[2025-09-16T02:49:22.158Z] LoggerFilterOptions
[2025-09-16T02:49:22.158Z] {
[2025-09-16T02:49:22.158Z]   "MinLevel": "None",
[2025-09-16T02:49:22.158Z]   "Rules": [
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:49:22.158Z]       "LogLevel": "None",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": "None",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": null,
[2025-09-16T02:49:22.158Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": null,
[2025-09-16T02:49:22.158Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": null,
[2025-09-16T02:49:22.158Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": "Host.Results",
[2025-09-16T02:49:22.158Z]       "LogLevel": "Information",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": "Function",
[2025-09-16T02:49:22.158Z]       "LogLevel": "Information",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": "Information",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": "None",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": null,
[2025-09-16T02:49:22.158Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": null,
[2025-09-16T02:49:22.158Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.158Z]     }
[2025-09-16T02:49:22.158Z]   ]
[2025-09-16T02:49:22.158Z] }
[2025-09-16T02:49:22.158Z] LoggerFilterOptions
[2025-09-16T02:49:22.158Z] {
[2025-09-16T02:49:22.158Z]   "MinLevel": "None",
[2025-09-16T02:49:22.158Z]   "Rules": [
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:49:22.158Z]       "LogLevel": "None",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": "None",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": null,
[2025-09-16T02:49:22.158Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": null,
[2025-09-16T02:49:22.158Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": null,
[2025-09-16T02:49:22.158Z]       "LogLevel": null,
[2025-09-16T02:49:22.158Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": "Host.Results",
[2025-09-16T02:49:22.158Z]       "LogLevel": "Information",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.158Z]       "CategoryName": "Function",
[2025-09-16T02:49:22.158Z]       "LogLevel": "Information",
[2025-09-16T02:49:22.158Z]       "Filter": null
[2025-09-16T02:49:22.158Z]     },
[2025-09-16T02:49:22.158Z]     {
[2025-09-16T02:49:22.158Z]       "ProviderName": null,
[2025-09-16T02:49:22.159Z]       "CategoryName": null,
[2025-09-16T02:49:22.159Z]       "LogLevel": "Information",
[2025-09-16T02:49:22.159Z]       "Filter": null
[2025-09-16T02:49:22.159Z]     },
[2025-09-16T02:49:22.159Z]     {
[2025-09-16T02:49:22.159Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:49:22.159Z]       "CategoryName": null,
[2025-09-16T02:49:22.159Z]       "LogLevel": "None",
[2025-09-16T02:49:22.159Z]       "Filter": null
[2025-09-16T02:49:22.159Z]     },
[2025-09-16T02:49:22.159Z]     {
[2025-09-16T02:49:22.159Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:49:22.159Z]       "CategoryName": null,
[2025-09-16T02:49:22.159Z]       "LogLevel": null,
[2025-09-16T02:49:22.159Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.159Z]     },
[2025-09-16T02:49:22.159Z]     {
[2025-09-16T02:49:22.159Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:49:22.159Z]       "CategoryName": null,
[2025-09-16T02:49:22.159Z]       "LogLevel": null,
[2025-09-16T02:49:22.159Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:49:22.159Z]     }
[2025-09-16T02:49:22.159Z]   ]
[2025-09-16T02:49:22.159Z] }
[2025-09-16T02:49:22.159Z] FunctionResultAggregatorOptions
[2025-09-16T02:49:22.159Z] {
[2025-09-16T02:49:22.159Z]   "BatchSize": 1000,
[2025-09-16T02:49:22.159Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:49:22.159Z]   "IsEnabled": true
[2025-09-16T02:49:22.159Z] }
[2025-09-16T02:49:22.159Z] ConcurrencyOptions
[2025-09-16T02:49:22.159Z] {
[2025-09-16T02:49:22.159Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:49:22.159Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:49:22.159Z]   "CPUThreshold": 0.8,
[2025-09-16T02:49:22.159Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:49:22.159Z] }
[2025-09-16T02:49:22.159Z] SingletonOptions
[2025-09-16T02:49:22.159Z] {
[2025-09-16T02:49:22.159Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:49:22.159Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:49:22.159Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:49:22.159Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:49:22.159Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:49:22.159Z] }
[2025-09-16T02:49:22.159Z] ScaleOptions
[2025-09-16T02:49:22.159Z] {
[2025-09-16T02:49:22.159Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:49:22.159Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:49:22.159Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:49:22.159Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:49:22.159Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:49:22.159Z] }
[2025-09-16T02:49:22.159Z] Starting JobHost
[2025-09-16T02:49:22.159Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=6780b4bc-3ef4-42a9-a310-4c8854c477c2, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:49:22.159Z] Loading functions metadata
[2025-09-16T02:49:22.159Z] Worker indexing is enabled
[2025-09-16T02:49:22.159Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:49:22.159Z] Reading functions metadata (Worker)
[2025-09-16T02:49:22.159Z] Reading functions metadata (Host)
[2025-09-16T02:49:22.597Z] 22 functions found (Host)
[2025-09-16T02:49:22.600Z] Reading functions metadata (Custom)
[2025-09-16T02:49:22.600Z] 0 functions found (Custom)
[2025-09-16T02:49:22.600Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:49:22.600Z] 21 functions loaded
[2025-09-16T02:49:22.603Z] Worker process started and initialized.
[2025-09-16T02:49:22.603Z] Generating 21 job function(s)
[2025-09-16T02:49:22.616Z] Found the following functions:
[2025-09-16T02:49:22.616Z] Host.Functions.addFigmaComponent
[2025-09-16T02:49:22.616Z] Host.Functions.analyzeImage
[2025-09-16T02:49:22.616Z] Host.Functions.analyzeUIImage
[2025-09-16T02:49:22.616Z] Host.Functions.atlasComponents
[2025-09-16T02:49:22.616Z] Host.Functions.directImageToWireframe
[2025-09-16T02:49:22.616Z] Host.Functions.figmaComponents
[2025-09-16T02:49:22.616Z] Host.Functions.figmaImport
[2025-09-16T02:49:22.616Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:49:22.617Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:49:22.617Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:49:22.617Z] Host.Functions.frontend
[2025-09-16T02:49:22.617Z] Host.Functions.generateSuggestions
[2025-09-16T02:49:22.617Z] Host.Functions.generateWireframe
[2025-09-16T02:49:22.617Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:49:22.617Z] Host.Functions.get-template
[2025-09-16T02:49:22.617Z] Host.Functions.githubAuthCallback
[2025-09-16T02:49:22.617Z] Host.Functions.githubAuthStart
[2025-09-16T02:49:22.617Z] Host.Functions.health
[2025-09-16T02:49:22.617Z] Host.Functions.openai-health
[2025-09-16T02:49:22.617Z] Host.Functions.updateThemeColors
[2025-09-16T02:49:22.617Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:49:22.617Z] 
[2025-09-16T02:49:22.617Z] HttpOptions
[2025-09-16T02:49:22.617Z] {
[2025-09-16T02:49:22.617Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:49:22.617Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:49:22.617Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:49:22.617Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:49:22.617Z]   "RoutePrefix": "api"
[2025-09-16T02:49:22.617Z] }
[2025-09-16T02:49:22.617Z] Initializing function HTTP routes
[2025-09-16T02:49:22.617Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:49:22.617Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:49:22.617Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:49:22.617Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:49:22.617Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:49:22.617Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:49:22.617Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:49:22.618Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:49:22.618Z] 
[2025-09-16T02:49:22.618Z] Host initialized (458ms)
[2025-09-16T02:49:22.618Z] Host started (458ms)
[2025-09-16T02:49:22.618Z] Job host started
[2025-09-16T02:49:22.693Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`
[2025-09-16T02:49:22.694Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:49:22.698Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.698Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.700Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.703Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.703Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.703Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.703Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.703Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.703Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.704Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 received FunctionLoadRequest
[2025-09-16T02:49:22.721Z] Host restarted.
[2025-09-16T02:49:27.159Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:51:28.610Z] Restarting host.
[2025-09-16T02:51:28.632Z] Stopping JobHost
[2025-09-16T02:51:28.634Z] Job host stopped
[2025-09-16T02:51:28.638Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: 'e37d4638-feeb-4bb9-a152-e81fa8822215'
[2025-09-16T02:51:28.724Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:51:28.725Z] Host configuration file read:
[2025-09-16T02:51:28.725Z] {
[2025-09-16T02:51:28.725Z]   "version": "2.0",
[2025-09-16T02:51:28.725Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:51:28.725Z]   "functions": [
[2025-09-16T02:51:28.725Z]     "addFigmaComponent",
[2025-09-16T02:51:28.725Z]     "analyzeImage",
[2025-09-16T02:51:28.725Z]     "analyzeUIImage",
[2025-09-16T02:51:28.725Z]     "atlasComponents",
[2025-09-16T02:51:28.725Z]     "directImageToWireframe",
[2025-09-16T02:51:28.725Z]     "figmaComponents",
[2025-09-16T02:51:28.725Z]     "figmaImport",
[2025-09-16T02:51:28.725Z]     "figmaNodeImporter",
[2025-09-16T02:51:28.725Z]     "figmaOAuthCallback",
[2025-09-16T02:51:28.725Z]     "figmaOAuthStart",
[2025-09-16T02:51:28.725Z]     "generateSuggestions",
[2025-09-16T02:51:28.725Z]     "generateWireframe",
[2025-09-16T02:51:28.725Z]     "generateWireframeEnhanced",
[2025-09-16T02:51:28.725Z]     "get-template",
[2025-09-16T02:51:28.725Z]     "githubAuthCallback",
[2025-09-16T02:51:28.725Z]     "githubAuthStart",
[2025-09-16T02:51:28.725Z]     "health",
[2025-09-16T02:51:28.725Z]     "openai-health",
[2025-09-16T02:51:28.725Z]     "testFigma",
[2025-09-16T02:51:28.725Z]     "updateThemeColors",
[2025-09-16T02:51:28.725Z]     "wireframeAnalyze",
[2025-09-16T02:51:28.725Z]     "frontend"
[2025-09-16T02:51:28.725Z]   ],
[2025-09-16T02:51:28.725Z]   "logging": {
[2025-09-16T02:51:28.725Z]     "applicationInsights": {
[2025-09-16T02:51:28.725Z]       "samplingSettings": {
[2025-09-16T02:51:28.725Z]         "isEnabled": true,
[2025-09-16T02:51:28.725Z]         "excludedTypes": "Request"
[2025-09-16T02:51:28.725Z]       }
[2025-09-16T02:51:28.725Z]     },
[2025-09-16T02:51:28.725Z]     "logLevel": {
[2025-09-16T02:51:28.725Z]       "default": "Information",
[2025-09-16T02:51:28.725Z]       "Host.Results": "Information",
[2025-09-16T02:51:28.725Z]       "Function": "Information"
[2025-09-16T02:51:28.725Z]     }
[2025-09-16T02:51:28.725Z]   },
[2025-09-16T02:51:28.725Z]   "extensionBundle": {
[2025-09-16T02:51:28.725Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:51:28.725Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:51:28.725Z]   },
[2025-09-16T02:51:28.725Z]   "watchDirectories": [
[2025-09-16T02:51:28.725Z]     "Shared"
[2025-09-16T02:51:28.725Z]   ]
[2025-09-16T02:51:28.725Z] }
[2025-09-16T02:51:28.726Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:51:28.727Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:51:28.727Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:51:28.727Z] Loading functions metadata
[2025-09-16T02:51:28.727Z] Worker indexing is enabled
[2025-09-16T02:51:28.727Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:51:28.727Z] Reading functions metadata (Worker)
[2025-09-16T02:51:28.727Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:51:28.777Z] Worker c0881f0b-c7be-4a3a-bb1f-61a54865d688 exited with code 0
[2025-09-16T02:51:29.035Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d connecting on 127.0.0.1:64048
[2025-09-16T02:51:29.077Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received WorkerInitRequest
[2025-09-16T02:51:29.081Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionsMetadataRequest
[2025-09-16T02:51:29.081Z] Reading functions metadata (Host)
[2025-09-16T02:51:29.621Z] 22 functions found (Host)
[2025-09-16T02:51:29.621Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:51:29.621Z] 21 functions loaded
[2025-09-16T02:51:29.622Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:51:29.623Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:51:29.623Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:51:29.623Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:51:30.824Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:51:30.824Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:51:30.826Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:51:30.826Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:51:30.917Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:51:30.917Z] Host configuration file read:
[2025-09-16T02:51:30.917Z] {
[2025-09-16T02:51:30.917Z]   "version": "2.0",
[2025-09-16T02:51:30.917Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:51:30.917Z]   "functions": [
[2025-09-16T02:51:30.917Z]     "addFigmaComponent",
[2025-09-16T02:51:30.917Z]     "analyzeImage",
[2025-09-16T02:51:30.917Z]     "analyzeUIImage",
[2025-09-16T02:51:30.917Z]     "atlasComponents",
[2025-09-16T02:51:30.917Z]     "directImageToWireframe",
[2025-09-16T02:51:30.917Z]     "figmaComponents",
[2025-09-16T02:51:30.917Z]     "figmaImport",
[2025-09-16T02:51:30.917Z]     "figmaNodeImporter",
[2025-09-16T02:51:30.917Z]     "figmaOAuthCallback",
[2025-09-16T02:51:30.917Z]     "figmaOAuthStart",
[2025-09-16T02:51:30.917Z]     "generateSuggestions",
[2025-09-16T02:51:30.917Z]     "generateWireframe",
[2025-09-16T02:51:30.917Z]     "generateWireframeEnhanced",
[2025-09-16T02:51:30.917Z]     "get-template",
[2025-09-16T02:51:30.917Z]     "githubAuthCallback",
[2025-09-16T02:51:30.917Z]     "githubAuthStart",
[2025-09-16T02:51:30.917Z]     "health",
[2025-09-16T02:51:30.917Z]     "openai-health",
[2025-09-16T02:51:30.917Z]     "testFigma",
[2025-09-16T02:51:30.917Z]     "updateThemeColors",
[2025-09-16T02:51:30.917Z]     "wireframeAnalyze",
[2025-09-16T02:51:30.917Z]     "frontend"
[2025-09-16T02:51:30.917Z]   ],
[2025-09-16T02:51:30.917Z]   "logging": {
[2025-09-16T02:51:30.917Z]     "applicationInsights": {
[2025-09-16T02:51:30.917Z]       "samplingSettings": {
[2025-09-16T02:51:30.917Z]         "isEnabled": true,
[2025-09-16T02:51:30.917Z]         "excludedTypes": "Request"
[2025-09-16T02:51:30.917Z]       }
[2025-09-16T02:51:30.917Z]     },
[2025-09-16T02:51:30.917Z]     "logLevel": {
[2025-09-16T02:51:30.917Z]       "default": "Information",
[2025-09-16T02:51:30.917Z]       "Host.Results": "Information",
[2025-09-16T02:51:30.917Z]       "Function": "Information"
[2025-09-16T02:51:30.917Z]     }
[2025-09-16T02:51:30.917Z]   },
[2025-09-16T02:51:30.917Z]   "extensionBundle": {
[2025-09-16T02:51:30.917Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:51:30.917Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:51:30.917Z]   },
[2025-09-16T02:51:30.917Z]   "watchDirectories": [
[2025-09-16T02:51:30.917Z]     "Shared"
[2025-09-16T02:51:30.917Z]   ]
[2025-09-16T02:51:30.917Z] }
[2025-09-16T02:51:30.974Z] Initializing Warmup Extension.
[2025-09-16T02:51:30.975Z] Initializing Host. OperationId: 'e37d4638-feeb-4bb9-a152-e81fa8822215'.
[2025-09-16T02:51:30.975Z] Host initialization: ConsecutiveErrors=0, StartupCount=6, OperationId=e37d4638-feeb-4bb9-a152-e81fa8822215
[2025-09-16T02:51:30.977Z] LoggerFilterOptions
[2025-09-16T02:51:30.977Z] {
[2025-09-16T02:51:30.977Z]   "MinLevel": "None",
[2025-09-16T02:51:30.977Z]   "Rules": [
[2025-09-16T02:51:30.977Z]     {
[2025-09-16T02:51:30.977Z]       "ProviderName": null,
[2025-09-16T02:51:30.977Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:51:30.977Z]       "LogLevel": "None",
[2025-09-16T02:51:30.977Z]       "Filter": null
[2025-09-16T02:51:30.977Z]     },
[2025-09-16T02:51:30.977Z]     {
[2025-09-16T02:51:30.977Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:30.977Z]       "CategoryName": null,
[2025-09-16T02:51:30.977Z]       "LogLevel": "None",
[2025-09-16T02:51:30.977Z]       "Filter": null
[2025-09-16T02:51:30.977Z]     },
[2025-09-16T02:51:30.977Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": "Host.Results",
[2025-09-16T02:51:30.978Z]       "LogLevel": "Information",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": "Function",
[2025-09-16T02:51:30.978Z]       "LogLevel": "Information",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": "Information",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": "None",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     }
[2025-09-16T02:51:30.978Z]   ]
[2025-09-16T02:51:30.978Z] }
[2025-09-16T02:51:30.978Z] LoggerFilterOptions
[2025-09-16T02:51:30.978Z] {
[2025-09-16T02:51:30.978Z]   "MinLevel": "None",
[2025-09-16T02:51:30.978Z]   "Rules": [
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:51:30.978Z]       "LogLevel": "None",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": "None",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": "Host.Results",
[2025-09-16T02:51:30.978Z]       "LogLevel": "Information",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": "Function",
[2025-09-16T02:51:30.978Z]       "LogLevel": "Information",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": null,
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": "Information",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": "None",
[2025-09-16T02:51:30.978Z]       "Filter": null
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     },
[2025-09-16T02:51:30.978Z]     {
[2025-09-16T02:51:30.978Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:30.978Z]       "CategoryName": null,
[2025-09-16T02:51:30.978Z]       "LogLevel": null,
[2025-09-16T02:51:30.978Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:30.978Z]     }
[2025-09-16T02:51:30.978Z]   ]
[2025-09-16T02:51:30.978Z] }
[2025-09-16T02:51:30.978Z] FunctionResultAggregatorOptions
[2025-09-16T02:51:30.978Z] {
[2025-09-16T02:51:30.978Z]   "BatchSize": 1000,
[2025-09-16T02:51:30.978Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:51:30.978Z]   "IsEnabled": true
[2025-09-16T02:51:30.979Z] }
[2025-09-16T02:51:30.979Z] ConcurrencyOptions
[2025-09-16T02:51:30.979Z] {
[2025-09-16T02:51:30.979Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:51:30.979Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:51:30.979Z]   "CPUThreshold": 0.8,
[2025-09-16T02:51:30.979Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:51:30.979Z] }
[2025-09-16T02:51:30.979Z] SingletonOptions
[2025-09-16T02:51:30.979Z] {
[2025-09-16T02:51:30.979Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:51:30.979Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:51:30.979Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:51:30.979Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:51:30.979Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:51:30.979Z] }
[2025-09-16T02:51:30.979Z] ScaleOptions
[2025-09-16T02:51:30.979Z] {
[2025-09-16T02:51:30.979Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:51:30.979Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:51:30.979Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:51:30.979Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:51:30.979Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:51:30.979Z] }
[2025-09-16T02:51:30.979Z] Starting JobHost
[2025-09-16T02:51:30.979Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=0a69011d-3243-4051-8fc6-646e043aa35a, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:51:30.979Z] Loading functions metadata
[2025-09-16T02:51:30.979Z] Worker indexing is enabled
[2025-09-16T02:51:30.979Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:51:30.979Z] Reading functions metadata (Worker)
[2025-09-16T02:51:30.979Z] Reading functions metadata (Host)
[2025-09-16T02:51:31.556Z] 22 functions found (Host)
[2025-09-16T02:51:31.556Z] Reading functions metadata (Custom)
[2025-09-16T02:51:31.557Z] 0 functions found (Custom)
[2025-09-16T02:51:31.557Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:51:31.560Z] 21 functions loaded
[2025-09-16T02:51:31.565Z] Worker process started and initialized.
[2025-09-16T02:51:31.565Z] Generating 21 job function(s)
[2025-09-16T02:51:31.590Z] Found the following functions:
[2025-09-16T02:51:31.590Z] Host.Functions.addFigmaComponent
[2025-09-16T02:51:31.590Z] Host.Functions.analyzeImage
[2025-09-16T02:51:31.590Z] Host.Functions.analyzeUIImage
[2025-09-16T02:51:31.590Z] Host.Functions.atlasComponents
[2025-09-16T02:51:31.590Z] Host.Functions.directImageToWireframe
[2025-09-16T02:51:31.590Z] Host.Functions.figmaComponents
[2025-09-16T02:51:31.590Z] Host.Functions.figmaImport
[2025-09-16T02:51:31.590Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:51:31.590Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:51:31.590Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:51:31.590Z] Host.Functions.frontend
[2025-09-16T02:51:31.590Z] Host.Functions.generateSuggestions
[2025-09-16T02:51:31.590Z] Host.Functions.generateWireframe
[2025-09-16T02:51:31.590Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:51:31.590Z] Host.Functions.get-template
[2025-09-16T02:51:31.590Z] Host.Functions.githubAuthCallback
[2025-09-16T02:51:31.590Z] Host.Functions.githubAuthStart
[2025-09-16T02:51:31.590Z] Host.Functions.health
[2025-09-16T02:51:31.590Z] Host.Functions.openai-health
[2025-09-16T02:51:31.590Z] Host.Functions.updateThemeColors
[2025-09-16T02:51:31.590Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:51:31.590Z] 
[2025-09-16T02:51:31.590Z] HttpOptions
[2025-09-16T02:51:31.590Z] {
[2025-09-16T02:51:31.590Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:51:31.590Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:51:31.590Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:51:31.590Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:51:31.590Z]   "RoutePrefix": "api"
[2025-09-16T02:51:31.590Z] }
[2025-09-16T02:51:31.591Z] Initializing function HTTP routes
[2025-09-16T02:51:31.591Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:51:31.591Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:51:31.591Z] 
[2025-09-16T02:51:31.591Z] Host initialized (611ms)
[2025-09-16T02:51:31.591Z] Host started (611ms)
[2025-09-16T02:51:31.591Z] Job host started
[2025-09-16T02:51:31.714Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com
[2025-09-16T02:51:31.716Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:51:31.719Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.719Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.721Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.724Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.724Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.728Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.728Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.728Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.728Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.728Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.728Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.728Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.729Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.729Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.729Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.729Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.729Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.729Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.731Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.731Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.731Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d received FunctionLoadRequest
[2025-09-16T02:51:31.737Z] Host restarted.
[2025-09-16T02:51:35.980Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:51:42.187Z] Restarting host.
[2025-09-16T02:51:42.202Z] Stopping JobHost
[2025-09-16T02:51:42.203Z] Job host stopped
[2025-09-16T02:51:42.211Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: 'd0a2184e-88e7-40d5-8373-57a7478001f0'
[2025-09-16T02:51:42.310Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:51:42.310Z] Host configuration file read:
[2025-09-16T02:51:42.310Z] {
[2025-09-16T02:51:42.310Z]   "version": "2.0",
[2025-09-16T02:51:42.310Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:51:42.310Z]   "functions": [
[2025-09-16T02:51:42.310Z]     "addFigmaComponent",
[2025-09-16T02:51:42.310Z]     "analyzeImage",
[2025-09-16T02:51:42.310Z]     "analyzeUIImage",
[2025-09-16T02:51:42.310Z]     "atlasComponents",
[2025-09-16T02:51:42.310Z]     "directImageToWireframe",
[2025-09-16T02:51:42.310Z]     "figmaComponents",
[2025-09-16T02:51:42.310Z]     "figmaImport",
[2025-09-16T02:51:42.310Z]     "figmaNodeImporter",
[2025-09-16T02:51:42.310Z]     "figmaOAuthCallback",
[2025-09-16T02:51:42.310Z]     "figmaOAuthStart",
[2025-09-16T02:51:42.310Z]     "generateSuggestions",
[2025-09-16T02:51:42.310Z]     "generateWireframe",
[2025-09-16T02:51:42.310Z]     "generateWireframeEnhanced",
[2025-09-16T02:51:42.310Z]     "get-template",
[2025-09-16T02:51:42.310Z]     "githubAuthCallback",
[2025-09-16T02:51:42.310Z]     "githubAuthStart",
[2025-09-16T02:51:42.310Z]     "health",
[2025-09-16T02:51:42.310Z]     "openai-health",
[2025-09-16T02:51:42.310Z]     "testFigma",
[2025-09-16T02:51:42.310Z]     "updateThemeColors",
[2025-09-16T02:51:42.310Z]     "wireframeAnalyze",
[2025-09-16T02:51:42.310Z]     "frontend"
[2025-09-16T02:51:42.310Z]   ],
[2025-09-16T02:51:42.310Z]   "logging": {
[2025-09-16T02:51:42.310Z]     "applicationInsights": {
[2025-09-16T02:51:42.310Z]       "samplingSettings": {
[2025-09-16T02:51:42.310Z]         "isEnabled": true,
[2025-09-16T02:51:42.310Z]         "excludedTypes": "Request"
[2025-09-16T02:51:42.310Z]       }
[2025-09-16T02:51:42.310Z]     },
[2025-09-16T02:51:42.310Z]     "logLevel": {
[2025-09-16T02:51:42.310Z]       "default": "Information",
[2025-09-16T02:51:42.310Z]       "Host.Results": "Information",
[2025-09-16T02:51:42.310Z]       "Function": "Information"
[2025-09-16T02:51:42.310Z]     }
[2025-09-16T02:51:42.310Z]   },
[2025-09-16T02:51:42.310Z]   "extensionBundle": {
[2025-09-16T02:51:42.310Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:51:42.310Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:51:42.310Z]   },
[2025-09-16T02:51:42.310Z]   "watchDirectories": [
[2025-09-16T02:51:42.310Z]     "Shared"
[2025-09-16T02:51:42.310Z]   ]
[2025-09-16T02:51:42.310Z] }
[2025-09-16T02:51:42.312Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:51:42.312Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:51:42.312Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:51:42.312Z] Loading functions metadata
[2025-09-16T02:51:42.312Z] Worker indexing is enabled
[2025-09-16T02:51:42.312Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:51:42.312Z] Reading functions metadata (Worker)
[2025-09-16T02:51:42.312Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:51:42.322Z] Worker 7059ac9e-28b0-49cd-85da-8f913eb5890d exited with code 0
[2025-09-16T02:51:42.476Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 connecting on 127.0.0.1:64048
[2025-09-16T02:51:42.501Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received WorkerInitRequest
[2025-09-16T02:51:42.505Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionsMetadataRequest
[2025-09-16T02:51:42.505Z] Reading functions metadata (Host)
[2025-09-16T02:51:43.033Z] 22 functions found (Host)
[2025-09-16T02:51:43.033Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:51:43.033Z] 21 functions loaded
[2025-09-16T02:51:43.033Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:51:43.034Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:51:43.034Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:51:43.034Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:51:43.947Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:51:43.947Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:51:43.947Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:51:43.947Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:51:44.054Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:51:44.054Z] Host configuration file read:
[2025-09-16T02:51:44.054Z] {
[2025-09-16T02:51:44.055Z]   "version": "2.0",
[2025-09-16T02:51:44.055Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:51:44.055Z]   "functions": [
[2025-09-16T02:51:44.055Z]     "addFigmaComponent",
[2025-09-16T02:51:44.055Z]     "analyzeImage",
[2025-09-16T02:51:44.055Z]     "analyzeUIImage",
[2025-09-16T02:51:44.055Z]     "atlasComponents",
[2025-09-16T02:51:44.055Z]     "directImageToWireframe",
[2025-09-16T02:51:44.055Z]     "figmaComponents",
[2025-09-16T02:51:44.055Z]     "figmaImport",
[2025-09-16T02:51:44.055Z]     "figmaNodeImporter",
[2025-09-16T02:51:44.055Z]     "figmaOAuthCallback",
[2025-09-16T02:51:44.055Z]     "figmaOAuthStart",
[2025-09-16T02:51:44.055Z]     "generateSuggestions",
[2025-09-16T02:51:44.055Z]     "generateWireframe",
[2025-09-16T02:51:44.055Z]     "generateWireframeEnhanced",
[2025-09-16T02:51:44.055Z]     "get-template",
[2025-09-16T02:51:44.055Z]     "githubAuthCallback",
[2025-09-16T02:51:44.055Z]     "githubAuthStart",
[2025-09-16T02:51:44.055Z]     "health",
[2025-09-16T02:51:44.055Z]     "openai-health",
[2025-09-16T02:51:44.055Z]     "testFigma",
[2025-09-16T02:51:44.055Z]     "updateThemeColors",
[2025-09-16T02:51:44.055Z]     "wireframeAnalyze",
[2025-09-16T02:51:44.055Z]     "frontend"
[2025-09-16T02:51:44.055Z]   ],
[2025-09-16T02:51:44.055Z]   "logging": {
[2025-09-16T02:51:44.055Z]     "applicationInsights": {
[2025-09-16T02:51:44.055Z]       "samplingSettings": {
[2025-09-16T02:51:44.055Z]         "isEnabled": true,
[2025-09-16T02:51:44.055Z]         "excludedTypes": "Request"
[2025-09-16T02:51:44.055Z]       }
[2025-09-16T02:51:44.055Z]     },
[2025-09-16T02:51:44.055Z]     "logLevel": {
[2025-09-16T02:51:44.055Z]       "default": "Information",
[2025-09-16T02:51:44.055Z]       "Host.Results": "Information",
[2025-09-16T02:51:44.055Z]       "Function": "Information"
[2025-09-16T02:51:44.055Z]     }
[2025-09-16T02:51:44.055Z]   },
[2025-09-16T02:51:44.055Z]   "extensionBundle": {
[2025-09-16T02:51:44.055Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:51:44.055Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:51:44.055Z]   },
[2025-09-16T02:51:44.055Z]   "watchDirectories": [
[2025-09-16T02:51:44.055Z]     "Shared"
[2025-09-16T02:51:44.055Z]   ]
[2025-09-16T02:51:44.055Z] }
[2025-09-16T02:51:44.120Z] Initializing Warmup Extension.
[2025-09-16T02:51:44.121Z] Initializing Host. OperationId: 'd0a2184e-88e7-40d5-8373-57a7478001f0'.
[2025-09-16T02:51:44.121Z] Host initialization: ConsecutiveErrors=0, StartupCount=7, OperationId=d0a2184e-88e7-40d5-8373-57a7478001f0
[2025-09-16T02:51:44.123Z] LoggerFilterOptions
[2025-09-16T02:51:44.123Z] {
[2025-09-16T02:51:44.123Z]   "MinLevel": "None",
[2025-09-16T02:51:44.123Z]   "Rules": [
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": null,
[2025-09-16T02:51:44.123Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:51:44.123Z]       "LogLevel": "None",
[2025-09-16T02:51:44.123Z]       "Filter": null
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": "None",
[2025-09-16T02:51:44.123Z]       "Filter": null
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": null,
[2025-09-16T02:51:44.123Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": null,
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": null,
[2025-09-16T02:51:44.123Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": null,
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": null,
[2025-09-16T02:51:44.123Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": null,
[2025-09-16T02:51:44.123Z]       "CategoryName": "Host.Results",
[2025-09-16T02:51:44.123Z]       "LogLevel": "Information",
[2025-09-16T02:51:44.123Z]       "Filter": null
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": null,
[2025-09-16T02:51:44.123Z]       "CategoryName": "Function",
[2025-09-16T02:51:44.123Z]       "LogLevel": "Information",
[2025-09-16T02:51:44.123Z]       "Filter": null
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": null,
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": "Information",
[2025-09-16T02:51:44.123Z]       "Filter": null
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": "None",
[2025-09-16T02:51:44.123Z]       "Filter": null
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": null,
[2025-09-16T02:51:44.123Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": null,
[2025-09-16T02:51:44.123Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.123Z]     }
[2025-09-16T02:51:44.123Z]   ]
[2025-09-16T02:51:44.123Z] }
[2025-09-16T02:51:44.123Z] LoggerFilterOptions
[2025-09-16T02:51:44.123Z] {
[2025-09-16T02:51:44.123Z]   "MinLevel": "None",
[2025-09-16T02:51:44.123Z]   "Rules": [
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": null,
[2025-09-16T02:51:44.123Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:51:44.123Z]       "LogLevel": "None",
[2025-09-16T02:51:44.123Z]       "Filter": null
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": "None",
[2025-09-16T02:51:44.123Z]       "Filter": null
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:44.123Z]       "CategoryName": null,
[2025-09-16T02:51:44.123Z]       "LogLevel": null,
[2025-09-16T02:51:44.123Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.123Z]     },
[2025-09-16T02:51:44.123Z]     {
[2025-09-16T02:51:44.123Z]       "ProviderName": null,
[2025-09-16T02:51:44.124Z]       "CategoryName": null,
[2025-09-16T02:51:44.124Z]       "LogLevel": null,
[2025-09-16T02:51:44.124Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.124Z]     },
[2025-09-16T02:51:44.124Z]     {
[2025-09-16T02:51:44.124Z]       "ProviderName": null,
[2025-09-16T02:51:44.124Z]       "CategoryName": null,
[2025-09-16T02:51:44.124Z]       "LogLevel": null,
[2025-09-16T02:51:44.124Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.124Z]     },
[2025-09-16T02:51:44.124Z]     {
[2025-09-16T02:51:44.124Z]       "ProviderName": null,
[2025-09-16T02:51:44.124Z]       "CategoryName": "Host.Results",
[2025-09-16T02:51:44.124Z]       "LogLevel": "Information",
[2025-09-16T02:51:44.124Z]       "Filter": null
[2025-09-16T02:51:44.124Z]     },
[2025-09-16T02:51:44.124Z]     {
[2025-09-16T02:51:44.124Z]       "ProviderName": null,
[2025-09-16T02:51:44.124Z]       "CategoryName": "Function",
[2025-09-16T02:51:44.124Z]       "LogLevel": "Information",
[2025-09-16T02:51:44.124Z]       "Filter": null
[2025-09-16T02:51:44.124Z]     },
[2025-09-16T02:51:44.124Z]     {
[2025-09-16T02:51:44.124Z]       "ProviderName": null,
[2025-09-16T02:51:44.124Z]       "CategoryName": null,
[2025-09-16T02:51:44.124Z]       "LogLevel": "Information",
[2025-09-16T02:51:44.124Z]       "Filter": null
[2025-09-16T02:51:44.124Z]     },
[2025-09-16T02:51:44.124Z]     {
[2025-09-16T02:51:44.124Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:51:44.124Z]       "CategoryName": null,
[2025-09-16T02:51:44.124Z]       "LogLevel": "None",
[2025-09-16T02:51:44.124Z]       "Filter": null
[2025-09-16T02:51:44.124Z]     },
[2025-09-16T02:51:44.124Z]     {
[2025-09-16T02:51:44.124Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:51:44.124Z]       "CategoryName": null,
[2025-09-16T02:51:44.124Z]       "LogLevel": null,
[2025-09-16T02:51:44.124Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.124Z]     },
[2025-09-16T02:51:44.124Z]     {
[2025-09-16T02:51:44.124Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:51:44.124Z]       "CategoryName": null,
[2025-09-16T02:51:44.124Z]       "LogLevel": null,
[2025-09-16T02:51:44.124Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:51:44.124Z]     }
[2025-09-16T02:51:44.124Z]   ]
[2025-09-16T02:51:44.124Z] }
[2025-09-16T02:51:44.124Z] FunctionResultAggregatorOptions
[2025-09-16T02:51:44.124Z] {
[2025-09-16T02:51:44.124Z]   "BatchSize": 1000,
[2025-09-16T02:51:44.124Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:51:44.124Z]   "IsEnabled": true
[2025-09-16T02:51:44.124Z] }
[2025-09-16T02:51:44.124Z] ConcurrencyOptions
[2025-09-16T02:51:44.124Z] {
[2025-09-16T02:51:44.124Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:51:44.124Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:51:44.124Z]   "CPUThreshold": 0.8,
[2025-09-16T02:51:44.124Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:51:44.124Z] }
[2025-09-16T02:51:44.124Z] SingletonOptions
[2025-09-16T02:51:44.124Z] {
[2025-09-16T02:51:44.124Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:51:44.124Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:51:44.124Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:51:44.124Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:51:44.124Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:51:44.124Z] }
[2025-09-16T02:51:44.124Z] ScaleOptions
[2025-09-16T02:51:44.124Z] {
[2025-09-16T02:51:44.124Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:51:44.124Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:51:44.124Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:51:44.124Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:51:44.124Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:51:44.124Z] }
[2025-09-16T02:51:44.124Z] Starting JobHost
[2025-09-16T02:51:44.124Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=7e16bf6c-b1f1-45f2-8fa5-4839d4c33d59, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:51:44.124Z] Loading functions metadata
[2025-09-16T02:51:44.124Z] Worker indexing is enabled
[2025-09-16T02:51:44.124Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:51:44.124Z] Reading functions metadata (Worker)
[2025-09-16T02:51:44.124Z] Reading functions metadata (Host)
[2025-09-16T02:51:44.597Z] 22 functions found (Host)
[2025-09-16T02:51:44.597Z] Reading functions metadata (Custom)
[2025-09-16T02:51:44.598Z] 0 functions found (Custom)
[2025-09-16T02:51:44.598Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:51:44.598Z] 21 functions loaded
[2025-09-16T02:51:44.603Z] Worker process started and initialized.
[2025-09-16T02:51:44.603Z] Generating 21 job function(s)
[2025-09-16T02:51:44.625Z] Found the following functions:
[2025-09-16T02:51:44.625Z] Host.Functions.addFigmaComponent
[2025-09-16T02:51:44.625Z] Host.Functions.analyzeImage
[2025-09-16T02:51:44.625Z] Host.Functions.analyzeUIImage
[2025-09-16T02:51:44.625Z] Host.Functions.atlasComponents
[2025-09-16T02:51:44.625Z] Host.Functions.directImageToWireframe
[2025-09-16T02:51:44.625Z] Host.Functions.figmaComponents
[2025-09-16T02:51:44.625Z] Host.Functions.figmaImport
[2025-09-16T02:51:44.625Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:51:44.625Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:51:44.625Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:51:44.625Z] Host.Functions.frontend
[2025-09-16T02:51:44.625Z] Host.Functions.generateSuggestions
[2025-09-16T02:51:44.625Z] Host.Functions.generateWireframe
[2025-09-16T02:51:44.625Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:51:44.625Z] Host.Functions.get-template
[2025-09-16T02:51:44.625Z] Host.Functions.githubAuthCallback
[2025-09-16T02:51:44.625Z] Host.Functions.githubAuthStart
[2025-09-16T02:51:44.625Z] Host.Functions.health
[2025-09-16T02:51:44.625Z] Host.Functions.openai-health
[2025-09-16T02:51:44.625Z] Host.Functions.updateThemeColors
[2025-09-16T02:51:44.625Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:51:44.625Z] 
[2025-09-16T02:51:44.625Z] HttpOptions
[2025-09-16T02:51:44.625Z] {
[2025-09-16T02:51:44.626Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:51:44.626Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:51:44.626Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:51:44.626Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:51:44.626Z]   "RoutePrefix": "api"
[2025-09-16T02:51:44.626Z] }
[2025-09-16T02:51:44.626Z] Initializing function HTTP routes
[2025-09-16T02:51:44.626Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:51:44.626Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:51:44.626Z] 
[2025-09-16T02:51:44.626Z] Host initialized (501ms)
[2025-09-16T02:51:44.626Z] Host started (502ms)
[2025-09-16T02:51:44.626Z] Job host started
[2025-09-16T02:51:44.705Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: ⚙️  override existing env vars with { override: true }
[2025-09-16T02:51:44.706Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:51:44.711Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.712Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.717Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.717Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.718Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.718Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.718Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.718Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.718Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.718Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.718Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.720Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionLoadRequest
[2025-09-16T02:51:44.754Z] Host restarted.
[2025-09-16T02:51:49.125Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:52:10.965Z] Executing HTTP request: {
[2025-09-16T02:52:10.966Z]   "requestId": "0218f42a-c069-4a3d-a057-364ffcdb4872",
[2025-09-16T02:52:10.966Z]   "method": "GET",
[2025-09-16T02:52:10.966Z]   "userAgent": "curl/8.7.1",
[2025-09-16T02:52:10.966Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:52:10.966Z] }
[2025-09-16T02:52:10.979Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=63e383ee-53ae-4229-be1a-ac94532a6a60)
[2025-09-16T02:52:11.009Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:52:11.013Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:52:11.013Z]   hasClientId: true,
[2025-09-16T02:52:11.013Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:52:11.013Z]   hasClientSecret: true,
[2025-09-16T02:52:11.013Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:52:11.015Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:52:11.015Z] }
[2025-09-16T02:52:11.015Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 received FunctionInvocationRequest with invocationId 63e383ee-53ae-4229-be1a-ac94532a6a60
[2025-09-16T02:52:11.016Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:52:11.016Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:52:11.016Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=63e383ee-53ae-4229-be1a-ac94532a6a60, Duration=43ms)
[2025-09-16T02:52:11.017Z] Executed HTTP request: {
[2025-09-16T02:52:11.020Z]   "requestId": "0218f42a-c069-4a3d-a057-364ffcdb4872",
[2025-09-16T02:52:11.020Z]   "identities": "",
[2025-09-16T02:52:11.020Z]   "status": "200",
[2025-09-16T02:52:11.020Z]   "duration": "52"
[2025-09-16T02:52:11.020Z] }
[2025-09-16T02:52:41.805Z] Restarting host.
[2025-09-16T02:52:41.814Z] Stopping JobHost
[2025-09-16T02:52:41.814Z] Job host stopped
[2025-09-16T02:52:41.817Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '4b9e1f39-3adf-4ec2-a959-5cf2b64717db'
[2025-09-16T02:52:41.898Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:52:41.898Z] Host configuration file read:
[2025-09-16T02:52:41.898Z] {
[2025-09-16T02:52:41.898Z]   "version": "2.0",
[2025-09-16T02:52:41.898Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:52:41.898Z]   "functions": [
[2025-09-16T02:52:41.898Z]     "addFigmaComponent",
[2025-09-16T02:52:41.898Z]     "analyzeImage",
[2025-09-16T02:52:41.898Z]     "analyzeUIImage",
[2025-09-16T02:52:41.898Z]     "atlasComponents",
[2025-09-16T02:52:41.898Z]     "directImageToWireframe",
[2025-09-16T02:52:41.898Z]     "figmaComponents",
[2025-09-16T02:52:41.898Z]     "figmaImport",
[2025-09-16T02:52:41.898Z]     "figmaNodeImporter",
[2025-09-16T02:52:41.898Z]     "figmaOAuthCallback",
[2025-09-16T02:52:41.898Z]     "figmaOAuthStart",
[2025-09-16T02:52:41.898Z]     "generateSuggestions",
[2025-09-16T02:52:41.898Z]     "generateWireframe",
[2025-09-16T02:52:41.898Z]     "generateWireframeEnhanced",
[2025-09-16T02:52:41.898Z]     "get-template",
[2025-09-16T02:52:41.898Z]     "githubAuthCallback",
[2025-09-16T02:52:41.898Z]     "githubAuthStart",
[2025-09-16T02:52:41.898Z]     "health",
[2025-09-16T02:52:41.898Z]     "openai-health",
[2025-09-16T02:52:41.898Z]     "testFigma",
[2025-09-16T02:52:41.898Z]     "updateThemeColors",
[2025-09-16T02:52:41.898Z]     "wireframeAnalyze",
[2025-09-16T02:52:41.898Z]     "frontend"
[2025-09-16T02:52:41.898Z]   ],
[2025-09-16T02:52:41.898Z]   "logging": {
[2025-09-16T02:52:41.898Z]     "applicationInsights": {
[2025-09-16T02:52:41.898Z]       "samplingSettings": {
[2025-09-16T02:52:41.898Z]         "isEnabled": true,
[2025-09-16T02:52:41.898Z]         "excludedTypes": "Request"
[2025-09-16T02:52:41.898Z]       }
[2025-09-16T02:52:41.898Z]     },
[2025-09-16T02:52:41.898Z]     "logLevel": {
[2025-09-16T02:52:41.898Z]       "default": "Information",
[2025-09-16T02:52:41.898Z]       "Host.Results": "Information",
[2025-09-16T02:52:41.898Z]       "Function": "Information"
[2025-09-16T02:52:41.898Z]     }
[2025-09-16T02:52:41.898Z]   },
[2025-09-16T02:52:41.898Z]   "extensionBundle": {
[2025-09-16T02:52:41.898Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:52:41.898Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:52:41.898Z]   },
[2025-09-16T02:52:41.898Z]   "watchDirectories": [
[2025-09-16T02:52:41.898Z]     "Shared"
[2025-09-16T02:52:41.898Z]   ]
[2025-09-16T02:52:41.898Z] }
[2025-09-16T02:52:41.900Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:52:41.900Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:52:41.900Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:52:41.900Z] Loading functions metadata
[2025-09-16T02:52:41.900Z] Worker indexing is enabled
[2025-09-16T02:52:41.901Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:52:41.901Z] Reading functions metadata (Worker)
[2025-09-16T02:52:41.901Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:52:41.921Z] Worker b968e01c-69ef-4b16-b1a6-da6ff29c35d8 exited with code 0
[2025-09-16T02:52:42.171Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 connecting on 127.0.0.1:64048
[2025-09-16T02:52:42.210Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received WorkerInitRequest
[2025-09-16T02:52:42.212Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionsMetadataRequest
[2025-09-16T02:52:42.212Z] Reading functions metadata (Host)
[2025-09-16T02:52:42.739Z] 22 functions found (Host)
[2025-09-16T02:52:42.739Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:52:42.739Z] 21 functions loaded
[2025-09-16T02:52:42.739Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:52:42.739Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:52:42.739Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:52:42.739Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:52:43.106Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:52:43.107Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:52:43.108Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:52:43.108Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:52:43.201Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:52:43.201Z] Host configuration file read:
[2025-09-16T02:52:43.201Z] {
[2025-09-16T02:52:43.201Z]   "version": "2.0",
[2025-09-16T02:52:43.201Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:52:43.201Z]   "functions": [
[2025-09-16T02:52:43.201Z]     "addFigmaComponent",
[2025-09-16T02:52:43.201Z]     "analyzeImage",
[2025-09-16T02:52:43.201Z]     "analyzeUIImage",
[2025-09-16T02:52:43.201Z]     "atlasComponents",
[2025-09-16T02:52:43.201Z]     "directImageToWireframe",
[2025-09-16T02:52:43.201Z]     "figmaComponents",
[2025-09-16T02:52:43.201Z]     "figmaImport",
[2025-09-16T02:52:43.201Z]     "figmaNodeImporter",
[2025-09-16T02:52:43.201Z]     "figmaOAuthCallback",
[2025-09-16T02:52:43.201Z]     "figmaOAuthStart",
[2025-09-16T02:52:43.201Z]     "generateSuggestions",
[2025-09-16T02:52:43.201Z]     "generateWireframe",
[2025-09-16T02:52:43.201Z]     "generateWireframeEnhanced",
[2025-09-16T02:52:43.201Z]     "get-template",
[2025-09-16T02:52:43.201Z]     "githubAuthCallback",
[2025-09-16T02:52:43.201Z]     "githubAuthStart",
[2025-09-16T02:52:43.201Z]     "health",
[2025-09-16T02:52:43.201Z]     "openai-health",
[2025-09-16T02:52:43.201Z]     "testFigma",
[2025-09-16T02:52:43.201Z]     "updateThemeColors",
[2025-09-16T02:52:43.201Z]     "wireframeAnalyze",
[2025-09-16T02:52:43.201Z]     "frontend"
[2025-09-16T02:52:43.201Z]   ],
[2025-09-16T02:52:43.201Z]   "logging": {
[2025-09-16T02:52:43.201Z]     "applicationInsights": {
[2025-09-16T02:52:43.201Z]       "samplingSettings": {
[2025-09-16T02:52:43.201Z]         "isEnabled": true,
[2025-09-16T02:52:43.201Z]         "excludedTypes": "Request"
[2025-09-16T02:52:43.201Z]       }
[2025-09-16T02:52:43.201Z]     },
[2025-09-16T02:52:43.201Z]     "logLevel": {
[2025-09-16T02:52:43.201Z]       "default": "Information",
[2025-09-16T02:52:43.201Z]       "Host.Results": "Information",
[2025-09-16T02:52:43.201Z]       "Function": "Information"
[2025-09-16T02:52:43.201Z]     }
[2025-09-16T02:52:43.201Z]   },
[2025-09-16T02:52:43.201Z]   "extensionBundle": {
[2025-09-16T02:52:43.201Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:52:43.201Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:52:43.201Z]   },
[2025-09-16T02:52:43.201Z]   "watchDirectories": [
[2025-09-16T02:52:43.201Z]     "Shared"
[2025-09-16T02:52:43.201Z]   ]
[2025-09-16T02:52:43.201Z] }
[2025-09-16T02:52:43.254Z] Initializing Warmup Extension.
[2025-09-16T02:52:43.255Z] Initializing Host. OperationId: '4b9e1f39-3adf-4ec2-a959-5cf2b64717db'.
[2025-09-16T02:52:43.255Z] Host initialization: ConsecutiveErrors=0, StartupCount=8, OperationId=4b9e1f39-3adf-4ec2-a959-5cf2b64717db
[2025-09-16T02:52:43.257Z] LoggerFilterOptions
[2025-09-16T02:52:43.258Z] {
[2025-09-16T02:52:43.258Z]   "MinLevel": "None",
[2025-09-16T02:52:43.258Z]   "Rules": [
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:52:43.258Z]       "LogLevel": "None",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": "None",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": "Host.Results",
[2025-09-16T02:52:43.258Z]       "LogLevel": "Information",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": "Function",
[2025-09-16T02:52:43.258Z]       "LogLevel": "Information",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": "Information",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": "None",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     }
[2025-09-16T02:52:43.258Z]   ]
[2025-09-16T02:52:43.258Z] }
[2025-09-16T02:52:43.258Z] LoggerFilterOptions
[2025-09-16T02:52:43.258Z] {
[2025-09-16T02:52:43.258Z]   "MinLevel": "None",
[2025-09-16T02:52:43.258Z]   "Rules": [
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:52:43.258Z]       "LogLevel": "None",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": "None",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": "Host.Results",
[2025-09-16T02:52:43.258Z]       "LogLevel": "Information",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": "Function",
[2025-09-16T02:52:43.258Z]       "LogLevel": "Information",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": null,
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": "Information",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": "None",
[2025-09-16T02:52:43.258Z]       "Filter": null
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     },
[2025-09-16T02:52:43.258Z]     {
[2025-09-16T02:52:43.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:52:43.258Z]       "CategoryName": null,
[2025-09-16T02:52:43.258Z]       "LogLevel": null,
[2025-09-16T02:52:43.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:52:43.258Z]     }
[2025-09-16T02:52:43.258Z]   ]
[2025-09-16T02:52:43.258Z] }
[2025-09-16T02:52:43.258Z] FunctionResultAggregatorOptions
[2025-09-16T02:52:43.258Z] {
[2025-09-16T02:52:43.258Z]   "BatchSize": 1000,
[2025-09-16T02:52:43.258Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:52:43.258Z]   "IsEnabled": true
[2025-09-16T02:52:43.258Z] }
[2025-09-16T02:52:43.259Z] ConcurrencyOptions
[2025-09-16T02:52:43.259Z] {
[2025-09-16T02:52:43.259Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:52:43.259Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:52:43.259Z]   "CPUThreshold": 0.8,
[2025-09-16T02:52:43.259Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:52:43.259Z] }
[2025-09-16T02:52:43.259Z] SingletonOptions
[2025-09-16T02:52:43.259Z] {
[2025-09-16T02:52:43.259Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:52:43.259Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:52:43.259Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:52:43.259Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:52:43.259Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:52:43.259Z] }
[2025-09-16T02:52:43.259Z] ScaleOptions
[2025-09-16T02:52:43.259Z] {
[2025-09-16T02:52:43.259Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:52:43.259Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:52:43.259Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:52:43.259Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:52:43.259Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:52:43.259Z] }
[2025-09-16T02:52:43.259Z] Starting JobHost
[2025-09-16T02:52:43.259Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=c6501aa0-67a6-4ed1-bd75-a3497883b609, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:52:43.259Z] Loading functions metadata
[2025-09-16T02:52:43.259Z] Worker indexing is enabled
[2025-09-16T02:52:43.259Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:52:43.259Z] Reading functions metadata (Worker)
[2025-09-16T02:52:43.259Z] Reading functions metadata (Host)
[2025-09-16T02:52:43.722Z] 22 functions found (Host)
[2025-09-16T02:52:43.723Z] Reading functions metadata (Custom)
[2025-09-16T02:52:43.723Z] 0 functions found (Custom)
[2025-09-16T02:52:43.723Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:52:43.723Z] 21 functions loaded
[2025-09-16T02:52:43.730Z] Generating 21 job function(s)
[2025-09-16T02:52:43.730Z] Worker process started and initialized.
[2025-09-16T02:52:43.755Z] Found the following functions:
[2025-09-16T02:52:43.755Z] Host.Functions.addFigmaComponent
[2025-09-16T02:52:43.755Z] Host.Functions.analyzeImage
[2025-09-16T02:52:43.755Z] Host.Functions.analyzeUIImage
[2025-09-16T02:52:43.755Z] Host.Functions.atlasComponents
[2025-09-16T02:52:43.755Z] Host.Functions.directImageToWireframe
[2025-09-16T02:52:43.755Z] Host.Functions.figmaComponents
[2025-09-16T02:52:43.755Z] Host.Functions.figmaImport
[2025-09-16T02:52:43.755Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:52:43.755Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:52:43.755Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:52:43.755Z] Host.Functions.frontend
[2025-09-16T02:52:43.755Z] Host.Functions.generateSuggestions
[2025-09-16T02:52:43.755Z] Host.Functions.generateWireframe
[2025-09-16T02:52:43.755Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:52:43.755Z] Host.Functions.get-template
[2025-09-16T02:52:43.755Z] Host.Functions.githubAuthCallback
[2025-09-16T02:52:43.755Z] Host.Functions.githubAuthStart
[2025-09-16T02:52:43.755Z] Host.Functions.health
[2025-09-16T02:52:43.755Z] Host.Functions.openai-health
[2025-09-16T02:52:43.755Z] Host.Functions.updateThemeColors
[2025-09-16T02:52:43.755Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:52:43.755Z] 
[2025-09-16T02:52:43.755Z] HttpOptions
[2025-09-16T02:52:43.755Z] {
[2025-09-16T02:52:43.756Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:52:43.756Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:52:43.756Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:52:43.756Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:52:43.756Z]   "RoutePrefix": "api"
[2025-09-16T02:52:43.756Z] Initializing function HTTP routes
[2025-09-16T02:52:43.756Z] }
[2025-09-16T02:52:43.756Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:52:43.756Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:52:43.756Z] 
[2025-09-16T02:52:43.756Z] Host initialized (497ms)
[2025-09-16T02:52:43.756Z] Host started (497ms)
[2025-09-16T02:52:43.756Z] Job host started
[2025-09-16T02:52:43.867Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.867Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.870Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: ⚙️  suppress all logs with { quiet: true }
[2025-09-16T02:52:43.872Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:52:43.877Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.884Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.884Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.883Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.884Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.884Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionLoadRequest
[2025-09-16T02:52:43.901Z] Host restarted.
[2025-09-16T02:52:48.260Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:53:24.032Z] Executing HTTP request: {
[2025-09-16T02:53:24.032Z]   "requestId": "2dc818be-4765-4d3a-9029-0a2b4752243f",
[2025-09-16T02:53:24.032Z]   "method": "GET",
[2025-09-16T02:53:24.032Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:53:24.032Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:53:24.032Z] }
[2025-09-16T02:53:24.041Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=9a287ebe-af12-4efc-b0f0-a96e702b5bbc)
[2025-09-16T02:53:24.076Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:53:24.078Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:53:24.078Z]   hasClientId: true,
[2025-09-16T02:53:24.078Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:53:24.078Z]   hasClientSecret: true,
[2025-09-16T02:53:24.078Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:53:24.078Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:53:24.078Z] }
[2025-09-16T02:53:24.078Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:53:24.079Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:53:24.082Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionInvocationRequest with invocationId 9a287ebe-af12-4efc-b0f0-a96e702b5bbc
[2025-09-16T02:53:24.082Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=9a287ebe-af12-4efc-b0f0-a96e702b5bbc, Duration=45ms)
[2025-09-16T02:53:24.083Z] Executed HTTP request: {
[2025-09-16T02:53:24.083Z]   "requestId": "2dc818be-4765-4d3a-9029-0a2b4752243f",
[2025-09-16T02:53:24.083Z]   "identities": "",
[2025-09-16T02:53:24.083Z]   "status": "200",
[2025-09-16T02:53:24.083Z]   "duration": "52"
[2025-09-16T02:53:24.083Z] }
[2025-09-16T02:53:24.262Z] Executing HTTP request: {
[2025-09-16T02:53:24.262Z]   "requestId": "00e8cc5e-5c04-4e88-878b-5ac99a71bab7",
[2025-09-16T02:53:24.262Z]   "method": "GET",
[2025-09-16T02:53:24.262Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:53:24.262Z]   "uri": "/favicon.ico"
[2025-09-16T02:53:24.262Z] }
[2025-09-16T02:53:24.262Z] Executed HTTP request: {
[2025-09-16T02:53:24.262Z]   "requestId": "00e8cc5e-5c04-4e88-878b-5ac99a71bab7",
[2025-09-16T02:53:24.262Z]   "identities": "",
[2025-09-16T02:53:24.262Z]   "status": "404",
[2025-09-16T02:53:24.262Z]   "duration": "0"
[2025-09-16T02:53:24.262Z] }
[2025-09-16T02:54:10.206Z] Executing HTTP request: {
[2025-09-16T02:54:10.254Z]   "requestId": "ab58bd1f-b182-42bc-b9fd-1845b86a37d1",
[2025-09-16T02:54:10.254Z]   "method": "GET",
[2025-09-16T02:54:10.254Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:54:10.254Z]   "uri": "/api/figmaOAuthCallback"
[2025-09-16T02:54:10.254Z] }
[2025-09-16T02:54:10.321Z] Executing 'Functions.figmaOAuthCallback' (Reason='This function was programmatically called via the host APIs.', Id=7274ddc6-b84a-47c8-bbdf-3fc73d4d3352)
[2025-09-16T02:54:10.355Z] 🔐 Figma OAuth2 Callback Handler
[2025-09-16T02:54:10.355Z] 🔄 Processing OAuth2 callback with code: XXXX...
[2025-09-16T02:54:10.356Z] 🔗 Using redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:54:10.356Z] 🔑 Client ID: 2079DJvSEX...
[2025-09-16T02:54:10.357Z] 🔐 Client Secret: Present
[2025-09-16T02:54:10.358Z] 📤 Request params: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=XXXX&grant_type=authorization_code
[2025-09-16T02:54:10.358Z] 🌍 NODE_ENV: development
[2025-09-16T02:54:10.358Z] 🔄 Exact redirect_uri being sent: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:54:10.412Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionInvocationRequest with invocationId 7274ddc6-b84a-47c8-bbdf-3fc73d4d3352
[2025-09-16T02:54:11.064Z] ❌ Full error details:
[2025-09-16T02:54:11.065Z] Status: 404
[2025-09-16T02:54:11.065Z] Headers: Object [AxiosHeaders] {
[2025-09-16T02:54:11.065Z]   'content-type': 'text/plain',
[2025-09-16T02:54:11.065Z]   'content-length': '9',
[2025-09-16T02:54:11.065Z]   connection: 'keep-alive',
[2025-09-16T02:54:11.065Z]   date: 'Tue, 16 Sep 2025 02:54:11 GMT',
[2025-09-16T02:54:11.065Z]   'x-content-type-options': 'nosniff',
[2025-09-16T02:54:11.065Z]   'x-cache': 'Error from cloudfront',
[2025-09-16T02:54:11.065Z]   via: '1.1 1f41b5f27f3ec2e93db2155dbc56900c.cloudfront.net (CloudFront)',
[2025-09-16T02:54:11.065Z]   'x-amz-cf-pop': 'SEA19-C3',
[2025-09-16T02:54:11.065Z]   'alt-svc': 'h3=":443"; ma=86400',
[2025-09-16T02:54:11.065Z]   'x-amz-cf-id': 'HP2svr4Wv-Rxy6kiKZF2rMwkBRpWuI07sfgIbIrIsB1ViDguCgJ91A==',
[2025-09-16T02:54:11.065Z]   'strict-transport-security': 'max-age=31536000; includeSubDomains; preload'
[2025-09-16T02:54:11.065Z] }
[2025-09-16T02:54:11.065Z] Data: Not Found
[2025-09-16T02:54:11.065Z] Message: Request failed with status code 404
[2025-09-16T02:54:11.065Z] Config URL: https://www.figma.com/api/oauth/token
[2025-09-16T02:54:11.065Z] Config Data: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=XXXX&grant_type=authorization_code
[2025-09-16T02:54:11.065Z] ❌ Failed to exchange code for token: Not Found
[2025-09-16T02:54:11.067Z] Executed 'Functions.figmaOAuthCallback' (Succeeded, Id=7274ddc6-b84a-47c8-bbdf-3fc73d4d3352, Duration=746ms)
[2025-09-16T02:54:11.068Z] Executed HTTP request: {
[2025-09-16T02:54:11.068Z]   "requestId": "ab58bd1f-b182-42bc-b9fd-1845b86a37d1",
[2025-09-16T02:54:11.068Z]   "identities": "(WebJobsAuthLevel:Admin)",
[2025-09-16T02:54:11.068Z]   "status": "400",
[2025-09-16T02:54:11.068Z]   "duration": "862"
[2025-09-16T02:54:11.068Z] }
[2025-09-16T02:54:33.555Z] Executing HTTP request: {
[2025-09-16T02:54:33.556Z]   "requestId": "57157acd-72df-4273-8177-c095363e80b3",
[2025-09-16T02:54:33.556Z]   "method": "GET",
[2025-09-16T02:54:33.556Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:54:33.556Z]   "uri": "/api/figmaOAuthStart"
[2025-09-16T02:54:33.556Z] }
[2025-09-16T02:54:33.563Z] Executing 'Functions.figmaOAuthStart' (Reason='This function was programmatically called via the host APIs.', Id=f3f67bb2-5a00-4c7a-ac1a-ba2bfcf6b0df)
[2025-09-16T02:54:33.591Z] 🚀 Figma OAuth2 Authorization Handler
[2025-09-16T02:54:33.591Z] 🔍 Debug - Environment variables: {
[2025-09-16T02:54:33.591Z]   hasClientId: true,
[2025-09-16T02:54:33.591Z]   clientIdValue: '2079DJvS...',
[2025-09-16T02:54:33.591Z]   hasClientSecret: true,
[2025-09-16T02:54:33.591Z]   clientSecretValue: 'E8pn4Q8R...',
[2025-09-16T02:54:33.591Z]   redirectUri: 'http://localhost:7071/api/figmaOAuthCallback'
[2025-09-16T02:54:33.591Z] }
[2025-09-16T02:54:33.592Z] 🔧 Using configured redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:54:33.592Z] 🔗 Generated OAuth2 authorization URL
[2025-09-16T02:54:33.593Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionInvocationRequest with invocationId f3f67bb2-5a00-4c7a-ac1a-ba2bfcf6b0df
[2025-09-16T02:54:33.598Z] Executed 'Functions.figmaOAuthStart' (Succeeded, Id=f3f67bb2-5a00-4c7a-ac1a-ba2bfcf6b0df, Duration=35ms)
[2025-09-16T02:54:33.639Z] Executed HTTP request: {
[2025-09-16T02:54:33.639Z]   "requestId": "57157acd-72df-4273-8177-c095363e80b3",
[2025-09-16T02:54:33.639Z]   "identities": "",
[2025-09-16T02:54:33.643Z]   "status": "200",
[2025-09-16T02:54:33.644Z]   "duration": "47"
[2025-09-16T02:54:33.644Z] }
[2025-09-16T02:55:11.256Z] Executing HTTP request: {
[2025-09-16T02:55:11.256Z]   "requestId": "3ad77c49-9b35-40f0-9620-690220f3535b",
[2025-09-16T02:55:11.256Z]   "method": "GET",
[2025-09-16T02:55:11.256Z]   "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0",
[2025-09-16T02:55:11.256Z]   "uri": "/api/figmaOAuthCallback"
[2025-09-16T02:55:11.256Z] }
[2025-09-16T02:55:11.268Z] Executing 'Functions.figmaOAuthCallback' (Reason='This function was programmatically called via the host APIs.', Id=b869e8c7-636c-4c11-9e75-b22e75eee9bf)
[2025-09-16T02:55:11.296Z] 🔐 Figma OAuth2 Callback Handler
[2025-09-16T02:55:11.296Z] 🔄 Processing OAuth2 callback with code: EhBnMoUKEX...
[2025-09-16T02:55:11.296Z] 🔗 Using redirect URI: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:55:11.296Z] 🔑 Client ID: 2079DJvSEX...
[2025-09-16T02:55:11.296Z] 🔐 Client Secret: Present
[2025-09-16T02:55:11.297Z] 📤 Request params: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=EhBnMoUKEXI4rPfr2NIDLEwXI&grant_type=authorization_code
[2025-09-16T02:55:11.297Z] 🌍 NODE_ENV: development
[2025-09-16T02:55:11.297Z] 🔄 Exact redirect_uri being sent: http://localhost:7071/api/figmaOAuthCallback
[2025-09-16T02:55:11.322Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 received FunctionInvocationRequest with invocationId b869e8c7-636c-4c11-9e75-b22e75eee9bf
[2025-09-16T02:55:11.709Z] ❌ Full error details:
[2025-09-16T02:55:11.709Z] Status: 404
[2025-09-16T02:55:11.709Z] Headers: Object [AxiosHeaders] {
[2025-09-16T02:55:11.709Z]   'content-type': 'text/plain',
[2025-09-16T02:55:11.709Z]   'content-length': '9',
[2025-09-16T02:55:11.710Z]   connection: 'keep-alive',
[2025-09-16T02:55:11.710Z]   date: 'Tue, 16 Sep 2025 02:55:11 GMT',
[2025-09-16T02:55:11.710Z]   'x-content-type-options': 'nosniff',
[2025-09-16T02:55:11.710Z]   'x-cache': 'Error from cloudfront',
[2025-09-16T02:55:11.710Z]   via: '1.1 0906d4887f6625f4a4467d8d4fd268d2.cloudfront.net (CloudFront)',
[2025-09-16T02:55:11.710Z]   'x-amz-cf-pop': 'SEA19-C3',
[2025-09-16T02:55:11.710Z]   'alt-svc': 'h3=":443"; ma=86400',
[2025-09-16T02:55:11.710Z]   'x-amz-cf-id': 'dm0VJ2V033Hgf-Zp-TzK47nVSl58ln-VzcjKmGlYJQkjjWconpemDg==',
[2025-09-16T02:55:11.710Z]   'strict-transport-security': 'max-age=31536000; includeSubDomains; preload'
[2025-09-16T02:55:11.711Z] }
[2025-09-16T02:55:11.711Z] Data: Not Found
[2025-09-16T02:55:11.711Z] Message: Request failed with status code 404
[2025-09-16T02:55:11.711Z] Config URL: https://www.figma.com/api/oauth/token
[2025-09-16T02:55:11.711Z] Config Data: client_id=2079DJvSEXq7JypnjqIF8t&client_secret=E8pn4Q8Rz61DCpRhiKKCd5a9GXOnZc&redirect_uri=http%3A%2F%2Flocalhost%3A7071%2Fapi%2FfigmaOAuthCallback&code=EhBnMoUKEXI4rPfr2NIDLEwXI&grant_type=authorization_code
[2025-09-16T02:55:11.711Z] ❌ Failed to exchange code for token: Not Found
[2025-09-16T02:55:11.716Z] Executed 'Functions.figmaOAuthCallback' (Succeeded, Id=b869e8c7-636c-4c11-9e75-b22e75eee9bf, Duration=448ms)
[2025-09-16T02:55:11.717Z] Executed HTTP request: {
[2025-09-16T02:55:11.717Z]   "requestId": "3ad77c49-9b35-40f0-9620-690220f3535b",
[2025-09-16T02:55:11.717Z]   "identities": "(WebJobsAuthLevel:Admin)",
[2025-09-16T02:55:11.717Z]   "status": "400",
[2025-09-16T02:55:11.719Z]   "duration": "462"
[2025-09-16T02:55:11.719Z] }
[2025-09-16T02:56:57.119Z] Restarting host.
[2025-09-16T02:56:57.137Z] Stopping JobHost
[2025-09-16T02:56:57.137Z] Job host stopped
[2025-09-16T02:56:57.143Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '4fb36d35-38a3-4bb6-af5a-914c16e8253e'
[2025-09-16T02:56:57.234Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:56:57.234Z] Host configuration file read:
[2025-09-16T02:56:57.234Z] {
[2025-09-16T02:56:57.234Z]   "version": "2.0",
[2025-09-16T02:56:57.234Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:56:57.234Z]   "functions": [
[2025-09-16T02:56:57.234Z]     "addFigmaComponent",
[2025-09-16T02:56:57.234Z]     "analyzeImage",
[2025-09-16T02:56:57.234Z]     "analyzeUIImage",
[2025-09-16T02:56:57.234Z]     "atlasComponents",
[2025-09-16T02:56:57.234Z]     "directImageToWireframe",
[2025-09-16T02:56:57.234Z]     "figmaComponents",
[2025-09-16T02:56:57.234Z]     "figmaImport",
[2025-09-16T02:56:57.234Z]     "figmaNodeImporter",
[2025-09-16T02:56:57.234Z]     "figmaOAuthCallback",
[2025-09-16T02:56:57.234Z]     "figmaOAuthStart",
[2025-09-16T02:56:57.234Z]     "generateSuggestions",
[2025-09-16T02:56:57.234Z]     "generateWireframe",
[2025-09-16T02:56:57.234Z]     "generateWireframeEnhanced",
[2025-09-16T02:56:57.234Z]     "get-template",
[2025-09-16T02:56:57.234Z]     "githubAuthCallback",
[2025-09-16T02:56:57.234Z]     "githubAuthStart",
[2025-09-16T02:56:57.234Z]     "health",
[2025-09-16T02:56:57.234Z]     "openai-health",
[2025-09-16T02:56:57.234Z]     "testFigma",
[2025-09-16T02:56:57.234Z]     "updateThemeColors",
[2025-09-16T02:56:57.234Z]     "wireframeAnalyze",
[2025-09-16T02:56:57.234Z]     "frontend"
[2025-09-16T02:56:57.234Z]   ],
[2025-09-16T02:56:57.234Z]   "logging": {
[2025-09-16T02:56:57.234Z]     "applicationInsights": {
[2025-09-16T02:56:57.234Z]       "samplingSettings": {
[2025-09-16T02:56:57.234Z]         "isEnabled": true,
[2025-09-16T02:56:57.234Z]         "excludedTypes": "Request"
[2025-09-16T02:56:57.234Z]       }
[2025-09-16T02:56:57.234Z]     },
[2025-09-16T02:56:57.234Z]     "logLevel": {
[2025-09-16T02:56:57.234Z]       "default": "Information",
[2025-09-16T02:56:57.234Z]       "Host.Results": "Information",
[2025-09-16T02:56:57.234Z]       "Function": "Information"
[2025-09-16T02:56:57.234Z]     }
[2025-09-16T02:56:57.234Z]   },
[2025-09-16T02:56:57.234Z]   "extensionBundle": {
[2025-09-16T02:56:57.234Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:56:57.234Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:56:57.234Z]   },
[2025-09-16T02:56:57.234Z]   "watchDirectories": [
[2025-09-16T02:56:57.234Z]     "Shared"
[2025-09-16T02:56:57.234Z]   ]
[2025-09-16T02:56:57.234Z] }
[2025-09-16T02:56:57.237Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:56:57.237Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:56:57.237Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:56:57.238Z] Loading functions metadata
[2025-09-16T02:56:57.238Z] Worker indexing is enabled
[2025-09-16T02:56:57.238Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:56:57.238Z] Reading functions metadata (Worker)
[2025-09-16T02:56:57.238Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:56:57.261Z] Worker 9f9af41e-f44b-4dd3-a8e0-613e01bc33e9 exited with code 0
[2025-09-16T02:56:57.522Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc connecting on 127.0.0.1:64048
[2025-09-16T02:56:57.551Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received WorkerInitRequest
[2025-09-16T02:56:57.555Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionsMetadataRequest
[2025-09-16T02:56:57.555Z] Reading functions metadata (Host)
[2025-09-16T02:56:58.143Z] 22 functions found (Host)
[2025-09-16T02:56:58.143Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:56:58.144Z] 21 functions loaded
[2025-09-16T02:56:58.144Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:56:58.144Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:56:58.144Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:56:58.144Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:56:59.101Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:56:59.101Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:56:59.102Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:56:59.102Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:56:59.186Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:56:59.186Z] Host configuration file read:
[2025-09-16T02:56:59.186Z] {
[2025-09-16T02:56:59.186Z]   "version": "2.0",
[2025-09-16T02:56:59.186Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:56:59.186Z]   "functions": [
[2025-09-16T02:56:59.186Z]     "addFigmaComponent",
[2025-09-16T02:56:59.186Z]     "analyzeImage",
[2025-09-16T02:56:59.186Z]     "analyzeUIImage",
[2025-09-16T02:56:59.186Z]     "atlasComponents",
[2025-09-16T02:56:59.186Z]     "directImageToWireframe",
[2025-09-16T02:56:59.186Z]     "figmaComponents",
[2025-09-16T02:56:59.186Z]     "figmaImport",
[2025-09-16T02:56:59.186Z]     "figmaNodeImporter",
[2025-09-16T02:56:59.186Z]     "figmaOAuthCallback",
[2025-09-16T02:56:59.186Z]     "figmaOAuthStart",
[2025-09-16T02:56:59.186Z]     "generateSuggestions",
[2025-09-16T02:56:59.186Z]     "generateWireframe",
[2025-09-16T02:56:59.186Z]     "generateWireframeEnhanced",
[2025-09-16T02:56:59.186Z]     "get-template",
[2025-09-16T02:56:59.186Z]     "githubAuthCallback",
[2025-09-16T02:56:59.186Z]     "githubAuthStart",
[2025-09-16T02:56:59.186Z]     "health",
[2025-09-16T02:56:59.186Z]     "openai-health",
[2025-09-16T02:56:59.186Z]     "testFigma",
[2025-09-16T02:56:59.186Z]     "updateThemeColors",
[2025-09-16T02:56:59.186Z]     "wireframeAnalyze",
[2025-09-16T02:56:59.186Z]     "frontend"
[2025-09-16T02:56:59.186Z]   ],
[2025-09-16T02:56:59.186Z]   "logging": {
[2025-09-16T02:56:59.186Z]     "applicationInsights": {
[2025-09-16T02:56:59.186Z]       "samplingSettings": {
[2025-09-16T02:56:59.186Z]         "isEnabled": true,
[2025-09-16T02:56:59.186Z]         "excludedTypes": "Request"
[2025-09-16T02:56:59.186Z]       }
[2025-09-16T02:56:59.186Z]     },
[2025-09-16T02:56:59.186Z]     "logLevel": {
[2025-09-16T02:56:59.186Z]       "default": "Information",
[2025-09-16T02:56:59.186Z]       "Host.Results": "Information",
[2025-09-16T02:56:59.186Z]       "Function": "Information"
[2025-09-16T02:56:59.186Z]     }
[2025-09-16T02:56:59.186Z]   },
[2025-09-16T02:56:59.186Z]   "extensionBundle": {
[2025-09-16T02:56:59.186Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:56:59.186Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:56:59.186Z]   },
[2025-09-16T02:56:59.186Z]   "watchDirectories": [
[2025-09-16T02:56:59.186Z]     "Shared"
[2025-09-16T02:56:59.186Z]   ]
[2025-09-16T02:56:59.186Z] }
[2025-09-16T02:56:59.254Z] Initializing Warmup Extension.
[2025-09-16T02:56:59.255Z] Initializing Host. OperationId: '4fb36d35-38a3-4bb6-af5a-914c16e8253e'.
[2025-09-16T02:56:59.255Z] Host initialization: ConsecutiveErrors=0, StartupCount=9, OperationId=4fb36d35-38a3-4bb6-af5a-914c16e8253e
[2025-09-16T02:56:59.257Z] LoggerFilterOptions
[2025-09-16T02:56:59.257Z] {
[2025-09-16T02:56:59.257Z]   "MinLevel": "None",
[2025-09-16T02:56:59.257Z]   "Rules": [
[2025-09-16T02:56:59.257Z]     {
[2025-09-16T02:56:59.257Z]       "ProviderName": null,
[2025-09-16T02:56:59.257Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:56:59.257Z]       "LogLevel": "None",
[2025-09-16T02:56:59.257Z]       "Filter": null
[2025-09-16T02:56:59.257Z]     },
[2025-09-16T02:56:59.257Z]     {
[2025-09-16T02:56:59.257Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:56:59.257Z]       "CategoryName": null,
[2025-09-16T02:56:59.257Z]       "LogLevel": "None",
[2025-09-16T02:56:59.257Z]       "Filter": null
[2025-09-16T02:56:59.257Z]     },
[2025-09-16T02:56:59.257Z]     {
[2025-09-16T02:56:59.257Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:56:59.257Z]       "CategoryName": null,
[2025-09-16T02:56:59.257Z]       "LogLevel": null,
[2025-09-16T02:56:59.257Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.257Z]     },
[2025-09-16T02:56:59.257Z]     {
[2025-09-16T02:56:59.257Z]       "ProviderName": null,
[2025-09-16T02:56:59.257Z]       "CategoryName": null,
[2025-09-16T02:56:59.257Z]       "LogLevel": null,
[2025-09-16T02:56:59.257Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.257Z]     },
[2025-09-16T02:56:59.257Z]     {
[2025-09-16T02:56:59.257Z]       "ProviderName": null,
[2025-09-16T02:56:59.257Z]       "CategoryName": null,
[2025-09-16T02:56:59.257Z]       "LogLevel": null,
[2025-09-16T02:56:59.257Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.257Z]     },
[2025-09-16T02:56:59.257Z]     {
[2025-09-16T02:56:59.257Z]       "ProviderName": null,
[2025-09-16T02:56:59.257Z]       "CategoryName": "Host.Results",
[2025-09-16T02:56:59.257Z]       "LogLevel": "Information",
[2025-09-16T02:56:59.257Z]       "Filter": null
[2025-09-16T02:56:59.257Z]     },
[2025-09-16T02:56:59.257Z]     {
[2025-09-16T02:56:59.257Z]       "ProviderName": null,
[2025-09-16T02:56:59.257Z]       "CategoryName": "Function",
[2025-09-16T02:56:59.257Z]       "LogLevel": "Information",
[2025-09-16T02:56:59.257Z]       "Filter": null
[2025-09-16T02:56:59.257Z]     },
[2025-09-16T02:56:59.257Z]     {
[2025-09-16T02:56:59.257Z]       "ProviderName": null,
[2025-09-16T02:56:59.257Z]       "CategoryName": null,
[2025-09-16T02:56:59.257Z]       "LogLevel": "Information",
[2025-09-16T02:56:59.257Z]       "Filter": null
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": "None",
[2025-09-16T02:56:59.258Z]       "Filter": null
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": null,
[2025-09-16T02:56:59.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": null,
[2025-09-16T02:56:59.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.258Z]     }
[2025-09-16T02:56:59.258Z]   ]
[2025-09-16T02:56:59.258Z] }
[2025-09-16T02:56:59.258Z] LoggerFilterOptions
[2025-09-16T02:56:59.258Z] {
[2025-09-16T02:56:59.258Z]   "MinLevel": "None",
[2025-09-16T02:56:59.258Z]   "Rules": [
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": null,
[2025-09-16T02:56:59.258Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:56:59.258Z]       "LogLevel": "None",
[2025-09-16T02:56:59.258Z]       "Filter": null
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": "None",
[2025-09-16T02:56:59.258Z]       "Filter": null
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": null,
[2025-09-16T02:56:59.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": null,
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": null,
[2025-09-16T02:56:59.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": null,
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": null,
[2025-09-16T02:56:59.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": null,
[2025-09-16T02:56:59.258Z]       "CategoryName": "Host.Results",
[2025-09-16T02:56:59.258Z]       "LogLevel": "Information",
[2025-09-16T02:56:59.258Z]       "Filter": null
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": null,
[2025-09-16T02:56:59.258Z]       "CategoryName": "Function",
[2025-09-16T02:56:59.258Z]       "LogLevel": "Information",
[2025-09-16T02:56:59.258Z]       "Filter": null
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": null,
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": "Information",
[2025-09-16T02:56:59.258Z]       "Filter": null
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": "None",
[2025-09-16T02:56:59.258Z]       "Filter": null
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": null,
[2025-09-16T02:56:59.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.258Z]     },
[2025-09-16T02:56:59.258Z]     {
[2025-09-16T02:56:59.258Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:56:59.258Z]       "CategoryName": null,
[2025-09-16T02:56:59.258Z]       "LogLevel": null,
[2025-09-16T02:56:59.258Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:56:59.258Z]     }
[2025-09-16T02:56:59.258Z]   ]
[2025-09-16T02:56:59.258Z] }
[2025-09-16T02:56:59.258Z] FunctionResultAggregatorOptions
[2025-09-16T02:56:59.258Z] {
[2025-09-16T02:56:59.258Z]   "BatchSize": 1000,
[2025-09-16T02:56:59.258Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:56:59.258Z]   "IsEnabled": true
[2025-09-16T02:56:59.258Z] }
[2025-09-16T02:56:59.258Z] ConcurrencyOptions
[2025-09-16T02:56:59.258Z] {
[2025-09-16T02:56:59.258Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:56:59.258Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:56:59.258Z]   "CPUThreshold": 0.8,
[2025-09-16T02:56:59.258Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:56:59.258Z] }
[2025-09-16T02:56:59.258Z] SingletonOptions
[2025-09-16T02:56:59.258Z] {
[2025-09-16T02:56:59.258Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:56:59.258Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:56:59.258Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:56:59.258Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:56:59.258Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:56:59.258Z] }
[2025-09-16T02:56:59.258Z] ScaleOptions
[2025-09-16T02:56:59.258Z] {
[2025-09-16T02:56:59.258Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:56:59.258Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:56:59.258Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:56:59.258Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:56:59.258Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:56:59.258Z] }
[2025-09-16T02:56:59.258Z] Starting JobHost
[2025-09-16T02:56:59.258Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=c4731d0d-7ba3-45b2-812c-bb13c89d9fab, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:56:59.258Z] Loading functions metadata
[2025-09-16T02:56:59.258Z] Worker indexing is enabled
[2025-09-16T02:56:59.259Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:56:59.259Z] Reading functions metadata (Worker)
[2025-09-16T02:56:59.259Z] Reading functions metadata (Host)
[2025-09-16T02:56:59.713Z] 22 functions found (Host)
[2025-09-16T02:56:59.714Z] Reading functions metadata (Custom)
[2025-09-16T02:56:59.714Z] 0 functions found (Custom)
[2025-09-16T02:56:59.714Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:56:59.715Z] 21 functions loaded
[2025-09-16T02:56:59.720Z] Worker process started and initialized.
[2025-09-16T02:56:59.720Z] Generating 21 job function(s)
[2025-09-16T02:56:59.737Z] Found the following functions:
[2025-09-16T02:56:59.737Z] Host.Functions.addFigmaComponent
[2025-09-16T02:56:59.737Z] Host.Functions.analyzeImage
[2025-09-16T02:56:59.737Z] Host.Functions.analyzeUIImage
[2025-09-16T02:56:59.737Z] Host.Functions.atlasComponents
[2025-09-16T02:56:59.737Z] Host.Functions.directImageToWireframe
[2025-09-16T02:56:59.737Z] Host.Functions.figmaComponents
[2025-09-16T02:56:59.737Z] Host.Functions.figmaImport
[2025-09-16T02:56:59.737Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:56:59.737Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:56:59.737Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:56:59.737Z] Host.Functions.frontend
[2025-09-16T02:56:59.737Z] Host.Functions.generateSuggestions
[2025-09-16T02:56:59.737Z] Host.Functions.generateWireframe
[2025-09-16T02:56:59.737Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:56:59.738Z] Host.Functions.get-template
[2025-09-16T02:56:59.738Z] Host.Functions.githubAuthCallback
[2025-09-16T02:56:59.738Z] Host.Functions.githubAuthStart
[2025-09-16T02:56:59.738Z] Host.Functions.health
[2025-09-16T02:56:59.738Z] Host.Functions.openai-health
[2025-09-16T02:56:59.738Z] Host.Functions.updateThemeColors
[2025-09-16T02:56:59.738Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:56:59.738Z] 
[2025-09-16T02:56:59.738Z] HttpOptions
[2025-09-16T02:56:59.738Z] {
[2025-09-16T02:56:59.738Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:56:59.738Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:56:59.738Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:56:59.738Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:56:59.738Z]   "RoutePrefix": "api"
[2025-09-16T02:56:59.738Z] }
[2025-09-16T02:56:59.738Z] Initializing function HTTP routes
[2025-09-16T02:56:59.738Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:56:59.738Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:56:59.739Z] 
[2025-09-16T02:56:59.739Z] Host initialized (480ms)
[2025-09-16T02:56:59.739Z] Host started (480ms)
[2025-09-16T02:56:59.739Z] Job host started
[2025-09-16T02:56:59.856Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.856Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.865Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: 📡 observe env with Radar: https://dotenvx.com/radar
[2025-09-16T02:56:59.866Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:56:59.872Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.877Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.877Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.877Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.877Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.877Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.877Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.877Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.878Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest[2025-09-16T02:56:59.878Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.878Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.877Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.878Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest

[2025-09-16T02:56:59.878Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.878Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.878Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.879Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.879Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.879Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc received FunctionLoadRequest
[2025-09-16T02:56:59.894Z] Host restarted.
[2025-09-16T02:57:04.260Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
[2025-09-16T02:57:05.791Z] Restarting host.
[2025-09-16T02:57:05.799Z] Stopping JobHost
[2025-09-16T02:57:05.799Z] Job host stopped
[2025-09-16T02:57:05.813Z] Building host: version spec: , startup suppressed: 'False', configuration suppressed: 'False', startup operation id: '566708fc-c31f-4eba-a60f-2319e042bef2'
[2025-09-16T02:57:05.927Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:57:05.927Z] Host configuration file read:
[2025-09-16T02:57:05.927Z] {
[2025-09-16T02:57:05.927Z]   "version": "2.0",
[2025-09-16T02:57:05.927Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:57:05.927Z]   "functions": [
[2025-09-16T02:57:05.927Z]     "addFigmaComponent",
[2025-09-16T02:57:05.927Z]     "analyzeImage",
[2025-09-16T02:57:05.927Z]     "analyzeUIImage",
[2025-09-16T02:57:05.927Z]     "atlasComponents",
[2025-09-16T02:57:05.927Z]     "directImageToWireframe",
[2025-09-16T02:57:05.927Z]     "figmaComponents",
[2025-09-16T02:57:05.927Z]     "figmaImport",
[2025-09-16T02:57:05.927Z]     "figmaNodeImporter",
[2025-09-16T02:57:05.927Z]     "figmaOAuthCallback",
[2025-09-16T02:57:05.927Z]     "figmaOAuthStart",
[2025-09-16T02:57:05.927Z]     "generateSuggestions",
[2025-09-16T02:57:05.928Z]     "generateWireframe",
[2025-09-16T02:57:05.928Z]     "generateWireframeEnhanced",
[2025-09-16T02:57:05.928Z]     "get-template",
[2025-09-16T02:57:05.928Z]     "githubAuthCallback",
[2025-09-16T02:57:05.928Z]     "githubAuthStart",
[2025-09-16T02:57:05.928Z]     "health",
[2025-09-16T02:57:05.928Z]     "openai-health",
[2025-09-16T02:57:05.928Z]     "testFigma",
[2025-09-16T02:57:05.928Z]     "updateThemeColors",
[2025-09-16T02:57:05.928Z]     "wireframeAnalyze",
[2025-09-16T02:57:05.928Z]     "frontend"
[2025-09-16T02:57:05.928Z]   ],
[2025-09-16T02:57:05.928Z]   "logging": {
[2025-09-16T02:57:05.928Z]     "applicationInsights": {
[2025-09-16T02:57:05.928Z]       "samplingSettings": {
[2025-09-16T02:57:05.928Z]         "isEnabled": true,
[2025-09-16T02:57:05.928Z]         "excludedTypes": "Request"
[2025-09-16T02:57:05.928Z]       }
[2025-09-16T02:57:05.928Z]     },
[2025-09-16T02:57:05.928Z]     "logLevel": {
[2025-09-16T02:57:05.928Z]       "default": "Information",
[2025-09-16T02:57:05.928Z]       "Host.Results": "Information",
[2025-09-16T02:57:05.928Z]       "Function": "Information"
[2025-09-16T02:57:05.928Z]     }
[2025-09-16T02:57:05.928Z]   },
[2025-09-16T02:57:05.928Z]   "extensionBundle": {
[2025-09-16T02:57:05.928Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:57:05.928Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:57:05.928Z]   },
[2025-09-16T02:57:05.928Z]   "watchDirectories": [
[2025-09-16T02:57:05.928Z]     "Shared"
[2025-09-16T02:57:05.928Z]   ]
[2025-09-16T02:57:05.928Z] }
[2025-09-16T02:57:05.930Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:57:05.930Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:57:05.930Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:57:05.930Z] Loading functions metadata
[2025-09-16T02:57:05.930Z] Worker indexing is enabled
[2025-09-16T02:57:05.930Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:57:05.930Z] Reading functions metadata (Worker)
[2025-09-16T02:57:05.930Z] Shutting down language worker channels for runtime:node
[2025-09-16T02:57:05.939Z] Worker ecdc8d4e-def3-4f96-9209-ddff4c4f38cc exited with code 0
[2025-09-16T02:57:06.069Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 connecting on 127.0.0.1:64048
[2025-09-16T02:57:06.100Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received WorkerInitRequest
[2025-09-16T02:57:06.103Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionsMetadataRequest
[2025-09-16T02:57:06.103Z] Reading functions metadata (Host)
[2025-09-16T02:57:06.596Z] 22 functions found (Host)
[2025-09-16T02:57:06.596Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:57:06.596Z] 21 functions loaded
[2025-09-16T02:57:06.596Z] Looking for extension bundle Microsoft.Azure.Functions.ExtensionBundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle
[2025-09-16T02:57:06.597Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:57:06.597Z] Found a matching extension bundle at /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:57:06.597Z] Fetching information on versions of extension bundle Microsoft.Azure.Functions.ExtensionBundle available on https://cdn.functions.azure.com/public/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/index.json
[2025-09-16T02:57:06.935Z] Applying platform release channel configuration LATEST. Bundle version 4.25.1 will be used
[2025-09-16T02:57:06.935Z] Skipping bundle download since it already exists at path /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1
[2025-09-16T02:57:06.937Z] Loading extension bundle from /Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin
[2025-09-16T02:57:06.937Z] Script Startup resetting load context with base path: '/Users/carlosmarinburgos/.azure-functions-core-tools/Functions/ExtensionBundles/Microsoft.Azure.Functions.ExtensionBundle/4.25.1/bin'.
[2025-09-16T02:57:07.160Z] Reading host configuration file '/Users/carlosmarinburgos/designetica/backend/host.json'
[2025-09-16T02:57:07.160Z] Host configuration file read:
[2025-09-16T02:57:07.160Z] {
[2025-09-16T02:57:07.160Z]   "version": "2.0",
[2025-09-16T02:57:07.160Z]   "functionTimeout": "00:05:00",
[2025-09-16T02:57:07.160Z]   "functions": [
[2025-09-16T02:57:07.161Z]     "addFigmaComponent",
[2025-09-16T02:57:07.161Z]     "analyzeImage",
[2025-09-16T02:57:07.161Z]     "analyzeUIImage",
[2025-09-16T02:57:07.161Z]     "atlasComponents",
[2025-09-16T02:57:07.161Z]     "directImageToWireframe",
[2025-09-16T02:57:07.161Z]     "figmaComponents",
[2025-09-16T02:57:07.161Z]     "figmaImport",
[2025-09-16T02:57:07.161Z]     "figmaNodeImporter",
[2025-09-16T02:57:07.161Z]     "figmaOAuthCallback",
[2025-09-16T02:57:07.161Z]     "figmaOAuthStart",
[2025-09-16T02:57:07.161Z]     "generateSuggestions",
[2025-09-16T02:57:07.161Z]     "generateWireframe",
[2025-09-16T02:57:07.161Z]     "generateWireframeEnhanced",
[2025-09-16T02:57:07.161Z]     "get-template",
[2025-09-16T02:57:07.161Z]     "githubAuthCallback",
[2025-09-16T02:57:07.161Z]     "githubAuthStart",
[2025-09-16T02:57:07.161Z]     "health",
[2025-09-16T02:57:07.161Z]     "openai-health",
[2025-09-16T02:57:07.161Z]     "testFigma",
[2025-09-16T02:57:07.161Z]     "updateThemeColors",
[2025-09-16T02:57:07.161Z]     "wireframeAnalyze",
[2025-09-16T02:57:07.161Z]     "frontend"
[2025-09-16T02:57:07.161Z]   ],
[2025-09-16T02:57:07.161Z]   "logging": {
[2025-09-16T02:57:07.161Z]     "applicationInsights": {
[2025-09-16T02:57:07.161Z]       "samplingSettings": {
[2025-09-16T02:57:07.161Z]         "isEnabled": true,
[2025-09-16T02:57:07.161Z]         "excludedTypes": "Request"
[2025-09-16T02:57:07.161Z]       }
[2025-09-16T02:57:07.161Z]     },
[2025-09-16T02:57:07.161Z]     "logLevel": {
[2025-09-16T02:57:07.161Z]       "default": "Information",
[2025-09-16T02:57:07.161Z]       "Host.Results": "Information",
[2025-09-16T02:57:07.161Z]       "Function": "Information"
[2025-09-16T02:57:07.161Z]     }
[2025-09-16T02:57:07.161Z]   },
[2025-09-16T02:57:07.161Z]   "extensionBundle": {
[2025-09-16T02:57:07.161Z]     "id": "Microsoft.Azure.Functions.ExtensionBundle",
[2025-09-16T02:57:07.161Z]     "version": "[4.*, 5.0.0)"
[2025-09-16T02:57:07.161Z]   },
[2025-09-16T02:57:07.161Z]   "watchDirectories": [
[2025-09-16T02:57:07.161Z]     "Shared"
[2025-09-16T02:57:07.161Z]   ]
[2025-09-16T02:57:07.161Z] }
[2025-09-16T02:57:07.270Z] Initializing Warmup Extension.
[2025-09-16T02:57:07.270Z] Initializing Host. OperationId: '566708fc-c31f-4eba-a60f-2319e042bef2'.
[2025-09-16T02:57:07.270Z] Host initialization: ConsecutiveErrors=0, StartupCount=10, OperationId=566708fc-c31f-4eba-a60f-2319e042bef2
[2025-09-16T02:57:07.272Z] LoggerFilterOptions
[2025-09-16T02:57:07.272Z] {
[2025-09-16T02:57:07.272Z]   "MinLevel": "None",
[2025-09-16T02:57:07.272Z]   "Rules": [
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": null,
[2025-09-16T02:57:07.272Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:57:07.272Z]       "LogLevel": "None",
[2025-09-16T02:57:07.272Z]       "Filter": null
[2025-09-16T02:57:07.272Z]     },
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:57:07.272Z]       "CategoryName": null,
[2025-09-16T02:57:07.272Z]       "LogLevel": "None",
[2025-09-16T02:57:07.272Z]       "Filter": null
[2025-09-16T02:57:07.272Z]     },
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:57:07.272Z]       "CategoryName": null,
[2025-09-16T02:57:07.272Z]       "LogLevel": null,
[2025-09-16T02:57:07.272Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.272Z]     },
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": null,
[2025-09-16T02:57:07.272Z]       "CategoryName": null,
[2025-09-16T02:57:07.272Z]       "LogLevel": null,
[2025-09-16T02:57:07.272Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.272Z]     },
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": null,
[2025-09-16T02:57:07.272Z]       "CategoryName": null,
[2025-09-16T02:57:07.272Z]       "LogLevel": null,
[2025-09-16T02:57:07.272Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.272Z]     },
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": null,
[2025-09-16T02:57:07.272Z]       "CategoryName": "Host.Results",
[2025-09-16T02:57:07.272Z]       "LogLevel": "Information",
[2025-09-16T02:57:07.272Z]       "Filter": null
[2025-09-16T02:57:07.272Z]     },
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": null,
[2025-09-16T02:57:07.272Z]       "CategoryName": "Function",
[2025-09-16T02:57:07.272Z]       "LogLevel": "Information",
[2025-09-16T02:57:07.272Z]       "Filter": null
[2025-09-16T02:57:07.272Z]     },
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": null,
[2025-09-16T02:57:07.272Z]       "CategoryName": null,
[2025-09-16T02:57:07.272Z]       "LogLevel": "Information",
[2025-09-16T02:57:07.272Z]       "Filter": null
[2025-09-16T02:57:07.272Z]     },
[2025-09-16T02:57:07.272Z]     {
[2025-09-16T02:57:07.272Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": "None",
[2025-09-16T02:57:07.273Z]       "Filter": null
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": null,
[2025-09-16T02:57:07.273Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": null,
[2025-09-16T02:57:07.273Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.273Z]     }
[2025-09-16T02:57:07.273Z]   ]
[2025-09-16T02:57:07.273Z] }
[2025-09-16T02:57:07.273Z] LoggerFilterOptions
[2025-09-16T02:57:07.273Z] {
[2025-09-16T02:57:07.273Z]   "MinLevel": "None",
[2025-09-16T02:57:07.273Z]   "Rules": [
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": null,
[2025-09-16T02:57:07.273Z]       "CategoryName": "Microsoft.Hosting.Lifetime",
[2025-09-16T02:57:07.273Z]       "LogLevel": "None",
[2025-09-16T02:57:07.273Z]       "Filter": null
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": "None",
[2025-09-16T02:57:07.273Z]       "Filter": null
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": null,
[2025-09-16T02:57:07.273Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": null,
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": null,
[2025-09-16T02:57:07.273Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": null,
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": null,
[2025-09-16T02:57:07.273Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": null,
[2025-09-16T02:57:07.273Z]       "CategoryName": "Host.Results",
[2025-09-16T02:57:07.273Z]       "LogLevel": "Information",
[2025-09-16T02:57:07.273Z]       "Filter": null
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": null,
[2025-09-16T02:57:07.273Z]       "CategoryName": "Function",
[2025-09-16T02:57:07.273Z]       "LogLevel": "Information",
[2025-09-16T02:57:07.273Z]       "Filter": null
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": null,
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": "Information",
[2025-09-16T02:57:07.273Z]       "Filter": null
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": "None",
[2025-09-16T02:57:07.273Z]       "Filter": null
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": "Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider",
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": null,
[2025-09-16T02:57:07.273Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.273Z]     },
[2025-09-16T02:57:07.273Z]     {
[2025-09-16T02:57:07.273Z]       "ProviderName": "Azure.Functions.Cli.Diagnostics.ColoredConsoleLoggerProvider",
[2025-09-16T02:57:07.273Z]       "CategoryName": null,
[2025-09-16T02:57:07.273Z]       "LogLevel": null,
[2025-09-16T02:57:07.273Z]       "Filter": "<AddFilter>b__0"
[2025-09-16T02:57:07.273Z]     }
[2025-09-16T02:57:07.273Z]   ]
[2025-09-16T02:57:07.273Z] }
[2025-09-16T02:57:07.273Z] FunctionResultAggregatorOptions
[2025-09-16T02:57:07.273Z] {
[2025-09-16T02:57:07.273Z]   "BatchSize": 1000,
[2025-09-16T02:57:07.273Z]   "FlushTimeout": "00:00:30",
[2025-09-16T02:57:07.273Z]   "IsEnabled": true
[2025-09-16T02:57:07.273Z] }
[2025-09-16T02:57:07.273Z] ConcurrencyOptions
[2025-09-16T02:57:07.273Z] {
[2025-09-16T02:57:07.273Z]   "DynamicConcurrencyEnabled": false,
[2025-09-16T02:57:07.273Z]   "MaximumFunctionConcurrency": 500,
[2025-09-16T02:57:07.273Z]   "CPUThreshold": 0.8,
[2025-09-16T02:57:07.273Z]   "SnapshotPersistenceEnabled": true
[2025-09-16T02:57:07.273Z] }
[2025-09-16T02:57:07.273Z] SingletonOptions
[2025-09-16T02:57:07.273Z] {
[2025-09-16T02:57:07.273Z]   "LockPeriod": "00:00:15",
[2025-09-16T02:57:07.273Z]   "ListenerLockPeriod": "00:00:15",
[2025-09-16T02:57:07.273Z]   "LockAcquisitionTimeout": "10675199.02:48:05.4775807",
[2025-09-16T02:57:07.273Z]   "LockAcquisitionPollingInterval": "00:00:05",
[2025-09-16T02:57:07.273Z]   "ListenerLockRecoveryPollingInterval": "00:01:00"
[2025-09-16T02:57:07.273Z] }
[2025-09-16T02:57:07.273Z] ScaleOptions
[2025-09-16T02:57:07.273Z] {
[2025-09-16T02:57:07.273Z]   "ScaleMetricsMaxAge": "00:02:00",
[2025-09-16T02:57:07.273Z]   "ScaleMetricsSampleInterval": "00:00:10",
[2025-09-16T02:57:07.273Z]   "MetricsPurgeEnabled": true,
[2025-09-16T02:57:07.273Z]   "IsTargetScalingEnabled": true,
[2025-09-16T02:57:07.273Z]   "IsRuntimeScalingEnabled": false
[2025-09-16T02:57:07.273Z] }
[2025-09-16T02:57:07.273Z] Starting JobHost
[2025-09-16T02:57:07.273Z] Starting Host (HostId=carlossmacbookpro-1492551428, InstanceId=0cf69da6-cda3-4003-9ad4-4a22f6b995a9, Version=4.1041.200.25360, ProcessId=14387, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=(null))
[2025-09-16T02:57:07.274Z] Loading functions metadata
[2025-09-16T02:57:07.274Z] Worker indexing is enabled
[2025-09-16T02:57:07.274Z] Fetching metadata for workerRuntime: node
[2025-09-16T02:57:07.274Z] Reading functions metadata (Worker)
[2025-09-16T02:57:07.274Z] Reading functions metadata (Host)
[2025-09-16T02:57:07.758Z] 22 functions found (Host)
[2025-09-16T02:57:07.758Z] Reading functions metadata (Custom)
[2025-09-16T02:57:07.758Z] 0 functions found (Custom)
[2025-09-16T02:57:07.758Z] A function allow list has been specified, excluding all but the following functions: [addFigmaComponent, analyzeImage, analyzeUIImage, atlasComponents, directImageToWireframe, figmaComponents, figmaImport, figmaNodeImporter, figmaOAuthCallback, figmaOAuthStart, generateSuggestions, generateWireframe, generateWireframeEnhanced, get-template, githubAuthCallback, githubAuthStart, health, openai-health, testFigma, updateThemeColors, wireframeAnalyze, frontend]
[2025-09-16T02:57:07.758Z] 21 functions loaded
[2025-09-16T02:57:07.760Z] Worker process started and initialized.
[2025-09-16T02:57:07.760Z] Generating 21 job function(s)
[2025-09-16T02:57:07.773Z] Found the following functions:
[2025-09-16T02:57:07.775Z] Host.Functions.addFigmaComponent
[2025-09-16T02:57:07.775Z] Host.Functions.analyzeImage
[2025-09-16T02:57:07.775Z] Host.Functions.analyzeUIImage
[2025-09-16T02:57:07.775Z] Host.Functions.atlasComponents
[2025-09-16T02:57:07.775Z] Host.Functions.directImageToWireframe
[2025-09-16T02:57:07.775Z] Host.Functions.figmaComponents
[2025-09-16T02:57:07.775Z] Host.Functions.figmaImport
[2025-09-16T02:57:07.775Z] Host.Functions.figmaNodeImporter
[2025-09-16T02:57:07.775Z] Host.Functions.figmaOAuthCallback
[2025-09-16T02:57:07.775Z] Host.Functions.figmaOAuthStart
[2025-09-16T02:57:07.775Z] Host.Functions.frontend
[2025-09-16T02:57:07.775Z] Host.Functions.generateSuggestions
[2025-09-16T02:57:07.775Z] Host.Functions.generateWireframe
[2025-09-16T02:57:07.775Z] Host.Functions.generateWireframeEnhanced
[2025-09-16T02:57:07.775Z] Host.Functions.get-template
[2025-09-16T02:57:07.775Z] Host.Functions.githubAuthCallback
[2025-09-16T02:57:07.775Z] Host.Functions.githubAuthStart
[2025-09-16T02:57:07.775Z] Host.Functions.health
[2025-09-16T02:57:07.775Z] Host.Functions.openai-health
[2025-09-16T02:57:07.775Z] Host.Functions.updateThemeColors
[2025-09-16T02:57:07.775Z] Host.Functions.wireframeAnalyze
[2025-09-16T02:57:07.775Z] 
[2025-09-16T02:57:07.776Z] HttpOptions
[2025-09-16T02:57:07.776Z] {
[2025-09-16T02:57:07.776Z]   "DynamicThrottlesEnabled": false,
[2025-09-16T02:57:07.776Z] Initializing function HTTP routes
[2025-09-16T02:57:07.776Z]   "EnableChunkedRequestBinding": false,
[2025-09-16T02:57:07.776Z] Mapped function route 'api/addFigmaComponent' [post,options] to 'addFigmaComponent'
[2025-09-16T02:57:07.776Z] Mapped function route 'api/analyze-image' [post,options] to 'analyzeImage'
[2025-09-16T02:57:07.776Z]   "MaxConcurrentRequests": -1,
[2025-09-16T02:57:07.776Z]   "MaxOutstandingRequests": -1,
[2025-09-16T02:57:07.776Z] Mapped function route 'api/analyzeUIImage' [post,options] to 'analyzeUIImage'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/figma/atlas-hero/{nodeId:regex(^[0-9:-]+$)}' [get,options] to 'atlasComponents'
[2025-09-16T02:57:07.777Z]   "RoutePrefix": "api"
[2025-09-16T02:57:07.777Z] }
[2025-09-16T02:57:07.777Z] Mapped function route 'api/direct-image-to-wireframe' [post,options] to 'directImageToWireframe'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/figma/components' [get] to 'figmaComponents'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/figma/import' [post,options] to 'figmaImport'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/figmaNodeImporter' [post,options] to 'figmaNodeImporter'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/figmaOAuthCallback' [get,options] to 'figmaOAuthCallback'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/figmaOAuthStart' [get,post,options] to 'figmaOAuthStart'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/{*path}' [get] to 'frontend'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/generate-suggestions' [get,post,options] to 'generateSuggestions'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/generate-html-wireframe' [post,options] to 'generateWireframe'
[2025-09-16T02:57:07.777Z] Mapped function route 'api/generate-wireframe-enhanced' [get,post,options] to 'generateWireframeEnhanced'
[2025-09-16T02:57:07.778Z] Mapped function route 'api/get-template' [post,options] to 'get-template'
[2025-09-16T02:57:07.778Z] Mapped function route 'api/github/auth/callback' [get] to 'githubAuthCallback'
[2025-09-16T02:57:07.778Z] Mapped function route 'api/github/auth/start' [get] to 'githubAuthStart'
[2025-09-16T02:57:07.778Z] Mapped function route 'api/health' [get] to 'health'
[2025-09-16T02:57:07.778Z] Mapped function route 'api/openai-health' [get,options] to 'openai-health'
[2025-09-16T02:57:07.778Z] Mapped function route 'api/update-theme-colors' [post,options] to 'updateThemeColors'
[2025-09-16T02:57:07.778Z] Mapped function route 'api/wireframeAnalyze' [post,options] to 'wireframeAnalyze'
[2025-09-16T02:57:07.778Z] 
[2025-09-16T02:57:07.778Z] Host initialized (504ms)
[2025-09-16T02:57:07.778Z] Host started (504ms)
[2025-09-16T02:57:07.778Z] Job host started
[2025-09-16T02:57:07.833Z] [dotenv@17.2.1] injecting env (3) from .env -- tip: ⚙️  enable debug logging with { debug: true }
[2025-09-16T02:57:07.834Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.834Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.835Z] ✅ OpenAI client initialized for generateWireframeEnhanced
[2025-09-16T02:57:07.837Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.837Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.838Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.838Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.839Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.839Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.839Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.839Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.839Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.840Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.840Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.840Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.840Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.842Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.842Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.842Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.843Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.843Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.843Z] Worker 2e391f33-b748-4737-86bd-e6d13888fea4 received FunctionLoadRequest
[2025-09-16T02:57:07.900Z] Host restarted.
[2025-09-16T02:57:12.275Z] Host lock lease acquired by instance ID '00000000000000000000000049CADE8B'.
