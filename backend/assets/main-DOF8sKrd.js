var mf=Object.defineProperty,gf=Object.defineProperties;var hf=Object.getOwnPropertyDescriptors;var Bd=Object.getOwnPropertySymbols;var vf=Object.prototype.hasOwnProperty,xf=Object.prototype.propertyIsEnumerable;var Us=(c,a,l)=>a in c?mf(c,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[a]=l,Be=(c,a)=>{for(var l in a||(a={}))vf.call(a,l)&&Us(c,l,a[l]);if(Bd)for(var l of Bd(a))xf.call(a,l)&&Us(c,l,a[l]);return c},Qe=(c,a)=>gf(c,hf(a));var yf=(c,a)=>()=>(a||c((a={exports:{}}).exports,a),a.exports);var Bi=(c,a,l)=>Us(c,typeof a!="symbol"?a+"":a,l);var Fe=(c,a,l)=>new Promise((d,u)=>{var m=C=>{try{v(l.next(C))}catch(j){u(j)}},x=C=>{try{v(l.throw(C))}catch(j){u(j)}},v=C=>C.done?d(C.value):Promise.resolve(C.value).then(m,x);v((l=l.apply(c,a)).next())});var Pg=yf(Ge=>{(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function l(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(u){if(u.ep)return;u.ep=!0;const m=l(u);fetch(u.href,m)}})();function wu(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Bs={exports:{}},Hi={},Hs={exports:{}},We={},Hd;function bf(){if(Hd)return We;Hd=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),x=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),j=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),T=Symbol.iterator;function O(h){return h===null||typeof h!="object"?null:(h=T&&h[T]||h["@@iterator"],typeof h=="function"?h:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,y={};function P(h,E,f){this.props=h,this.context=E,this.refs=y,this.updater=f||J}P.prototype.isReactComponent={},P.prototype.setState=function(h,E){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,E,"setState")},P.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function _(){}_.prototype=P.prototype;function H(h,E,f){this.props=h,this.context=E,this.refs=y,this.updater=f||J}var ce=H.prototype=new _;ce.constructor=H,G(ce,P.prototype),ce.isPureReactComponent=!0;var Q=Array.isArray,I=Object.prototype.hasOwnProperty,ne={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function se(h,E,f){var b,R={},q=null,Ce=null;if(E!=null)for(b in E.ref!==void 0&&(Ce=E.ref),E.key!==void 0&&(q=""+E.key),E)I.call(E,b)&&!ie.hasOwnProperty(b)&&(R[b]=E[b]);var je=arguments.length-2;if(je===1)R.children=f;else if(1<je){for(var Le=Array(je),Ve=0;Ve<je;Ve++)Le[Ve]=arguments[Ve+2];R.children=Le}if(h&&h.defaultProps)for(b in je=h.defaultProps,je)R[b]===void 0&&(R[b]=je[b]);return{$$typeof:c,type:h,key:q,ref:Ce,props:R,_owner:ne.current}}function fe(h,E){return{$$typeof:c,type:h.type,key:E,ref:h.ref,props:h.props,_owner:h._owner}}function pe(h){return typeof h=="object"&&h!==null&&h.$$typeof===c}function Ie(h){var E={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(f){return E[f]})}var ze=/\/+/g;function Z(h,E){return typeof h=="object"&&h!==null&&h.key!=null?Ie(""+h.key):E.toString(36)}function Y(h,E,f,b,R){var q=typeof h;(q==="undefined"||q==="boolean")&&(h=null);var Ce=!1;if(h===null)Ce=!0;else switch(q){case"string":case"number":Ce=!0;break;case"object":switch(h.$$typeof){case c:case a:Ce=!0}}if(Ce)return Ce=h,R=R(Ce),h=b===""?"."+Z(Ce,0):b,Q(R)?(f="",h!=null&&(f=h.replace(ze,"$&/")+"/"),Y(R,E,f,"",function(Ve){return Ve})):R!=null&&(pe(R)&&(R=fe(R,f+(!R.key||Ce&&Ce.key===R.key?"":(""+R.key).replace(ze,"$&/")+"/")+h)),E.push(R)),1;if(Ce=0,b=b===""?".":b+":",Q(h))for(var je=0;je<h.length;je++){q=h[je];var Le=b+Z(q,je);Ce+=Y(q,E,f,Le,R)}else if(Le=O(h),typeof Le=="function")for(h=Le.call(h),je=0;!(q=h.next()).done;)q=q.value,Le=b+Z(q,je++),Ce+=Y(q,E,f,Le,R);else if(q==="object")throw E=String(h),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return Ce}function me(h,E,f){if(h==null)return h;var b=[],R=0;return Y(h,b,"","",function(q){return E.call(f,q,R++)}),b}function de(h){if(h._status===-1){var E=h._result;E=E(),E.then(function(f){(h._status===0||h._status===-1)&&(h._status=1,h._result=f)},function(f){(h._status===0||h._status===-1)&&(h._status=2,h._result=f)}),h._status===-1&&(h._status=0,h._result=E)}if(h._status===1)return h._result.default;throw h._result}var k={current:null},N={transition:null},F={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:N,ReactCurrentOwner:ne};function z(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:me,forEach:function(h,E,f){me(h,function(){E.apply(this,arguments)},f)},count:function(h){var E=0;return me(h,function(){E++}),E},toArray:function(h){return me(h,function(E){return E})||[]},only:function(h){if(!pe(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},We.Component=P,We.Fragment=l,We.Profiler=u,We.PureComponent=H,We.StrictMode=d,We.Suspense=C,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,We.act=z,We.cloneElement=function(h,E,f){if(h==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+h+".");var b=G({},h.props),R=h.key,q=h.ref,Ce=h._owner;if(E!=null){if(E.ref!==void 0&&(q=E.ref,Ce=ne.current),E.key!==void 0&&(R=""+E.key),h.type&&h.type.defaultProps)var je=h.type.defaultProps;for(Le in E)I.call(E,Le)&&!ie.hasOwnProperty(Le)&&(b[Le]=E[Le]===void 0&&je!==void 0?je[Le]:E[Le])}var Le=arguments.length-2;if(Le===1)b.children=f;else if(1<Le){je=Array(Le);for(var Ve=0;Ve<Le;Ve++)je[Ve]=arguments[Ve+2];b.children=je}return{$$typeof:c,type:h.type,key:R,ref:q,props:b,_owner:Ce}},We.createContext=function(h){return h={$$typeof:x,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},h.Provider={$$typeof:m,_context:h},h.Consumer=h},We.createElement=se,We.createFactory=function(h){var E=se.bind(null,h);return E.type=h,E},We.createRef=function(){return{current:null}},We.forwardRef=function(h){return{$$typeof:v,render:h}},We.isValidElement=pe,We.lazy=function(h){return{$$typeof:$,_payload:{_status:-1,_result:h},_init:de}},We.memo=function(h,E){return{$$typeof:j,type:h,compare:E===void 0?null:E}},We.startTransition=function(h){var E=N.transition;N.transition={};try{h()}finally{N.transition=E}},We.unstable_act=z,We.useCallback=function(h,E){return k.current.useCallback(h,E)},We.useContext=function(h){return k.current.useContext(h)},We.useDebugValue=function(){},We.useDeferredValue=function(h){return k.current.useDeferredValue(h)},We.useEffect=function(h,E){return k.current.useEffect(h,E)},We.useId=function(){return k.current.useId()},We.useImperativeHandle=function(h,E,f){return k.current.useImperativeHandle(h,E,f)},We.useInsertionEffect=function(h,E){return k.current.useInsertionEffect(h,E)},We.useLayoutEffect=function(h,E){return k.current.useLayoutEffect(h,E)},We.useMemo=function(h,E){return k.current.useMemo(h,E)},We.useReducer=function(h,E,f){return k.current.useReducer(h,E,f)},We.useRef=function(h){return k.current.useRef(h)},We.useState=function(h){return k.current.useState(h)},We.useSyncExternalStore=function(h,E,f){return k.current.useSyncExternalStore(h,E,f)},We.useTransition=function(){return k.current.useTransition()},We.version="18.3.1",We}var Wd;function ml(){return Wd||(Wd=1,Hs.exports=bf()),Hs.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function wf(){if(Vd)return Hi;Vd=1;var c=ml(),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,u=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function x(v,C,j){var $,T={},O=null,J=null;j!==void 0&&(O=""+j),C.key!==void 0&&(O=""+C.key),C.ref!==void 0&&(J=C.ref);for($ in C)d.call(C,$)&&!m.hasOwnProperty($)&&(T[$]=C[$]);if(v&&v.defaultProps)for($ in C=v.defaultProps,C)T[$]===void 0&&(T[$]=C[$]);return{$$typeof:a,type:v,key:O,ref:J,props:T,_owner:u.current}}return Hi.Fragment=l,Hi.jsx=x,Hi.jsxs=x,Hi}var Gd;function kf(){return Gd||(Gd=1,Bs.exports=wf()),Bs.exports}var r=kf(),g=ml();const Qn=wu(g);var Xo={},Ws={exports:{}},Kt={},Vs={exports:{}},Gs={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function Cf(){return Yd||(Yd=1,function(c){function a(N,F){var z=N.length;N.push(F);e:for(;0<z;){var h=z-1>>>1,E=N[h];if(0<u(E,F))N[h]=F,N[z]=E,z=h;else break e}}function l(N){return N.length===0?null:N[0]}function d(N){if(N.length===0)return null;var F=N[0],z=N.pop();if(z!==F){N[0]=z;e:for(var h=0,E=N.length,f=E>>>1;h<f;){var b=2*(h+1)-1,R=N[b],q=b+1,Ce=N[q];if(0>u(R,z))q<E&&0>u(Ce,R)?(N[h]=Ce,N[q]=z,h=q):(N[h]=R,N[b]=z,h=b);else if(q<E&&0>u(Ce,z))N[h]=Ce,N[q]=z,h=q;else break e}}return F}function u(N,F){var z=N.sortIndex-F.sortIndex;return z!==0?z:N.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;c.unstable_now=function(){return m.now()}}else{var x=Date,v=x.now();c.unstable_now=function(){return x.now()-v}}var C=[],j=[],$=1,T=null,O=3,J=!1,G=!1,y=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ce(N){for(var F=l(j);F!==null;){if(F.callback===null)d(j);else if(F.startTime<=N)d(j),F.sortIndex=F.expirationTime,a(C,F);else break;F=l(j)}}function Q(N){if(y=!1,ce(N),!G)if(l(C)!==null)G=!0,de(I);else{var F=l(j);F!==null&&k(Q,F.startTime-N)}}function I(N,F){G=!1,y&&(y=!1,_(se),se=-1),J=!0;var z=O;try{for(ce(F),T=l(C);T!==null&&(!(T.expirationTime>F)||N&&!Ie());){var h=T.callback;if(typeof h=="function"){T.callback=null,O=T.priorityLevel;var E=h(T.expirationTime<=F);F=c.unstable_now(),typeof E=="function"?T.callback=E:T===l(C)&&d(C),ce(F)}else d(C);T=l(C)}if(T!==null)var f=!0;else{var b=l(j);b!==null&&k(Q,b.startTime-F),f=!1}return f}finally{T=null,O=z,J=!1}}var ne=!1,ie=null,se=-1,fe=5,pe=-1;function Ie(){return!(c.unstable_now()-pe<fe)}function ze(){if(ie!==null){var N=c.unstable_now();pe=N;var F=!0;try{F=ie(!0,N)}finally{F?Z():(ne=!1,ie=null)}}else ne=!1}var Z;if(typeof H=="function")Z=function(){H(ze)};else if(typeof MessageChannel!="undefined"){var Y=new MessageChannel,me=Y.port2;Y.port1.onmessage=ze,Z=function(){me.postMessage(null)}}else Z=function(){P(ze,0)};function de(N){ie=N,ne||(ne=!0,Z())}function k(N,F){se=P(function(){N(c.unstable_now())},F)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(N){N.callback=null},c.unstable_continueExecution=function(){G||J||(G=!0,de(I))},c.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<N?Math.floor(1e3/N):5},c.unstable_getCurrentPriorityLevel=function(){return O},c.unstable_getFirstCallbackNode=function(){return l(C)},c.unstable_next=function(N){switch(O){case 1:case 2:case 3:var F=3;break;default:F=O}var z=O;O=F;try{return N()}finally{O=z}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=O;O=N;try{return F()}finally{O=z}},c.unstable_scheduleCallback=function(N,F,z){var h=c.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?h+z:h):z=h,N){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=z+E,N={id:$++,callback:F,priorityLevel:N,startTime:z,expirationTime:E,sortIndex:-1},z>h?(N.sortIndex=z,a(j,N),l(C)===null&&N===l(j)&&(y?(_(se),se=-1):y=!0,k(Q,z-h))):(N.sortIndex=E,a(C,N),G||J||(G=!0,de(I))),N},c.unstable_shouldYield=Ie,c.unstable_wrapCallback=function(N){var F=O;return function(){var z=O;O=F;try{return N.apply(this,arguments)}finally{O=z}}}}(Gs)),Gs}var Kd;function jf(){return Kd||(Kd=1,Vs.exports=Cf()),Vs.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function Sf(){if(Qd)return Kt;Qd=1;var c=ml(),a=jf();function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,u={};function m(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(u[e]=t,e=0;e<t.length;e++)d.add(t[e])}var v=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),C=Object.prototype.hasOwnProperty,j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$={},T={};function O(e){return C.call(T,e)?!0:C.call($,e)?!1:j.test(e)?T[e]=!0:($[e]=!0,!1)}function J(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G(e,t,n,i){if(t===null||typeof t=="undefined"||J(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function y(e,t,n,i,o,s,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=p}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new y(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new y(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new y(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new y(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new y(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new y(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_,H);P[t]=new y(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_,H);P[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_,H);P[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});function ce(e,t,n,i){var o=P.hasOwnProperty(t)?P[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G(t,n,o,i)&&(n=null),i||o===null?O(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Q=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),ne=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),N=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,h;function E(e){if(h===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);h=t&&t[1]||""}return`
`+h+e}var f=!1;function b(e,t){if(!e||f)return"";f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(U){var i=U}Reflect.construct(e,[],t)}else{try{t.call()}catch(U){i=U}e.call(t.prototype)}else{try{throw Error()}catch(U){i=U}e()}}catch(U){if(U&&i&&typeof U.stack=="string"){for(var o=U.stack.split(`
`),s=i.stack.split(`
`),p=o.length-1,w=s.length-1;1<=p&&0<=w&&o[p]!==s[w];)w--;for(;1<=p&&0<=w;p--,w--)if(o[p]!==s[w]){if(p!==1||w!==1)do if(p--,w--,0>w||o[p]!==s[w]){var S=`
`+o[p].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=p&&0<=w);break}}}finally{f=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?E(e):""}function R(e){switch(e.tag){case 5:return E(e.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return e=b(e.type,!1),e;case 11:return e=b(e.type.render,!1),e;case 1:return e=b(e.type,!0),e;default:return""}}function q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case ne:return"Portal";case fe:return"Profiler";case se:return"StrictMode";case Z:return"Suspense";case Y:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ie:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case ze:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case me:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function Ce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function je(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ve(e){var t=Le(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){i=""+p,s.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ye(e){e._valueTracker||(e._valueTracker=Ve(e))}function te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Le(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function be(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ue(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function ye(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=je(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W(e,t){t=t.checked,t!=null&&ce(e,"checked",t,!1)}function ue(e,t){W(e,t);var n=je(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ke(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ke(e,t.type,je(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function De(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ke(e,t,n){(t!=="number"||be(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tt=Array.isArray;function lt(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+je(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ht(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(l(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $t(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(l(92));if(tt(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:je(n)}}function jn(e,t){var n=je(t.value),i=je(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function mn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function In(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?In(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xe,rn=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function on(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nn=["Webkit","ms","Moz","O"];Object.keys(qt).forEach(function(e){Nn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qt[t]=qt[e]})});function K(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qt.hasOwnProperty(e)&&qt[e]?(""+t).trim():t+"px"}function Ae(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=K(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var $e=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Re(e,t){if(t){if($e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(l(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(t.style!=null&&typeof t.style!="object")throw Error(l(62))}}function pt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function Mt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ct=null,wt=null,ot=null;function vt(e){if(e=Ei(e)){if(typeof ct!="function")throw Error(l(280));var t=e.stateNode;t&&(t=fo(t),ct(e.stateNode,e.type,t))}}function Et(e){wt?ot?ot.push(e):ot=[e]:wt=e}function Rt(){if(wt){var e=wt,t=ot;if(ot=wt=null,vt(e),t)for(e=0;e<t.length;e++)vt(t[e])}}function Dn(e,t){return e(t)}function an(){}var En=!1;function Jt(e,t,n){if(En)return e(t,n);En=!0;try{return Dn(e,t,n)}finally{En=!1,(wt!==null||ot!==null)&&(an(),Rt())}}function sn(e,t){var n=e.stateNode;if(n===null)return null;var i=fo(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Fn=!1;if(v)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch(e){Fn=!1}function Lr(e,t,n,i,o,s,p,w,S){var U=Array.prototype.slice.call(arguments,3);try{t.apply(n,U)}catch(ee){this.onError(ee)}}var Oe=!1,$n=null,Mn=!1,V=null,oe={onError:function(e){Oe=!0,$n=e}};function ae(e,t,n,i,o,s,p,w,S){Oe=!1,$n=null,Lr.apply(oe,arguments)}function B(e,t,n,i,o,s,p,w,S){if(ae.apply(this,arguments),Oe){if(Oe){var U=$n;Oe=!1,$n=null}else throw Error(l(198));Mn||(Mn=!0,V=U)}}function ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function He(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ft(e){if(ge(e)!==e)throw Error(l(188))}function Ut(e){var t=e.alternate;if(!t){if(t=ge(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ft(o),e;if(s===i)return Ft(o),t;s=s.sibling}throw Error(l(188))}if(n.return!==i.return)n=o,i=s;else{for(var p=!1,w=o.child;w;){if(w===n){p=!0,n=o,i=s;break}if(w===i){p=!0,i=o,n=s;break}w=w.sibling}if(!p){for(w=s.child;w;){if(w===n){p=!0,n=s,i=o;break}if(w===i){p=!0,i=s,n=o;break}w=w.sibling}if(!p)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function yt(e){return e=Ut(e),e!==null?hn(e):null}function hn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hn(e);if(t!==null)return t;e=e.sibling}return null}var hr=a.unstable_scheduleCallback,vr=a.unstable_cancelCallback,Gi=a.unstable_shouldYield,sa=a.unstable_requestPaint,dt=a.unstable_now,Yi=a.unstable_getCurrentPriorityLevel,si=a.unstable_ImmediatePriority,Tr=a.unstable_UserBlockingPriority,qn=a.unstable_NormalPriority,li=a.unstable_LowPriority,ci=a.unstable_IdlePriority,Pr=null,Bt=null;function Ir(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Pr,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Xt=Math.clz32?Math.clz32:he,Ki=Math.log,L=Math.LN2;function he(e){return e>>>=0,e===0?32:31-(Ki(e)/L|0)|0}var ve=64,Ne=4194304;function et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ze(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes,p=n&268435455;if(p!==0){var w=p&~o;w!==0?i=et(w):(s&=p,s!==0&&(i=et(s)))}else p=n&~o,p!==0?i=et(p):s!==0&&(i=et(s));if(i===0)return 0;if(t!==0&&t!==i&&(t&o)===0&&(o=i&-i,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Xt(t),o=1<<n,i|=e[n],t&=~o;return i}function Qi(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qi(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var p=31-Xt(s),w=1<<p,S=o[p];S===-1?((w&n)===0||(w&i)!==0)&&(o[p]=Qi(w,t)):S<=t&&(e.expiredLanes|=w),s&=~w}}function la(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yl(){var e=ve;return ve<<=1,(ve&4194240)===0&&(ve=64),e}function ca(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function di(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function Iu(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Xt(n),s=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~s}}function da(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Xt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var rt=0;function bl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wl,ua,kl,Cl,jl,pa=!1,Ji=[],Jn=null,Xn=null,Zn=null,ui=new Map,pi=new Map,er=[],Du="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sl(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(t.pointerId)}}function fi(e,t,n,i,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Ei(t),t!==null&&ua(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function $u(e,t,n,i,o){switch(t){case"focusin":return Jn=fi(Jn,e,t,n,i,o),!0;case"dragenter":return Xn=fi(Xn,e,t,n,i,o),!0;case"mouseover":return Zn=fi(Zn,e,t,n,i,o),!0;case"pointerover":var s=o.pointerId;return ui.set(s,fi(ui.get(s)||null,e,t,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,pi.set(s,fi(pi.get(s)||null,e,t,n,i,o)),!0}return!1}function Nl(e){var t=xr(e.target);if(t!==null){var n=ge(t);if(n!==null){if(t=n.tag,t===13){if(t=He(n),t!==null){e.blockedOn=t,jl(e.priority,function(){kl(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ma(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);nt=i,n.target.dispatchEvent(i),nt=null}else return t=Ei(n),t!==null&&ua(t),e.blockedOn=n,!1;t.shift()}return!0}function El(e,t,n){Xi(e)&&n.delete(t)}function Mu(){pa=!1,Jn!==null&&Xi(Jn)&&(Jn=null),Xn!==null&&Xi(Xn)&&(Xn=null),Zn!==null&&Xi(Zn)&&(Zn=null),ui.forEach(El),pi.forEach(El)}function mi(e,t){e.blockedOn===t&&(e.blockedOn=null,pa||(pa=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mu)))}function gi(e){function t(o){return mi(o,e)}if(0<Ji.length){mi(Ji[0],e);for(var n=1;n<Ji.length;n++){var i=Ji[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Jn!==null&&mi(Jn,e),Xn!==null&&mi(Xn,e),Zn!==null&&mi(Zn,e),ui.forEach(t),pi.forEach(t),n=0;n<er.length;n++)i=er[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<er.length&&(n=er[0],n.blockedOn===null);)Nl(n),n.blockedOn===null&&er.shift()}var Dr=Q.ReactCurrentBatchConfig,Zi=!0;function Ru(e,t,n,i){var o=rt,s=Dr.transition;Dr.transition=null;try{rt=1,fa(e,t,n,i)}finally{rt=o,Dr.transition=s}}function Ou(e,t,n,i){var o=rt,s=Dr.transition;Dr.transition=null;try{rt=4,fa(e,t,n,i)}finally{rt=o,Dr.transition=s}}function fa(e,t,n,i){if(Zi){var o=ma(e,t,n,i);if(o===null)La(e,t,i,eo,n),Sl(e,i);else if($u(o,e,t,n,i))i.stopPropagation();else if(Sl(e,i),t&4&&-1<Du.indexOf(e)){for(;o!==null;){var s=Ei(o);if(s!==null&&wl(s),s=ma(e,t,n,i),s===null&&La(e,t,i,eo,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else La(e,t,i,null,n)}}var eo=null;function ma(e,t,n,i){if(eo=null,e=Mt(i),e=xr(e),e!==null)if(t=ge(e),t===null)e=null;else if(n=t.tag,n===13){if(e=He(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eo=e,null}function Fl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yi()){case si:return 1;case Tr:return 4;case qn:case li:return 16;case ci:return 536870912;default:return 16}default:return 16}}var tr=null,ga=null,to=null;function Al(){if(to)return to;var e,t=ga,n=t.length,i,o="value"in tr?tr.value:tr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var p=n-e;for(i=1;i<=p&&t[n-i]===o[s-i];i++);return to=o.slice(e,1<i?1-i:void 0)}function no(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ro(){return!0}function zl(){return!1}function Zt(e){function t(n,i,o,s,p){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=p,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(s):s[w]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ro:zl,this.isPropagationStopped=zl,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Zt($r),hi=z({},$r,{view:0,detail:0}),_u=Zt(hi),va,xa,vi,io=z({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(va=e.screenX-vi.screenX,xa=e.screenY-vi.screenY):xa=va=0,vi=e),va)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),Ll=Zt(io),Uu=z({},io,{dataTransfer:0}),Bu=Zt(Uu),Hu=z({},hi,{relatedTarget:0}),ya=Zt(Hu),Wu=z({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=Zt(Wu),Gu=z({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yu=Zt(Gu),Ku=z({},$r,{data:0}),Tl=Zt(Ku),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ju[e])?!!t[e]:!1}function ba(){return Xu}var Zu=z({},hi,{key:function(e){if(e.key){var t=Qu[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=no(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(e){return e.type==="keypress"?no(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?no(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ep=Zt(Zu),tp=z({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=Zt(tp),np=z({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),rp=Zt(np),ip=z({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),op=Zt(ip),ap=z({},io,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sp=Zt(ap),lp=[9,13,27,32],wa=v&&"CompositionEvent"in window,xi=null;v&&"documentMode"in document&&(xi=document.documentMode);var cp=v&&"TextEvent"in window&&!xi,Il=v&&(!wa||xi&&8<xi&&11>=xi),Dl=" ",$l=!1;function Ml(e,t){switch(e){case"keyup":return lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function dp(e,t){switch(e){case"compositionend":return Rl(t);case"keypress":return t.which!==32?null:($l=!0,Dl);case"textInput":return e=t.data,e===Dl&&$l?null:e;default:return null}}function up(e,t){if(Mr)return e==="compositionend"||!wa&&Ml(e,t)?(e=Al(),to=ga=tr=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Il&&t.locale!=="ko"?null:t.data;default:return null}}var pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pp[e.type]:t==="textarea"}function _l(e,t,n,i){Et(i),t=co(t,"onChange"),0<t.length&&(n=new ha("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var yi=null,bi=null;function fp(e){ic(e,0)}function oo(e){var t=Br(e);if(te(t))return e}function mp(e,t){if(e==="change")return t}var Ul=!1;if(v){var ka;if(v){var Ca="oninput"in document;if(!Ca){var Bl=document.createElement("div");Bl.setAttribute("oninput","return;"),Ca=typeof Bl.oninput=="function"}ka=Ca}else ka=!1;Ul=ka&&(!document.documentMode||9<document.documentMode)}function Hl(){yi&&(yi.detachEvent("onpropertychange",Wl),bi=yi=null)}function Wl(e){if(e.propertyName==="value"&&oo(bi)){var t=[];_l(t,bi,e,Mt(e)),Jt(fp,t)}}function gp(e,t,n){e==="focusin"?(Hl(),yi=t,bi=n,yi.attachEvent("onpropertychange",Wl)):e==="focusout"&&Hl()}function hp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oo(bi)}function vp(e,t){if(e==="click")return oo(t)}function xp(e,t){if(e==="input"||e==="change")return oo(t)}function yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:yp;function wi(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!C.call(t,o)||!vn(e[o],t[o]))return!1}return!0}function Vl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gl(e,t){var n=Vl(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vl(n)}}function Yl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kl(){for(var e=window,t=be();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(i){n=!1}if(n)e=t.contentWindow;else break;t=be(e.document)}return t}function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bp(e){var t=Kl(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yl(n.ownerDocument.documentElement,n)){if(i!==null&&ja(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(i.start,o);i=i.end===void 0?s:Math.min(i.end,o),!e.extend&&s>i&&(o=i,i=s,s=o),o=Gl(n,s);var p=Gl(n,i);o&&p&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wp=v&&"documentMode"in document&&11>=document.documentMode,Rr=null,Sa=null,ki=null,Na=!1;function Ql(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Na||Rr==null||Rr!==be(i)||(i=Rr,"selectionStart"in i&&ja(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ki&&wi(ki,i)||(ki=i,i=co(Sa,"onSelect"),0<i.length&&(t=new ha("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Rr)))}function ao(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Or={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Ea={},ql={};v&&(ql=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function so(e){if(Ea[e])return Ea[e];if(!Or[e])return e;var t=Or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ql)return Ea[e]=t[n];return e}var Jl=so("animationend"),Xl=so("animationiteration"),Zl=so("animationstart"),ec=so("transitionend"),tc=new Map,nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){tc.set(e,t),m(t,[e])}for(var Fa=0;Fa<nc.length;Fa++){var Aa=nc[Fa],kp=Aa.toLowerCase(),Cp=Aa[0].toUpperCase()+Aa.slice(1);nr(kp,"on"+Cp)}nr(Jl,"onAnimationEnd"),nr(Xl,"onAnimationIteration"),nr(Zl,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(ec,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function rc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,B(i,t,void 0,e),e.currentTarget=null}function ic(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var p=i.length-1;0<=p;p--){var w=i[p],S=w.instance,U=w.currentTarget;if(w=w.listener,S!==s&&o.isPropagationStopped())break e;rc(o,w,U),s=S}else for(p=0;p<i.length;p++){if(w=i[p],S=w.instance,U=w.currentTarget,w=w.listener,S!==s&&o.isPropagationStopped())break e;rc(o,w,U),s=S}}}if(Mn)throw e=V,Mn=!1,V=null,e}function at(e,t){var n=t[Ma];n===void 0&&(n=t[Ma]=new Set);var i=e+"__bubble";n.has(i)||(oc(t,e,2,!1),n.add(i))}function za(e,t,n){var i=0;t&&(i|=4),oc(n,e,i,t)}var lo="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[lo]){e[lo]=!0,d.forEach(function(n){n!=="selectionchange"&&(jp.has(n)||za(n,!1,e),za(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lo]||(t[lo]=!0,za("selectionchange",!1,t))}}function oc(e,t,n,i){switch(Fl(t)){case 1:var o=Ru;break;case 4:o=Ou;break;default:o=fa}n=o.bind(null,t,n,e),o=void 0,!Fn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function La(e,t,n,i,o){var s=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var w=i.stateNode.containerInfo;if(w===o||w.nodeType===8&&w.parentNode===o)break;if(p===4)for(p=i.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===o||S.nodeType===8&&S.parentNode===o))return;p=p.return}for(;w!==null;){if(p=xr(w),p===null)return;if(S=p.tag,S===5||S===6){i=s=p;continue e}w=w.parentNode}}i=i.return}Jt(function(){var U=s,ee=Mt(n),re=[];e:{var X=tc.get(e);if(X!==void 0){var xe=ha,ke=e;switch(e){case"keypress":if(no(n)===0)break e;case"keydown":case"keyup":xe=ep;break;case"focusin":ke="focus",xe=ya;break;case"focusout":ke="blur",xe=ya;break;case"beforeblur":case"afterblur":xe=ya;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=rp;break;case Jl:case Xl:case Zl:xe=Vu;break;case ec:xe=op;break;case"scroll":xe=_u;break;case"wheel":xe=sp;break;case"copy":case"cut":case"paste":xe=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Pl}var Se=(t&4)!==0,xt=!Se&&e==="scroll",D=Se?X!==null?X+"Capture":null:X;Se=[];for(var A=U,M;A!==null;){M=A;var le=M.stateNode;if(M.tag===5&&le!==null&&(M=le,D!==null&&(le=sn(A,D),le!=null&&Se.push(Si(A,le,M)))),xt)break;A=A.return}0<Se.length&&(X=new xe(X,ke,null,n,ee),re.push({event:X,listeners:Se}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",xe=e==="mouseout"||e==="pointerout",X&&n!==nt&&(ke=n.relatedTarget||n.fromElement)&&(xr(ke)||ke[Rn]))break e;if((xe||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,xe?(ke=n.relatedTarget||n.toElement,xe=U,ke=ke?xr(ke):null,ke!==null&&(xt=ge(ke),ke!==xt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(xe=null,ke=U),xe!==ke)){if(Se=Ll,le="onMouseLeave",D="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Pl,le="onPointerLeave",D="onPointerEnter",A="pointer"),xt=xe==null?X:Br(xe),M=ke==null?X:Br(ke),X=new Se(le,A+"leave",xe,n,ee),X.target=xt,X.relatedTarget=M,le=null,xr(ee)===U&&(Se=new Se(D,A+"enter",ke,n,ee),Se.target=M,Se.relatedTarget=xt,le=Se),xt=le,xe&&ke)t:{for(Se=xe,D=ke,A=0,M=Se;M;M=_r(M))A++;for(M=0,le=D;le;le=_r(le))M++;for(;0<A-M;)Se=_r(Se),A--;for(;0<M-A;)D=_r(D),M--;for(;A--;){if(Se===D||D!==null&&Se===D.alternate)break t;Se=_r(Se),D=_r(D)}Se=null}else Se=null;xe!==null&&ac(re,X,xe,Se,!1),ke!==null&&xt!==null&&ac(re,xt,ke,Se,!0)}}e:{if(X=U?Br(U):window,xe=X.nodeName&&X.nodeName.toLowerCase(),xe==="select"||xe==="input"&&X.type==="file")var Ee=mp;else if(Ol(X))if(Ul)Ee=xp;else{Ee=hp;var Te=gp}else(xe=X.nodeName)&&xe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(Ee=vp);if(Ee&&(Ee=Ee(e,U))){_l(re,Ee,n,ee);break e}Te&&Te(e,X,U),e==="focusout"&&(Te=X._wrapperState)&&Te.controlled&&X.type==="number"&&Ke(X,"number",X.value)}switch(Te=U?Br(U):window,e){case"focusin":(Ol(Te)||Te.contentEditable==="true")&&(Rr=Te,Sa=U,ki=null);break;case"focusout":ki=Sa=Rr=null;break;case"mousedown":Na=!0;break;case"contextmenu":case"mouseup":case"dragend":Na=!1,Ql(re,n,ee);break;case"selectionchange":if(wp)break;case"keydown":case"keyup":Ql(re,n,ee)}var Pe;if(wa)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Mr?Ml(e,n)&&(Me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Me="onCompositionStart");Me&&(Il&&n.locale!=="ko"&&(Mr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Mr&&(Pe=Al()):(tr=ee,ga="value"in tr?tr.value:tr.textContent,Mr=!0)),Te=co(U,Me),0<Te.length&&(Me=new Tl(Me,e,null,n,ee),re.push({event:Me,listeners:Te}),Pe?Me.data=Pe:(Pe=Rl(n),Pe!==null&&(Me.data=Pe)))),(Pe=cp?dp(e,n):up(e,n))&&(U=co(U,"onBeforeInput"),0<U.length&&(ee=new Tl("onBeforeInput","beforeinput",null,n,ee),re.push({event:ee,listeners:U}),ee.data=Pe))}ic(re,t)})}function Si(e,t,n){return{instance:e,listener:t,currentTarget:n}}function co(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=sn(e,n),s!=null&&i.unshift(Si(e,s,o)),s=sn(e,t),s!=null&&i.push(Si(e,s,o))),e=e.return}return i}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ac(e,t,n,i,o){for(var s=t._reactName,p=[];n!==null&&n!==i;){var w=n,S=w.alternate,U=w.stateNode;if(S!==null&&S===i)break;w.tag===5&&U!==null&&(w=U,o?(S=sn(n,s),S!=null&&p.unshift(Si(n,S,w))):o||(S=sn(n,s),S!=null&&p.push(Si(n,S,w)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Sp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function sc(e){return(typeof e=="string"?e:""+e).replace(Sp,`
`).replace(Np,"")}function uo(e,t,n){if(t=sc(t),sc(e)!==t&&n)throw Error(l(425))}function po(){}var Ta=null,Pa=null;function Ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,Ep=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,Fp=typeof queueMicrotask=="function"?queueMicrotask:typeof lc!="undefined"?function(e){return lc.resolve(null).then(e).catch(Ap)}:Da;function Ap(e){setTimeout(function(){throw e})}function $a(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),gi(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);gi(t)}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),An="__reactFiber$"+Ur,Ni="__reactProps$"+Ur,Rn="__reactContainer$"+Ur,Ma="__reactEvents$"+Ur,zp="__reactListeners$"+Ur,Lp="__reactHandles$"+Ur;function xr(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cc(e);e!==null;){if(n=e[An])return n;e=cc(e)}return t}e=n,n=e.parentNode}return null}function Ei(e){return e=e[An]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function fo(e){return e[Ni]||null}var Ra=[],Hr=-1;function ir(e){return{current:e}}function st(e){0>Hr||(e.current=Ra[Hr],Ra[Hr]=null,Hr--)}function it(e,t){Hr++,Ra[Hr]=e.current,e.current=t}var or={},Lt=ir(or),Ht=ir(!1),yr=or;function Wr(e,t){var n=e.type.contextTypes;if(!n)return or;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Wt(e){return e=e.childContextTypes,e!=null}function mo(){st(Ht),st(Lt)}function dc(e,t,n){if(Lt.current!==or)throw Error(l(168));it(Lt,t),it(Ht,n)}function uc(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(l(108,Ce(e)||"Unknown",o));return z({},n,i)}function go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,yr=Lt.current,it(Lt,e),it(Ht,Ht.current),!0}function pc(e,t,n){var i=e.stateNode;if(!i)throw Error(l(169));n?(e=uc(e,t,yr),i.__reactInternalMemoizedMergedChildContext=e,st(Ht),st(Lt),it(Lt,e)):st(Ht),it(Ht,n)}var On=null,ho=!1,Oa=!1;function fc(e){On===null?On=[e]:On.push(e)}function Tp(e){ho=!0,fc(e)}function ar(){if(!Oa&&On!==null){Oa=!0;var e=0,t=rt;try{var n=On;for(rt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}On=null,ho=!1}catch(o){throw On!==null&&(On=On.slice(e+1)),hr(si,ar),o}finally{rt=t,Oa=!1}}return null}var Vr=[],Gr=0,vo=null,xo=0,ln=[],cn=0,br=null,_n=1,Un="";function wr(e,t){Vr[Gr++]=xo,Vr[Gr++]=vo,vo=e,xo=t}function mc(e,t,n){ln[cn++]=_n,ln[cn++]=Un,ln[cn++]=br,br=e;var i=_n;e=Un;var o=32-Xt(i)-1;i&=~(1<<o),n+=1;var s=32-Xt(t)+o;if(30<s){var p=o-o%5;s=(i&(1<<p)-1).toString(32),i>>=p,o-=p,_n=1<<32-Xt(t)+o|n<<o|i,Un=s+e}else _n=1<<s|n<<o|i,Un=e}function _a(e){e.return!==null&&(wr(e,1),mc(e,1,0))}function Ua(e){for(;e===vo;)vo=Vr[--Gr],Vr[Gr]=null,xo=Vr[--Gr],Vr[Gr]=null;for(;e===br;)br=ln[--cn],ln[cn]=null,Un=ln[--cn],ln[cn]=null,_n=ln[--cn],ln[cn]=null}var en=null,tn=null,ut=!1,xn=null;function gc(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,en=e,tn=rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,en=e,tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=br!==null?{id:_n,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,en=e,tn=null,!0):!1;default:return!1}}function Ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ha(e){if(ut){var t=tn;if(t){var n=t;if(!hc(e,t)){if(Ba(e))throw Error(l(418));t=rr(n.nextSibling);var i=en;t&&hc(e,t)?gc(i,n):(e.flags=e.flags&-4097|2,ut=!1,en=e)}}else{if(Ba(e))throw Error(l(418));e.flags=e.flags&-4097|2,ut=!1,en=e}}}function vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function yo(e){if(e!==en)return!1;if(!ut)return vc(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ia(e.type,e.memoizedProps)),t&&(t=tn)){if(Ba(e))throw xc(),Error(l(418));for(;t;)gc(e,t),t=rr(t.nextSibling)}if(vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tn=rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tn=null}}else tn=en?rr(e.stateNode.nextSibling):null;return!0}function xc(){for(var e=tn;e;)e=rr(e.nextSibling)}function Yr(){tn=en=null,ut=!1}function Wa(e){xn===null?xn=[e]:xn.push(e)}var Pp=Q.ReactCurrentBatchConfig;function Fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(l(309));var i=n.stateNode}if(!i)throw Error(l(147,e));var o=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(p){var w=o.refs;p===null?delete w[s]:w[s]=p},t._stringRef=s,t)}if(typeof e!="string")throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yc(e){var t=e._init;return t(e._payload)}function bc(e){function t(D,A){if(e){var M=D.deletions;M===null?(D.deletions=[A],D.flags|=16):M.push(A)}}function n(D,A){if(!e)return null;for(;A!==null;)t(D,A),A=A.sibling;return null}function i(D,A){for(D=new Map;A!==null;)A.key!==null?D.set(A.key,A):D.set(A.index,A),A=A.sibling;return D}function o(D,A){return D=mr(D,A),D.index=0,D.sibling=null,D}function s(D,A,M){return D.index=M,e?(M=D.alternate,M!==null?(M=M.index,M<A?(D.flags|=2,A):M):(D.flags|=2,A)):(D.flags|=1048576,A)}function p(D){return e&&D.alternate===null&&(D.flags|=2),D}function w(D,A,M,le){return A===null||A.tag!==6?(A=Ds(M,D.mode,le),A.return=D,A):(A=o(A,M),A.return=D,A)}function S(D,A,M,le){var Ee=M.type;return Ee===ie?ee(D,A,M.props.children,le,M.key):A!==null&&(A.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===de&&yc(Ee)===A.type)?(le=o(A,M.props),le.ref=Fi(D,A,M),le.return=D,le):(le=Wo(M.type,M.key,M.props,null,D.mode,le),le.ref=Fi(D,A,M),le.return=D,le)}function U(D,A,M,le){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=$s(M,D.mode,le),A.return=D,A):(A=o(A,M.children||[]),A.return=D,A)}function ee(D,A,M,le,Ee){return A===null||A.tag!==7?(A=Ar(M,D.mode,le,Ee),A.return=D,A):(A=o(A,M),A.return=D,A)}function re(D,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Ds(""+A,D.mode,M),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return M=Wo(A.type,A.key,A.props,null,D.mode,M),M.ref=Fi(D,null,A),M.return=D,M;case ne:return A=$s(A,D.mode,M),A.return=D,A;case de:var le=A._init;return re(D,le(A._payload),M)}if(tt(A)||F(A))return A=Ar(A,D.mode,M,null),A.return=D,A;bo(D,A)}return null}function X(D,A,M,le){var Ee=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return Ee!==null?null:w(D,A,""+M,le);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return M.key===Ee?S(D,A,M,le):null;case ne:return M.key===Ee?U(D,A,M,le):null;case de:return Ee=M._init,X(D,A,Ee(M._payload),le)}if(tt(M)||F(M))return Ee!==null?null:ee(D,A,M,le,null);bo(D,M)}return null}function xe(D,A,M,le,Ee){if(typeof le=="string"&&le!==""||typeof le=="number")return D=D.get(M)||null,w(A,D,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case I:return D=D.get(le.key===null?M:le.key)||null,S(A,D,le,Ee);case ne:return D=D.get(le.key===null?M:le.key)||null,U(A,D,le,Ee);case de:var Te=le._init;return xe(D,A,M,Te(le._payload),Ee)}if(tt(le)||F(le))return D=D.get(M)||null,ee(A,D,le,Ee,null);bo(A,le)}return null}function ke(D,A,M,le){for(var Ee=null,Te=null,Pe=A,Me=A=0,Nt=null;Pe!==null&&Me<M.length;Me++){Pe.index>Me?(Nt=Pe,Pe=null):Nt=Pe.sibling;var Je=X(D,Pe,M[Me],le);if(Je===null){Pe===null&&(Pe=Nt);break}e&&Pe&&Je.alternate===null&&t(D,Pe),A=s(Je,A,Me),Te===null?Ee=Je:Te.sibling=Je,Te=Je,Pe=Nt}if(Me===M.length)return n(D,Pe),ut&&wr(D,Me),Ee;if(Pe===null){for(;Me<M.length;Me++)Pe=re(D,M[Me],le),Pe!==null&&(A=s(Pe,A,Me),Te===null?Ee=Pe:Te.sibling=Pe,Te=Pe);return ut&&wr(D,Me),Ee}for(Pe=i(D,Pe);Me<M.length;Me++)Nt=xe(Pe,D,Me,M[Me],le),Nt!==null&&(e&&Nt.alternate!==null&&Pe.delete(Nt.key===null?Me:Nt.key),A=s(Nt,A,Me),Te===null?Ee=Nt:Te.sibling=Nt,Te=Nt);return e&&Pe.forEach(function(gr){return t(D,gr)}),ut&&wr(D,Me),Ee}function Se(D,A,M,le){var Ee=F(M);if(typeof Ee!="function")throw Error(l(150));if(M=Ee.call(M),M==null)throw Error(l(151));for(var Te=Ee=null,Pe=A,Me=A=0,Nt=null,Je=M.next();Pe!==null&&!Je.done;Me++,Je=M.next()){Pe.index>Me?(Nt=Pe,Pe=null):Nt=Pe.sibling;var gr=X(D,Pe,Je.value,le);if(gr===null){Pe===null&&(Pe=Nt);break}e&&Pe&&gr.alternate===null&&t(D,Pe),A=s(gr,A,Me),Te===null?Ee=gr:Te.sibling=gr,Te=gr,Pe=Nt}if(Je.done)return n(D,Pe),ut&&wr(D,Me),Ee;if(Pe===null){for(;!Je.done;Me++,Je=M.next())Je=re(D,Je.value,le),Je!==null&&(A=s(Je,A,Me),Te===null?Ee=Je:Te.sibling=Je,Te=Je);return ut&&wr(D,Me),Ee}for(Pe=i(D,Pe);!Je.done;Me++,Je=M.next())Je=xe(Pe,D,Me,Je.value,le),Je!==null&&(e&&Je.alternate!==null&&Pe.delete(Je.key===null?Me:Je.key),A=s(Je,A,Me),Te===null?Ee=Je:Te.sibling=Je,Te=Je);return e&&Pe.forEach(function(ff){return t(D,ff)}),ut&&wr(D,Me),Ee}function xt(D,A,M,le){if(typeof M=="object"&&M!==null&&M.type===ie&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case I:e:{for(var Ee=M.key,Te=A;Te!==null;){if(Te.key===Ee){if(Ee=M.type,Ee===ie){if(Te.tag===7){n(D,Te.sibling),A=o(Te,M.props.children),A.return=D,D=A;break e}}else if(Te.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===de&&yc(Ee)===Te.type){n(D,Te.sibling),A=o(Te,M.props),A.ref=Fi(D,Te,M),A.return=D,D=A;break e}n(D,Te);break}else t(D,Te);Te=Te.sibling}M.type===ie?(A=Ar(M.props.children,D.mode,le,M.key),A.return=D,D=A):(le=Wo(M.type,M.key,M.props,null,D.mode,le),le.ref=Fi(D,A,M),le.return=D,D=le)}return p(D);case ne:e:{for(Te=M.key;A!==null;){if(A.key===Te)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){n(D,A.sibling),A=o(A,M.children||[]),A.return=D,D=A;break e}else{n(D,A);break}else t(D,A);A=A.sibling}A=$s(M,D.mode,le),A.return=D,D=A}return p(D);case de:return Te=M._init,xt(D,A,Te(M._payload),le)}if(tt(M))return ke(D,A,M,le);if(F(M))return Se(D,A,M,le);bo(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(n(D,A.sibling),A=o(A,M),A.return=D,D=A):(n(D,A),A=Ds(M,D.mode,le),A.return=D,D=A),p(D)):n(D,A)}return xt}var Kr=bc(!0),wc=bc(!1),wo=ir(null),ko=null,Qr=null,Va=null;function Ga(){Va=Qr=ko=null}function Ya(e){var t=wo.current;st(wo),e._currentValue=t}function Ka(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function qr(e,t){ko=e,Va=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Vt=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(Va!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(ko===null)throw Error(l(308));Qr=e,ko.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var kr=null;function Qa(e){kr===null?kr=[e]:kr.push(e)}function kc(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,Qa(t)):(n.next=o.next,o.next=n),t.interleaved=n,Bn(e,i)}function Bn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sr=!1;function qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(qe&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,Bn(e,n)}return o=i.interleaved,o===null?(t.next=t,Qa(i)):(t.next=o.next,o.next=t),i.interleaved=t,Bn(e,n)}function Co(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,da(e,n)}}function jc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=p:s=s.next=p,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,i){var o=e.updateQueue;sr=!1;var s=o.firstBaseUpdate,p=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var S=w,U=S.next;S.next=null,p===null?s=U:p.next=U,p=S;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==p&&(w===null?ee.firstBaseUpdate=U:w.next=U,ee.lastBaseUpdate=S))}if(s!==null){var re=o.baseState;p=0,ee=U=S=null,w=s;do{var X=w.lane,xe=w.eventTime;if((i&X)===X){ee!==null&&(ee=ee.next={eventTime:xe,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ke=e,Se=w;switch(X=t,xe=n,Se.tag){case 1:if(ke=Se.payload,typeof ke=="function"){re=ke.call(xe,re,X);break e}re=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Se.payload,X=typeof ke=="function"?ke.call(xe,re,X):ke,X==null)break e;re=z({},re,X);break e;case 2:sr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,X=o.effects,X===null?o.effects=[w]:X.push(w))}else xe={eventTime:xe,lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(U=ee=xe,S=re):ee=ee.next=xe,p|=X;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;X=w,w=X.next,X.next=null,o.lastBaseUpdate=X,o.shared.pending=null}}while(!0);if(ee===null&&(S=re),o.baseState=S,o.firstBaseUpdate=U,o.lastBaseUpdate=ee,t=o.shared.interleaved,t!==null){o=t;do p|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Sr|=p,e.lanes=p,e.memoizedState=re}}function Sc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(l(191,o));o.call(i)}}}var Ai={},zn=ir(Ai),zi=ir(Ai),Li=ir(Ai);function Cr(e){if(e===Ai)throw Error(l(174));return e}function Ja(e,t){switch(it(Li,t),it(zi,e),it(zn,Ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sn(t,e)}st(zn),it(zn,t)}function Jr(){st(zn),st(zi),st(Li)}function Nc(e){Cr(Li.current);var t=Cr(zn.current),n=Sn(t,e.type);t!==n&&(it(zi,e),it(zn,n))}function Xa(e){zi.current===e&&(st(zn),st(zi))}var ft=ir(0);function So(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Za=[];function es(){for(var e=0;e<Za.length;e++)Za[e]._workInProgressVersionPrimary=null;Za.length=0}var No=Q.ReactCurrentDispatcher,ts=Q.ReactCurrentBatchConfig,jr=0,mt=null,kt=null,jt=null,Eo=!1,Ti=!1,Pi=0,Ip=0;function Tt(){throw Error(l(321))}function ns(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function rs(e,t,n,i,o,s){if(jr=s,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,No.current=e===null||e.memoizedState===null?Rp:Op,e=n(i,o),Ti){s=0;do{if(Ti=!1,Pi=0,25<=s)throw Error(l(301));s+=1,jt=kt=null,t.updateQueue=null,No.current=_p,e=n(i,o)}while(Ti)}if(No.current=zo,t=kt!==null&&kt.next!==null,jr=0,jt=kt=mt=null,Eo=!1,t)throw Error(l(300));return e}function is(){var e=Pi!==0;return Pi=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?mt.memoizedState=jt=e:jt=jt.next=e,jt}function un(){if(kt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=jt===null?mt.memoizedState:jt.next;if(t!==null)jt=t,kt=e;else{if(e===null)throw Error(l(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},jt===null?mt.memoizedState=jt=e:jt=jt.next=e}return jt}function Ii(e,t){return typeof t=="function"?t(e):t}function os(e){var t=un(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=kt,o=i.baseQueue,s=n.pending;if(s!==null){if(o!==null){var p=o.next;o.next=s.next,s.next=p}i.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,i=i.baseState;var w=p=null,S=null,U=s;do{var ee=U.lane;if((jr&ee)===ee)S!==null&&(S=S.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),i=U.hasEagerState?U.eagerState:e(i,U.action);else{var re={lane:ee,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};S===null?(w=S=re,p=i):S=S.next=re,mt.lanes|=ee,Sr|=ee}U=U.next}while(U!==null&&U!==s);S===null?p=i:S.next=w,vn(i,t.memoizedState)||(Vt=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=S,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do s=o.lane,mt.lanes|=s,Sr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function as(e){var t=un(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var p=o=o.next;do s=e(s,p.action),p=p.next;while(p!==o);vn(s,t.memoizedState)||(Vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ec(){}function Fc(e,t){var n=mt,i=un(),o=t(),s=!vn(i.memoizedState,o);if(s&&(i.memoizedState=o,Vt=!0),i=i.queue,ss(Lc.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Di(9,zc.bind(null,n,i,o,t),void 0,null),St===null)throw Error(l(349));(jr&30)!==0||Ac(n,t,o)}return o}function Ac(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zc(e,t,n,i){t.value=n,t.getSnapshot=i,Tc(t)&&Pc(e)}function Lc(e,t,n){return n(function(){Tc(t)&&Pc(e)})}function Tc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch(i){return!0}}function Pc(e){var t=Bn(e,1);t!==null&&kn(t,e,1,-1)}function Ic(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=Mp.bind(null,mt,e),[t.memoizedState,e]}function Di(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Dc(){return un().memoizedState}function Fo(e,t,n,i){var o=Ln();mt.flags|=e,o.memoizedState=Di(1|t,n,void 0,i===void 0?null:i)}function Ao(e,t,n,i){var o=un();i=i===void 0?null:i;var s=void 0;if(kt!==null){var p=kt.memoizedState;if(s=p.destroy,i!==null&&ns(i,p.deps)){o.memoizedState=Di(t,n,s,i);return}}mt.flags|=e,o.memoizedState=Di(1|t,n,s,i)}function $c(e,t){return Fo(8390656,8,e,t)}function ss(e,t){return Ao(2048,8,e,t)}function Mc(e,t){return Ao(4,2,e,t)}function Rc(e,t){return Ao(4,4,e,t)}function Oc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _c(e,t,n){return n=n!=null?n.concat([e]):null,Ao(4,4,Oc.bind(null,t,e),n)}function ls(){}function Uc(e,t){var n=un();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ns(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Bc(e,t){var n=un();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ns(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Hc(e,t,n){return(jr&21)===0?(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=n):(vn(n,t)||(n=yl(),mt.lanes|=n,Sr|=n,e.baseState=!0),t)}function Dp(e,t){var n=rt;rt=n!==0&&4>n?n:4,e(!0);var i=ts.transition;ts.transition={};try{e(!1),t()}finally{rt=n,ts.transition=i}}function Wc(){return un().memoizedState}function $p(e,t,n){var i=pr(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Vc(e))Gc(t,n);else if(n=kc(e,t,n,i),n!==null){var o=_t();kn(n,e,i,o),Yc(n,t,i)}}function Mp(e,t,n){var i=pr(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vc(e))Gc(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var p=t.lastRenderedState,w=s(p,n);if(o.hasEagerState=!0,o.eagerState=w,vn(w,p)){var S=t.interleaved;S===null?(o.next=o,Qa(t)):(o.next=S.next,S.next=o),t.interleaved=o;return}}catch(U){}finally{}n=kc(e,t,o,i),n!==null&&(o=_t(),kn(n,e,i,o),Yc(n,t,i))}}function Vc(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function Gc(e,t){Ti=Eo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yc(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,da(e,n)}}var zo={readContext:dn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},Rp={readContext:dn,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:$c,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fo(4194308,4,Oc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ln();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=$p.bind(null,mt,e),[i.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:Ic,useDebugValue:ls,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=Ic(!1),t=e[0];return e=Dp.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=mt,o=Ln();if(ut){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),St===null)throw Error(l(349));(jr&30)!==0||Ac(i,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,$c(Lc.bind(null,i,s,e),[e]),i.flags|=2048,Di(9,zc.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Ln(),t=St.identifierPrefix;if(ut){var n=Un,i=_n;n=(i&~(1<<32-Xt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ip++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Op={readContext:dn,useCallback:Uc,useContext:dn,useEffect:ss,useImperativeHandle:_c,useInsertionEffect:Mc,useLayoutEffect:Rc,useMemo:Bc,useReducer:os,useRef:Dc,useState:function(){return os(Ii)},useDebugValue:ls,useDeferredValue:function(e){var t=un();return Hc(t,kt.memoizedState,e)},useTransition:function(){var e=os(Ii)[0],t=un().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:Fc,useId:Wc,unstable_isNewReconciler:!1},_p={readContext:dn,useCallback:Uc,useContext:dn,useEffect:ss,useImperativeHandle:_c,useInsertionEffect:Mc,useLayoutEffect:Rc,useMemo:Bc,useReducer:as,useRef:Dc,useState:function(){return as(Ii)},useDebugValue:ls,useDeferredValue:function(e){var t=un();return kt===null?t.memoizedState=e:Hc(t,kt.memoizedState,e)},useTransition:function(){var e=as(Ii)[0],t=un().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:Fc,useId:Wc,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function cs(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return(e=e._reactInternals)?ge(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=_t(),o=pr(e),s=Hn(i,o);s.payload=t,n!=null&&(s.callback=n),t=lr(e,s,o),t!==null&&(kn(t,e,o,i),Co(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=_t(),o=pr(e),s=Hn(i,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=lr(e,s,o),t!==null&&(kn(t,e,o,i),Co(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),i=pr(e),o=Hn(n,i);o.tag=2,t!=null&&(o.callback=t),t=lr(e,o,i),t!==null&&(kn(t,e,i,n),Co(t,e,i))}};function Kc(e,t,n,i,o,s,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,p):t.prototype&&t.prototype.isPureReactComponent?!wi(n,i)||!wi(o,s):!0}function Qc(e,t,n){var i=!1,o=or,s=t.contextType;return typeof s=="object"&&s!==null?s=dn(s):(o=Wt(t)?yr:Lt.current,i=t.contextTypes,s=(i=i!=null)?Wr(e,o):or),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function qc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function ds(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},qa(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=dn(s):(s=Wt(t)?yr:Lt.current,o.context=Wr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(cs(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Lo.enqueueReplaceState(o,o.state,null),jo(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var n="",i=t;do n+=R(i),i=i.return;while(i);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Up=typeof WeakMap=="function"?WeakMap:Map;function Jc(e,t,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ro||(Ro=!0,Es=i),ps(e,t)},n}function Xc(e,t,n){n=Hn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){ps(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ps(e,t),typeof i!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Zc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Up;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=tf.bind(null,e,t,n),t.then(e,e))}function ed(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function td(e,t,n,i,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hn(-1,1),t.tag=2,lr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Bp=Q.ReactCurrentOwner,Vt=!1;function Ot(e,t,n,i){t.child=e===null?wc(t,null,n,i):Kr(t,e.child,n,i)}function nd(e,t,n,i,o){n=n.render;var s=t.ref;return qr(t,o),i=rs(e,t,n,i,s,o),n=is(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wn(e,t,o)):(ut&&n&&_a(t),t.flags|=1,Ot(e,t,i,o),t.child)}function rd(e,t,n,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!Is(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,id(e,t,s,i,o)):(e=Wo(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var p=s.memoizedProps;if(n=n.compare,n=n!==null?n:wi,n(p,i)&&e.ref===t.ref)return Wn(e,t,o)}return t.flags|=1,e=mr(s,i),e.ref=t.ref,e.return=t,t.child=e}function id(e,t,n,i,o){if(e!==null){var s=e.memoizedProps;if(wi(s,i)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=i=s,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Vt=!0);else return t.lanes=e.lanes,Wn(e,t,o)}return fs(e,t,n,i,o)}function od(e,t,n){var i=t.pendingProps,o=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ei,nn),nn|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(ei,nn),nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,it(ei,nn),nn|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,it(ei,nn),nn|=i;return Ot(e,t,o,n),t.child}function ad(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fs(e,t,n,i,o){var s=Wt(n)?yr:Lt.current;return s=Wr(t,s),qr(t,o),n=rs(e,t,n,i,s,o),i=is(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wn(e,t,o)):(ut&&i&&_a(t),t.flags|=1,Ot(e,t,n,o),t.child)}function sd(e,t,n,i,o){if(Wt(n)){var s=!0;go(t)}else s=!1;if(qr(t,o),t.stateNode===null)Po(e,t),Qc(t,n,i),ds(t,n,i,o),i=!0;else if(e===null){var p=t.stateNode,w=t.memoizedProps;p.props=w;var S=p.context,U=n.contextType;typeof U=="object"&&U!==null?U=dn(U):(U=Wt(n)?yr:Lt.current,U=Wr(t,U));var ee=n.getDerivedStateFromProps,re=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function";re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==i||S!==U)&&qc(t,p,i,U),sr=!1;var X=t.memoizedState;p.state=X,jo(t,i,p,o),S=t.memoizedState,w!==i||X!==S||Ht.current||sr?(typeof ee=="function"&&(cs(t,n,ee,i),S=t.memoizedState),(w=sr||Kc(t,n,w,i,X,S,U))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),p.props=i,p.state=S,p.context=U,i=w):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,Cc(e,t),w=t.memoizedProps,U=t.type===t.elementType?w:yn(t.type,w),p.props=U,re=t.pendingProps,X=p.context,S=n.contextType,typeof S=="object"&&S!==null?S=dn(S):(S=Wt(n)?yr:Lt.current,S=Wr(t,S));var xe=n.getDerivedStateFromProps;(ee=typeof xe=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==re||X!==S)&&qc(t,p,i,S),sr=!1,X=t.memoizedState,p.state=X,jo(t,i,p,o);var ke=t.memoizedState;w!==re||X!==ke||Ht.current||sr?(typeof xe=="function"&&(cs(t,n,xe,i),ke=t.memoizedState),(U=sr||Kc(t,n,U,i,X,ke,S)||!1)?(ee||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,ke,S),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,ke,S)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ke),p.props=i,p.state=ke,p.context=S,i=U):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),i=!1)}return ms(e,t,n,i,s,o)}function ms(e,t,n,i,o,s){ad(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return o&&pc(t,n,!1),Wn(e,t,s);i=t.stateNode,Bp.current=t;var w=p&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Kr(t,e.child,null,s),t.child=Kr(t,null,w,s)):Ot(e,t,w,s),t.memoizedState=i.state,o&&pc(t,n,!0),t.child}function ld(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),Ja(e,t.containerInfo)}function cd(e,t,n,i,o){return Yr(),Wa(o),t.flags|=256,Ot(e,t,n,i),t.child}var gs={dehydrated:null,treeContext:null,retryLane:0};function hs(e){return{baseLanes:e,cachePool:null,transitions:null}}function dd(e,t,n){var i=t.pendingProps,o=ft.current,s=!1,p=(t.flags&128)!==0,w;if((w=p)||(w=e!==null&&e.memoizedState===null?!1:(o&2)!==0),w?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),it(ft,o&1),e===null)return Ha(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,s?(i=t.mode,s=t.child,p={mode:"hidden",children:p},(i&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=p):s=Vo(p,i,0,null),e=Ar(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=hs(n),t.memoizedState=gs,e):vs(t,p));if(o=e.memoizedState,o!==null&&(w=o.dehydrated,w!==null))return Hp(e,t,p,i,w,o,n);if(s){s=i.fallback,p=t.mode,o=e.child,w=o.sibling;var S={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=mr(o,S),i.subtreeFlags=o.subtreeFlags&14680064),w!==null?s=mr(w,s):(s=Ar(s,p,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,p=e.child.memoizedState,p=p===null?hs(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},s.memoizedState=p,s.childLanes=e.childLanes&~n,t.memoizedState=gs,i}return s=e.child,e=s.sibling,i=mr(s,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function vs(e,t){return t=Vo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function To(e,t,n,i){return i!==null&&Wa(i),Kr(t,e.child,null,n),e=vs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hp(e,t,n,i,o,s,p){if(n)return t.flags&256?(t.flags&=-257,i=us(Error(l(422))),To(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Vo({mode:"visible",children:i.children},o,0,null),s=Ar(s,o,p,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,(t.mode&1)!==0&&Kr(t,e.child,null,p),t.child.memoizedState=hs(p),t.memoizedState=gs,s);if((t.mode&1)===0)return To(e,t,p,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var w=i.dgst;return i=w,s=Error(l(419)),i=us(s,i,void 0),To(e,t,p,i)}if(w=(p&e.childLanes)!==0,Vt||w){if(i=St,i!==null){switch(p&-p){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(i.suspendedLanes|p))!==0?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Bn(e,o),kn(i,e,o,-1))}return Ps(),i=us(Error(l(421))),To(e,t,p,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=nf.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,tn=rr(o.nextSibling),en=t,ut=!0,xn=null,e!==null&&(ln[cn++]=_n,ln[cn++]=Un,ln[cn++]=br,_n=e.id,Un=e.overflow,br=t),t=vs(t,i.children),t.flags|=4096,t)}function ud(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ka(e.return,t,n)}function xs(e,t,n,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o)}function pd(e,t,n){var i=t.pendingProps,o=i.revealOrder,s=i.tail;if(Ot(e,t,i.children,n),i=ft.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,n,t);else if(e.tag===19)ud(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(it(ft,i),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&So(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),xs(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&So(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}xs(t,!0,n,null,s);break;case"together":xs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Po(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wp(e,t,n){switch(t.tag){case 3:ld(t),Yr();break;case 5:Nc(t);break;case 1:Wt(t.type)&&go(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;it(wo,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(it(ft,ft.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?dd(e,t,n):(it(ft,ft.current&1),e=Wn(e,t,n),e!==null?e.sibling:null);it(ft,ft.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return pd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),it(ft,ft.current),i)break;return null;case 22:case 23:return t.lanes=0,od(e,t,n)}return Wn(e,t,n)}var fd,ys,md,gd;fd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ys=function(){},md=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Cr(zn.current);var s=null;switch(n){case"input":o=Ue(e,o),i=Ue(e,i),s=[];break;case"select":o=z({},o,{value:void 0}),i=z({},i,{value:void 0}),s=[];break;case"textarea":o=ht(e,o),i=ht(e,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=po)}Re(n,i);var p;n=null;for(U in o)if(!i.hasOwnProperty(U)&&o.hasOwnProperty(U)&&o[U]!=null)if(U==="style"){var w=o[U];for(p in w)w.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(u.hasOwnProperty(U)?s||(s=[]):(s=s||[]).push(U,null));for(U in i){var S=i[U];if(w=o!=null?o[U]:void 0,i.hasOwnProperty(U)&&S!==w&&(S!=null||w!=null))if(U==="style")if(w){for(p in w)!w.hasOwnProperty(p)||S&&S.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in S)S.hasOwnProperty(p)&&w[p]!==S[p]&&(n||(n={}),n[p]=S[p])}else n||(s||(s=[]),s.push(U,n)),n=S;else U==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(s=s||[]).push(U,S)):U==="children"?typeof S!="string"&&typeof S!="number"||(s=s||[]).push(U,""+S):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(u.hasOwnProperty(U)?(S!=null&&U==="onScroll"&&at("scroll",e),s||w===S||(s=[])):(s=s||[]).push(U,S))}n&&(s=s||[]).push("style",n);var U=s;(t.updateQueue=U)&&(t.flags|=4)}},gd=function(e,t,n,i){n!==i&&(t.flags|=4)};function $i(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Vp(e,t,n){var i=t.pendingProps;switch(Ua(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Wt(t.type)&&mo(),Pt(t),null;case 3:return i=t.stateNode,Jr(),st(Ht),st(Lt),es(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xn!==null&&(zs(xn),xn=null))),ys(e,t),Pt(t),null;case 5:Xa(t);var o=Cr(Li.current);if(n=t.type,e!==null&&t.stateNode!=null)md(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Pt(t),null}if(e=Cr(zn.current),yo(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[An]=t,i[Ni]=s,e=(t.mode&1)!==0,n){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(o=0;o<Ci.length;o++)at(Ci[o],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":ye(i,s),at("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},at("invalid",i);break;case"textarea":$t(i,s),at("invalid",i)}Re(n,s),o=null;for(var p in s)if(s.hasOwnProperty(p)){var w=s[p];p==="children"?typeof w=="string"?i.textContent!==w&&(s.suppressHydrationWarning!==!0&&uo(i.textContent,w,e),o=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(s.suppressHydrationWarning!==!0&&uo(i.textContent,w,e),o=["children",""+w]):u.hasOwnProperty(p)&&w!=null&&p==="onScroll"&&at("scroll",i)}switch(n){case"input":Ye(i),De(i,s,!0);break;case"textarea":Ye(i),mn(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=po)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=In(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(n,{is:i.is}):(e=p.createElement(n),n==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,n),e[An]=t,e[Ni]=i,fd(e,t,!1,!1),t.stateNode=e;e:{switch(p=pt(n,i),n){case"dialog":at("cancel",e),at("close",e),o=i;break;case"iframe":case"object":case"embed":at("load",e),o=i;break;case"video":case"audio":for(o=0;o<Ci.length;o++)at(Ci[o],e);o=i;break;case"source":at("error",e),o=i;break;case"img":case"image":case"link":at("error",e),at("load",e),o=i;break;case"details":at("toggle",e),o=i;break;case"input":ye(e,i),o=Ue(e,i),at("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=z({},i,{value:void 0}),at("invalid",e);break;case"textarea":$t(e,i),o=ht(e,i),at("invalid",e);break;default:o=i}Re(n,o),w=o;for(s in w)if(w.hasOwnProperty(s)){var S=w[s];s==="style"?Ae(e,S):s==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&rn(e,S)):s==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&on(e,S):typeof S=="number"&&on(e,""+S):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(u.hasOwnProperty(s)?S!=null&&s==="onScroll"&&at("scroll",e):S!=null&&ce(e,s,S,p))}switch(n){case"input":Ye(e),De(e,i,!1);break;case"textarea":Ye(e),mn(e);break;case"option":i.value!=null&&e.setAttribute("value",""+je(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?lt(e,!!i.multiple,s,!1):i.defaultValue!=null&&lt(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=po)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)gd(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(n=Cr(Li.current),Cr(zn.current),yo(t)){if(i=t.stateNode,n=t.memoizedProps,i[An]=t,(s=i.nodeValue!==n)&&(e=en,e!==null))switch(e.tag){case 3:uo(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uo(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[An]=t,t.stateNode=i}return Pt(t),null;case 13:if(st(ft),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&tn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)xc(),Yr(),t.flags|=98560,s=!1;else if(s=yo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(l(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(l(317));s[An]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pt(t),s=!1}else xn!==null&&(zs(xn),xn=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ft.current&1)!==0?Ct===0&&(Ct=3):Ps())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return Jr(),ys(e,t),e===null&&ji(t.stateNode.containerInfo),Pt(t),null;case 10:return Ya(t.type._context),Pt(t),null;case 17:return Wt(t.type)&&mo(),Pt(t),null;case 19:if(st(ft),s=t.memoizedState,s===null)return Pt(t),null;if(i=(t.flags&128)!==0,p=s.rendering,p===null)if(i)$i(s,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=So(e),p!==null){for(t.flags|=128,$i(s,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,p=s.alternate,p===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,e=p.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return it(ft,ft.current&1|2),t.child}e=e.sibling}s.tail!==null&&dt()>ti&&(t.flags|=128,i=!0,$i(s,!1),t.lanes=4194304)}else{if(!i)if(e=So(p),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$i(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!ut)return Pt(t),null}else 2*dt()-s.renderingStartTime>ti&&n!==1073741824&&(t.flags|=128,i=!0,$i(s,!1),t.lanes=4194304);s.isBackwards?(p.sibling=t.child,t.child=p):(n=s.last,n!==null?n.sibling=p:t.child=p,s.last=p)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=dt(),t.sibling=null,n=ft.current,it(ft,i?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return Ts(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(nn&1073741824)!==0&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(l(156,t.tag))}function Gp(e,t){switch(Ua(t),t.tag){case 1:return Wt(t.type)&&mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jr(),st(Ht),st(Lt),es(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Xa(t),null;case 13:if(st(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(ft),null;case 4:return Jr(),null;case 10:return Ya(t.type._context),null;case 22:case 23:return Ts(),null;case 24:return null;default:return null}}var Io=!1,It=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,we=null;function Zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){gt(e,t,i)}else n.current=null}function bs(e,t,n){try{n()}catch(i){gt(e,t,i)}}var hd=!1;function Kp(e,t){if(Ta=Zi,e=Kl(),ja(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(le){n=null;break e}var p=0,w=-1,S=-1,U=0,ee=0,re=e,X=null;t:for(;;){for(var xe;re!==n||o!==0&&re.nodeType!==3||(w=p+o),re!==s||i!==0&&re.nodeType!==3||(S=p+i),re.nodeType===3&&(p+=re.nodeValue.length),(xe=re.firstChild)!==null;)X=re,re=xe;for(;;){if(re===e)break t;if(X===n&&++U===o&&(w=p),X===s&&++ee===i&&(S=p),(xe=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=xe}n=w===-1||S===-1?null:{start:w,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pa={focusedElem:e,selectionRange:n},Zi=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var ke=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Se=ke.memoizedProps,xt=ke.memoizedState,D=t.stateNode,A=D.getSnapshotBeforeUpdate(t.elementType===t.type?Se:yn(t.type,Se),xt);D.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(le){gt(t,t.return,le)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return ke=hd,hd=!1,ke}function Mi(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&bs(t,n,s)}o=o.next}while(o!==i)}}function Do(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ws(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vd(e){var t=e.alternate;t!==null&&(e.alternate=null,vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[Ni],delete t[Ma],delete t[zp],delete t[Lp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xd(e){return e.tag===5||e.tag===3||e.tag===4}function yd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ks(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=po));else if(i!==4&&(e=e.child,e!==null))for(ks(e,t,n),e=e.sibling;e!==null;)ks(e,t,n),e=e.sibling}function Cs(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Cs(e,t,n),e=e.sibling;e!==null;)Cs(e,t,n),e=e.sibling}var At=null,bn=!1;function cr(e,t,n){for(n=n.child;n!==null;)bd(e,t,n),n=n.sibling}function bd(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Pr,n)}catch(w){}switch(n.tag){case 5:It||Zr(n,t);case 6:var i=At,o=bn;At=null,cr(e,t,n),At=i,bn=o,At!==null&&(bn?(e=At,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(bn?(e=At,n=n.stateNode,e.nodeType===8?$a(e.parentNode,n):e.nodeType===1&&$a(e,n),gi(e)):$a(At,n.stateNode));break;case 4:i=At,o=bn,At=n.stateNode.containerInfo,bn=!0,cr(e,t,n),At=i,bn=o;break;case 0:case 11:case 14:case 15:if(!It&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var s=o,p=s.destroy;s=s.tag,p!==void 0&&((s&2)!==0||(s&4)!==0)&&bs(n,t,p),o=o.next}while(o!==i)}cr(e,t,n);break;case 1:if(!It&&(Zr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(w){gt(n,t,w)}cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:n.mode&1?(It=(i=It)||n.memoizedState!==null,cr(e,t,n),It=i):cr(e,t,n);break;default:cr(e,t,n)}}function wd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yp),t.forEach(function(i){var o=rf.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function wn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var s=e,p=t,w=p;e:for(;w!==null;){switch(w.tag){case 5:At=w.stateNode,bn=!1;break e;case 3:At=w.stateNode.containerInfo,bn=!0;break e;case 4:At=w.stateNode.containerInfo,bn=!0;break e}w=w.return}if(At===null)throw Error(l(160));bd(s,p,o),At=null,bn=!1;var S=o.alternate;S!==null&&(S.return=null),o.return=null}catch(U){gt(o,t,U)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}function kd(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),Tn(e),i&4){try{Mi(3,e,e.return),Do(3,e)}catch(Se){gt(e,e.return,Se)}try{Mi(5,e,e.return)}catch(Se){gt(e,e.return,Se)}}break;case 1:wn(t,e),Tn(e),i&512&&n!==null&&Zr(n,n.return);break;case 5:if(wn(t,e),Tn(e),i&512&&n!==null&&Zr(n,n.return),e.flags&32){var o=e.stateNode;try{on(o,"")}catch(Se){gt(e,e.return,Se)}}if(i&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,p=n!==null?n.memoizedProps:s,w=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{w==="input"&&s.type==="radio"&&s.name!=null&&W(o,s),pt(w,p);var U=pt(w,s);for(p=0;p<S.length;p+=2){var ee=S[p],re=S[p+1];ee==="style"?Ae(o,re):ee==="dangerouslySetInnerHTML"?rn(o,re):ee==="children"?on(o,re):ce(o,ee,re,U)}switch(w){case"input":ue(o,s);break;case"textarea":jn(o,s);break;case"select":var X=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var xe=s.value;xe!=null?lt(o,!!s.multiple,xe,!1):X!==!!s.multiple&&(s.defaultValue!=null?lt(o,!!s.multiple,s.defaultValue,!0):lt(o,!!s.multiple,s.multiple?[]:"",!1))}o[Ni]=s}catch(Se){gt(e,e.return,Se)}}break;case 6:if(wn(t,e),Tn(e),i&4){if(e.stateNode===null)throw Error(l(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(Se){gt(e,e.return,Se)}}break;case 3:if(wn(t,e),Tn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{gi(t.containerInfo)}catch(Se){gt(e,e.return,Se)}break;case 4:wn(t,e),Tn(e);break;case 13:wn(t,e),Tn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ns=dt())),i&4&&wd(e);break;case 22:if(ee=n!==null&&n.memoizedState!==null,e.mode&1?(It=(U=It)||ee,wn(t,e),It=U):wn(t,e),Tn(e),i&8192){if(U=e.memoizedState!==null,(e.stateNode.isHidden=U)&&!ee&&(e.mode&1)!==0)for(we=e,ee=e.child;ee!==null;){for(re=we=ee;we!==null;){switch(X=we,xe=X.child,X.tag){case 0:case 11:case 14:case 15:Mi(4,X,X.return);break;case 1:Zr(X,X.return);var ke=X.stateNode;if(typeof ke.componentWillUnmount=="function"){i=X,n=X.return;try{t=i,ke.props=t.memoizedProps,ke.state=t.memoizedState,ke.componentWillUnmount()}catch(Se){gt(i,n,Se)}}break;case 5:Zr(X,X.return);break;case 22:if(X.memoizedState!==null){Sd(re);continue}}xe!==null?(xe.return=X,we=xe):Sd(re)}ee=ee.sibling}e:for(ee=null,re=e;;){if(re.tag===5){if(ee===null){ee=re;try{o=re.stateNode,U?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(w=re.stateNode,S=re.memoizedProps.style,p=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=K("display",p))}catch(Se){gt(e,e.return,Se)}}}else if(re.tag===6){if(ee===null)try{re.stateNode.nodeValue=U?"":re.memoizedProps}catch(Se){gt(e,e.return,Se)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;ee===re&&(ee=null),re=re.return}ee===re&&(ee=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:wn(t,e),Tn(e),i&4&&wd(e);break;case 21:break;default:wn(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xd(n)){var i=n;break e}n=n.return}throw Error(l(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(on(o,""),i.flags&=-33);var s=yd(e);Cs(e,s,o);break;case 3:case 4:var p=i.stateNode.containerInfo,w=yd(e);ks(e,w,p);break;default:throw Error(l(161))}}catch(S){gt(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qp(e,t,n){we=e,Cd(e)}function Cd(e,t,n){for(var i=(e.mode&1)!==0;we!==null;){var o=we,s=o.child;if(o.tag===22&&i){var p=o.memoizedState!==null||Io;if(!p){var w=o.alternate,S=w!==null&&w.memoizedState!==null||It;w=Io;var U=It;if(Io=p,(It=S)&&!U)for(we=o;we!==null;)p=we,S=p.child,p.tag===22&&p.memoizedState!==null?Nd(o):S!==null?(S.return=p,we=S):Nd(o);for(;s!==null;)we=s,Cd(s),s=s.sibling;we=o,Io=w,It=U}jd(e)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,we=s):jd(e)}}function jd(e){for(;we!==null;){var t=we;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:It||Do(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!It)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yn(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sc(t,s,i);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sc(t,p,n)}break;case 5:var w=t.stateNode;if(n===null&&t.flags&4){n=w;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var U=t.alternate;if(U!==null){var ee=U.memoizedState;if(ee!==null){var re=ee.dehydrated;re!==null&&gi(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}It||t.flags&512&&ws(t)}catch(X){gt(t,t.return,X)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function Sd(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function Nd(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Do(4,t)}catch(S){gt(t,n,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(S){gt(t,o,S)}}var s=t.return;try{ws(t)}catch(S){gt(t,s,S)}break;case 5:var p=t.return;try{ws(t)}catch(S){gt(t,p,S)}}}catch(S){gt(t,t.return,S)}if(t===e){we=null;break}var w=t.sibling;if(w!==null){w.return=t.return,we=w;break}we=t.return}}var qp=Math.ceil,$o=Q.ReactCurrentDispatcher,js=Q.ReactCurrentOwner,pn=Q.ReactCurrentBatchConfig,qe=0,St=null,bt=null,zt=0,nn=0,ei=ir(0),Ct=0,Ri=null,Sr=0,Mo=0,Ss=0,Oi=null,Gt=null,Ns=0,ti=1/0,Vn=null,Ro=!1,Es=null,dr=null,Oo=!1,ur=null,_o=0,_i=0,Fs=null,Uo=-1,Bo=0;function _t(){return(qe&6)!==0?dt():Uo!==-1?Uo:Uo=dt()}function pr(e){return(e.mode&1)===0?1:(qe&2)!==0&&zt!==0?zt&-zt:Pp.transition!==null?(Bo===0&&(Bo=yl()),Bo):(e=rt,e!==0||(e=window.event,e=e===void 0?16:Fl(e.type)),e)}function kn(e,t,n,i){if(50<_i)throw _i=0,Fs=null,Error(l(185));di(e,n,i),((qe&2)===0||e!==St)&&(e===St&&((qe&2)===0&&(Mo|=n),Ct===4&&fr(e,zt)),Yt(e,i),n===1&&qe===0&&(t.mode&1)===0&&(ti=dt()+500,ho&&ar()))}function Yt(e,t){var n=e.callbackNode;qi(e,t);var i=Ze(e,e===St?zt:0);if(i===0)n!==null&&vr(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&vr(n),t===1)e.tag===0?Tp(Fd.bind(null,e)):fc(Fd.bind(null,e)),Fp(function(){(qe&6)===0&&ar()}),n=null;else{switch(bl(i)){case 1:n=si;break;case 4:n=Tr;break;case 16:n=qn;break;case 536870912:n=ci;break;default:n=qn}n=$d(n,Ed.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ed(e,t){if(Uo=-1,Bo=0,(qe&6)!==0)throw Error(l(327));var n=e.callbackNode;if(ni()&&e.callbackNode!==n)return null;var i=Ze(e,e===St?zt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Ho(e,i);else{t=i;var o=qe;qe|=2;var s=zd();(St!==e||zt!==t)&&(Vn=null,ti=dt()+500,Er(e,t));do try{Zp();break}catch(w){Ad(e,w)}while(!0);Ga(),$o.current=s,qe=o,bt!==null?t=0:(St=null,zt=0,t=Ct)}if(t!==0){if(t===2&&(o=la(e),o!==0&&(i=o,t=As(e,o))),t===1)throw n=Ri,Er(e,0),fr(e,i),Yt(e,dt()),n;if(t===6)fr(e,i);else{if(o=e.current.alternate,(i&30)===0&&!Jp(o)&&(t=Ho(e,i),t===2&&(s=la(e),s!==0&&(i=s,t=As(e,s))),t===1))throw n=Ri,Er(e,0),fr(e,i),Yt(e,dt()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(l(345));case 2:Fr(e,Gt,Vn);break;case 3:if(fr(e,i),(i&130023424)===i&&(t=Ns+500-dt(),10<t)){if(Ze(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){_t(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Da(Fr.bind(null,e,Gt,Vn),t);break}Fr(e,Gt,Vn);break;case 4:if(fr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var p=31-Xt(i);s=1<<p,p=t[p],p>o&&(o=p),i&=~s}if(i=o,i=dt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qp(i/1960))-i,10<i){e.timeoutHandle=Da(Fr.bind(null,e,Gt,Vn),i);break}Fr(e,Gt,Vn);break;case 5:Fr(e,Gt,Vn);break;default:throw Error(l(329))}}}return Yt(e,dt()),e.callbackNode===n?Ed.bind(null,e):null}function As(e,t){var n=Oi;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=Ho(e,t),e!==2&&(t=Gt,Gt=n,t!==null&&zs(t)),e}function zs(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function Jp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!vn(s(),o))return!1}catch(p){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~Ss,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),i=1<<n;e[n]=-1,t&=~i}}function Fd(e){if((qe&6)!==0)throw Error(l(327));ni();var t=Ze(e,0);if((t&1)===0)return Yt(e,dt()),null;var n=Ho(e,t);if(e.tag!==0&&n===2){var i=la(e);i!==0&&(t=i,n=As(e,i))}if(n===1)throw n=Ri,Er(e,0),fr(e,t),Yt(e,dt()),n;if(n===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,Gt,Vn),Yt(e,dt()),null}function Ls(e,t){var n=qe;qe|=1;try{return e(t)}finally{qe=n,qe===0&&(ti=dt()+500,ho&&ar())}}function Nr(e){ur!==null&&ur.tag===0&&(qe&6)===0&&ni();var t=qe;qe|=1;var n=pn.transition,i=rt;try{if(pn.transition=null,rt=1,e)return e()}finally{rt=i,pn.transition=n,qe=t,(qe&6)===0&&ar()}}function Ts(){nn=ei.current,st(ei)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ep(n)),bt!==null)for(n=bt.return;n!==null;){var i=n;switch(Ua(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&mo();break;case 3:Jr(),st(Ht),st(Lt),es();break;case 5:Xa(i);break;case 4:Jr();break;case 13:st(ft);break;case 19:st(ft);break;case 10:Ya(i.type._context);break;case 22:case 23:Ts()}n=n.return}if(St=e,bt=e=mr(e.current,null),zt=nn=t,Ct=0,Ri=null,Ss=Mo=Sr=0,Gt=Oi=null,kr!==null){for(t=0;t<kr.length;t++)if(n=kr[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,s=n.pending;if(s!==null){var p=s.next;s.next=o,i.next=p}n.pending=i}kr=null}return e}function Ad(e,t){do{var n=bt;try{if(Ga(),No.current=zo,Eo){for(var i=mt.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Eo=!1}if(jr=0,jt=kt=mt=null,Ti=!1,Pi=0,js.current=null,n===null||n.return===null){Ct=1,Ri=t,bt=null;break}e:{var s=e,p=n.return,w=n,S=t;if(t=zt,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var U=S,ee=w,re=ee.tag;if((ee.mode&1)===0&&(re===0||re===11||re===15)){var X=ee.alternate;X?(ee.updateQueue=X.updateQueue,ee.memoizedState=X.memoizedState,ee.lanes=X.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var xe=ed(p);if(xe!==null){xe.flags&=-257,td(xe,p,w,s,t),xe.mode&1&&Zc(s,U,t),t=xe,S=U;var ke=t.updateQueue;if(ke===null){var Se=new Set;Se.add(S),t.updateQueue=Se}else ke.add(S);break e}else{if((t&1)===0){Zc(s,U,t),Ps();break e}S=Error(l(426))}}else if(ut&&w.mode&1){var xt=ed(p);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),td(xt,p,w,s,t),Wa(Xr(S,w));break e}}s=S=Xr(S,w),Ct!==4&&(Ct=2),Oi===null?Oi=[s]:Oi.push(s),s=p;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var D=Jc(s,S,t);jc(s,D);break e;case 1:w=S;var A=s.type,M=s.stateNode;if((s.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(dr===null||!dr.has(M)))){s.flags|=65536,t&=-t,s.lanes|=t;var le=Xc(s,w,t);jc(s,le);break e}}s=s.return}while(s!==null)}Td(n)}catch(Ee){t=Ee,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function zd(){var e=$o.current;return $o.current=zo,e===null?zo:e}function Ps(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),St===null||(Sr&268435455)===0&&(Mo&268435455)===0||fr(St,zt)}function Ho(e,t){var n=qe;qe|=2;var i=zd();(St!==e||zt!==t)&&(Vn=null,Er(e,t));do try{Xp();break}catch(o){Ad(e,o)}while(!0);if(Ga(),qe=n,$o.current=i,bt!==null)throw Error(l(261));return St=null,zt=0,Ct}function Xp(){for(;bt!==null;)Ld(bt)}function Zp(){for(;bt!==null&&!Gi();)Ld(bt)}function Ld(e){var t=Dd(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?Td(e):bt=t,js.current=null}function Td(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Vp(n,t,nn),n!==null){bt=n;return}}else{if(n=Gp(n,t),n!==null){n.flags&=32767,bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,bt=null;return}}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);Ct===0&&(Ct=5)}function Fr(e,t,n){var i=rt,o=pn.transition;try{pn.transition=null,rt=1,ef(e,t,n,i)}finally{pn.transition=o,rt=i}return null}function ef(e,t,n,i){do ni();while(ur!==null);if((qe&6)!==0)throw Error(l(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Iu(e,s),e===St&&(bt=St=null,zt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Oo||(Oo=!0,$d(qn,function(){return ni(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=pn.transition,pn.transition=null;var p=rt;rt=1;var w=qe;qe|=4,js.current=null,Kp(e,n),kd(n,e),bp(Pa),Zi=!!Ta,Pa=Ta=null,e.current=n,Qp(n),sa(),qe=w,rt=p,pn.transition=s}else e.current=n;if(Oo&&(Oo=!1,ur=e,_o=o),s=e.pendingLanes,s===0&&(dr=null),Ir(n.stateNode),Yt(e,dt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ro)throw Ro=!1,e=Es,Es=null,e;return(_o&1)!==0&&e.tag!==0&&ni(),s=e.pendingLanes,(s&1)!==0?e===Fs?_i++:(_i=0,Fs=e):_i=0,ar(),null}function ni(){if(ur!==null){var e=bl(_o),t=pn.transition,n=rt;try{if(pn.transition=null,rt=16>e?16:e,ur===null)var i=!1;else{if(e=ur,ur=null,_o=0,(qe&6)!==0)throw Error(l(331));var o=qe;for(qe|=4,we=e.current;we!==null;){var s=we,p=s.child;if((we.flags&16)!==0){var w=s.deletions;if(w!==null){for(var S=0;S<w.length;S++){var U=w[S];for(we=U;we!==null;){var ee=we;switch(ee.tag){case 0:case 11:case 15:Mi(8,ee,s)}var re=ee.child;if(re!==null)re.return=ee,we=re;else for(;we!==null;){ee=we;var X=ee.sibling,xe=ee.return;if(vd(ee),ee===U){we=null;break}if(X!==null){X.return=xe,we=X;break}we=xe}}}var ke=s.alternate;if(ke!==null){var Se=ke.child;if(Se!==null){ke.child=null;do{var xt=Se.sibling;Se.sibling=null,Se=xt}while(Se!==null)}}we=s}}if((s.subtreeFlags&2064)!==0&&p!==null)p.return=s,we=p;else e:for(;we!==null;){if(s=we,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Mi(9,s,s.return)}var D=s.sibling;if(D!==null){D.return=s.return,we=D;break e}we=s.return}}var A=e.current;for(we=A;we!==null;){p=we;var M=p.child;if((p.subtreeFlags&2064)!==0&&M!==null)M.return=p,we=M;else e:for(p=A;we!==null;){if(w=we,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Do(9,w)}}catch(Ee){gt(w,w.return,Ee)}if(w===p){we=null;break e}var le=w.sibling;if(le!==null){le.return=w.return,we=le;break e}we=w.return}}if(qe=o,ar(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Pr,e)}catch(Ee){}i=!0}return i}finally{rt=n,pn.transition=t}}return!1}function Pd(e,t,n){t=Xr(n,t),t=Jc(e,t,1),e=lr(e,t,1),t=_t(),e!==null&&(di(e,1,t),Yt(e,t))}function gt(e,t,n){if(e.tag===3)Pd(e,e,n);else for(;t!==null;){if(t.tag===3){Pd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(dr===null||!dr.has(i))){e=Xr(n,e),e=Xc(t,e,1),t=lr(t,e,1),e=_t(),t!==null&&(di(t,1,e),Yt(t,e));break}}t=t.return}}function tf(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(zt&n)===n&&(Ct===4||Ct===3&&(zt&130023424)===zt&&500>dt()-Ns?Er(e,0):Ss|=n),Yt(e,t)}function Id(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ne,Ne<<=1,(Ne&130023424)===0&&(Ne=4194304)));var n=_t();e=Bn(e,t),e!==null&&(di(e,t,n),Yt(e,n))}function nf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Id(e,n)}function rf(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(l(314))}i!==null&&i.delete(t),Id(e,n)}var Dd;Dd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Vt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Vt=!1,Wp(e,t,n);Vt=(e.flags&131072)!==0}else Vt=!1,ut&&(t.flags&1048576)!==0&&mc(t,xo,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Po(e,t),e=t.pendingProps;var o=Wr(t,Lt.current);qr(t,n),o=rs(null,t,i,e,o,n);var s=is();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(i)?(s=!0,go(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,qa(t),o.updater=Lo,t.stateNode=o,o._reactInternals=t,ds(t,i,e,n),t=ms(null,t,i,!0,s,n)):(t.tag=0,ut&&s&&_a(t),Ot(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Po(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=af(i),e=yn(i,e),o){case 0:t=fs(null,t,i,e,n);break e;case 1:t=sd(null,t,i,e,n);break e;case 11:t=nd(null,t,i,e,n);break e;case 14:t=rd(null,t,i,yn(i.type,e),n);break e}throw Error(l(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:yn(i,o),fs(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:yn(i,o),sd(e,t,i,o,n);case 3:e:{if(ld(t),e===null)throw Error(l(387));i=t.pendingProps,s=t.memoizedState,o=s.element,Cc(e,t),jo(t,i,null,n);var p=t.memoizedState;if(i=p.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Xr(Error(l(423)),t),t=cd(e,t,i,n,o);break e}else if(i!==o){o=Xr(Error(l(424)),t),t=cd(e,t,i,n,o);break e}else for(tn=rr(t.stateNode.containerInfo.firstChild),en=t,ut=!0,xn=null,n=wc(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),i===o){t=Wn(e,t,n);break e}Ot(e,t,i,n)}t=t.child}return t;case 5:return Nc(t),e===null&&Ha(t),i=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,p=o.children,Ia(i,o)?p=null:s!==null&&Ia(i,s)&&(t.flags|=32),ad(e,t),Ot(e,t,p,n),t.child;case 6:return e===null&&Ha(t),null;case 13:return dd(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Kr(t,null,i,n):Ot(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:yn(i,o),nd(e,t,i,o,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,s=t.memoizedProps,p=o.value,it(wo,i._currentValue),i._currentValue=p,s!==null)if(vn(s.value,p)){if(s.children===o.children&&!Ht.current){t=Wn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var w=s.dependencies;if(w!==null){p=s.child;for(var S=w.firstContext;S!==null;){if(S.context===i){if(s.tag===1){S=Hn(-1,n&-n),S.tag=2;var U=s.updateQueue;if(U!==null){U=U.shared;var ee=U.pending;ee===null?S.next=S:(S.next=ee.next,ee.next=S),U.pending=S}}s.lanes|=n,S=s.alternate,S!==null&&(S.lanes|=n),Ka(s.return,n,t),w.lanes|=n;break}S=S.next}}else if(s.tag===10)p=s.type===t.type?null:s.child;else if(s.tag===18){if(p=s.return,p===null)throw Error(l(341));p.lanes|=n,w=p.alternate,w!==null&&(w.lanes|=n),Ka(p,n,t),p=s.sibling}else p=s.child;if(p!==null)p.return=s;else for(p=s;p!==null;){if(p===t){p=null;break}if(s=p.sibling,s!==null){s.return=p.return,p=s;break}p=p.return}s=p}Ot(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,qr(t,n),o=dn(o),i=i(o),t.flags|=1,Ot(e,t,i,n),t.child;case 14:return i=t.type,o=yn(i,t.pendingProps),o=yn(i.type,o),rd(e,t,i,o,n);case 15:return id(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:yn(i,o),Po(e,t),t.tag=1,Wt(i)?(e=!0,go(t)):e=!1,qr(t,n),Qc(t,i,o),ds(t,i,o,n),ms(null,t,i,!0,e,n);case 19:return pd(e,t,n);case 22:return od(e,t,n)}throw Error(l(156,t.tag))};function $d(e,t){return hr(e,t)}function of(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,i){return new of(e,t,n,i)}function Is(e){return e=e.prototype,!(!e||!e.isReactComponent)}function af(e){if(typeof e=="function")return Is(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ze)return 11;if(e===me)return 14}return 2}function mr(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wo(e,t,n,i,o,s){var p=2;if(i=e,typeof e=="function")Is(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ie:return Ar(n.children,o,s,t);case se:p=8,o|=8;break;case fe:return e=fn(12,n,t,o|2),e.elementType=fe,e.lanes=s,e;case Z:return e=fn(13,n,t,o),e.elementType=Z,e.lanes=s,e;case Y:return e=fn(19,n,t,o),e.elementType=Y,e.lanes=s,e;case k:return Vo(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:p=10;break e;case Ie:p=9;break e;case ze:p=11;break e;case me:p=14;break e;case de:p=16,i=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return t=fn(p,n,t,o),t.elementType=e,t.type=i,t.lanes=s,t}function Ar(e,t,n,i){return e=fn(7,e,i,t),e.lanes=n,e}function Vo(e,t,n,i){return e=fn(22,e,i,t),e.elementType=k,e.lanes=n,e.stateNode={isHidden:!1},e}function Ds(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function $s(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sf(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ca(0),this.expirationTimes=ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ms(e,t,n,i,o,s,p,w,S){return e=new sf(e,t,n,w,S),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qa(s),e}function lf(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Md(e){if(!e)return or;e=e._reactInternals;e:{if(ge(e)!==e||e.tag!==1)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(l(171))}if(e.tag===1){var n=e.type;if(Wt(n))return uc(e,n,t)}return t}function Rd(e,t,n,i,o,s,p,w,S){return e=Ms(n,i,!0,e,o,s,p,w,S),e.context=Md(null),n=e.current,i=_t(),o=pr(n),s=Hn(i,o),s.callback=t!=null?t:null,lr(n,s,o),e.current.lanes=o,di(e,o,i),Yt(e,i),e}function Go(e,t,n,i){var o=t.current,s=_t(),p=pr(o);return n=Md(n),t.context===null?t.context=n:t.pendingContext=n,t=Hn(s,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=lr(o,t,p),e!==null&&(kn(e,o,p,s),Co(e,o,p)),p}function Yo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rs(e,t){Od(e,t),(e=e.alternate)&&Od(e,t)}function cf(){return null}var _d=typeof reportError=="function"?reportError:function(e){console.error(e)};function Os(e){this._internalRoot=e}Ko.prototype.render=Os.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));Go(e,t,null,null)},Ko.prototype.unmount=Os.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Go(null,e,null,null)}),t[Rn]=null}};function Ko(e){this._internalRoot=e}Ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<er.length&&t!==0&&t<er[n].priority;n++);er.splice(n,0,e),n===0&&Nl(e)}};function _s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ud(){}function df(e,t,n,i,o){if(o){if(typeof i=="function"){var s=i;i=function(){var U=Yo(p);s.call(U)}}var p=Rd(t,i,e,0,null,!1,!1,"",Ud);return e._reactRootContainer=p,e[Rn]=p.current,ji(e.nodeType===8?e.parentNode:e),Nr(),p}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var w=i;i=function(){var U=Yo(S);w.call(U)}}var S=Ms(e,0,!1,null,null,!1,!1,"",Ud);return e._reactRootContainer=S,e[Rn]=S.current,ji(e.nodeType===8?e.parentNode:e),Nr(function(){Go(t,S,n,i)}),S}function qo(e,t,n,i,o){var s=n._reactRootContainer;if(s){var p=s;if(typeof o=="function"){var w=o;o=function(){var S=Yo(p);w.call(S)}}Go(t,p,e,o)}else p=df(n,t,e,o,i);return Yo(p)}wl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=et(t.pendingLanes);n!==0&&(da(t,n|1),Yt(t,dt()),(qe&6)===0&&(ti=dt()+500,ar()))}break;case 13:Nr(function(){var i=Bn(e,1);if(i!==null){var o=_t();kn(i,e,1,o)}}),Rs(e,1)}},ua=function(e){if(e.tag===13){var t=Bn(e,134217728);if(t!==null){var n=_t();kn(t,e,134217728,n)}Rs(e,134217728)}},kl=function(e){if(e.tag===13){var t=pr(e),n=Bn(e,t);if(n!==null){var i=_t();kn(n,e,t,i)}Rs(e,t)}},Cl=function(){return rt},jl=function(e,t){var n=rt;try{return rt=e,t()}finally{rt=n}},ct=function(e,t,n){switch(t){case"input":if(ue(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=fo(i);if(!o)throw Error(l(90));te(i),ue(i,o)}}}break;case"textarea":jn(e,n);break;case"select":t=n.value,t!=null&&lt(e,!!n.multiple,t,!1)}},Dn=Ls,an=Nr;var uf={usingClientEntryPoint:!1,Events:[Ei,Br,fo,Et,Rt,Ls]},Ui={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pf={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yt(e),e===null?null:e.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance||cf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{Pr=Jo.inject(pf),Bt=Jo}catch(e){}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uf,Kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_s(t))throw Error(l(200));return lf(e,t,null,n)},Kt.createRoot=function(e,t){if(!_s(e))throw Error(l(299));var n=!1,i="",o=_d;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ms(e,1,!1,null,null,n,!1,i,o),e[Rn]=t.current,ji(e.nodeType===8?e.parentNode:e),new Os(t)},Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=yt(t),e=e===null?null:e.stateNode,e},Kt.flushSync=function(e){return Nr(e)},Kt.hydrate=function(e,t,n){if(!Qo(t))throw Error(l(200));return qo(null,e,t,!0,n)},Kt.hydrateRoot=function(e,t,n){if(!_s(e))throw Error(l(405));var i=n!=null&&n.hydratedSources||null,o=!1,s="",p=_d;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=Rd(t,null,e,1,n!=null?n:null,o,!1,s,p),e[Rn]=t.current,ji(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ko(t)},Kt.render=function(e,t,n){if(!Qo(t))throw Error(l(200));return qo(null,e,t,!1,n)},Kt.unmountComponentAtNode=function(e){if(!Qo(e))throw Error(l(40));return e._reactRootContainer?(Nr(function(){qo(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1},Kt.unstable_batchedUpdates=Ls,Kt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Qo(n))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return qo(e,t,n,!1,i)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var qd;function Nf(){if(qd)return Ws.exports;qd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(a){console.error(a)}}return c(),Ws.exports=Sf(),Ws.exports}var Jd;function Ef(){if(Jd)return Xo;Jd=1;var c=Nf();return Xo.createRoot=c.createRoot,Xo.hydrateRoot=c.hydrateRoot,Xo}var Ff=Ef();const Af="modulepreload",zf=function(c){return"/"+c},Xd={},gl=function(a,l,d){let u=Promise.resolve();if(l&&l.length>0){let x=function(j){return Promise.all(j.map($=>Promise.resolve($).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),C=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));u=x(l.map(j=>{if(j=zf(j),j in Xd)return;Xd[j]=!0;const $=j.endsWith(".css"),T=$?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${T}`))return;const O=document.createElement("link");if(O.rel=$?"stylesheet":Af,$||(O.as="script"),O.crossOrigin="",O.href=j,C&&O.setAttribute("nonce",C),document.head.appendChild(O),$)return new Promise((J,G)=>{O.addEventListener("load",J),O.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${j}`)))})}))}function m(x){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=x,window.dispatchEvent(v),!v.defaultPrevented)throw x}return u.then(x=>{for(const v of x||[])v.status==="rejected"&&m(v.reason);return a().catch(m)})};var ku={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zd=Qn.createContext&&Qn.createContext(ku),Lf=["attr","size","title"];function Tf(c,a){if(c==null)return{};var l=Pf(c,a),d,u;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(c);for(u=0;u<m.length;u++)d=m[u],!(a.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(c,d)&&(l[d]=c[d])}return l}function Pf(c,a){if(c==null)return{};var l={};for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){if(a.indexOf(d)>=0)continue;l[d]=c[d]}return l}function ra(){return ra=Object.assign?Object.assign.bind():function(c){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(c[d]=l[d])}return c},ra.apply(this,arguments)}function eu(c,a){var l=Object.keys(c);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(c);a&&(d=d.filter(function(u){return Object.getOwnPropertyDescriptor(c,u).enumerable})),l.push.apply(l,d)}return l}function ia(c){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?eu(Object(l),!0).forEach(function(d){If(c,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(l)):eu(Object(l)).forEach(function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(l,d))})}return c}function If(c,a,l){return a=Df(a),a in c?Object.defineProperty(c,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[a]=l,c}function Df(c){var a=$f(c,"string");return typeof a=="symbol"?a:a+""}function $f(c,a){if(typeof c!="object"||!c)return c;var l=c[Symbol.toPrimitive];if(l!==void 0){var d=l.call(c,a);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(c)}function Cu(c){return c&&c.map((a,l)=>Qn.createElement(a.tag,ia({key:l},a.attr),Cu(a.child)))}function _e(c){return a=>Qn.createElement(Mf,ra({attr:ia({},c.attr)},a),Cu(c.child))}function Mf(c){var a=l=>{var{attr:d,size:u,title:m}=c,x=Tf(c,Lf),v=u||l.size||"1em",C;return l.className&&(C=l.className),c.className&&(C=(C?C+" ":"")+c.className),Qn.createElement("svg",ra({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,d,x,{className:C,style:ia(ia({color:c.color||l.color},l.style),c.style),height:v,width:v,xmlns:"http://www.w3.org/2000/svg"}),m&&Qn.createElement("title",null,m),c.children)};return Zd!==void 0?Qn.createElement(Zd.Consumer,null,l=>a(l)):a(ku)}function tu(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(c)}function ju(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(c)}function Dt(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(c)}function Su(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(c)}function Nu(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(c)}function Eu(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(c)}function Vi(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(c)}function Fu(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(c)}function al(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(c)}function zr(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(c)}function Rf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(c)}function Of(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(c)}function na(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"},child:[]},{tag:"path",attr:{d:"M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"},child:[]},{tag:"path",attr:{d:"M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"},child:[]},{tag:"path",attr:{d:"M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"},child:[]},{tag:"path",attr:{d:"M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"},child:[]}]})(c)}function hl(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(c)}function _f(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(c)}function nu(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(c)}function sl(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(c)}function ii(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(c)}function Uf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(c)}function ll(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(c)}function ri(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(c)}function Bf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(c)}function Hf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(c)}function Wf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},child:[]}]})(c)}function Vf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(c)}function Gf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(c)}function Yf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(c)}function Kf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(c)}function ru(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(c)}function Gn(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(c)}function cl(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(c)}function dl(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(c)}function Qf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(c)}function oa(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(c)}function ul(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]}]})(c)}function qf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(c)}function Jf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(c)}function Xf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(c)}function pl(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(c)}function Pn(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(c)}function Qt(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(c)}function Zf(c){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(c)}const em=()=>r.jsx("footer",{className:"microsoft-footer",children:r.jsx("p",{className:"footer-text",children:"© 2025 Designetica by Cloud Experience Studio - Microsoft"})}),Au=({onImageUpload:c,onAnalyzeImage:a,isAnalyzing:l=!1,className:d=""})=>{const[u,m]=g.useState(!1),[x,v]=g.useState(null),[C,j]=g.useState(""),$=g.useCallback(_=>{_.preventDefault(),m(!0)},[]),T=g.useCallback(_=>{_.preventDefault(),m(!1)},[]),O=g.useCallback(_=>{_.preventDefault(),m(!1);const ce=Array.from(_.dataTransfer.files).find(Q=>Q.type.startsWith("image/"));ce&&G(ce)},[]),J=g.useCallback(_=>{var ce;const H=(ce=_.target.files)==null?void 0:ce[0];H&&H.type.startsWith("image/")&&G(H)},[]),G=g.useCallback(_=>{const H=new FileReader;H.onload=ce=>{var I;const Q=(I=ce.target)==null?void 0:I.result;v(Q),j(_.name),c(_)},H.readAsDataURL(_)},[c]),y=g.useCallback(()=>{x&&C&&a&&a(x,C)},[x,C,a]),P=g.useCallback(()=>{v(null),j("")},[]);return x?r.jsxs("div",{className:`image-preview-zone ${d}`,children:[r.jsxs("div",{className:"preview-header",children:[r.jsxs("span",{className:"preview-title",children:[r.jsx(ii,{}),C]}),r.jsx("button",{className:"clear-btn",onClick:P,"aria-label":"Clear image",children:r.jsx(Qt,{})})]}),r.jsx("div",{className:"preview-image-container",children:r.jsx("img",{src:x,alt:"Upload preview",className:"preview-image"})}),r.jsx("div",{className:"preview-actions",children:r.jsx("button",{className:"analyze-btn primary",onClick:y,disabled:l,"aria-label":"Analyze image and generate wireframe",children:l?r.jsxs(r.Fragment,{children:[r.jsx(Bf,{className:"spinning"}),"Analyzing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Pn,{}),"Generate Wireframe"]})})})]}):r.jsx("div",{className:`image-upload-zone ${u?"drag-over":""} ${d}`,onDragOver:$,onDragLeave:T,onDrop:O,children:r.jsxs("div",{className:"upload-content",children:[r.jsx(ii,{className:"upload-icon"}),r.jsx("h3",{children:"Drop UI image here"}),r.jsx("p",{children:"Upload a screenshot, mockup, or sketch to generate a wireframe"}),r.jsxs("label",{className:"upload-btn",children:[r.jsx(Pn,{}),"Choose Image",r.jsx("input",{type:"file",accept:"image/*",onChange:J,className:"hidden-input"})]}),r.jsx("div",{className:"supported-formats",children:r.jsx("small",{children:"Supports PNG, JPG, WebP, SVG"})})]})})},tm=()=>null,nm=({isOpen:c,onClose:a,onConfirm:l,itemName:d,itemType:u})=>{if(g.useEffect(()=>{const x=v=>{v.key==="Escape"&&a()};if(c)return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[c,a]),!c)return null;const m=()=>{l(),a()};return r.jsx("div",{className:"modal-overlay",onClick:x=>x.target===x.currentTarget&&a(),children:r.jsxs("div",{className:"modal-content modal-small",children:[r.jsxs("div",{className:"modal-header",children:[r.jsxs("h2",{children:[r.jsx(ju,{size:20,className:"warning-icon"}),"Delete ",u==="favorite"?"Favorite":"Recent Project"]}),r.jsx("button",{className:"close-button",onClick:a,"aria-label":"Close dialog",title:"Close",children:r.jsx(Qt,{size:20})})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("p",{children:["Are you sure you want to delete ",r.jsxs("strong",{children:['"',d,'"']})," from your ",u==="favorite"?"favorites":"recent projects","?"]}),r.jsx("p",{className:"delete-warning",children:"This action cannot be undone."})]}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{className:"modal-button modal-button-secondary",onClick:a,children:"Cancel"}),r.jsxs("button",{className:"modal-button modal-button-danger",onClick:m,children:[r.jsx(pl,{size:16}),"Delete"]})]})]})})};class rm{constructor(){Bi(this,"accessToken","");Bi(this,"baseUrl","https://api.figma.com/v1")}setAccessToken(a){this.accessToken=a}makeRequest(a){return Fe(this,null,function*(){if(!this.accessToken)throw new Error("Figma access token not set. Please authenticate first.");const l=yield fetch(`${this.baseUrl}${a}`,{headers:{"X-Figma-Token":this.accessToken,"Content-Type":"application/json"}});if(!l.ok)throw l.status===401?new Error("Invalid Figma access token. Please check your credentials."):l.status===403?new Error("Access denied. Please check file permissions in Figma."):l.status===404?new Error("Figma file not found. Please check the file URL or ID."):new Error(`Figma API error: ${l.status} ${l.statusText}`);return l.json()})}getTeamProjects(a){return Fe(this,null,function*(){return this.makeRequest(`/teams/${a}/projects`)})}getProjectFiles(a){return Fe(this,null,function*(){return this.makeRequest(`/projects/${a}/files`)})}getFile(a){return Fe(this,null,function*(){const l=yield this.makeRequest(`/files/${a}`);return{document:l.document,components:l.components||{},styles:l.styles||{},name:l.name,lastModified:l.lastModified,thumbnailUrl:l.thumbnailUrl||"",version:l.version}})}getFileImages(a,l){return Fe(this,null,function*(){const d=l.join(",");return(yield this.makeRequest(`/images/${a}?ids=${d}&format=png&scale=2`)).images||{}})}extractFrames(a){const l=[],d=u=>{(u.type==="FRAME"||u.type==="COMPONENT")&&l.push({id:u.id,name:u.name,type:u.type,children:u.children,absoluteBoundingBox:u.absoluteBoundingBox,fills:u.fills,strokes:u.strokes,strokeWeight:u.strokeWeight,cornerRadius:u.cornerRadius}),u.children&&u.children.forEach(d)};return a.children.forEach(d),l}convertFramesToWireframe(a,l){return Fe(this,null,function*(){try{const d=a.map(x=>x.id),u=yield this.getFileImages(l,d);let m=`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Figma Import - Wireframe</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        .figma-import-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .figma-header {
            background: #1e1e1e;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .figma-frames {
            padding: 20px;
            display: grid;
            gap: 20px;
        }
        .figma-frame {
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            overflow: hidden;
            background: white;
        }
        .frame-header {
            background: #f8f9fa;
            padding: 12px 16px;
            border-bottom: 1px solid #e1e1e1;
            font-weight: 600;
            color: #333;
        }
        .frame-content {
            padding: 16px;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .frame-image {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .frame-placeholder {
            background: #f1f3f4;
            border: 2px dashed #dadce0;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            color: #5f6368;
        }
        .frame-info {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="figma-import-container">
        <div class="figma-header">
            <h1>🎨 Imported from Figma</h1>
            <p>Wireframe generated from Figma frames</p>
        </div>
        <div class="figma-frames">
`;return a.forEach((x,v)=>{const C=u[x.id],j=x.absoluteBoundingBox;m+=`
            <div class="figma-frame">
                <div class="frame-header">
                    ${x.name||`Frame ${v+1}`}
                </div>
                <div class="frame-content">
                    ${C?`<img src="${C}" alt="${x.name}" class="frame-image" />`:`<div class="frame-placeholder">
                         <p>Frame: ${x.name}</p>
                         <p>Type: ${x.type}</p>
                         ${j?`<p>Size: ${Math.round(j.width)} × ${Math.round(j.height)}</p>`:""}
                       </div>`}
                    ${j?`<div class="frame-info">${Math.round(j.width)} × ${Math.round(j.height)}</div>`:""}
                </div>
            </div>
        `}),m+=`
        </div>
    </div>
</body>
</html>
`,m}catch(d){throw console.error("Error converting frames to wireframe:",d),new Error("Failed to convert Figma frames to wireframe")}})}parseFileUrl(a){const l=a.match(/figma\.com\/file\/([a-zA-Z0-9]+)/);return l?l[1]:null}validateToken(){return Fe(this,null,function*(){try{return yield this.makeRequest("/me"),!0}catch(a){return!1}})}}const Cn=new rm;class im{extractTokensFromFigma(a,l){const d={colors:[],typography:[],spacing:[],shadows:[],borderRadius:[],metadata:{extractedFrom:"Figma",extractedAt:new Date,figmaFileId:l,version:"1.0.0"}};return a.styles&&this.extractFromStyles(a.styles,d),a.document&&this.extractFromNodes(a.document,d),this.generateSemanticTokens(d),this.processTokens(d),d}extractFromStyles(a,l){Object.entries(a).forEach(([d,u])=>{const m=u;m.styleType==="FILL"?this.extractColorFromStyle(d,m,l.colors):m.styleType==="TEXT"?this.extractTypographyFromStyle(d,m,l.typography):m.styleType==="EFFECT"&&this.extractShadowFromStyle(d,m,l.shadows)})}extractFromNodes(a,l){a.fills&&Array.isArray(a.fills)&&a.fills.forEach((d,u)=>{d.type==="SOLID"&&d.color&&this.extractColorFromFill(a.id,d,u,l.colors)}),a.type==="TEXT"&&a.style&&this.extractTypographyFromNode(a.id,a.style,l.typography),a.effects&&Array.isArray(a.effects)&&a.effects.forEach((d,u)=>{(d.type==="DROP_SHADOW"||d.type==="INNER_SHADOW")&&this.extractShadowFromEffect(a.id,d,u,l.shadows)}),a.cornerRadius!==void 0&&this.extractBorderRadius(a.id,a.cornerRadius,l.borderRadius),(a.paddingLeft!==void 0||a.itemSpacing!==void 0)&&this.extractSpacing(a.id,a,l.spacing),a.children&&Array.isArray(a.children)&&a.children.forEach(d=>{this.extractFromNodes(d,l)})}extractColorFromStyle(a,l,d){var x;const u=(x=l.definition)==null?void 0:x.fills;if(!u||!Array.isArray(u)||u.length===0)return;const m=u[0];if(m.type==="SOLID"&&m.color){const v=this.figmaColorToToken(a,m.color,l.name);v&&(v.figmaReference=a,d.push(v))}}extractColorFromFill(a,l,d,u){if(l.type==="SOLID"&&l.color){const m=this.figmaColorToToken(`${a}-fill-${d}`,l.color);m&&(m.figmaReference=a,u.push(m))}}figmaColorToToken(a,l,d){const{r:u,g:m,b:x,a:v=1}=l,C={r:Math.round(u*255),g:Math.round(m*255),b:Math.round(x*255),a:v<1?v:void 0},j=`#${C.r.toString(16).padStart(2,"0")}${C.g.toString(16).padStart(2,"0")}${C.b.toString(16).padStart(2,"0")}`,$=v<1?`rgba(${C.r}, ${C.g}, ${C.b}, ${v})`:j,T=this.determineColorUsage(C,d);return{id:a,name:d||this.generateColorName(C),value:$,rgb:C,hex:j,usage:T}}determineColorUsage(a,l){if(l){const u=l.toLowerCase();if(u.includes("primary"))return"primary";if(u.includes("secondary"))return"secondary";if(u.includes("accent"))return"accent";if(u.includes("error")||u.includes("danger")||u.includes("success")||u.includes("warning"))return"semantic"}const d=(.299*a.r+.587*a.g+.114*a.b)/255;return d>.8||d<.2?"neutral":"primary"}generateColorName(a){const{r:l,g:d,b:u}=a;if(l>d&&l>u)return"Red";if(d>l&&d>u)return"Green";if(u>l&&u>d)return"Blue";if(l===d&&l>u)return"Yellow";if(l===u&&l>d)return"Magenta";if(d===u&&d>l)return"Cyan";const m=(.299*l+.587*d+.114*u)/255;return m>.9?"White":m<.1?"Black":m>.7?"Light Gray":m<.3?"Dark Gray":"Gray"}extractTypographyFromStyle(a,l,d){const u=l.definition;if(!u)return;const m={id:a,name:l.name||"Typography",fontFamily:u.fontFamily||"inherit",fontSize:u.fontSize||16,lineHeight:u.lineHeightPx||u.lineHeight||1.5,fontWeight:this.figmaFontWeightToNumber(u.fontWeight),letterSpacing:u.letterSpacing,figmaReference:a,usage:this.determineTypographyUsage(l.name,u.fontSize)};d.push(m)}extractTypographyFromNode(a,l,d){const u={id:`${a}-text`,name:"Text Style",fontFamily:l.fontFamily||"inherit",fontSize:l.fontSize||16,lineHeight:l.lineHeightPx||l.lineHeight||1.5,fontWeight:this.figmaFontWeightToNumber(l.fontWeight),letterSpacing:l.letterSpacing,figmaReference:a,usage:this.determineTypographyUsage("",l.fontSize)};d.push(u)}figmaFontWeightToNumber(a){return typeof a=="number"?a:{Thin:100,ExtraLight:200,Light:300,Regular:400,Medium:500,SemiBold:600,Bold:700,ExtraBold:800,Black:900}[a]||400}determineTypographyUsage(a,l){const d=a.toLowerCase();return d.includes("heading")||d.includes("title")?"heading":d.includes("body")||d.includes("paragraph")?"body":d.includes("caption")||d.includes("small")?"caption":d.includes("label")||d.includes("tag")?"label":d.includes("display")||d.includes("hero")?"display":l>=24?"heading":l>=14?"body":l>=10?"caption":"body"}extractShadowFromStyle(a,l,d){var m;const u=(m=l.definition)==null?void 0:m.effects;!u||!Array.isArray(u)||u.forEach((x,v)=>{if(x.type==="DROP_SHADOW"||x.type==="INNER_SHADOW"){const C=this.figmaEffectToShadowToken(`${a}-${v}`,x,l.name);C&&(C.figmaReference=a,d.push(C))}})}extractShadowFromEffect(a,l,d,u){const m=this.figmaEffectToShadowToken(`${a}-effect-${d}`,l);m&&(m.figmaReference=a,u.push(m))}figmaEffectToShadowToken(a,l,d){const{offset:u,radius:m,color:x,spread:v=0}=l;if(!u||!x)return null;const C=this.figmaColorToRgba(x),j=`${u.x}px ${u.y}px ${m}px ${v}px ${C}`;return{id:a,name:d||"Shadow",value:j,offsetX:u.x,offsetY:u.y,blur:m,spread:v,color:C,usage:this.determineShadowUsage(d,m)}}figmaColorToRgba(a){const{r:l,g:d,b:u,a:m=1}=a,x={r:Math.round(l*255),g:Math.round(d*255),b:Math.round(u*255)};return m<1?`rgba(${x.r}, ${x.g}, ${x.b}, ${m})`:`rgb(${x.r}, ${x.g}, ${x.b})`}determineShadowUsage(a,l){if(a){const d=a.toLowerCase();if(d.includes("focus"))return"focus";if(d.includes("hover"))return"hover";if(d.includes("pressed")||d.includes("active"))return"pressed"}return"elevation"}extractBorderRadius(a,l,d){const u={id:`${a}-radius`,name:this.generateRadiusName(l),value:l,unit:"px",usage:this.determineRadiusUsage(l),figmaReference:a};d.push(u)}generateRadiusName(a){return a===0?"None":a<=4?"Small":a<=8?"Medium":a<=16?"Large":a>=100?"Round":"Custom"}determineRadiusUsage(a){return a===0||a<=4?"small":a<=8?"medium":a<=16?"large":a>=100?"round":"medium"}extractSpacing(a,l,d){[{prop:"paddingLeft",usage:"padding"},{prop:"paddingRight",usage:"padding"},{prop:"paddingTop",usage:"padding"},{prop:"paddingBottom",usage:"padding"},{prop:"itemSpacing",usage:"gap"}].forEach(({prop:m,usage:x})=>{const v=l[m];if(v!==void 0&&v>0){const C={id:`${a}-${m}`,name:this.generateSpacingName(v),value:v,unit:"px",usage:x,figmaReference:a};d.push(C)}})}generateSpacingName(a){return a<=4?"XS":a<=8?"S":a<=16?"M":a<=24?"L":a<=32?"XL":a<=48?"XXL":"Custom"}generateSemanticTokens(a){this.generateSemanticColors(a.colors),this.generateSpacingScale(a.spacing)}generateSemanticColors(a){}generateSpacingScale(a){[...new Set(a.map(d=>d.value))].sort((d,u)=>d-u).forEach((d,u)=>{const m=a.find(x=>x.value===d);m&&(m.scale=u)})}processTokens(a){a.colors=this.deduplicateTokens(a.colors,"value"),a.typography=this.deduplicateTokens(a.typography,"name"),a.spacing=this.deduplicateTokens(a.spacing,"value"),a.shadows=this.deduplicateTokens(a.shadows,"value"),a.borderRadius=this.deduplicateTokens(a.borderRadius,"value")}deduplicateTokens(a,l){const d=new Set;return a.filter(u=>{const m=u[l];return d.has(m)?!1:(d.add(m),!0)})}exportTokens(a,l){switch(l.format){case"css":return this.exportToCss(a,l);case"scss":return this.exportToScss(a,l);case"js":return this.exportToJs(a,l);case"json":return this.exportToJson(a,l);case"style-dictionary":return this.exportToStyleDictionary(a,l);default:throw new Error(`Unsupported export format: ${l.format}`)}}exportToCss(a,l){const{includeComments:d,useCustomProperties:u,namespace:m="",prefix:x="ds"}=l;let v="";return d&&(v+=`/* Design Tokens Generated from ${a.metadata.extractedFrom} */
`,v+=`/* Generated at: ${a.metadata.extractedAt.toISOString()} */

`),v+=`:root {
`,d&&(v+=`  /* Colors */
`),a.colors.forEach(C=>{const j=`--${x}-color-${C.name.toLowerCase().replace(/\s+/g,"-")}`;v+=`  ${j}: ${C.value};
`}),v+=`
`,d&&(v+=`  /* Typography */
`),a.typography.forEach(C=>{const j=C.name.toLowerCase().replace(/\s+/g,"-");v+=`  --${x}-font-family-${j}: ${C.fontFamily};
`,v+=`  --${x}-font-size-${j}: ${C.fontSize}px;
`,v+=`  --${x}-line-height-${j}: ${C.lineHeight};
`,v+=`  --${x}-font-weight-${j}: ${C.fontWeight};
`,C.letterSpacing&&(v+=`  --${x}-letter-spacing-${j}: ${C.letterSpacing}px;
`)}),v+=`
`,d&&(v+=`  /* Spacing */
`),a.spacing.forEach(C=>{const j=`--${x}-spacing-${C.name.toLowerCase()}`;v+=`  ${j}: ${C.value}${C.unit};
`}),v+=`
`,d&&(v+=`  /* Shadows */
`),a.shadows.forEach(C=>{const j=`--${x}-shadow-${C.name.toLowerCase().replace(/\s+/g,"-")}`;v+=`  ${j}: ${C.value};
`}),v+=`
`,d&&(v+=`  /* Border Radius */
`),a.borderRadius.forEach(C=>{const j=`--${x}-radius-${C.name.toLowerCase()}`;v+=`  ${j}: ${C.value}${C.unit};
`}),v+=`}
`,v}exportToScss(a,l){const{includeComments:d,prefix:u="ds"}=l;let m="";return d&&(m+=`// Design Tokens Generated from ${a.metadata.extractedFrom}
`,m+=`// Generated at: ${a.metadata.extractedAt.toISOString()}

`),d&&(m+=`// Colors
`),a.colors.forEach(x=>{const v=`$${u}-color-${x.name.toLowerCase().replace(/\s+/g,"-")}`;m+=`${v}: ${x.value};
`}),m+=`
`,d&&(m+=`// Typography
`),a.typography.forEach(x=>{const v=x.name.toLowerCase().replace(/\s+/g,"-");m+=`$${u}-font-family-${v}: ${x.fontFamily};
`,m+=`$${u}-font-size-${v}: ${x.fontSize}px;
`,m+=`$${u}-line-height-${v}: ${x.lineHeight};
`,m+=`$${u}-font-weight-${v}: ${x.fontWeight};
`}),m}exportToJs(a,l){const{includeComments:d}=l;let u="";return d&&(u+=`/**
 * Design Tokens Generated from ${a.metadata.extractedFrom}
`,u+=` * Generated at: ${a.metadata.extractedAt.toISOString()}
 */

`),u+=`export const designTokens = {
`,u+=`  colors: {
`,a.colors.forEach(m=>{const x=m.name.toLowerCase().replace(/\s+/g,"");u+=`    ${x}: '${m.value}',
`}),u+=`  },
`,u+=`  typography: {
`,a.typography.forEach(m=>{const x=m.name.toLowerCase().replace(/\s+/g,"");u+=`    ${x}: {
`,u+=`      fontFamily: '${m.fontFamily}',
`,u+=`      fontSize: ${m.fontSize},
`,u+=`      lineHeight: ${m.lineHeight},
`,u+=`      fontWeight: ${m.fontWeight},
`,u+=`    },
`}),u+=`  },
`,u+=`  spacing: {
`,a.spacing.forEach(m=>{const x=m.name.toLowerCase();u+=`    ${x}: ${m.value},
`}),u+=`  },
`,u+=`};
`,u}exportToJson(a,l){return JSON.stringify(a,null,2)}exportToStyleDictionary(a,l){const d={color:{},size:{font:{},spacing:{},radius:{}},shadow:{}};return a.colors.forEach(u=>{const m=u.name.toLowerCase().replace(/\s+/g,"-");d.color[m]={value:u.value,type:"color",description:u.description||`${u.usage} color`}}),a.typography.forEach(u=>{const m=u.name.toLowerCase().replace(/\s+/g,"-");d.size.font[m]={value:`${u.fontSize}px`,type:"dimension"}}),a.spacing.forEach(u=>{const m=u.name.toLowerCase();d.size.spacing[m]={value:`${u.value}${u.unit}`,type:"dimension"}}),JSON.stringify(d,null,2)}}const iu=new im,om=({onFileSelect:c,onUrlImport:a,isLoading:l=!1,maxSize:d=50,acceptedFormats:u=[".fig",".json",".svg",".png",".jpg",".jpeg"]})=>{const[m,x]=g.useState(!1),[v,C]=g.useState("figma-link"),[j,$]=g.useState(""),[T,O]=g.useState(0),[J,G]=g.useState(null),[y,P]=g.useState(null),[_,H]=g.useState(null),ce=g.useRef(null),Q=[{id:"figma-link",name:"Figma URL",description:"Import directly from a Figma file URL",icon:r.jsx(Vi,{}),supportedFormats:["Figma file URLs"]},{id:"file",name:"File Upload",description:"Upload exported files from Figma or other design tools",icon:r.jsx(Pn,{}),supportedFormats:u},{id:"url",name:"Image URL",description:"Import from an image URL or cloud storage",icon:r.jsx(ii,{}),supportedFormats:["PNG","JPG","SVG URLs"]}],I=g.useCallback(Z=>{var de;const Y=Z.size/1048576;if(Y>d)return`File size (${Y.toFixed(2)}MB) exceeds maximum limit of ${d}MB`;const me="."+((de=Z.name.split(".").pop())==null?void 0:de.toLowerCase());return u.includes(me)?null:`File type ${me} is not supported. Accepted formats: ${u.join(", ")}`},[d,u]),ne=g.useCallback(Z=>Z.trim()?/^https:\/\/(www\.)?figma\.com\/(file|proto|design)\/[a-zA-Z0-9]+/.test(Z)?null:"Please enter a valid Figma file URL (starting with https://figma.com/file/)":"Please enter a Figma URL",[]),ie=g.useCallback(Z=>{Z.preventDefault(),Z.stopPropagation(),Z.type==="dragenter"||Z.type==="dragover"?x(!0):Z.type==="dragleave"&&x(!1)},[]),se=g.useCallback(Z=>{Z.preventDefault(),Z.stopPropagation(),x(!1),G(null);const Y=Array.from(Z.dataTransfer.files);if(Y.length>1){G("Please upload only one file at a time");return}const me=Y[0];if(me){const de=I(me);if(de){G(de);return}H(me),pe(me)}},[I]),fe=g.useCallback(Z=>{var me;G(null);const Y=(me=Z.target.files)==null?void 0:me[0];if(Y){const de=I(Y);if(de){G(de);return}H(Y),pe(Y)}},[I]),pe=g.useCallback(Z=>Fe(null,null,function*(){O(0),G(null);try{const Y=setInterval(()=>{O(de=>de>=90?(clearInterval(Y),90):de+10)},200),me={name:Z.name,size:Z.size,type:Z.type,lastModified:new Date(Z.lastModified)};Z.type.startsWith("image/")&&(me.previewUrl=URL.createObjectURL(Z)),setTimeout(()=>{O(100),P(`File "${Z.name}" uploaded successfully!`),c(Z,me),setTimeout(()=>P(null),3e3)},1e3)}catch(Y){G(Y instanceof Error?Y.message:"Failed to upload file"),O(0)}}),[c]),Ie=g.useCallback(()=>{if(G(null),v==="figma-link"){const Z=ne(j);if(Z){G(Z);return}}P("Importing from URL..."),a(j),$(""),setTimeout(()=>P(null),3e3)},[v,j,ne,a]),ze=g.useCallback(()=>{H(null),O(0),G(null),P(null),ce.current&&(ce.current.value="")},[]);return r.jsxs("div",{className:"figma-file-upload",children:[r.jsxs("div",{className:"upload-header",children:[r.jsx("h3",{children:"Import Your Designs"}),r.jsx("p",{children:"Choose how you'd like to import your design files into Designetica"})]}),r.jsx("div",{className:"upload-methods",children:Q.map(Z=>r.jsxs("button",{className:`upload-method ${v===Z.id?"active":""}`,onClick:()=>C(Z.id),disabled:l,children:[r.jsx("div",{className:"method-icon",children:Z.icon}),r.jsxs("div",{className:"method-content",children:[r.jsx("h4",{children:Z.name}),r.jsx("p",{children:Z.description}),r.jsxs("div",{className:"method-formats",children:[Z.supportedFormats.slice(0,3).map((Y,me)=>r.jsx("span",{className:"format-tag",children:Y},me)),Z.supportedFormats.length>3&&r.jsxs("span",{className:"format-tag",children:["+",Z.supportedFormats.length-3," more"]})]})]})]},Z.id))}),J&&r.jsxs("div",{className:"upload-message error",children:[r.jsx(ju,{}),r.jsx("span",{children:J})]}),y&&r.jsxs("div",{className:"upload-message success",children:[r.jsx(Dt,{}),r.jsx("span",{children:y})]}),r.jsxs("div",{className:"upload-interface",children:[v==="file"&&r.jsx("div",{className:"file-upload-section",children:r.jsxs("div",{className:`upload-zone ${m?"drag-active":""} ${_?"has-file":""}`,onDragEnter:ie,onDragLeave:ie,onDragOver:ie,onDrop:se,onClick:()=>{var Z;return(Z=ce.current)==null?void 0:Z.click()},children:[r.jsx("input",{ref:ce,type:"file",accept:u.join(","),onChange:fe,className:"file-input-hidden",disabled:l,title:"Select file to upload","aria-label":"Select file to upload"}),_?r.jsxs("div",{className:"selected-file",children:[r.jsxs("div",{className:"file-info",children:[r.jsx(_f,{size:24}),r.jsxs("div",{className:"file-details",children:[r.jsx("h4",{children:_.name}),r.jsxs("p",{children:[(_.size/(1024*1024)).toFixed(2),"MB"]})]})]}),r.jsx("button",{className:"remove-file",onClick:Z=>{Z.stopPropagation(),ze()},disabled:l,title:"Remove selected file","aria-label":"Remove selected file",children:r.jsx(Qt,{})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Pn,{size:32,className:"upload-icon"}),r.jsx("h4",{children:"Drop your file here or click to browse"}),r.jsxs("p",{children:["Supports: ",u.join(", ")]}),r.jsxs("p",{className:"size-limit",children:["Maximum file size: ",d,"MB"]})]}),T>0&&T<100&&r.jsxs("div",{className:"upload-progress",children:[r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress-fill","data-progress":T})}),r.jsxs("span",{children:[T,"%"]})]})]})}),(v==="url"||v==="figma-link")&&r.jsxs("div",{className:"url-import-section",children:[r.jsxs("div",{className:"url-input-group",children:[r.jsx("label",{htmlFor:"import-url",children:v==="figma-link"?"Figma File URL":"Image URL"}),r.jsx("input",{id:"import-url",type:"url",placeholder:v==="figma-link"?"https://www.figma.com/file/...":"https://example.com/design.png",value:j,onChange:Z=>$(Z.target.value),disabled:l,className:"url-input"})]}),r.jsx("button",{className:"import-url-btn",onClick:Ie,disabled:l||!j.trim(),children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"spinner"}),"Importing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zr,{}),"Import from URL"]})}),v==="figma-link"&&r.jsxs("div",{className:"figma-help",children:[r.jsx("h5",{children:"How to get your Figma URL:"}),r.jsxs("ol",{children:[r.jsx("li",{children:"Open your Figma file"}),r.jsx("li",{children:'Click "Share" in the top-right corner'}),r.jsx("li",{children:'Set permissions to "Anyone with the link can view"'}),r.jsx("li",{children:"Copy the file URL and paste it above"})]})]})]})]}),r.jsxs("div",{className:"import-options",children:[r.jsx("h4",{children:"Import Settings"}),r.jsxs("div",{className:"options-grid",children:[r.jsxs("label",{className:"option-item",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{children:"Extract design tokens"})]}),r.jsxs("label",{className:"option-item",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{children:"Generate responsive layout"})]}),r.jsxs("label",{className:"option-item",children:[r.jsx("input",{type:"checkbox"}),r.jsx("span",{children:"Preserve interactions"})]}),r.jsxs("label",{className:"option-item",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{children:"Create component library"})]})]})]})]})},am={development:{primary:7071,fallback:5001,frontend:5173},production:{primary:443,frontend:443}},Kn={FALLBACK_SUGGESTIONS:["Create an Azure dashboard with service monitoring and resource management","Design Azure certification journey pages with exam codes (AZ-900, AZ-104, AZ-204, AZ-305)","Build cloud training dashboard with module completion tracking and time estimates","Add skills assessment portal with technology-specific evaluation paths","Generate Microsoft Docs-style API reference pages with code samples and Try It buttons","Create training module structure with objectives, knowledge checks, and summary","Design hands-on lab interface with Azure sandbox environment integration","Build Q&A community pages with expert answers and voting system","Design Azure services catalog with pricing, regions, and getting started tutorials","Create Microsoft 365 admin center with role-based permissions guides","Build Power Platform center with app templates and connector documentation","Generate Visual Studio Code extension marketplace with development tutorials","Create career path explorer with job role requirements and skill mapping","Design certification preparation hub with study guides, practice exams, and community forums","Build professional profile dashboard with achievements, transcripts, and learning streaks","Add mentorship platform connecting learners with industry experts","Generate interactive tutorials with step-by-step Azure portal guidance","Create code playground with live compilation and Azure resource deployment","Design assessment engine with adaptive questioning and personalized feedback","Build virtual labs with real Azure environments and guided exercises"],ENDPOINTS:{GENERATE_WIREFRAME:"/api/generate-html-wireframe",GENERATE_REACT_COMPONENT:"/api/generate-react-component",GENERATE_WIREFRAME_ENHANCED:"/api/generate-wireframe-enhanced",GENERATE_FLUENT_WIREFRAME:"/api/generate-fluent-wireframe",GENERATE_SUGGESTIONS:"/api/generate-suggestions",GET_TEMPLATE:"/api/get-template",COMPONENT_LIBRARY:"/api/component-library",FLUENT_COMPONENTS:"/api/fluent-components",FLUENT_COMPONENTS_SEARCH:"/api/fluent-components/search",HEALTH:"/api/health"},PORTS:am,BASE_URL:"https://func-designetica-prod-xabnur6oyusju.azurewebsites.net"},oi=(c,a)=>`${Kn.BASE_URL}${c}`,aa=({isOpen:c,onClose:a,onImport:l,onExport:d,onTokensExtracted:u,onFileProcessed:m})=>{const[x,v]=g.useState("connect"),[C,j]=g.useState(!1),[$,T]=g.useState(null),[O,J]=g.useState(""),[G,y]=g.useState(""),[P,_]=g.useState(!1),[H,ce]=g.useState(!1),[Q,I]=g.useState(!1),[ne,ie]=g.useState(null),[se,fe]=g.useState(null),[pe,Ie]=g.useState([]),[ze,Z]=g.useState([]),[Y,me]=g.useState("figma-file"),[de,k]=g.useState(null),[N,F]=g.useState(!1),[z,h]=g.useState(null),[E,f]=g.useState(0);g.useEffect(()=>{c&&b()},[c]);const b=g.useCallback(()=>Fe(null,null,function*(){var te;try{const be=yield fetch(oi("/api/figmaOAuthStart?format=json"),{headers:{Accept:"application/json"}}),ye=(be.headers.get("Content-Type")||"").includes("application/json");if(!be.ok)if(ye){const W=yield be.json();if(W.status==="oauth_not_configured"){T({status:"oauth_not_configured",message:"OAuth2 not configured - using manual token mode",error:W.message}),j(!1),v("connect");return}throw new Error(W.error||"OAuth status check failed")}else throw new Error("OAuth status check failed (non-JSON response)");if(ye){const W=yield be.json();T(W),W.status==="already_authorized"?(j(!0),fe(`🔗 Already connected to Figma! Welcome back, ${((te=W.user)==null?void 0:te.email)||"User"}`),v("connect")):(j(!1),v("connect"))}else T({status:"authorization_required",message:"Authorization required (interactive page returned)"}),j(!1),v("connect")}catch(be){console.error("Error checking OAuth status:",be),T({status:"oauth_error",message:"OAuth connection unavailable - using manual token mode",error:be instanceof Error?be.message:String(be)}),j(!1),v("connect")}}),[]),R=g.useCallback(()=>Fe(null,null,function*(){ce(!0),ie(null);try{const te=yield fetch(oi("/api/figmaOAuthStart"),{method:"POST"});if(!te.ok){const Ue=yield te.json();if(Ue.status==="oauth_not_configured"){ie("⚠️ OAuth is not configured. Please use the Manual Token section below to connect to Figma."),v("connect");return}throw new Error(Ue.error||"Failed to get authorization URL")}const be=yield te.json();if(be.auth_url){const Ue=window.open(be.auth_url,"figma-oauth","width=600,height=700,scrollbars=yes,resizable=yes"),ye=setInterval(()=>{Ue!=null&&Ue.closed&&(clearInterval(ye),setTimeout(()=>{b()},1e3))},1e3);fe("🚀 Opening Figma OAuth window. Please authorize the application.")}else ie("Failed to get authorization URL from backend")}catch(te){ie(`OAuth connection failed: ${te.message}`)}finally{ce(!1)}}),[b]);g.useEffect(()=>{if(ne||se){const te=setTimeout(()=>{ie(null),fe(null)},5e3);return()=>clearTimeout(te)}},[ne,se]);const q=g.useCallback((te,be)=>Fe(null,null,function*(){_(!0),ie(null),f(0);try{f(25),yield new Promise(W=>setTimeout(W,500));let Ue=null,ye="";if(te.type==="application/json"){const W=yield te.text(),ue=JSON.parse(W);if(f(50),ue.document||ue.styles){const De=iu.extractTokensFromFigma(ue);k(De),u==null||u(De)}f(75),ye=yield Cn.convertFramesToWireframe(ue.frames||[],ue.fileKey||"uploaded-file"),Ue=ue}else te.type.startsWith("image/")&&(f(50),ye=`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Imported Design - ${te.name}</title>
                    <style>
                        body { margin: 0; padding: 20px; font-family: 'Segoe UI', sans-serif; background: #f5f5f5; }
                        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
                        .header { background: #3C4858; color: white; padding: 20px; text-align: center; }
                        .content { padding: 20px; text-align: center; }
                        .design-image { max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
                        .metadata { margin-top: 20px; padding: 16px; background: #f8f9fa; border-radius: 6px; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <div class="header">
                            <h1>🎨 Imported Design</h1>
                            <p>Design imported from ${te.name}</p>
                        </div>
                        <div class="content">
                            <img src="${be.previewUrl||URL.createObjectURL(te)}" alt="${te.name}" class="design-image" />
                            <div class="metadata">
                                <strong>File Details:</strong><br>
                                Name: ${te.name}<br>
                                Size: ${(te.size/1024/1024).toFixed(2)} MB<br>
                                Type: ${te.type}<br>
                                Last Modified: ${new Date(te.lastModified).toLocaleDateString()}
                            </div>
                        </div>
                    </div>
                </body>
                </html>`,f(75),Ue={type:"image",file:te,metadata:be});f(100),m==null||m(te,Ue),l(ye,te.name,de||void 0),fe(`🎉 Successfully processed "${te.name}"! Design tokens extracted and HTML generated.`),setTimeout(()=>a(),2e3)}catch(Ue){ie(Ue instanceof Error?Ue.message:"Failed to process file")}finally{_(!1),f(0)}}),[l,u,m,a,de]),Ce=g.useCallback(te=>Fe(null,null,function*(){_(!0),ie(null),f(0);try{const be=Cn.parseFileUrl(te);if(be){f(25);const Ue=yield Cn.getFile(be);f(50);const ye=Cn.extractFrames(Ue.document);Ie(ye);const W=iu.extractTokensFromFigma(Ue,be);k(W),u==null||u(W),f(75);const ue=ye.map(De=>De.id);Z(ue),f(100),fe(`📋 Found ${ye.length} frames and extracted ${W.colors.length} color tokens, ${W.typography.length} typography tokens.`)}else{f(50);const Ue=`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Imported from URL</title>
                    <style>
                        body { margin: 0; padding: 20px; font-family: 'Segoe UI', sans-serif; }
                        .container { max-width: 1200px; margin: 0 auto; }
                        .imported-content { text-align: center; padding: 40px; }
                        .url-preview { max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <div class="imported-content">
                            <h1>🌐 Imported from URL</h1>
                            <p>Content imported from: ${te}</p>
                            <img src="${te}" alt="Imported content" class="url-preview" onerror="this.style.display='none'" />
                        </div>
                    </div>
                </body>
                </html>`;f(100),l(Ue,"URL Import"),fe("🎉 Successfully imported content from URL!"),setTimeout(()=>a(),2e3)}}catch(be){ie(be instanceof Error?be.message:"Failed to import from URL")}finally{_(!1),f(0)}}),[l,u,a]),je=g.useCallback(()=>Fe(null,null,function*(){if(!O.trim()){ie("Please enter your Figma access token");return}I(!0),ie(null);try{yield new Promise(te=>setTimeout(te,1500)),O.toLowerCase().includes("figd_")||O.length>10?(Cn.setAccessToken(O),j(!0),fe("🔗 Successfully connected to Figma! You can now import designs."),window.open("https://www.figma.com/","_blank")):ie('Please enter a valid Figma access token starting with "figd_"')}catch(te){ie(te instanceof Error?te.message:"Failed to connect to Figma")}finally{I(!1)}}),[O]);g.useCallback(()=>Fe(null,null,function*(){if(!G.trim()){ie("Please enter a Figma file URL");return}_(!0),ie(null),Ie([]);try{const te=Cn.parseFileUrl(G);if(!te){ie("Invalid Figma URL. Please use a valid Figma file URL.");return}const be=yield Cn.getFile(te),Ue=Cn.extractFrames(be.document);Ie(Ue),fe(`📋 Found ${Ue.length} frames in your Figma file. Select which ones to import.`)}catch(te){ie(te instanceof Error?te.message:"Failed to load Figma file")}finally{_(!1)}}),[G]);const Le=g.useCallback(te=>{Z(be=>be.includes(te)?be.filter(Ue=>Ue!==te):[...be,te])},[]),Ve=g.useCallback(()=>Fe(null,null,function*(){if(ze.length===0){ie("Please select at least one frame to import");return}_(!0),ie(null),f(0);try{const te=Cn.parseFileUrl(G);if(!te){ie("Invalid Figma URL");return}f(25);const be=pe.filter(ye=>ze.includes(ye.id));f(50);const Ue=yield Cn.convertFramesToWireframe(be,te);f(75),l(Ue,"Figma Import",de||void 0),f(100),fe("🎉 Figma designs successfully imported and converted to wireframe with design tokens!"),h(new Date),setTimeout(()=>a(),2e3)}catch(te){ie(te instanceof Error?te.message:"Failed to import frames")}finally{_(!1),f(0)}}),[ze,pe,G,l,a,de]);g.useCallback(()=>{d==null||d(Y),fe(`🎉 ${Y==="figma-file"?"HTML file":"JSON data file"} download started! Check your browser's Downloads folder.`),setTimeout(()=>a(),2e3)},[Y,d,a]);const Ye=g.useCallback(()=>Fe(null,null,function*(){_(!0),ie(null);try{j(!1),J(""),Ie([]),Z([]),y(""),T(null),Cn.setAccessToken(""),fe("🔓 Disconnected from Figma. Your local session has been cleared."),v("connect")}catch(te){ie(`Disconnect failed: ${te.message}`)}finally{_(!1)}}),[]);return c?r.jsx("div",{className:"figma-modal-overlay",children:r.jsxs("div",{className:"figma-modal",children:[r.jsxs("div",{className:"figma-modal-header",children:[r.jsxs("div",{className:"figma-modal-title",children:[r.jsx(ri,{className:"figma-icon"}),r.jsx("h2",{children:"Figma Integration Hub"})]}),r.jsx("button",{className:"figma-modal-close",onClick:a,"aria-label":"Close Figma integration modal",children:r.jsx(Qt,{})})]}),ne&&r.jsxs("div",{className:"figma-message figma-error",children:[r.jsx(tu,{}),r.jsx("span",{children:ne})]}),se&&r.jsxs("div",{className:"figma-message figma-success",children:[r.jsx(Dt,{}),r.jsx("span",{children:se})]}),r.jsx("div",{className:`figma-connection-status ${C?"connected":"disconnected"}`,children:C?r.jsxs(r.Fragment,{children:[r.jsx(Dt,{className:"status-icon"}),r.jsx("span",{children:"Connected to Figma"}),r.jsx("button",{className:"disconnect-btn",onClick:Ye,children:"Disconnect"})]}):r.jsxs(r.Fragment,{children:[r.jsx(tu,{className:"status-icon"}),r.jsx("span",{children:"Not connected to Figma"})]})}),r.jsxs("div",{className:"figma-tabs",children:[r.jsxs("button",{className:`figma-tab ${x==="connect"?"active":""}`,onClick:()=>v("connect"),children:[r.jsx(Qf,{}),"Connect"]}),r.jsxs("button",{className:`figma-tab ${x==="url"?"active":""} ${C?"":"disabled"}`,onClick:()=>C&&v("url"),disabled:!C,children:[r.jsx(ri,{}),"URL Import"]}),r.jsxs("button",{className:`figma-tab ${x==="upload"?"active":""}`,onClick:()=>v("upload"),children:[r.jsx(Pn,{}),"File Upload"]}),r.jsxs("button",{className:`figma-tab ${x==="live"?"active":""} ${C?"":"disabled"}`,onClick:()=>C&&v("live"),disabled:!C,children:[r.jsx(Gn,{}),"Live Sync"]})]}),E>0&&r.jsxs("div",{className:"figma-progress-container",children:[r.jsx("div",{className:"figma-progress-bar",children:r.jsx("div",{className:"figma-progress-fill",style:{"--progress-value":`${E}%`}})}),r.jsxs("span",{className:"figma-progress-text",children:[E,"% complete"]})]}),r.jsxs("div",{className:"figma-modal-content",children:[x==="connect"&&r.jsxs("div",{className:"figma-tab-content",children:[r.jsxs("div",{className:"tab-description",children:[r.jsx("h3",{children:"🔗 Connect to Figma"}),r.jsx("p",{children:"Securely connect your Figma account to import designs with full OAuth2 authentication."})]}),C?r.jsxs("div",{className:"figma-connected-section",children:[r.jsxs("div",{className:"connection-success",children:[r.jsx(Dt,{className:"success-icon"}),r.jsxs("div",{className:"connection-details",children:[r.jsx("h4",{children:"Successfully Connected!"}),($==null?void 0:$.user)&&r.jsxs("p",{children:["Connected as: ",r.jsx("strong",{children:$.user.email||$.user.handle})]}),($==null?void 0:$.expires_at)&&r.jsxs("p",{className:"token-expiry",children:["Token expires: ",new Date($.expires_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"connected-actions",children:[r.jsxs("div",{className:"action-grid",children:[r.jsxs("button",{className:"figma-btn figma-btn-primary",onClick:()=>v("url"),children:[r.jsx(ri,{}),"Import from URL"]}),r.jsxs("button",{className:"figma-btn figma-btn-primary",onClick:()=>v("live"),children:[r.jsx(Gn,{}),"Setup Live Sync"]})]}),r.jsxs("button",{className:"figma-btn figma-btn-danger disconnect-btn",onClick:Ye,disabled:P,children:[P?r.jsx(Gn,{className:"spinning"}):r.jsx(Qt,{}),"Disconnect"]})]})]}):r.jsxs("div",{className:"figma-connect-section",children:[r.jsxs("div",{className:"figma-oauth-info",children:[r.jsxs("div",{className:"oauth-feature",children:[r.jsx(ri,{className:"feature-icon"}),r.jsxs("div",{children:[r.jsx("h4",{children:"Secure OAuth2 Connection"}),r.jsx("p",{children:"Connect using Figma's official OAuth2 flow. We never store your password."})]})]}),r.jsxs("div",{className:"oauth-feature",children:[r.jsx(ll,{className:"feature-icon"}),r.jsxs("div",{children:[r.jsx("h4",{children:"Full File Access"}),r.jsx("p",{children:"Access your Figma files, extract design tokens, and import components."})]})]}),r.jsxs("div",{className:"oauth-feature",children:[r.jsx(Gn,{className:"feature-icon"}),r.jsxs("div",{children:[r.jsx("h4",{children:"Real-time Sync"}),r.jsx("p",{children:"Keep your wireframes in sync with Figma file changes automatically."})]})]})]}),r.jsxs("div",{className:"figma-connect-actions",children:[($==null?void 0:$.status)!=="oauth_not_configured"&&r.jsx("button",{className:"figma-btn figma-btn-primary oauth-btn",onClick:R,disabled:H,children:H?r.jsxs(r.Fragment,{children:[r.jsx(Gn,{className:"spinning"}),"Connecting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Of,{}),"Connect with Figma OAuth"]})}),($==null?void 0:$.status)==="oauth_not_configured"&&r.jsx("div",{className:"oauth-not-available",children:r.jsxs("div",{className:"info-message",children:[r.jsx(Uf,{className:"info-icon"}),r.jsxs("div",{children:[r.jsx("h4",{children:"OAuth Not Configured"}),r.jsx("p",{children:"OAuth2 authentication is not set up. Please use the manual token method below."})]})]})}),r.jsxs("div",{className:"oauth-alternative",children:[r.jsx("span",{className:"oauth-divider",children:"or"}),r.jsxs("div",{className:"manual-token-section",children:[r.jsx("h4",{children:"Manual Token Connection"}),r.jsx("p",{className:"token-description",children:"Have a Figma personal access token? You can connect manually:"}),r.jsxs("div",{className:"figma-input-group",children:[r.jsx("label",{htmlFor:"manual-token",children:"Figma Personal Access Token"}),r.jsx("input",{id:"manual-token",type:"password",placeholder:"figd_...",value:O,onChange:te=>J(te.target.value),className:"figma-input"}),r.jsxs("small",{className:"token-help",children:["Get your token from ",r.jsx("a",{href:"https://www.figma.com/developers/api#access-tokens",target:"_blank",rel:"noopener noreferrer",children:"Figma Settings"})]})]}),r.jsxs("button",{className:"figma-btn figma-btn-outline",onClick:je,disabled:Q||!O.trim(),children:[Q?r.jsx(Gn,{className:"spinning"}):r.jsx(ri,{}),"Connect with Token"]})]})]})]})]})]}),x==="url"&&r.jsxs("div",{className:"figma-tab-content",children:[r.jsxs("div",{className:"tab-description",children:[r.jsx("h3",{children:"📥 Import from URL"}),r.jsx("p",{children:"Import from Figma URLs or any image URL. Design tokens will be automatically extracted from Figma files."})]}),r.jsxs("div",{className:"figma-input-group",children:[r.jsx("label",{htmlFor:"figma-url",children:"Figma File URL or Image URL"}),r.jsx("input",{id:"figma-url",type:"url",placeholder:"https://www.figma.com/file/... or image URL",value:G,onChange:te=>y(te.target.value),className:"figma-input"})]}),r.jsxs("button",{className:"figma-btn figma-btn-primary",onClick:()=>Ce(G),disabled:P||!G.trim(),children:[P?r.jsx(Gn,{className:"spinning"}):r.jsx(zr,{}),P?"Processing...":"Import Design"]}),pe.length>0&&r.jsxs("div",{className:"figma-frames-section",children:[r.jsxs("h4",{children:["Select Frames to Import (",pe.length," available)"]}),r.jsx("div",{className:"figma-frames-grid",children:pe.map(te=>r.jsxs("div",{className:`figma-frame-card ${ze.includes(te.id)?"selected":""}`,onClick:()=>Le(te.id),children:[r.jsx("div",{className:"frame-preview",children:r.jsx(hl,{size:24})}),r.jsxs("div",{className:"frame-info",children:[r.jsx("h5",{children:te.name}),r.jsx("span",{className:"frame-type",children:te.type}),te.absoluteBoundingBox&&r.jsxs("span",{className:"frame-size",children:[Math.round(te.absoluteBoundingBox.width)," × ",Math.round(te.absoluteBoundingBox.height)]})]}),ze.includes(te.id)&&r.jsx("div",{className:"frame-selected-indicator",children:r.jsx(Dt,{})})]},te.id))}),r.jsxs("div",{className:"figma-actions",children:[r.jsx("button",{className:"figma-btn figma-btn-outline",onClick:()=>Z(pe.map(te=>te.id)),children:"Select All"}),r.jsx("button",{className:"figma-btn figma-btn-outline",onClick:()=>Z([]),children:"Clear Selection"}),r.jsxs("button",{className:"figma-btn figma-btn-primary",onClick:Ve,disabled:P||ze.length===0,children:[P?r.jsx(Gn,{className:"spinning"}):r.jsx(Pn,{}),"Import Selected (",ze.length,")",de&&" with Tokens"]})]})]})]}),x==="upload"&&r.jsxs("div",{className:"figma-tab-content",children:[r.jsxs("div",{className:"tab-description",children:[r.jsx("h3",{children:"📁 Upload Files"}),r.jsx("p",{children:"Upload Figma JSON exports, images, or drag & drop files for instant conversion with design token extraction."})]}),r.jsx(om,{onFileSelect:q,onUrlImport:Ce,isLoading:P})]}),x==="live"&&r.jsxs("div",{className:"figma-tab-content",children:[r.jsxs("div",{className:"tab-description",children:[r.jsx("h3",{children:"🔄 Live Sync"}),r.jsx("p",{children:"Set up real-time synchronization with your Figma files for automatic updates and collaboration."})]}),r.jsxs("div",{className:"figma-sync-status",children:[r.jsxs("div",{className:"sync-header",children:[r.jsxs("h4",{children:[r.jsx(Gn,{className:N?"spinning":""}),"Sync Status"]}),r.jsx("span",{className:`sync-status-badge ${N?"active":"inactive"}`,children:N?"Active":"Inactive"})]}),z&&r.jsxs("div",{className:"sync-info",children:[r.jsx(Eu,{}),r.jsxs("span",{children:["Last sync: ",z.toLocaleTimeString()]})]})]}),r.jsxs("div",{className:"figma-sync-controls",children:[r.jsx("button",{className:`figma-btn ${N?"figma-btn-danger":"figma-btn-primary"}`,onClick:()=>F(!N),children:N?r.jsxs(r.Fragment,{children:[r.jsx(Yf,{}),"Disable Live Sync"]}):r.jsxs(r.Fragment,{children:[r.jsx(Kf,{}),"Enable Live Sync"]})}),N&&r.jsxs("div",{className:"sync-options",children:[r.jsxs("label",{className:"figma-checkbox",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{children:"Auto-import on file changes"})]}),r.jsxs("label",{className:"figma-checkbox",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{children:"Extract design tokens automatically"})]}),r.jsxs("label",{className:"figma-checkbox",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0}),r.jsx("span",{children:"Generate component previews"})]})]})]}),N&&G&&r.jsxs("div",{className:"figma-monitored-file",children:[r.jsx("h5",{children:"Monitoring File:"}),r.jsx("code",{className:"figma-file-url",children:G})]})]}),de&&r.jsxs("div",{className:"figma-tokens-section",children:[r.jsxs("div",{className:"tokens-header",children:[r.jsxs("h3",{children:[r.jsx(ll,{}),"Extracted Design Tokens"]}),r.jsxs("span",{className:"tokens-count",children:[Object.values(de).flat().length," tokens"]})]}),r.jsxs("div",{className:"figma-tokens-grid",children:[de.colors&&de.colors.length>0&&r.jsxs("div",{className:"token-group",children:[r.jsxs("h4",{children:["🎨 Colors (",de.colors.length,")"]}),r.jsxs("div",{className:"color-tokens",children:[de.colors.slice(0,8).map((te,be)=>r.jsxs("div",{className:"color-token",children:[r.jsx("div",{className:"color-swatch",style:{"--swatch-color":te.value},title:te.value}),r.jsx("span",{className:"color-name",children:te.name})]},be)),de.colors.length>8&&r.jsxs("div",{className:"more-tokens",children:["+",de.colors.length-8," more"]})]})]}),de.typography&&de.typography.length>0&&r.jsxs("div",{className:"token-group",children:[r.jsxs("h4",{children:["✍️ Typography (",de.typography.length,")"]}),r.jsx("div",{className:"typography-tokens",children:de.typography.slice(0,4).map((te,be)=>r.jsxs("div",{className:"typography-token",children:[r.jsx("span",{className:"typo-name",children:te.name}),r.jsxs("span",{className:"typo-details",children:[te.fontSize,"px • ",te.fontFamily]})]},be))})]}),de.spacing&&de.spacing.length>0&&r.jsxs("div",{className:"token-group",children:[r.jsxs("h4",{children:["📏 Spacing (",de.spacing.length,")"]}),r.jsx("div",{className:"spacing-tokens",children:de.spacing.slice(0,6).map((te,be)=>r.jsxs("div",{className:"spacing-token",children:[r.jsx("span",{className:"spacing-name",children:te.name}),r.jsxs("span",{className:"spacing-value",children:[te.value,"px"]})]},be))})]})]})]})]})]})}):null},fl=({size:c="medium",color:a="white",className:l=""})=>{const d=["loading-spinner",`loading-spinner--${c}`,`loading-spinner--${a}`,l].filter(Boolean).join(" ");return r.jsx("div",{className:d,title:"Loading..."})};function sm({error:c,savedWireframesCount:a,onLoadClick:l,description:d,onDescriptionChange:u,onSubmit:m,loading:x,handleStop:v,showAiSuggestions:C,aiSuggestions:j,suggestionLoading:$,onAiSuggestionClick:T,onGenerateAiSuggestions:O,onImageUpload:J,onAnalyzeImage:G,isAnalyzingImage:y=!1,onFigmaImport:P,onFigmaExport:_,onOpenWireframe:H}){const ce=g.useRef(null),Q=g.useRef(null),[I,ne]=g.useState(!1),[ie,se]=g.useState(null),[fe,pe]=g.useState(!1),[Ie,ze]=g.useState(!1),[Z,Y]=g.useState({connected:!1}),[me,de]=g.useState("recent"),[k,N]=g.useState([]),[F,z]=g.useState([]),[h,E]=g.useState({isOpen:!1,itemName:"",itemType:"favorite",onConfirm:()=>{}});g.useEffect(()=>{const W=()=>{const Ke=JSON.parse(localStorage.getItem("designetica_favorites")||"[]");N(Ke)},ue=()=>{const Ke=JSON.parse(localStorage.getItem("designetica_recents")||"[]");z(Ke)};W(),ue();const De=()=>{W(),ue()};return window.addEventListener("storage",De),()=>window.removeEventListener("storage",De)},[]);const f=W=>{const ue=k.find(Ke=>Ke.id===W),De=(ue==null?void 0:ue.name)||"this favorite";E({isOpen:!0,itemName:De,itemType:"favorite",onConfirm:()=>{const Ke=k.filter(tt=>tt.id!==W);N(Ke),localStorage.setItem("designetica_favorites",JSON.stringify(Ke))}})},b=W=>{const ue=F.find(Ke=>Ke.id===W),De=(ue==null?void 0:ue.name)||"this recent project";E({isOpen:!0,itemName:De,itemType:"recent",onConfirm:()=>{const Ke=F.filter(tt=>tt.id!==W);z(Ke),localStorage.setItem("designetica_recents",JSON.stringify(Ke))}})},R=W=>{H&&W.htmlContent?H(W.htmlContent,W.description||W.name):console.warn("Cannot open wireframe: missing HTML content or onOpenWireframe handler")},q=(W,ue,De)=>{const Ke={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:W,htmlContent:De||"",type:"recent",createdAt:new Date().toISOString()},lt=[...JSON.parse(localStorage.getItem("designetica_favorites")||"[]"),Ke];N(lt),localStorage.setItem("designetica_favorites",JSON.stringify(lt)),alert(`"${W}" has been added to your favorites!`)},Ce=g.useCallback((W,ue,De)=>{const Ke={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:W,description:ue,htmlContent:De||"",type:"wireframe",createdAt:new Date().toISOString()},tt=JSON.parse(localStorage.getItem("designetica_recents")||"[]"),lt=tt.findIndex($t=>$t.name===W);lt!==-1&&tt.splice(lt,1);const ht=[Ke,...tt].slice(0,10);z(ht),localStorage.setItem("designetica_recents",JSON.stringify(ht))},[]);g.useEffect(()=>{window.addToRecents=Ce;const W=ue=>{const{name:De,description:Ke,html:tt}=ue.detail;Ce(De,Ke,tt)};return window.addEventListener("wireframeSaved",W),()=>{window.removeEventListener("wireframeSaved",W)}},[Ce]);const je=()=>Fe(null,null,function*(){Y(W=>({connected:W.connected,login:W.login}));try{const{startGitHubAuth:W}=yield gl(()=>Fe(null,null,function*(){const{startGitHubAuth:De}=yield import("./githubAuth-Dr9WWdRR.js");return{startGitHubAuth:De}}),[]),ue=yield W();ue.status==="success"?(Y({connected:!0,login:ue.login||"unknown"}),ue.token&&sessionStorage.setItem("github_token",ue.token)):Y({connected:!1,error:ue.error||"Authentication failed"})}catch(W){Y({connected:!1,error:W.message})}}),Le=g.useRef(null),Ve=W=>{const ue=W.trim();return ue.length===0?!1:/^[\d\s.,]+$/.test(ue)?(se("Please provide a descriptive text, not just numbers. For example: 'contact form with name and email fields' instead of just '2'."),!1):(se(null),!0)},Ye=(W,ue)=>{W.preventDefault(),Ve(ue||d)&&m(W,ue)},te=W=>{const ue=W.target.value;if(u(W),ie&&ue.trim()){const De=ue.trim();/^[\d\s.,]+$/.test(De)||se(null)}ue.trim()||se(null)};g.useEffect(()=>{ce.current&&ce.current.focus()},[]),g.useEffect(()=>{const W=Q.current;if(!W)return;const ue=()=>{const Ke=W.scrollHeight>W.clientHeight,tt=W.scrollTop+W.clientHeight>=W.scrollHeight-5;Ke&&!tt?W.style.setProperty("--scroll-indicator-opacity","1"):W.style.setProperty("--scroll-indicator-opacity","0")};ue(),W.addEventListener("scroll",ue);const De=new ResizeObserver(ue);return De.observe(W),()=>{W.removeEventListener("scroll",ue),De.disconnect()}},[k,F,me]),g.useEffect(()=>{if(O&&d.length>0){const W=d.trim();if(/^[\d\s.,]+$/.test(W))return;Le.current&&window.clearTimeout(Le.current);const De=d.length<=3?100:200;Le.current=window.setTimeout(()=>{O(d)},De)}return()=>{Le.current&&window.clearTimeout(Le.current)}},[d,O]);const be=()=>{ne(W=>!W)},Ue=(W,ue)=>{P&&P(W,ue),pe(!1)},ye=W=>{_&&_(W),pe(!1)};return r.jsxs("div",{className:"landing-page",children:[r.jsx("div",{className:"landing-container",children:r.jsxs("div",{className:"landing-content",children:[r.jsx("div",{className:"figma-plugin-announcement",children:r.jsxs("div",{className:"announcement-content",children:[r.jsx("div",{className:"announcement-icon",children:r.jsx(na,{})}),r.jsxs("div",{className:"announcement-text",children:[r.jsx("h3",{children:"🎉 New: Designetica Figma Plugin!"}),r.jsx("p",{children:"Generate AI wireframes directly in Figma."})]}),r.jsx("div",{className:"announcement-action",children:r.jsxs("a",{href:"figma://plugin/1543300122157762658",target:"_blank",rel:"noopener noreferrer",className:"figma-plugin-btn",children:[r.jsx(na,{}),"Open in Figma"]})})]})}),r.jsxs("h1",{className:"main-heading",children:["What will you ",r.jsx("span",{className:"design-word",children:"design"})," today?"]}),r.jsx("p",{className:"main-subtitle",children:"Sketch your vision, ship your wireframe - Designetica AI does the heavy lifting."}),c&&r.jsx("div",{className:"error error-center",children:c}),ie&&r.jsx("div",{className:"input-info-alert",children:ie}),a>0&&r.jsx("div",{className:"action-buttons-center",children:r.jsxs("button",{type:"button",onClick:l,className:"secondary-btn-center",children:[r.jsx(nu,{})," Load Previous Work"]})}),r.jsx("form",{onSubmit:Ye,className:"main-form",children:r.jsxs("div",{className:"input-container",children:[r.jsxs("div",{className:"textarea-container",children:[r.jsx("textarea",{ref:ce,value:d,onChange:te,onKeyDown:W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),d.trim()&&!x&&Ye(W))},placeholder:"How can Designetica help you today? (e.g., 'Create a Microsoft Learn certification dashboard with Azure exam tracking and study progress')",rows:4,className:"app-textarea main-input"}),r.jsx("button",{type:"submit",disabled:x||!d.trim(),className:"send-btn",title:x?"Generating...":"Generate",children:x?r.jsx(fl,{size:"small",color:"white"}):r.jsx(dl,{className:"send-icon"})}),x&&r.jsx("button",{type:"button",className:`stop-btn-landing ${x?"generating":""}`,onClick:W=>{console.log("🛑 Stop button clicked!"),console.log("🛑 Current loading state:",x),console.log("🛑 handleStop function:",typeof v),W.preventDefault(),W.stopPropagation();try{console.log("🛑 About to call handleStop..."),v(),console.log("🛑 handleStop called successfully!")}catch(ue){console.error("🛑 Error calling handleStop:",ue)}},title:"Stop generation",children:r.jsx(ul,{})})]}),C&&!x&&j.length>0&&r.jsxs("div",{className:"ai-suggestions-inline ai-suggestions-dynamic",children:[r.jsxs("div",{className:"ai-suggestions-label",children:[r.jsx(al,{className:"ai-icon"}),r.jsx("span",{children:"AI Suggestions:"}),$&&r.jsx("span",{className:"loading-dot",children:"●"})]}),r.jsx("div",{className:"ai-suggestions-buttons",children:j.map((W,ue)=>r.jsxs("button",{type:"button",className:"ai-suggestion-pill ai-suggestion-button",onClick:()=>{T(W)},children:[r.jsx("span",{className:"ai-badge",children:"AI"}),W]},ue))})]}),r.jsxs("div",{className:"integration-pills-container",children:[r.jsxs("button",{type:"button",className:"integration-pill figma-pill",onClick:()=>{console.log("🔗 Figma pill clicked on landing page!"),pe(!0)},title:"Connect with Figma - Import designs or export wireframes",children:[r.jsx(na,{className:"pill-icon"}),r.jsx("span",{children:"Figma Integration"})]}),r.jsxs("button",{type:"button",className:"integration-pill image-pill",onClick:be,title:"Upload UI image to analyze",children:[r.jsx(ii,{className:"pill-icon"}),r.jsx("span",{children:"Upload Image"})]}),r.jsxs("button",{type:"button",className:"integration-pill github-pill",onClick:()=>{console.log("🔗 GitHub pill clicked on landing page!"),ze(!0)},title:"Connect to GitHub repository",children:[r.jsx(sl,{className:"pill-icon"}),r.jsx("span",{children:"Connect GitHub"})]})]}),r.jsx("div",{className:"ai-disclaimer",children:r.jsx("p",{children:"Designetica uses AI. Check for mistakes."})}),r.jsxs("div",{className:"recent-favorites-section",children:[r.jsxs("div",{className:"section-tabs github-style",children:[r.jsxs("button",{className:`tab-btn github-tab ${me==="recent"?"active":""}`,onClick:()=>de("recent"),children:[r.jsx("svg",{className:"tab-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"})}),"Recent"]}),r.jsxs("button",{className:`tab-btn github-tab ${me==="favorites"?"active":""}`,onClick:()=>de("favorites"),children:[r.jsx("svg",{className:"tab-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})}),"Favorites"]})]}),r.jsx("div",{className:"projects-container github-container",ref:Q,children:me==="recent"?F.length>0?F.map(W=>r.jsxs("div",{className:"project-item github-item",onClick:()=>R(W),children:[r.jsx("div",{className:"project-icon",children:r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"})})}),r.jsxs("div",{className:"project-details",children:[r.jsx("div",{className:"project-name",children:W.name}),r.jsx("div",{className:"project-meta",children:W.description||`Created ${new Date(W.createdAt).toLocaleDateString()}`})]}),r.jsxs("div",{className:"project-actions",onClick:ue=>ue.stopPropagation(),children:[r.jsx("button",{className:"action-btn star-btn","aria-label":"Favorite this",title:"Favorite this",onClick:()=>q(W.name,W.description||`Created ${new Date(W.createdAt).toLocaleDateString()}`,W.htmlContent),children:r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})})}),r.jsx("button",{className:"action-btn delete-btn","aria-label":"Delete recent",onClick:()=>b(W.id),children:r.jsx(pl,{size:16})})]})]},W.id)):r.jsx("div",{className:"empty-state",children:r.jsxs("div",{className:"empty-state-content",children:[r.jsx("svg",{className:"empty-icon",width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"})}),r.jsx("p",{className:"empty-message",children:"No recent projects"}),r.jsx("p",{className:"empty-description",children:"Start creating wireframes to see your recent work here"})]})}):k.length>0?k.map(W=>r.jsxs("div",{className:"project-item github-item",onClick:()=>R(W),children:[r.jsx("div",{className:"project-icon favorite",children:r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})})}),r.jsxs("div",{className:"project-details",children:[r.jsx("div",{className:"project-name",children:W.name}),r.jsx("div",{className:"project-meta",children:`Added ${new Date(W.createdAt).toLocaleDateString()}`})]}),r.jsx("div",{className:"project-actions",onClick:ue=>ue.stopPropagation(),children:r.jsx("button",{className:"action-btn delete-btn","aria-label":"Delete favorite",onClick:()=>f(W.id),children:r.jsx(pl,{size:16})})})]},W.id)):r.jsx("div",{className:"empty-state",children:r.jsxs("div",{className:"empty-state-content",children:[r.jsx("svg",{className:"empty-icon",width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})}),r.jsx("p",{className:"empty-message",children:"No favorites"}),r.jsx("p",{className:"empty-description",children:"Star projects to add them to your favorites"})]})})})]})]})}),I&&J&&G&&r.jsx("div",{className:"modal-overlay",onClick:()=>ne(!1),children:r.jsxs("div",{className:"modal-content",onClick:W=>W.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsxs("div",{className:"modal-title",children:[r.jsx(Pn,{className:"modal-icon"}),r.jsx("h2",{children:"Upload Image to Wireframe"})]}),r.jsx("button",{className:"modal-close-btn",onClick:()=>ne(!1),title:"Close modal",children:r.jsx(Qt,{})})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("div",{className:"upload-content",children:[r.jsx("p",{className:"modal-description",children:"Upload an image of a UI design, wireframe, or website screenshot to generate a wireframe based on its layout."}),r.jsx("div",{className:"upload-zone-container",children:r.jsx(Au,{onImageUpload:J,onAnalyzeImage:G,isAnalyzing:y,className:"upload-zone"})})]})})]})})]})}),r.jsx(aa,{isOpen:fe,onClose:()=>pe(!1),onImport:Ue,onExport:ye}),Ie&&r.jsx("div",{className:"modal-overlay",onClick:()=>ze(!1),children:r.jsxs("div",{className:"modal-content github-modal",onClick:W=>W.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:"🚀 Connect to GitHub"}),r.jsx("button",{className:"modal-close-btn",onClick:()=>ze(!1),children:"×"})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"github-benefits",children:[r.jsxs("div",{className:"benefit-item",children:[r.jsx(Zf,{className:"benefit-icon"}),r.jsxs("div",{children:[r.jsx("h4",{children:"Import Repositories"}),r.jsx("p",{children:"Import existing projects and wireframes from your GitHub repositories"})]})]}),r.jsxs("div",{className:"benefit-item",children:[r.jsx(nu,{className:"benefit-icon"}),r.jsxs("div",{children:[r.jsx("h4",{children:"Save Wireframes"}),r.jsx("p",{children:"Automatically save your wireframes to GitHub for version control"})]})]}),r.jsxs("div",{className:"benefit-item",children:[r.jsx(ri,{className:"benefit-icon"}),r.jsxs("div",{children:[r.jsx("h4",{children:"Team Collaboration"}),r.jsx("p",{children:"Share wireframes with your team through GitHub integration"})]})]})]}),r.jsxs("div",{className:"modal-actions",children:[r.jsxs("button",{className:"btn-primary github-connect-btn",type:"button",onClick:()=>{Z.connected||je()},children:[r.jsx(sl,{}),Z.connected?`Connected: ${Z.login}`:"Connect with GitHub"]}),Z.error&&r.jsx("div",{className:"error github-error",children:Z.error}),r.jsx("button",{className:"btn-secondary",onClick:()=>ze(!1),children:"Maybe Later"})]})]})]})}),r.jsx(nm,{isOpen:h.isOpen,onClose:()=>E(W=>Qe(Be({},W),{isOpen:!1})),onConfirm:h.onConfirm,itemName:h.itemName,itemType:h.itemType}),r.jsx(tm,{}),r.jsx(em,{})]})}const lm=({isAI:c,isLoading:a})=>a?r.jsx("span",{className:"suggestion-source-indicator loading",children:r.jsx("span",{className:"loading-dots",children:"..."})}):r.jsx("span",{className:`suggestion-source-indicator ${c?"ai":"local"}`,children:"AI"}),cm=({isVisible:c,message:a="Loading...",progress:l})=>c?r.jsxs("div",{className:`loading-overlay ${c?"visible":""}`,children:[r.jsx("div",{className:"loading-spinner",children:r.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}),r.jsx("div",{className:"loading-message",children:a}),l!==void 0&&r.jsxs("div",{className:"loading-progress-container",children:[r.jsx("div",{className:"loading-progress-bar",children:r.jsx("div",{className:"loading-progress-fill",style:{"--progress":`${Math.max(0,Math.min(100,l))}%`}})}),r.jsxs("div",{className:"loading-progress-text",children:[Math.round(l),"%"]})]})]}):null;function dm(c){return Fe(this,null,function*(){var l;const a=[];for(const d of c)try{if(!d||!d.startsWith("http://")&&!d.startsWith("https://")&&!d.startsWith("/"))continue;let u=d;if(d.startsWith("/")&&(u=(typeof window!="undefined"?window.location.origin:"")+d),!u.startsWith("http"))continue;console.log(`🔗 Attempting to fetch CSS from: ${u}`);const m=yield fetch(u,{method:"GET",mode:"cors",headers:{Accept:"text/css,*/*;q=0.1"}});if(m.ok&&((l=m.headers.get("content-type"))!=null&&l.includes("css"))){const x=yield m.text();x.trim()&&(a.push(`/* Inlined from ${u} */
${x}`),console.log(`✅ Successfully inlined CSS from: ${u} (${x.length} chars)`))}else console.warn(`⚠️ Failed to fetch CSS from ${u}: ${m.status} ${m.statusText}`)}catch(u){console.warn(`❌ Error fetching CSS from ${d}:`,u)}return a.join(`

`)})}function ai(c,a){if(!c)return a?{html:"",styles:"",links:[]}:"";let l=String(c),d=l,u=[],m=[];try{const x=[...d.matchAll(/<style[^>]*>([\s\S]*?)<\/style>/gi)].map(C=>C[1].trim()).filter(Boolean);x.length&&u.push(...x);const v=[...d.matchAll(/<link[^>]*rel=["']stylesheet["'][^>]*>/gi)];for(const C of v){const j=C[0].match(/href=["']([^"']+)["']/i);j&&m.push(j[1])}}catch(x){}try{d=d.replace(/\r\n?/g,`
`),d=d.replace(/```(?:html|HTML)?/g,"").replace(/'''(?:html|HTML)?/g,""),d=d.replace(/^['`\s]+|['`\s]+$/g,"").trim();const x=[/here['']?s a complete html document[^<]*?/i,/here is a complete html document[^<]*?/i,/this is a complete html document[^<]*?/i,/below is (?:a|an) complete html document[^<]*?/i,/the following (?:is|shows) (?:a|an) complete html document[^<]*?/i];for(const y of x)if(y.test(d)){const P=d.search(/<(?:div|header|main|section|nav|article|aside|form|table|ul|ol|footer)\b/i);P!==-1&&(d=d.slice(P));break}if(/<!DOCTYPE html>/i.test(d)||/<html[\s>]/i.test(d)){const y=d.match(/<head[^>]*>([\s\S]*?)<\/head>/i);if(y){const _=y[1],H=[..._.matchAll(/<style[^>]*>([\s\S]*?)<\/style>/gi)].map(Q=>Q[1].trim());H.length&&u.push(...H);const ce=[..._.matchAll(/<link[^>]*rel=["']stylesheet["'][^>]*>/gi)];for(const Q of ce){const I=Q[0].match(/href=["']([^"']+)["']/i);I&&m.push(I[1])}}const P=d.match(/<body[^>]*>([\s\S]*?)<\/body>/i);P?d=P[1]:d=d.replace(/<head>[\s\S]*?<\/head>/gi,"").replace(/<!DOCTYPE[^>]*>/gi,"").replace(/<\/:?html[^>]*>/gi,"").replace(/<body[^>]*>/gi,"").replace(/<\/body>/gi,"")}d=d.replace(/###?\s*Explanation:?[\s\S]*$/i,""),d=d.replace(/^(?:[-*])\s+[^<\n]+$/gim,""),d=d.replace(/<script[\s\S]*?<\/script>/gi,""),d=d.replace(/<!DOCTYPE[^>]*>/gi,"").replace(/<\/?html[^>]*>/gi,"").replace(/<\/?body[^>]*>/gi,""),d=d.trim(),/<(div|header|main|section|article|nav|form|table|ul|ol|footer)\b/i.test(d)||(d=`<div class="generated-page" style="padding:24px;">${d}</div>`);let v=Array.from(new Set(u));const C=Array.from(new Set(m));let j=v.join(`
`);const $=/\.wireframe-content\s/.test(j),T=/class=["']wireframe-content["']/.test(d)||/<div[^>]+wireframe-content/.test(d);let O=!1;if($&&!T&&(d=`<div class="wireframe-content">${d}</div>`,O=!0),j=j.replace(/\.wireframe-content\s+body\b/g,".wireframe-content"),j=j.replace(/\.wireframe-content\s*\/\*/g,"/*"),j=j.replace(/\.wireframe-content\s*@media/g,"@media"),O)try{j=j.replace(/(^|,)\s*(?:html|body)\b/gi,"$1 .wireframe-content"),j=j.replace(/\b(?:html|body)\b/gi,".wireframe-content")}catch(y){}j.replace(/\/\*[\s\S]*?\*\//g,"").trim()||(j="");const G=d.trim();return a?{html:G,styles:j,links:C}:G}catch(x){return{html:l,styles:"",links:[]}}}function vl(c,a=!0){return Fe(this,null,function*(){const l=ai(c,!0);if(a&&l.links&&l.links.length>0)try{const d=yield dm(l.links);return Qe(Be({},l),{inlinedStyles:d,styles:l.styles+(d?`

`+d:"")})}catch(d){return console.warn("Failed to inline external CSS:",d),l}return l})}const um=({page:c,isExistingPage:a})=>{const[l,d]=g.useState({html:"",styles:"",hasContent:!1,isBlankContent:!0}),[u,m]=g.useState(!1);g.useEffect(()=>{Fe(null,null,function*(){var T,O,J;if(!c.htmlContent){d({html:"",styles:"",hasContent:!1,isBlankContent:!0});return}m(!0);try{const G=yield vl(c.htmlContent,!0),y=G.html,P=!!(y&&y.trim()),_=!P||y.trim()==="<p>No content available</p>"||y.includes("No content available");console.log(`🖼️ Preview for ${c.name} (with inlining):`,{id:c.id,hasContent:P,isBlankContent:_,contentLength:(y==null?void 0:y.length)||0,stylesLength:((T=G.styles)==null?void 0:T.length)||0,inlinedLength:((O=G.inlinedStyles)==null?void 0:O.length)||0,hasExternalLinks:(((J=G.links)==null?void 0:J.length)||0)>0,hasInlineStyles:(y==null?void 0:y.includes("style="))||!1}),d({html:y,styles:G.styles||"",hasContent:P,isBlankContent:_})}catch(G){console.warn(`Failed to inline CSS for ${c.name}, using fallback:`,G);const y=ai(c.htmlContent,!0),P=y.html,_=!!(P&&P.trim()),H=!_||P.trim()==="<p>No content available</p>"||P.includes("No content available");d({html:P,styles:y.styles||"",hasContent:_,isBlankContent:H})}finally{m(!1)}})},[c.htmlContent,c.name,c.id]);const{html:x,styles:v,hasContent:C,isBlankContent:j}=l;return r.jsxs("div",{className:"page-preview",children:[r.jsxs("div",{className:"preview-label",children:[a?"Current Wireframe:":"Generated Content:",u&&r.jsx("span",{className:"preview-loading",children:" (Loading CSS...)"})]}),r.jsx("div",{className:`preview-container ${j?"empty":""}`,children:C&&!j?r.jsx("iframe",{srcDoc:`<!DOCTYPE html><html><head><meta charset='utf-8'/><base target="_blank"/><style>
html,body{margin:0;padding:0;box-sizing:border-box;width:100%;height:100%;overflow:hidden;}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;line-height:1.1;font-size:8px;padding:2px;}
*{max-width:100% !important;animation:none !important;transition:none !important;}
img{max-width:100%;height:auto;display:block;}
button,a{pointer-events:none !important;}
/* Compact mini preview styling - force tighter spacing */
h1,h2,h3,h4,h5,h6{font-size:12px;margin:1px 0;line-height:1.1;font-weight:600;}
p{font-size:8px;margin:1px 0;line-height:1.1;}
div{margin:0 !important;padding:1px 2px !important;}
section,article,main{margin:0 !important;padding:1px !important;}
/* Force content to fill space */
.container,div[style*="max-width"]{max-width:100% !important;width:100% !important;margin:0 !important;}
div[style*="padding"]{padding:2px 4px !important;}
div[style*="margin"]{margin:1px 0 !important;}
/* Override any large dimensions */
div[style*="height"]{min-height:auto !important;}
/* Compact forms and inputs */
input,textarea,button{font-size:7px;padding:1px 2px;margin:0;}
/* Make headers more compact */
div[style*="background"][style*="padding"]{padding:2px 4px !important;margin:0 !important;}
${v}
</style></head><body>${x}</body></html>`,className:"wireframe-mini-preview",title:`${c.name} Preview`,sandbox:"allow-same-origin"}):r.jsxs("div",{className:"preview-empty-state",children:[r.jsx("div",{className:"preview-empty-icon",children:a?"📄":"🤖"}),r.jsx("div",{children:a?"No content yet":"Content will be generated"})]})})]})},pm=({isOpen:c,onClose:a,onAddPages:l,existingPages:d=[],onGeneratePageContent:u})=>{const[m,x]=g.useState(d),[v,C]=g.useState(""),[j,$]=g.useState(""),[T,O]=g.useState("page"),[J,G]=g.useState(!1),[y,P]=g.useState({}),[_,H]=g.useState(""),ce="addPages_draft";g.useEffect(()=>{if(c){const k=localStorage.getItem(ce);if(k)try{const N=JSON.parse(k);C(N.name||""),$(N.description||""),O(N.type||"page")}catch(N){console.warn("Failed to load draft:",N)}}},[c]),g.useEffect(()=>{if(c&&(v||j)){const k={name:v,description:j,type:T,timestamp:Date.now()};localStorage.setItem(ce,JSON.stringify(k))}},[v,j,T,c]);const Q=()=>{localStorage.removeItem(ce)},I=(k,N,F)=>{const z=`
            max-width: 1200px; margin: 0 auto; padding: 40px 20px; 
            font-family: 'Segoe UI', sans-serif; line-height: 1.6;
            background: #ffffff; min-height: 100vh;
        `,h=`
            color: #3C4858; margin: 0 0 24px 0; font-size: 28px; font-weight: 600;
        `,E=`
            background: #8E9AAF; color: white; border: none; padding: 12px 24px; 
            border-radius: 4px; cursor: pointer; font-weight: 600; margin: 8px;
            transition: background-color 0.2s ease;
        `,f=`
            background: #f3f2f1; color: #3C4858; border: 1px solid #e1dfdd; 
            padding: 12px 24px; border-radius: 4px; cursor: pointer; margin: 8px;
            transition: background-color 0.2s ease;
        `,b=`
            background: white; border: 1px solid #e1dfdd; border-radius: 8px; 
            padding: 24px; margin: 16px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        `,R=`
            background: #E9ECEF; 
            padding: 60px 40px; border-radius: 12px; margin: 20px 0;
            text-align: center; border: 1px solid #e1dfdd;
        `;switch(F){case"modal":return`
                    <div style="${z}">
                        <div style="background: rgba(0,0,0,0.3); position: fixed; top: 80px; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; z-index: 1000;">
                            <div style="${b} max-width: 500px; position: relative; z-index: 1001;">
                                <button style="position: absolute; top: 16px; right: 16px; background: none; border: none; font-size: 24px; cursor: pointer;">×</button>
                                <h2 style="${h} font-size: 24px;">${k}</h2>
                                <p style="color: #68769C; margin: 0 0 24px 0;">${N}</p>
                                <div style="display: flex; gap: 12px; justify-content: flex-end;">
                                    <button style="${f}">Cancel</button>
                                    <button style="${E}">Confirm</button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;case"component":return`
                    <div style="${z}">
                        <div style="${b}">
                            <h3 style="${h} font-size: 20px; margin-bottom: 16px;">${k} Component</h3>
                            <p style="color: #68769C; margin: 0 0 20px 0;">${N}</p>
                            <div style="border: 2px dashed #e1dfdd; padding: 20px; text-align: center; border-radius: 8px;">
                                <p style="color: #a19f9d; margin: 0;">Component content goes here</p>
                                <p style="color: #a19f9d; margin: 8px 0 0 0; font-size: 14px;">Customize this ${F} based on your needs</p>
                            </div>
                        </div>
                    </div>
                `;default:const q=N.toLowerCase().includes("form")||N.toLowerCase().includes("input"),Ce=N.toLowerCase().includes("dashboard")||N.toLowerCase().includes("analytics"),je=N.toLowerCase().includes("list")||N.toLowerCase().includes("table");return q?`
                        <div style="${z}">
                            <h1 style="${h}">${k}</h1>
                            <p style="color: #68769C; margin: 0 0 32px 0;">${N}</p>
                            <form style="${b}">
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #3C4858;">Field Name</label>
                                    <input type="text" style="width: 100%; padding: 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-size: 16px;" placeholder="Enter value...">
                                </div>
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #3C4858;">Description</label>
                                    <textarea style="width: 100%; padding: 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-size: 16px; min-height: 100px;" placeholder="Enter description..."></textarea>
                                </div>
                                <button type="submit" style="${E}">Submit</button>
                            </form>
                        </div>
                    `:Ce?`
                        <div style="${z}">
                            <div style="${R}">
                                <h1 style="${h} margin-bottom: 16px;">${k}</h1>
                                <p style="color: #68769C; margin: 0; font-size: 18px;">${N}</p>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 32px;">
                                <div style="${b}">
                                    <h3 style="margin: 0 0 12px 0; color: #3C4858; font-size: 16px;">Total Users</h3>
                                    <p style="font-size: 32px; font-weight: bold; margin: 0; color: #8E9AAF;">1,234</p>
                                    <p style="font-size: 14px; color: #107c10; margin: 8px 0 0 0;">↗ +12% vs last month</p>
                                </div>
                                <div style="${b}">
                                    <h3 style="margin: 0 0 12px 0; color: #3C4858; font-size: 16px;">Active Sessions</h3>
                                    <p style="font-size: 32px; font-weight: bold; margin: 0; color: #8E9AAF;">5,678</p>
                                    <p style="font-size: 14px; color: #107c10; margin: 8px 0 0 0;">↗ +8% vs last month</p>
                                </div>
                                <div style="${b}">
                                    <h3 style="margin: 0 0 12px 0; color: #3C4858; font-size: 16px;">Completion Rate</h3>
                                    <p style="font-size: 32px; font-weight: bold; margin: 0; color: #8E9AAF;">87%</p>
                                    <p style="font-size: 14px; color: #107c10; margin: 8px 0 0 0;">↗ +5% vs last month</p>
                                </div>
                            </div>
                            <div style="${b}">
                                <h3 style="margin: 0 0 16px 0; color: #3C4858;">Recent Activity</h3>
                                <p style="color: #68769C; margin: 0 0 20px 0;">Monitor real-time dashboard metrics and analytics.</p>
                                <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                                    <button style="${E}">View Details</button>
                                    <button style="${f}">Export Data</button>
                                </div>
                            </div>
                        </div>
                    `:je?`
                        <div style="${z}">
                            <h1 style="${h}">${k}</h1>
                            <p style="color: #68769C; margin: 0 0 32px 0;">${N}</p>
                            <div style="${b}">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <input type="search" style="padding: 12px; border: 1px solid #e1dfdd; border-radius: 4px; width: 300px;" placeholder="Search items...">
                                    <button style="${E}">Add New</button>
                                </div>
                                <div style="overflow-x: auto;">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="border-bottom: 2px solid #e1dfdd;">
                                                <th style="text-align: left; padding: 12px; font-weight: 600;">Item</th>
                                                <th style="text-align: left; padding: 12px; font-weight: 600;">Status</th>
                                                <th style="text-align: left; padding: 12px; font-weight: 600;">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-bottom: 1px solid #e1dfdd;">
                                                <td style="padding: 12px;">Sample Item 1</td>
                                                <td style="padding: 12px;"><span style="background: #d4f4dd; color: #0f5132; padding: 4px 8px; border-radius: 12px; font-size: 14px;">Active</span></td>
                                                <td style="padding: 12px;"><button style="background: none; border: 1px solid #e1dfdd; padding: 6px 12px; border-radius: 4px; cursor: pointer;">Edit</button></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    `:`
                        <div style="${z}">
                            <div style="${R}">
                                <h1 style="${h} margin-bottom: 16px;">${k}</h1>
                                <p style="color: #68769C; margin: 0; font-size: 18px;">${N}</p>
                            </div>
                            <div style="${b}">
                                <h2 style="color: #3C4858; margin: 0 0 16px 0;">Welcome to ${k}</h2>
                                <p style="color: #68769C; line-height: 1.6;">This page is ready for your content. You can customize it by asking me to generate specific content or modify the layout.</p>
                                <div style="margin: 24px 0;">
                                    <button style="${E}">Get Started</button>
                                    <button style="${f}">Learn More</button>
                                </div>
                            </div>
                        </div>
                    `}};g.useEffect(()=>{x(d)},[d]);const ne=k=>{switch(k){case"page":return'e.g., "A user dashboard with navigation menu, statistics cards, recent activity feed, and action buttons for key features like settings and profile management"';case"modal":return'e.g., "A confirmation dialog with title, message text, cancel and confirm buttons, and a warning icon for delete operations"';case"component":return'e.g., "A reusable navigation bar with logo, menu items, search box, user avatar dropdown, and responsive mobile hamburger menu"';default:return"Describe the purpose, layout, and key elements of this page..."}},ie=()=>{const k={};return v.trim()||(k.name="Page name is required"),j.trim()?j.trim().length<10&&(k.description="Please provide a more detailed description (at least 10 characters)"):k.description="Page description is required for AI content generation",P(k),Object.keys(k).length===0},se=()=>Fe(null,null,function*(){if(ie()){G(!0),H("Preparing content generation...");try{let k="";if(u){console.log("🤖 Starting AI content generation for:",v.trim()),H(`Generating AI content for "${v.trim()}"...`);const F=`Create a ${T} called "${v.trim()}". ${j.trim()}`;console.log("🤖 Content description:",F),k=yield u(F,T),console.log("🤖 AI content generated:",{pageType:T,pageName:v.trim(),contentLength:(k==null?void 0:k.length)||0,hasContent:!!k}),H("Content generated successfully!")}else console.warn("🤖 No AI generation callback provided"),H("Creating smart template..."),k=I(v.trim(),j.trim(),T);const N={id:`page-${Date.now()}`,name:v.trim(),description:j.trim(),type:T,htmlContent:k};x([...m,N]),C(""),$(""),O("page"),P({}),Q(),console.log("📊 Page Generation Analytics:",{pageType:T,pageName:v.trim(),descriptionLength:j.trim().length,aiGenerated:!!k,contentLength:(k==null?void 0:k.length)||0,generationTime:Date.now(),hasAICallback:!!u}),l([...m,N]),a()}catch(k){console.error("Failed to generate page content:",k),P({ai:"AI content generation failed. Page will be created with basic template."});const N=`
                <div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px; font-family: 'Segoe UI', sans-serif; background: #ffffff; min-height: 100vh;">
                    <div style="background: linear-gradient(135deg, #fff4e6 0%, #fef3c7 100%); padding: 60px 40px; border-radius: 12px; margin: 20px 0; text-align: center; border: 1px solid #e1dfdd;">
                        <h1 style="color: #3C4858; margin: 0 0 16px 0; font-size: 28px; font-weight: 600;">📄 ${v.trim()}</h1>
                        <p style="color: #68769C; margin: 0 0 16px 0; font-size: 16px;">
                            ${j.trim()}
                        </p>
                        <p style="color: #a19f9d; margin: 0 0 24px 0; font-size: 14px;">
                            AI content generation temporarily unavailable. Ask me to "generate content for ${v.trim()}" to try again.
                        </p>
                        <button style="background: #8E9AAF; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 600; transition: background-color 0.2s ease;">
                            Generate Content
                        </button>
                    </div>
                </div>
            `,F={id:`page-${Date.now()}`,name:v.trim(),description:j.trim(),type:T,htmlContent:N};x([...m,F]),C(""),$(""),O("page"),setTimeout(()=>{P({}),l([...m,F]),a()},2e3)}finally{G(!1),H("")}}}),fe=k=>{x(m.filter(N=>N.id!==k))},pe=k=>{const N=Qe(Be({},k),{id:`page-${Date.now()}`,name:`${k.name} (Copy)`});x([...m,N])},Ie=()=>Fe(null,null,function*(){v.trim()&&j.trim()&&!J?yield se():(l(m),a())}),ze=new Set(d.map(k=>k.id)),Z=m.filter(k=>!ze.has(k.id)).length,Y=v.trim()&&j.trim()&&j.trim().length>=10,me=k=>{k.key==="Enter"&&v.trim()&&se()},de={page:"Page",modal:"Modal",component:"Component"};return c?r.jsx("div",{className:"modal-overlay",onClick:a,children:r.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{className:"modal-title",children:"Add Pages to Wireframe"}),r.jsx("button",{className:"modal-close",onClick:a,title:"Close",children:r.jsx(Qt,{})})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"add-page-form",children:[r.jsx("h3",{className:"form-title",children:"Add New Page"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"pageName",children:"Page Name *"}),r.jsx("input",{id:"pageName",type:"text",value:v,onChange:k=>{C(k.target.value),y.name&&P(N=>Qe(Be({},N),{name:""}))},onKeyPress:me,placeholder:"e.g., Login Page, Dashboard, Profile",className:`form-input ${y.name?"error":""}`}),y.name&&r.jsx("span",{className:"error-message",children:y.name})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"pageType",children:"Type"}),r.jsxs("select",{id:"pageType",value:T,onChange:k=>O(k.target.value),className:"form-select",children:[r.jsx("option",{value:"page",children:"Page"}),r.jsx("option",{value:"modal",children:"Modal"}),r.jsx("option",{value:"component",children:"Component"})]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"pageDescription",children:"Description * (Used for AI Content Generation)"}),r.jsx("textarea",{id:"pageDescription",value:j,onChange:k=>{$(k.target.value),y.description&&P(N=>Qe(Be({},N),{description:""}))},placeholder:ne(T),className:`form-textarea ${y.description?"error":""}`,rows:4}),y.description&&r.jsx("span",{className:"error-message",children:y.description}),y.ai&&r.jsx("span",{className:"warning-message",children:y.ai}),r.jsx("div",{className:"description-help",children:"💡 Be specific about components, layout, and functionality for better AI-generated content"})]})]}),m.length>0&&r.jsxs("div",{className:"pages-list",children:[r.jsx("h3",{className:"list-title",children:Z>0?r.jsxs(r.Fragment,{children:["All Pages (",m.length,")",r.jsxs("span",{className:"new-pages-indicator",children:["• ",Z," new"]})]}):m.length>0?`Existing Pages (${m.length})`:"No pages yet - fill form above to add first page"}),"                            ",r.jsx("div",{className:"pages-grid",children:m.map(k=>{const N=ze.has(k.id);return r.jsxs("div",{className:`page-card ${N?"existing-page":"new-page"}`,children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{className:"page-info",children:[r.jsxs("h4",{className:"page-name",children:[k.name,!N&&r.jsx("span",{className:"new-badge",children:"NEW"})]}),!N&&r.jsx("span",{className:`page-type-badge page-type-${k.type}`,children:de[k.type]})]}),r.jsxs("div",{className:"page-actions",children:[r.jsx("button",{className:"action-btn",onClick:()=>pe(k),title:"Duplicate",children:r.jsx(Fu,{})}),r.jsx("button",{className:"action-btn delete",onClick:()=>fe(k.id),title:"Delete",children:r.jsx(Xf,{})})]})]}),k.description&&r.jsx("p",{className:"page-description",children:k.description}),r.jsx(um,{page:k,isExistingPage:N})]},k.id)})})]})]}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{className:"btn-secondary",onClick:a,children:"Cancel"}),r.jsx("button",{className:"btn-primary",onClick:Ie,disabled:!Y&&Z===0,children:J?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"spinner"}),_||"Generating..."]}):Y?`Add "${v.trim()}" Page`:Z>0?`Add ${Z} New Page${Z!==1?"s":""}`:"Fill Form to Add Page"})]})]})}):null},fm=({isOpen:c,onClose:a,onSave:l,currentHtml:d,currentCss:u,designTheme:m,colorScheme:x,initialName:v="",isUpdating:C=!1,existingWireframe:j})=>{const[$,T]=g.useState(v||(j==null?void 0:j.name)||""),[O,J]=g.useState((j==null?void 0:j.description)||""),[G,y]=g.useState((j==null?void 0:j.tags)||[]),[P,_]=g.useState(""),[H,ce]=g.useState({format:"html",includeCSS:!0,minifyCode:!1,generateThumbnail:!0}),[Q,I]=g.useState(!1),[ne,ie]=g.useState(!1);g.useEffect(()=>{v&&!C&&T(v)},[v,C]);const se=g.useCallback(()=>{P.trim()&&!G.includes(P.trim())&&(y(Y=>[...Y,P.trim()]),_(""))},[P,G]),fe=g.useCallback(Y=>{y(me=>me.filter(de=>de!==Y))},[]),pe=g.useCallback(Y=>{Y.key==="Enter"&&Y.target===Y.currentTarget&&se()},[se]),Ie=g.useCallback(Y=>{const me=["button","input","select","textarea",".card",".component","[data-component]","nav","header","footer","section","article"],de=document.createElement("div");de.innerHTML=Y;let k=0;return me.forEach(N=>{k+=de.querySelectorAll(N).length}),k},[]),ze=g.useCallback(()=>Fe(null,null,function*(){return new Promise(Y=>{setTimeout(()=>{Y("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmNmZmIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPldpcmVmcmFtZTwvdGV4dD48L3N2Zz4=")},500)})}),[]),Z=g.useCallback(()=>Fe(null,null,function*(){if($.trim()){I(!0);try{const Y=H.generateThumbnail?yield ze():void 0,me={name:$.trim(),description:O.trim(),tags:G,html:d,css:u,thumbnail:Y,metadata:{componentCount:Ie(d),layoutType:"responsive",designTheme:m,colorScheme:x}};yield l(me,H),ie(!0),setTimeout(()=>{ie(!1),a()},1500)}catch(Y){console.error("Save failed:",Y)}finally{I(!1)}}}),[$,O,G,d,u,H,m,x,Ie,ze,l,a]);return c?ne?r.jsx("div",{className:"fluent-modal-backdrop",children:r.jsx("div",{className:"fluent-dialog fluent-success-dialog",children:r.jsxs("div",{className:"fluent-dialog-content",children:[r.jsx("div",{className:"fluent-success-icon",children:r.jsx(Dt,{})}),r.jsx("h2",{className:"fluent-dialog-title",children:"Wireframe Saved Successfully!"}),r.jsxs("p",{className:"fluent-dialog-description",children:['"',$,'" has been saved to your library.']})]})})}):r.jsx("div",{className:"fluent-modal-backdrop",children:r.jsxs("div",{className:"fluent-dialog fluent-save-dialog",role:"dialog","aria-labelledby":"save-dialog-title",children:[r.jsxs("div",{className:"fluent-dialog-header",children:[r.jsxs("h2",{id:"save-dialog-title",className:"fluent-dialog-title",children:[r.jsx(cl,{className:"fluent-icon"}),C?"Update Wireframe":"Save Wireframe"]}),r.jsx("button",{className:"fluent-button fluent-button-ghost fluent-close-button",onClick:a,"aria-label":"Close dialog",children:r.jsx(Qt,{})})]}),r.jsxs("div",{className:"fluent-dialog-body",children:[r.jsxs("div",{className:"fluent-field-group",children:[r.jsxs("div",{className:"fluent-field",children:[r.jsxs("label",{className:"fluent-label",htmlFor:"wireframe-name",children:[r.jsx(Rf,{className:"fluent-icon"}),"Wireframe Name"]}),r.jsx("input",{id:"wireframe-name",type:"text",value:$,onChange:Y=>T(Y.target.value),placeholder:"Enter a name for your wireframe",className:"fluent-input",autoFocus:!0,required:!0})]}),r.jsxs("div",{className:"fluent-field",children:[r.jsxs("label",{className:"fluent-label",htmlFor:"wireframe-description",children:[r.jsx(hl,{className:"fluent-icon"}),"Description (Optional)"]}),r.jsx("textarea",{id:"wireframe-description",value:O,onChange:Y=>J(Y.target.value),placeholder:"Describe your wireframe design and purpose",className:"fluent-textarea",rows:3})]})]}),r.jsx("div",{className:"fluent-field-group",children:r.jsxs("div",{className:"fluent-field",children:[r.jsxs("label",{className:"fluent-label",children:[r.jsx(qf,{className:"fluent-icon"}),"Tags"]}),r.jsxs("div",{className:"fluent-tag-field",children:[r.jsxs("div",{className:"fluent-input-group",children:[r.jsx("input",{type:"text",value:P,onChange:Y=>_(Y.target.value),onKeyDown:pe,placeholder:"Add tags (press Enter)",className:"fluent-input"}),r.jsx("button",{type:"button",onClick:se,className:"fluent-button fluent-button-primary",disabled:!P.trim(),children:"Add"})]}),G.length>0&&r.jsx("div",{className:"fluent-tag-list",children:G.map((Y,me)=>r.jsxs("div",{className:"fluent-tag",children:[r.jsx("span",{className:"fluent-tag-text",children:Y}),r.jsx("button",{onClick:()=>fe(Y),className:"fluent-tag-remove","aria-label":`Remove ${Y} tag`,children:r.jsx(Qt,{})})]},me))})]})]})}),r.jsxs("div",{className:"fluent-field-group",children:[r.jsx("h3",{className:"fluent-section-title",children:"Save Options"}),r.jsxs("div",{className:"fluent-field",children:[r.jsxs("label",{className:"fluent-label",children:[r.jsx(Vi,{className:"fluent-icon"}),"Export Format"]}),r.jsxs("div",{className:"fluent-radio-group",children:[r.jsxs("label",{className:"fluent-radio-option",children:[r.jsx("input",{type:"radio",name:"format",value:"html",checked:H.format==="html",onChange:Y=>ce(me=>Qe(Be({},me),{format:Y.target.value})),className:"fluent-radio"}),r.jsx("span",{className:"fluent-radio-indicator"}),r.jsx("span",{className:"fluent-radio-label",children:"HTML + CSS"})]}),r.jsxs("label",{className:"fluent-radio-option",children:[r.jsx("input",{type:"radio",name:"format",value:"react",checked:H.format==="react",onChange:Y=>ce(me=>Qe(Be({},me),{format:Y.target.value})),className:"fluent-radio"}),r.jsx("span",{className:"fluent-radio-indicator"}),r.jsx("span",{className:"fluent-radio-label",children:"React Components"})]}),r.jsxs("label",{className:"fluent-radio-option",children:[r.jsx("input",{type:"radio",name:"format",value:"figma",checked:H.format==="figma",onChange:Y=>ce(me=>Qe(Be({},me),{format:Y.target.value})),className:"fluent-radio"}),r.jsx("span",{className:"fluent-radio-indicator"}),r.jsx("span",{className:"fluent-radio-label",children:"Figma Export"})]})]})]}),r.jsx("div",{className:"fluent-field",children:r.jsxs("div",{className:"fluent-checkbox-group",children:[r.jsxs("label",{className:"fluent-checkbox-option",children:[r.jsx("input",{type:"checkbox",checked:H.includeCSS,onChange:Y=>ce(me=>Qe(Be({},me),{includeCSS:Y.target.checked})),className:"fluent-checkbox"}),r.jsx("span",{className:"fluent-checkbox-indicator",children:r.jsx(Dt,{className:"fluent-checkbox-check"})}),r.jsx("span",{className:"fluent-checkbox-label",children:"Include CSS styles"})]}),r.jsxs("label",{className:"fluent-checkbox-option",children:[r.jsx("input",{type:"checkbox",checked:H.minifyCode,onChange:Y=>ce(me=>Qe(Be({},me),{minifyCode:Y.target.checked})),className:"fluent-checkbox"}),r.jsx("span",{className:"fluent-checkbox-indicator",children:r.jsx(Dt,{className:"fluent-checkbox-check"})}),r.jsx("span",{className:"fluent-checkbox-label",children:"Minify code for production"})]}),r.jsxs("label",{className:"fluent-checkbox-option",children:[r.jsx("input",{type:"checkbox",checked:H.generateThumbnail,onChange:Y=>ce(me=>Qe(Be({},me),{generateThumbnail:Y.target.checked})),className:"fluent-checkbox"}),r.jsx("span",{className:"fluent-checkbox-indicator",children:r.jsx(Dt,{className:"fluent-checkbox-check"})}),r.jsxs("span",{className:"fluent-checkbox-label",children:[r.jsx(ii,{className:"fluent-icon"}),"Generate preview thumbnail"]})]})]})})]}),r.jsxs("div",{className:"fluent-field-group",children:[r.jsx("h3",{className:"fluent-section-title",children:"Wireframe Info"}),r.jsxs("div",{className:"fluent-info-grid",children:[r.jsxs("div",{className:"fluent-info-card",children:[r.jsx("span",{className:"fluent-info-label",children:"Components"}),r.jsx("span",{className:"fluent-info-value",children:Ie(d)||"None"})]}),r.jsxs("div",{className:"fluent-info-card",children:[r.jsx("span",{className:"fluent-info-label",children:"Theme"}),r.jsx("span",{className:"fluent-info-value",children:m})]}),r.jsxs("div",{className:"fluent-info-card",children:[r.jsx("span",{className:"fluent-info-label",children:"Color Scheme"}),r.jsx("span",{className:"fluent-info-value",children:x})]}),r.jsxs("div",{className:"fluent-info-card",children:[r.jsx("span",{className:"fluent-info-label",children:"Code Size"}),r.jsxs("span",{className:"fluent-info-value",children:[((d.length+u.length)/1024).toFixed(1),"KB"]})]})]})]})]}),r.jsxs("div",{className:"fluent-dialog-footer",children:[r.jsx("button",{onClick:a,className:"fluent-button fluent-button-secondary",disabled:Q,children:"Cancel"}),r.jsx("button",{onClick:Z,className:"fluent-button fluent-button-primary",disabled:!$.trim()||Q,children:Q?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fluent-spinner"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zr,{className:"fluent-icon"}),C?"Update":"Save"," Wireframe"]})})]})]})}):null},mm=({isOpen:c,onClose:a,onDownload:l,wireframeTitle:d="Wireframe"})=>{const[u,m]=g.useState("html"),x=()=>{l(u),a()};return c?r.jsx("div",{className:"download-modal-overlay",children:r.jsxs("div",{className:"download-modal",children:[r.jsxs("div",{className:"download-modal-header",children:[r.jsxs("div",{className:"download-modal-title",children:[r.jsx(zr,{className:"download-icon"}),r.jsx("h2",{children:"Download Wireframe"})]}),r.jsx("button",{className:"download-modal-close",onClick:a,"aria-label":"Close download modal",children:r.jsx(Qt,{})})]}),r.jsxs("div",{className:"download-modal-content",children:[r.jsx("div",{className:"download-description",children:r.jsxs("p",{children:["Choose how you'd like to download your wireframe: ",r.jsxs("strong",{children:['"',d,'"']})]})}),r.jsxs("div",{className:"download-format-selection",children:[r.jsxs("label",{className:"download-format-option",children:[r.jsx("input",{type:"radio",name:"downloadFormat",value:"html",checked:u==="html",onChange:v=>m(v.target.value)}),r.jsxs("div",{className:"format-card",children:[r.jsx(hl,{className:"format-icon"}),r.jsxs("div",{className:"format-details",children:[r.jsx("h3",{children:"📄 Complete HTML File"}),r.jsx("p",{children:"Self-contained webpage ready for sharing or hosting"}),r.jsxs("ul",{children:[r.jsx("li",{children:"✅ Open in any web browser"}),r.jsx("li",{children:"✅ Share with clients or stakeholders"}),r.jsx("li",{children:"✅ Perfect for presentations"}),r.jsx("li",{children:"✅ Host on websites or servers"})]})]})]})]}),r.jsxs("label",{className:"download-format-option",children:[r.jsx("input",{type:"radio",name:"downloadFormat",value:"json",checked:u==="json",onChange:v=>m(v.target.value)}),r.jsxs("div",{className:"format-card",children:[r.jsx(Vi,{className:"format-icon"}),r.jsxs("div",{className:"format-details",children:[r.jsx("h3",{children:"💾 JSON Data File"}),r.jsx("p",{children:"Raw wireframe data for developers or backup purposes"}),r.jsxs("ul",{children:[r.jsx("li",{children:"📄 Complete HTML structure"}),r.jsx("li",{children:"🎨 Design metadata and settings"}),r.jsx("li",{children:"⏰ Export timestamp"}),r.jsx("li",{children:"📝 Project description and details"})]})]})]})]})]}),r.jsxs("div",{className:"download-actions",children:[r.jsx("button",{className:"download-btn download-btn-secondary",onClick:a,children:"Cancel"}),r.jsxs("button",{className:"download-btn download-btn-primary",onClick:x,children:[r.jsx(zr,{}),"Download ",u==="html"?"HTML":"JSON"," File"]})]})]})]})}):null},xl=({isOpen:c,onClose:a,onAddComponent:l,onGenerateWithAI:d,currentDescription:u,libraryType:m})=>{const v=m==="dev-playbooks"?["Fluent Dev Playbook","Atlas Dev Playbook","Azure Dev Playbook"]:m==="figma-components"?["Figma Fluent Library","Figma Atlas Library","Figma Azure Library"]:["Fluent Dev Playbook","Atlas Dev Playbook","Azure Dev Playbook","Figma Fluent Library","Figma Atlas Library","Figma Azure Library"],C=v[0],[j,$]=g.useState(C),[T,O]=g.useState("all"),[J,G]=g.useState("All"),[y,P]=g.useState(""),[_,H]=g.useState([]),[ce,Q]=g.useState(!1),[I,ne]=g.useState(new Set);g.useEffect(()=>{c&&(O("all"),ie())},[c,j]);const ie=()=>Fe(null,null,function*(){Q(!0);try{let f=[];switch(j){case"Fluent Dev Playbook":f=yield se();break;case"Atlas Dev Playbook":f=yield fe();break;case"Azure Dev Playbook":console.log("🔥 Loading Azure Dev Playbook"),f=yield de(),console.log("🔥 Azure components loaded:",f.length);break;case"Figma Fluent Library":f=yield Z();break;case"Figma Atlas Library":f=yield Y();break;case"Figma Azure Library":f=yield me();break}H(f),console.log("🎯 Components set to state:",f.length)}catch(f){console.error("Error loading components:",f)}finally{Q(!1)}}),se=()=>Fe(null,null,function*(){try{const f=yield fetch("/fluent-library.json");if(!f.ok)throw new Error("Failed to load Fluent UI components");return(yield f.json()).components.map(R=>({id:R.id,name:R.name,description:R.description,category:R.category,htmlCode:R.htmlCode,source:"fluent-github",sourceUrl:R.githubPath?`https://github.com/microsoft/fluentui/tree/master/packages/${R.githubPath}`:void 0,playbook:"Fluent Dev Playbook"}))}catch(f){return console.error("Error loading Fluent components:",f),[]}}),fe=()=>Fe(null,null,function*(){try{const f=yield fetch("/atlas-library.json");if(!f.ok)throw new Error("Failed to load Atlas components");return(yield f.json()).components.map(R=>({id:R.id,name:R.name,description:R.description,category:R.category,htmlCode:R.htmlCode,source:"atlas-github",sourceUrl:R.atlasUrl||`https://design.learn.microsoft.com/atomics/${R.category.toLowerCase()}`,playbook:"Atlas Dev Playbook"}))}catch(f){return console.error("Error loading Atlas components:",f),[]}}),pe=f=>{const b=f.toLowerCase();return b.includes("button")||b.includes("btn")?"button":b.includes("toggle")||b.includes("switch")?"toggle":b.includes("slider")||b.includes("range")?"slider":b.includes("checkbox")||b.includes("check")?"checkbox":b.includes("radio")?"radio":b.includes("menu")||b.includes("dropdown")?"menu":b.includes("tooltip")||b.includes("popover")?"tooltip":b.includes("card")?"card":b.includes("panel")||b.includes("container")?"panel":b.includes("sidebar")||b.includes("drawer")?"sidebar":b.includes("nav")||b.includes("navigation")?"navigation":b.includes("tab")?"tabs":b.includes("accordion")||b.includes("collapse")?"accordion":b.includes("divider")||b.includes("separator")?"divider":b.includes("table")||b.includes("data")||b.includes("grid")?"table":b.includes("list")||b.includes("item")?"list":b.includes("chart")||b.includes("graph")?"chart":b.includes("calendar")||b.includes("date")?"calendar":b.includes("timeline")||b.includes("step")?"timeline":b.includes("avatar")||b.includes("profile")?"avatar":b.includes("form")||b.includes("input")?"form":b.includes("field")||b.includes("text")?"input":b.includes("select")||b.includes("picker")?"select":b.includes("upload")||b.includes("file")?"upload":b.includes("search")||b.includes("filter")?"search":b.includes("modal")||b.includes("dialog")?"modal":b.includes("alert")||b.includes("notification")?"alert":b.includes("badge")||b.includes("tag")||b.includes("label")?"badge":b.includes("progress")||b.includes("loading")||b.includes("spinner")?"progress":b.includes("skeleton")||b.includes("placeholder")?"skeleton":b.includes("toast")||b.includes("snackbar")?"toast":b.includes("image")||b.includes("photo")||b.includes("picture")?"image":b.includes("video")||b.includes("player")?"video":b.includes("carousel")||b.includes("gallery")||b.includes("slideshow")?"carousel":b.includes("tree")||b.includes("hierarchy")?"tree":b.includes("editor")||b.includes("rich")?"editor":b.includes("code")||b.includes("syntax")?"code":b.includes("breadcrumb")||b.includes("path")?"breadcrumb":b.includes("pagination")?"pagination":"general"},Ie=(f,b)=>{const R={button:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 20px; font-family: 'Segoe UI', sans-serif; width: 280px;">
                    <div style="margin-bottom: 16px;">
                        <div style="font-weight: 600; color: #3C4858; font-size: 14px; margin-bottom: 12px;">${f}</div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 14px; font-weight: 500; cursor: pointer;">Primary</button>
                            <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 8px 16px; border-radius: 4px; font-size: 14px; font-weight: 500; cursor: pointer;">Secondary</button>
                        </div>
                    </div>
                    <div style="font-size: 11px; color: #68769C; opacity: 0.8;">From Figma Fluent Library</div>
                </div>`,card:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 16px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="background: #f3f2f1; border-radius: 6px; height: 80px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; color: #68769C;">
                        <div style="font-size: 24px;">📊</div>
                    </div>
                    <div style="font-weight: 600; color: #3C4858; font-size: 14px; margin-bottom: 4px;">${f}</div>
                    <div style="color: #68769C; font-size: 12px; line-height: 1.4; margin-bottom: 12px;">Interactive card component with Fluent Design styling</div>
                    <div style="font-size: 11px; color: #68769C; opacity: 0.8;">From Figma Fluent Library</div>
                </div>`,navigation:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; overflow: hidden; font-family: 'Segoe UI', sans-serif; width: 320px;">
                    <div style="background: #f3f2f1; padding: 12px 16px; border-bottom: 1px solid #e1dfdd; display: flex; align-items: center; gap: 12px;">
                        <div style="width: 24px; height: 24px; background: #8E9AAF; border-radius: 4px;"></div>
                        <div style="font-weight: 600; color: #3C4858; font-size: 14px;">${f}</div>
                    </div>
                    <div style="padding: 8px;">
                        <div style="display: flex; flex-direction: column; gap: 2px;">
                            <div style="padding: 8px 12px; color: #8E9AAF; background: #f3f9fd; border-radius: 4px; font-size: 13px;">Home</div>
                            <div style="padding: 8px 12px; color: #68769C; font-size: 13px;">Products</div>
                            <div style="padding: 8px 12px; color: #68769C; font-size: 13px;">About</div>
                        </div>
                    </div>
                    <div style="padding: 12px 16px; font-size: 11px; color: #68769C; opacity: 0.8; border-top: 1px solid #e1dfdd;">From Figma Fluent Library</div>
                </div>`,form:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 20px; font-family: 'Segoe UI', sans-serif; width: 280px;">
                    <div style="font-weight: 600; color: #3C4858; font-size: 14px; margin-bottom: 16px;">${f}</div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 12px; color: #68769C; margin-bottom: 4px;">Email address</label>
                        <input style="width: 100%; padding: 8px 12px; border: 1px solid #d2d0ce; border-radius: 4px; font-size: 14px; box-sizing: border-box;" type="email" placeholder="name@example.com" disabled>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 12px; color: #68769C; margin-bottom: 4px;">Message</label>
                        <textarea style="width: 100%; padding: 8px 12px; border: 1px solid #d2d0ce; border-radius: 4px; font-size: 14px; height: 60px; resize: none; box-sizing: border-box;" placeholder="Your message..." disabled></textarea>
                    </div>
                    <div style="font-size: 11px; color: #68769C; opacity: 0.8;">From Figma Fluent Library</div>
                </div>`,general:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 16px; font-family: 'Segoe UI', sans-serif; width: 280px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #8E9AAF, #68769C); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 20px;">
                            ${f.charAt(0).toUpperCase()}
                        </div>
                        <div>
                            <div style="font-weight: 600; color: #3C4858; font-size: 14px;">${f}</div>
                            <div style="color: #68769C; font-size: 12px;">Fluent UI Component</div>
                        </div>
                    </div>
                    <div style="font-size: 11px; color: #68769C; opacity: 0.8;">From Figma Fluent Library</div>
                </div>`};return R[b]||R.general},ze=(f,b)=>{const R={button:`
                <div style="background: white; border: 1px solid #e1e5e9; border-radius: 12px; padding: 20px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
                    <div style="margin-bottom: 16px;">
                        <div style="font-weight: 600; color: #1a1a1a; font-size: 14px; margin-bottom: 12px;">${f}</div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <button style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; box-shadow: 0 2px 8px rgba(102,126,234,0.3);">Primary</button>
                            <button style="background: transparent; color: #667eea; border: 2px solid #667eea; padding: 8px 18px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer;">Secondary</button>
                        </div>
                    </div>
                    <div style="font-size: 11px; color: #6b7280; opacity: 0.8;">From Figma Atlas Library</div>
                </div>`,card:`
                <div style="background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%); border: 1px solid #e1e5e9; border-radius: 16px; padding: 16px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; height: 80px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; color: white;">
                        <div style="font-size: 28px;">🎨</div>
                    </div>
                    <div style="font-weight: 600; color: #1a1a1a; font-size: 14px; margin-bottom: 4px;">${f}</div>
                    <div style="color: #6b7280; font-size: 12px; line-height: 1.4; margin-bottom: 12px;">Atlas Design System card with gradient styling and modern aesthetics</div>
                    <div style="font-size: 11px; color: #6b7280; opacity: 0.8;">From Figma Atlas Library</div>
                </div>`,navigation:`
                <div style="background: white; border: 1px solid #e1e5e9; border-radius: 12px; overflow: hidden; font-family: 'Segoe UI', sans-serif; width: 320px; box-shadow: 0 4px 16px rgba(0,0,0,0.08);">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 16px; color: white;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="width: 28px; height: 28px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                <div style="width: 16px; height: 16px; background: white; border-radius: 4px;"></div>
                            </div>
                            <div style="font-weight: 600; font-size: 14px;">${f}</div>
                        </div>
                    </div>
                    <div style="padding: 12px;">
                        <div style="display: flex; flex-direction: column; gap: 4px;">
                            <div style="padding: 10px 16px; color: #667eea; background: linear-gradient(135deg, #f0f2ff 0%, #e6e9ff 100%); border-radius: 8px; font-size: 13px; font-weight: 500;">Dashboard</div>
                            <div style="padding: 10px 16px; color: #6b7280; font-size: 13px;">Analytics</div>
                            <div style="padding: 10px 16px; color: #6b7280; font-size: 13px;">Settings</div>
                        </div>
                    </div>
                    <div style="padding: 12px 16px; font-size: 11px; color: #6b7280; opacity: 0.8; border-top: 1px solid #e1e5e9;">From Figma Atlas Library</div>
                </div>`,form:`
                <div style="background: white; border: 1px solid #e1e5e9; border-radius: 12px; padding: 20px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 4px 16px rgba(0,0,0,0.08);">
                    <div style="font-weight: 600; color: #1a1a1a; font-size: 14px; margin-bottom: 16px;">${f}</div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 12px; color: #6b7280; margin-bottom: 6px; font-weight: 500;">Email address</label>
                        <input style="width: 100%; padding: 12px 16px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; box-sizing: border-box; transition: border-color 0.2s;" type="email" placeholder="name@example.com" disabled>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 12px; color: #6b7280; margin-bottom: 6px; font-weight: 500;">Message</label>
                        <textarea style="width: 100%; padding: 12px 16px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; height: 60px; resize: none; box-sizing: border-box;" placeholder="Your message..." disabled></textarea>
                    </div>
                    <div style="font-size: 11px; color: #6b7280; opacity: 0.8;">From Figma Atlas Library</div>
                </div>`,general:`
                <div style="background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%); border: 1px solid #e1e5e9; border-radius: 12px; padding: 16px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 4px 16px rgba(0,0,0,0.08);">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 20px; box-shadow: 0 4px 12px rgba(102,126,234,0.3);">
                            ${f.charAt(0).toUpperCase()}
                        </div>
                        <div>
                            <div style="font-weight: 600; color: #1a1a1a; font-size: 14px;">${f}</div>
                            <div style="color: #6b7280; font-size: 12px;">Atlas Design Component</div>
                        </div>
                    </div>
                    <div style="font-size: 11px; color: #6b7280; opacity: 0.8;">From Figma Atlas Library</div>
                </div>`};return R[b]||R.general},Z=()=>Fe(null,null,function*(){try{const f=yield fetch("/figma-fluent-library.json");if(f.ok){const R=(yield f.json()).components.map(q=>{const Ce=pe(q.name),je=Ie(q.name,Ce);return{id:q.id,name:q.name,description:q.description,category:q.category,htmlCode:je,source:"figma-fluent",sourceUrl:q.sourceUrl,playbook:"Figma Fluent Library"}});return console.log(`✅ Loaded ${R.length} enhanced Fluent Figma components`),R}}catch(f){console.warn("Could not load Fluent Figma library:",f)}return[{id:"figma-fluent-button-set",name:"Fluent Button Set",description:"Complete button component set from Fluent 2 Figma library",category:"Buttons",source:"figma-fluent",sourceUrl:"https://www.figma.com/design/GvIcCw0tWaJVDSWD4f1OIW/Fluent-2-web?node-id=0-1&p=f&t=0UVE7Ann6oVPNlGW-0",playbook:"Figma Fluent Library",htmlCode:`
            <div style="padding: 24px; background: #f8f9fa; border-radius: 8px; font-family: 'Segoe UI', sans-serif;">
                <h3 style="margin: 0 0 16px 0; color: #3C4858;">Fluent Button Components</h3>
                <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
                    <button style="background: #8E9AAF; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: 600;">Primary</button>
                    <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: 600;">Secondary</button>
                    <button style="background: transparent; color: #3C4858; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: 600;">Subtle</button>
                    <button style="background: #f3f2f1; color: #a19f9d; border: none; padding: 10px 20px; border-radius: 4px; cursor: not-allowed; font-weight: 600;" disabled>Disabled</button>
                </div>
                <p style="margin: 16px 0 0 0; font-size: 12px; color: #68769C;">From Fluent 2 Figma Design System (Fallback)</p>
            </div>`}]}),Y=()=>Fe(null,null,function*(){try{const f=yield fetch("/figma-atlas-library.json");if(f.ok){const R=(yield f.json()).components.map(q=>{const Ce=pe(q.name),je=ze(q.name,Ce);return{id:q.id,name:q.name,description:q.description,category:q.category,htmlCode:je,source:"figma-atlas",sourceUrl:q.sourceUrl,playbook:"Figma Atlas Library"}});return console.log(`✅ Loaded ${R.length} enhanced Atlas Figma components`),R}}catch(f){console.warn("Could not load Atlas Figma library:",f)}return[{id:"figma-atlas-navigation",name:"Atlas Navigation",description:"Navigation component from Atlas Figma library",category:"Navigation",source:"figma-atlas",sourceUrl:"https://www.figma.com/design/PuWj05uKXhfbqrhmJLtCij/Atlas-library-for-designetica?node-id=1-4688",playbook:"Figma Atlas Library",htmlCode:`
            <div style="background: white; border: 1px solid #e1e5e9; border-radius: 8px; overflow: hidden; font-family: 'Segoe UI', sans-serif;">
                <div style="background: #8E9AAF; color: white; padding: 16px 24px;">
                    <h3 style="margin: 0; font-size: 18px;">Atlas Navigation</h3>
                </div>
                <nav style="padding: 16px 0;">
                    <a href="#" style="display: block; padding: 12px 24px; color: #3C4858; text-decoration: none; border-left: 3px solid #8E9AAF; background: #f3f9ff;">Dashboard</a>
                    <a href="#" style="display: block; padding: 12px 24px; color: #68769C; text-decoration: none; border-left: 3px solid transparent;">Analytics</a>
                    <a href="#" style="display: block; padding: 12px 24px; color: #68769C; text-decoration: none; border-left: 3px solid transparent;">Projects</a>
                    <a href="#" style="display: block; padding: 12px 24px; color: #68769C; text-decoration: none; border-left: 3px solid transparent;">Settings</a>
                </nav>
                <p style="margin: 0; padding: 16px 24px; font-size: 12px; color: #68769C; border-top: 1px solid #f3f2f1;">From Atlas Figma Library (Fallback)</p>
            </div>`}]}),me=()=>Fe(null,null,function*(){try{const f=yield fetch("/figma-azure-library.json");if(f.ok){const R=(yield f.json()).components.map(q=>({id:q.id,name:q.name,description:q.description,category:q.category,htmlCode:q.htmlCode,source:"figma-azure",sourceUrl:q.sourceUrl,playbook:"Figma Azure Library"}));return console.log(`✅ Loaded ${R.length} Azure Figma components`),R}}catch(f){console.warn("Could not load Azure Figma library:",f)}return[{id:"figma-azure-dashboard",name:"Azure Resource Dashboard",description:"Azure resource management dashboard from Figma Azure library",category:"Dashboards",source:"figma-azure",sourceUrl:"https://www.figma.com/design/Bwn8rmUOYtnPRwA3JoQTBn/Web-UI-kit---Azure-Fluent-extension?node-id=3002-373291&p=f&t=D0O7CJYPRwQGcynA-0",playbook:"Figma Azure Library",htmlCode:`
            <div style="background: white; border: 1px solid #e1dfdd; border-radius: 12px; overflow: hidden; font-family: 'Segoe UI', sans-serif; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 480px;">
                <div style="background: linear-gradient(135deg, #8E9AAF 0%, #68769C 100%); color: white; padding: 24px;">
                    <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                        <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <div style="width: 24px; height: 24px; background: white; border-radius: 4px;"></div>
                        </div>
                        <div>
                            <h2 style="margin: 0; font-size: 24px; font-weight: 600;">Azure Portal</h2>
                            <p style="margin: 4px 0 0 0; opacity: 0.9; font-size: 14px;">Resource Management Dashboard</p>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px;">
                        <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">47</div>
                            <div style="font-size: 12px; opacity: 0.9;">Resources</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">12</div>
                            <div style="font-size: 12px; opacity: 0.9;">Services</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">3</div>
                            <div style="font-size: 12px; opacity: 0.9;">Regions</div>
                        </div>
                    </div>
                </div>
                <div style="padding: 24px;">
                    <div style="margin-bottom: 20px;">
                        <h3 style="margin: 0 0 12px 0; color: #3C4858; font-size: 16px; font-weight: 600;">Recent Activity</h3>
                        <div style="space-y: 8px;">
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 0; border-bottom: 1px solid #f3f2f1;">
                                <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                <span style="flex: 1; font-size: 14px; color: #3C4858;">App Service deployed successfully</span>
                                <span style="font-size: 12px; color: #68769C;">2m ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 0; border-bottom: 1px solid #f3f2f1;">
                                <div style="width: 8px; height: 8px; background: #8E9AAF; border-radius: 50%;"></div>
                                <span style="flex: 1; font-size: 14px; color: #3C4858;">SQL Database backup completed</span>
                                <span style="font-size: 12px; color: #68769C;">15m ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 0;">
                                <div style="width: 8px; height: 8px; background: #d83b01; border-radius: 50%;"></div>
                                <span style="flex: 1; font-size: 14px; color: #3C4858;">Function app scaling event</span>
                                <span style="font-size: 12px; color: #68769C;">1h ago</span>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button style="background: #8E9AAF; color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; flex: 1;">Manage Resources</button>
                        <button style="background: transparent; color: #8E9AAF; border: 2px solid #8E9AAF; padding: 12px 24px; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; flex: 1;">View Metrics</button>
                    </div>
                </div>
                <div style="background: #f8f9fa; padding: 12px 24px; font-size: 12px; color: #68769C; text-align: center;">
                    From Azure Figma Design System (Fallback)
                </div>
            </div>`}]}),de=()=>Fe(null,null,function*(){console.log("🚀 Loading Azure Service components!");const f=[{id:"azure-resource-group",name:"Resource Group Card",description:"Azure Resource Group management card with resource overview and quick actions",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/overview",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 20px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">RG</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">my-app-resources</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">East US • Active</p>
                                </div>
                            </div>
                            <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 12px; cursor: pointer;">Manage</button>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                            <div style="text-align: center;">
                                <div style="font-size: 20px; font-weight: 600; color: #3C4858;">12</div>
                                <div style="font-size: 12px; color: #68769C;">Resources</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 20px; font-weight: 600; color: #107c10;">$47.82</div>
                                <div style="font-size: 12px; color: #68769C;">Monthly Cost</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 20px; font-weight: 600; color: #8E9AAF;">3</div>
                                <div style="font-size: 12px; color: #68769C;">Deployments</div>
                            </div>
                        </div>
                        <div style="border-top: 1px solid #e1dfdd; padding-top: 12px;">
                            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 11px;">App Service</span>
                                <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 11px;">SQL Database</span>
                                <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 11px;">Storage Account</span>
                            </div>
                        </div>
                    </div>`},{id:"azure-app-service",name:"App Service Dashboard",description:"Azure App Service monitoring dashboard with deployment status and performance metrics",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/app-service/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 450px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">AS</div>
                                    <div>
                                        <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">my-web-app</h3>
                                        <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">https://my-web-app.azurewebsites.net</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #107c10; font-weight: 600;">Running</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">CPU Usage</div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="background: #f3f2f1; height: 8px; border-radius: 4px; flex: 1; position: relative;">
                                            <div style="background: #107c10; height: 100%; width: 35%; border-radius: 4px;"></div>
                                        </div>
                                        <span style="font-size: 14px; font-weight: 600; color: #3C4858;">35%</span>
                                    </div>
                                </div>
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">Memory Usage</div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="background: #f3f2f1; height: 8px; border-radius: 4px; flex: 1; position: relative;">
                                            <div style="background: #8E9AAF; height: 100%; width: 67%; border-radius: 4px;"></div>
                                        </div>
                                        <span style="font-size: 14px; font-weight: 600; color: #3C4858;">67%</span>
                                    </div>
                                </div>
                            </div>
                            <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; flex: 1;">Deploy</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; flex: 1;">Logs</button>
                            </div>
                            <div style="border-top: 1px solid #e1dfdd; padding-top: 12px; font-size: 12px; color: #68769C;">
                                Last deployment: 2 hours ago • Build #247
                            </div>
                        </div>
                    </div>`},{id:"azure-sql-database",name:"SQL Database Panel",description:"Azure SQL Database management panel with connection strings and performance monitoring",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-sql/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 380px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">DB</div>
                                    <div>
                                        <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-database</h3>
                                        <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">SQL Database • Standard S2</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #107c10; font-weight: 600;">Online</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">47</div>
                                    <div style="font-size: 11px; color: #68769C;">DTU Usage</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">23.4 GB</div>
                                    <div style="font-size: 11px; color: #68769C;">Storage Used</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 4px;">Connection String</div>
                                <div style="font-size: 10px; color: #3C4858; font-family: 'Courier New', monospace; word-break: break-all;">Server=tcp:myserver.database.windows.net...</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Query Editor</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Metrics</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-storage-account",name:"Storage Account Widget",description:"Azure Storage Account overview with blob containers, file shares, and usage statistics",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/storage/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 360px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">ST</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myappstorage</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">General Purpose v2 • Hot Tier</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">2.3 GB</div>
                                    <div style="font-size: 11px; color: #68769C;">Used Storage</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">$4.12</div>
                                    <div style="font-size: 11px; color: #68769C;">Monthly Cost</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="font-size: 12px; color: #68769C; margin-bottom: 8px;">Services</div>
                                <div style="space-y: 4px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 6px 0;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 16px; height: 16px; background: #8E9AAF; border-radius: 2px;"></div>
                                            <span style="font-size: 12px; color: #3C4858;">Blob Storage</span>
                                        </div>
                                        <span style="font-size: 11px; color: #68769C;">23 containers</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 6px 0;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 16px; height: 16px; background: #107c10; border-radius: 2px;"></div>
                                            <span style="font-size: 12px; color: #3C4858;">File Shares</span>
                                        </div>
                                        <span style="font-size: 11px; color: #68769C;">5 shares</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 6px 0;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 16px; height: 16px; background: #d83b01; border-radius: 2px;"></div>
                                            <span style="font-size: 12px; color: #3C4858;">Queues</span>
                                        </div>
                                        <span style="font-size: 11px; color: #68769C;">12 queues</span>
                                    </div>
                                </div>
                            </div>
                            <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; width: 100%;">Storage Explorer</button>
                        </div>
                    </div>`},{id:"azure-function-app",name:"Function App Monitor",description:"Azure Functions monitoring panel with execution statistics and deployment options",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-functions/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 420px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">FN</div>
                                    <div>
                                        <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">my-function-app</h3>
                                        <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Consumption Plan • Node.js 18</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #107c10; font-weight: 600;">Running</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">247</div>
                                    <div style="font-size: 10px; color: #68769C;">Executions Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">156ms</div>
                                    <div style="font-size: 10px; color: #68769C;">Avg Duration</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #d83b01;">2</div>
                                    <div style="font-size: 10px; color: #68769C;">Errors</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="font-size: 12px; color: #68769C; margin-bottom: 8px;">Functions</div>
                                <div style="background: #f8f9fa; border-radius: 4px; padding: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">HttpTrigger1</span>
                                        <span style="font-size: 10px; color: #107c10;">Active</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">TimerTrigger1</span>
                                        <span style="font-size: 10px; color: #107c10;">Active</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">BlobTrigger1</span>
                                        <span style="font-size: 10px; color: #68769C;">Disabled</span>
                                    </div>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Deploy</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Monitor</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-virtual-machine",name:"Virtual Machine Panel",description:"Azure Virtual Machine management panel with performance metrics and control actions",category:"Compute",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/virtual-machines/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">VM</div>
                                    <div>
                                        <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">web-server-01</h3>
                                        <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard B2s • Ubuntu 20.04</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #107c10; font-weight: 600;">Running</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">CPU</div>
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">23%</div>
                                </div>
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">Memory</div>
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">4.2 GB</div>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Connect</button>
                                <button style="background: transparent; color: #d83b01; border: 1px solid #d83b01; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Stop</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-cosmos-db",name:"Cosmos DB Dashboard",description:"Azure Cosmos DB management dashboard with throughput and performance monitoring",category:"Databases",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/cosmos-db/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 420px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">DB</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-cosmos</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">SQL API • Multi-region</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">400 RU/s</div>
                                    <div style="font-size: 10px; color: #68769C;">Throughput</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">1.2M</div>
                                    <div style="font-size: 10px; color: #68769C;">Documents</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">847 MB</div>
                                    <div style="font-size: 10px; color: #68769C;">Storage</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 4px;">Connection String</div>
                                <div style="font-size: 10px; color: #3C4858; font-family: 'Courier New', monospace;">AccountEndpoint=https://myapp-cosmos.documents.azure.com...</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Data Explorer</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Scale</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-key-vault",name:"Key Vault Panel",description:"Azure Key Vault secrets management panel with access policies and certificates",category:"Security",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/key-vault/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 380px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">KV</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-keyvault</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard • RBAC Enabled</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">12</div>
                                    <div style="font-size: 11px; color: #68769C;">Secrets</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">3</div>
                                    <div style="font-size: 11px; color: #68769C;">Keys</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">2</div>
                                    <div style="font-size: 11px; color: #68769C;">Certificates</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Recent Access</div>
                                <div style="font-size: 12px; color: #3C4858;">database-connection-string</div>
                                <div style="font-size: 12px; color: #3C4858;">api-secret-key</div>
                            </div>
                            <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; width: 100%;">Manage Secrets</button>
                        </div>
                    </div>`},{id:"azure-container-registry",name:"Container Registry",description:"Azure Container Registry management with image repositories and security scanning",category:"Containers",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/container-registry/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">CR</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myappregistry</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Premium • Geo-replication</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">23</div>
                                    <div style="font-size: 11px; color: #68769C;">Repositories</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">4.2 GB</div>
                                    <div style="font-size: 11px; color: #68769C;">Storage Used</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="font-size: 12px; color: #68769C; margin-bottom: 8px;">Recent Images</div>
                                <div style="background: #f8f9fa; border-radius: 4px; padding: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 12px; color: #3C4858;">webapp:latest</span>
                                        <span style="font-size: 10px; color: #107c10;">✓ Scanned</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 12px; color: #3C4858;">api:v2.1</span>
                                        <span style="font-size: 10px; color: #107c10;">✓ Scanned</span>
                                    </div>
                                </div>
                            </div>
                            <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; width: 100%;">Browse Images</button>
                        </div>
                    </div>`},{id:"azure-service-bus",name:"Service Bus Queue",description:"Azure Service Bus queue management with message monitoring and throughput metrics",category:"Messaging",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/service-bus-messaging/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 420px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">SB</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">order-processing</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard • Queue</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">127</div>
                                    <div style="font-size: 10px; color: #68769C;">Active Messages</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">2.3K</div>
                                    <div style="font-size: 10px; color: #68769C;">Processed Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #d83b01;">3</div>
                                    <div style="font-size: 10px; color: #68769C;">Dead Letter</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 4px;">Throughput (msgs/sec)</div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="background: #107c10; height: 4px; width: 60%; border-radius: 2px;"></div>
                                    <span style="font-size: 12px; color: #3C4858;">45/sec</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Send Message</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Monitor</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-redis-cache",name:"Redis Cache Dashboard",description:"Azure Cache for Redis performance monitoring with hit ratio and memory usage",category:"Caching",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-cache-for-redis/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 380px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #d83b01; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">RC</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-cache</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard C1 • 1 GB</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">Hit Ratio</div>
                                    <div style="font-size: 18px; font-weight: 600; color: #107c10;">96.3%</div>
                                </div>
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">Memory Used</div>
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">412 MB</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="font-size: 12px; color: #68769C; margin-bottom: 8px;">Operations/sec</div>
                                <div style="background: #f8f9fa; padding: 12px; border-radius: 4px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 12px; color: #3C4858;">Gets</span>
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">1,247</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 12px; color: #3C4858;">Sets</span>
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">89</span>
                                    </div>
                                </div>
                            </div>
                            <button style="background: #d83b01; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; width: 100%;">Redis Console</button>
                        </div>
                    </div>`},{id:"azure-monitor",name:"Azure Monitor Dashboard",description:"Azure Monitor application insights dashboard with alerts and metrics overview",category:"Monitoring",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-monitor/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 450px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">AM</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">Application Insights</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">myapp-insights</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">1.2K</div>
                                    <div style="font-size: 10px; color: #68769C;">Requests/min</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">156ms</div>
                                    <div style="font-size: 10px; color: #68769C;">Avg Response</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #d83b01;">2</div>
                                    <div style="font-size: 10px; color: #68769C;">Active Alerts</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Recent Alerts</div>
                                <div style="font-size: 12px; color: #d83b01; margin-bottom: 4px;">• High CPU usage on VM-01</div>
                                <div style="font-size: 12px; color: #d83b01;">• Database connection timeout</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">View Logs</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Metrics</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-api-management",name:"API Management Gateway",description:"Azure API Management gateway with API policies, analytics, and developer portal",category:"Integration",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/api-management/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 440px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">API</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-apim</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Developer Tier • Gateway</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">12</div>
                                    <div style="font-size: 10px; color: #68769C;">APIs</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">2.4K</div>
                                    <div style="font-size: 10px; color: #68769C;">Calls/hour</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #107c10;">99.8%</div>
                                    <div style="font-size: 10px; color: #68769C;">Uptime</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Top APIs</div>
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                    <span style="font-size: 12px; color: #3C4858;">User Management</span>
                                    <span style="font-size: 11px; color: #68769C;">1.2K calls</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span style="font-size: 12px; color: #3C4858;">Payment Processing</span>
                                    <span style="font-size: 11px; color: #68769C;">890 calls</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">API Portal</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Analytics</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-logic-apps",name:"Logic Apps Workflow",description:"Azure Logic Apps workflow designer with triggers, actions, and execution history",category:"Integration",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/logic-apps/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">LA</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">order-processing</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard • Enabled</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">47</div>
                                    <div style="font-size: 11px; color: #68769C;">Runs Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #107c10;">98%</div>
                                    <div style="font-size: 11px; color: #68769C;">Success Rate</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Workflow Steps</div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                                    <div style="width: 16px; height: 16px; background: #107c10; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;">1</div>
                                    <span style="font-size: 12px; color: #3C4858;">HTTP Trigger</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                                    <div style="width: 16px; height: 16px; background: #107c10; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;">2</div>
                                    <span style="font-size: 12px; color: #3C4858;">Parse JSON</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 16px; height: 16px; background: #107c10; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;">3</div>
                                    <span style="font-size: 12px; color: #3C4858;">Send Email</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Designer</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Run History</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-cognitive-services",name:"Cognitive Services API",description:"Azure Cognitive Services with AI models, usage analytics, and endpoint management",category:"AI + ML",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/cognitive-services/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 420px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">AI</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-cognitive</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Multi-service • S0</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">12.4K</div>
                                    <div style="font-size: 11px; color: #68769C;">API Calls Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">127ms</div>
                                    <div style="font-size: 11px; color: #68769C;">Avg Latency</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Active Services</div>
                                <div style="display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 8px;">
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">Text Analytics</span>
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">Computer Vision</span>
                                </div>
                                <div style="display: flex; gap: 6px; flex-wrap: wrap;">
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">Speech Services</span>
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">Language</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Test APIs</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Usage</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-devops",name:"Azure DevOps Pipeline",description:"Azure DevOps CI/CD pipeline status with build history and deployment tracking",category:"DevOps",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/devops/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 440px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">DO</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-ci-cd</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Build Pipeline • main branch</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #107c10;">✓</div>
                                    <div style="font-size: 10px; color: #68769C;">Last Build</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">4m 23s</div>
                                    <div style="font-size: 10px; color: #68769C;">Duration</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">#247</div>
                                    <div style="font-size: 10px; color: #68769C;">Build Number</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Pipeline Stages</div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
                                    <div style="width: 12px; height: 12px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #3C4858;">Build</span>
                                    <span style="font-size: 10px; color: #68769C; margin-left: auto;">2m 14s</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
                                    <div style="width: 12px; height: 12px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #3C4858;">Test</span>
                                    <span style="font-size: 10px; color: #68769C; margin-left: auto;">1m 32s</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #3C4858;">Deploy</span>
                                    <span style="font-size: 10px; color: #68769C; margin-left: auto;">37s</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Run Pipeline</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">History</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-event-grid",name:"Event Grid Topic",description:"Azure Event Grid topic management with event routing and subscription monitoring",category:"Messaging",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/event-grid/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">EG</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">user-events</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Custom Topic • Standard</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">1.8K</div>
                                    <div style="font-size: 11px; color: #68769C;">Events Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">5</div>
                                    <div style="font-size: 11px; color: #68769C;">Subscriptions</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Event Types</div>
                                <div style="display: flex; gap: 6px; flex-wrap: wrap;">
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">UserCreated</span>
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">UserUpdated</span>
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">UserDeleted</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Send Event</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Metrics</button>
                            </div>
                        </div>
                    </div>`}];return console.log("✅ Azure Service components loaded:",f.length),f}),k=g.useMemo(()=>{let f=_;if(T!=="all"&&(f=f.filter(b=>b.source===T)),J!=="All"&&(f=f.filter(b=>b.category===J)),y.trim()){const b=y.toLowerCase();f=f.filter(R=>R.name.toLowerCase().includes(b)||R.description.toLowerCase().includes(b)||R.category.toLowerCase().includes(b))}return f},[_,T,J,y]),N=g.useMemo(()=>{const f=new Set(["All"]);return _.forEach(b=>f.add(b.category)),Array.from(f)},[_]),F=g.useMemo(()=>{const f={"fluent-github":0,"atlas-github":0,"azure-services":0,"figma-fluent":0,"figma-atlas":0,"figma-azure":0};return _.forEach(b=>{f[b.source]++}),console.log("📊 Source counts:",f),console.log("📦 Loaded components:",_.length),f},[_]),z=f=>{const b=new Set(I);b.has(f)?b.delete(f):b.add(f),ne(b)},h=()=>{_.filter(b=>I.has(b.id)).forEach(b=>{l(b)}),ne(new Set)},E=()=>{ne(new Set)};return c?r.jsx("div",{className:"enhanced-component-library-overlay",children:r.jsxs("div",{className:"enhanced-component-library-modal",children:[r.jsxs("div",{className:"library-header",children:[r.jsxs("div",{className:"header-content",children:[r.jsx("h2",{children:m==="dev-playbooks"?"Dev Playbooks":m==="figma-components"?"Figma Components":"Component Library"}),r.jsx("p",{children:m==="dev-playbooks"?"Development components from GitHub repositories and Azure services":m==="figma-components"?"Design components from Figma libraries":"Browse components from Fluent Dev Playbook, Atlas Dev Playbook, Azure Dev Playbook, Figma Fluent Library, and Figma Atlas Library"})]}),r.jsx("button",{onClick:a,className:"close-button",children:"×"})]}),r.jsx("div",{className:"playbook-selector",children:r.jsx("div",{className:"playbook-tabs",children:v.map(f=>r.jsxs("button",{className:`playbook-tab ${j===f?"active":""}`,onClick:()=>$(f),children:[f,f==="Fluent Dev Playbook"&&r.jsxs("span",{className:"source-badge github",children:[j==="Fluent Dev Playbook"?F["fluent-github"]||0:"5"," Components"]}),f==="Atlas Dev Playbook"&&r.jsxs("span",{className:"source-badge github",children:[j==="Atlas Dev Playbook"?F["atlas-github"]||0:"5"," Components"]}),f==="Azure Dev Playbook"&&r.jsxs("span",{className:"source-badge github",children:[j==="Azure Dev Playbook"?F["azure-services"]||0:"20"," Components"]}),f==="Figma Fluent Library"&&r.jsxs("span",{className:"source-badge github",children:[j==="Figma Fluent Library"?F["figma-fluent"]||0:"8"," Components"]}),f==="Figma Atlas Library"&&r.jsxs("span",{className:"source-badge github",children:[j==="Figma Atlas Library"?F["figma-atlas"]||0:"6"," Components"]}),f==="Figma Azure Library"&&r.jsxs("span",{className:"source-badge github",children:[j==="Figma Azure Library"?F["figma-azure"]||0:"1"," Components"]})]},f))})}),r.jsxs("div",{className:"filters-section",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"source-select",children:"Source:"}),r.jsxs("select",{id:"source-select",value:T,onChange:f=>O(f.target.value),"aria-label":"Select component source",children:[r.jsx("option",{value:"all",children:"All Sources"}),j==="Fluent Dev Playbook"&&r.jsxs("option",{value:"fluent-github",children:[F["fluent-github"]||0," Components (Fluent)"]}),j==="Atlas Dev Playbook"&&r.jsxs("option",{value:"atlas-github",children:[F["atlas-github"]||0," Components (Atlas)"]}),j==="Azure Dev Playbook"&&r.jsxs("option",{value:"azure-services",children:[F["azure-services"]||0," Components (Azure)"]}),j==="Figma Fluent Library"&&r.jsxs("option",{value:"figma-fluent",children:[F["figma-fluent"]||0," Components (Figma Fluent)"]}),j==="Figma Atlas Library"&&r.jsxs("option",{value:"figma-atlas",children:[F["figma-atlas"]||0," Components (Figma Atlas)"]}),j==="Figma Azure Library"&&r.jsxs("option",{value:"figma-azure",children:[F["figma-azure"]||0," Components (Figma Azure)"]})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"category-select",children:"Category:"}),r.jsx("select",{id:"category-select",value:J,onChange:f=>G(f.target.value),"aria-label":"Select component category",children:N.map(f=>r.jsx("option",{value:f,children:f},f))})]}),r.jsxs("div",{className:"filter-group search-group",children:[r.jsx("label",{children:"Search:"}),r.jsx("input",{type:"text",value:y,onChange:f=>P(f.target.value),placeholder:"Search components...",className:"search-input"})]})]}),I.size>0&&r.jsxs("div",{className:"selection-controls",children:[r.jsx("div",{className:"selection-info",children:r.jsxs("span",{className:"selection-count",children:[I.size," component",I.size!==1?"s":""," selected"]})}),r.jsxs("div",{className:"selection-actions",children:[r.jsx("button",{onClick:h,className:"add-selected-btn primary",children:"Add Selected to Wireframe"}),r.jsx("button",{onClick:E,className:"clear-selection-btn",children:"Clear Selection"})]})]}),ce&&r.jsxs("div",{className:"loading-state",children:[r.jsx("div",{className:"spinner"}),r.jsxs("p",{children:["Loading ",j," components..."]})]}),!ce&&r.jsxs(r.Fragment,{children:[j==="Figma Fluent Library"&&r.jsxs("div",{className:"components-grid-header",children:[r.jsxs("div",{className:"grid-header-info",children:[r.jsx("h3",{children:"Fluent 2 Design System Components"}),r.jsxs("p",{children:[k.length," components available"]})]}),r.jsx("div",{className:"grid-header-actions",children:r.jsxs("a",{href:"https://www.figma.com/design/GvIcCw0tWaJVDSWD4f1OIW/Fluent-2-web?node-id=0-1&p=f&t=0UVE7Ann6oVPNlGW-0",target:"_blank",rel:"noopener noreferrer",className:"figma-library-link",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"figma-icon",children:[r.jsx("path",{d:"M8 24c2.208 0 4-1.792 4-4v-4H8c-2.208 0-4 1.792-4 4s1.792 4 4 4z"}),r.jsx("path",{d:"M4 12c0-2.208 1.792-4 4-4h4v8H8c-2.208 0-4-1.792-4-4z"}),r.jsx("path",{d:"M4 4c0-2.208 1.792-4 4-4h4v8H8C5.792 8 4 6.208 4 4z"}),r.jsx("path",{d:"M12 0h4c2.208 0 4 1.792 4 4s-1.792 4-4 4h-4V0z"}),r.jsx("path",{d:"M20 12c0 2.208-1.792 4-4 4s-4-1.792-4-4 1.792-4 4-4 4 1.792 4 4z"})]}),r.jsx("span",{children:"Open in Figma"}),r.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"external-link-icon",children:r.jsx("path",{d:"M3 3L9 9M9 3L9 9L3 9",stroke:"currentColor",strokeWidth:"1",fill:"none"})})]})})]}),j==="Figma Atlas Library"&&r.jsxs("div",{className:"components-grid-header",children:[r.jsxs("div",{className:"grid-header-info",children:[r.jsx("h3",{children:"Atlas Design System Components"}),r.jsxs("p",{children:[k.length," components available"]})]}),r.jsx("div",{className:"grid-header-actions",children:r.jsxs("a",{href:"https://www.figma.com/design/GvIcCw0tWaJVDSWD4f1OIW/Fluent-2-web?node-id=0-1&p=f&t=0UVE7Ann6oVPNlGW-0",target:"_blank",rel:"noopener noreferrer",className:"figma-library-link",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"figma-icon",children:[r.jsx("path",{d:"M8 24c2.208 0 4-1.792 4-4v-4H8c-2.208 0-4 1.792-4 4s1.792 4 4 4z"}),r.jsx("path",{d:"M4 12c0-2.208 1.792-4 4-4h4v8H8c-2.208 0-4-1.792-4-4z"}),r.jsx("path",{d:"M4 4c0-2.208 1.792-4 4-4h4v8H8C5.792 8 4 6.208 4 4z"}),r.jsx("path",{d:"M12 0h4c2.208 0 4 1.792 4 4s-1.792 4-4 4h-4V0z"}),r.jsx("path",{d:"M20 12c0 2.208-1.792 4-4 4s-4-1.792-4-4 1.792-4 4-4 4 1.792 4 4z"})]}),r.jsx("span",{children:"Open in Figma"}),r.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"external-link-icon",children:r.jsx("path",{d:"M3 3L9 9M9 3L9 9L3 9",stroke:"currentColor",strokeWidth:"1",fill:"none"})})]})})]}),r.jsx("div",{className:"components-grid",children:k.map(f=>{const b=I.has(f.id);return r.jsxs("div",{className:`component-card ${b?"selected":""}`,onClick:()=>z(f.id),children:[r.jsx("div",{className:"component-selection-indicator",children:r.jsx("div",{className:`selection-checkbox ${b?"checked":""}`,children:b&&r.jsx("span",{className:"checkmark",children:"✓"})})}),r.jsx("div",{className:"component-preview",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:f.htmlCode},className:"component-preview-scaled"})}),r.jsxs("div",{className:"component-info",children:[r.jsxs("div",{className:"component-header",children:[r.jsx("h3",{children:f.name}),r.jsxs("div",{className:"source-indicators",children:[r.jsx("span",{className:`source-tag ${f.source}`,children:f.source.includes("github")?"GitHub":"Figma"}),r.jsx("span",{className:"playbook-tag",children:f.playbook})]})]}),r.jsx("p",{className:"component-description",children:f.description}),r.jsxs("div",{className:"component-meta",children:[r.jsx("span",{className:"category-tag",children:f.category}),f.sourceUrl&&r.jsx("a",{href:f.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"source-link",onClick:R=>R.stopPropagation(),children:"View Source"})]}),r.jsx("button",{onClick:R=>{R.stopPropagation(),l(f)},className:"add-component-btn individual",children:"Add to Wireframe"})]})]},f.id)})})]}),!ce&&k.length===0&&r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"No components found matching your criteria."}),r.jsx("button",{onClick:()=>{P(""),G("All"),O("all"),ne(new Set)},children:"Clear Filters"})]}),r.jsx("div",{className:"library-footer",children:r.jsxs("div",{className:"stats",children:["Showing ",k.length," of ",_.length," components from ",j]})})]})}):null},gm=c=>r.jsx(xl,Qe(Be({},c),{libraryType:"dev-playbooks"})),hm=c=>r.jsx(xl,Qe(Be({},c),{libraryType:"figma-components"}));var Ys,ou;function vm(){return ou||(ou=1,Ys=function(a,l){return Array.prototype.slice.call(a,l)}),Ys}var Ks,au;function xm(){if(au)return Ks;au=1;var c=typeof setImmediate=="function",a;return c?a=function(l){setImmediate(l)}:a=function(l){setTimeout(l,0)},Ks=a,Ks}var Qs,su;function ym(){if(su)return Qs;su=1;var c=xm();return Qs=function(l,d,u){l&&c(function(){l.apply(u||null,d||[])})},Qs}var qs,lu;function bm(){if(lu)return qs;lu=1;var c=vm(),a=ym();return qs=function(d,u){var m=u||{},x={};return d===void 0&&(d={}),d.on=function(v,C){return x[v]?x[v].push(C):x[v]=[C],d},d.once=function(v,C){return C._once=!0,d.on(v,C),d},d.off=function(v,C){var j=arguments.length;if(j===1)delete x[v];else if(j===0)x={};else{var $=x[v];if(!$)return d;$.splice($.indexOf(C),1)}return d},d.emit=function(){var v=c(arguments);return d.emitterSnapshot(v.shift()).apply(this,v)},d.emitterSnapshot=function(v){var C=(x[v]||[]).slice(0);return function(){var j=c(arguments),$=this||d;if(v==="error"&&m.throws!==!1&&!C.length)throw j.length===1?j[0]:j;return C.forEach(function(O){m.async?a(O,j,$):O.apply($,j),O._once&&d.off(v,O)}),d}},d},qs}var Js,cu;function wm(){if(cu)return Js;cu=1;var c=globalThis.CustomEvent;function a(){try{var l=new c("cat",{detail:{foo:"bar"}});return l.type==="cat"&&l.detail.foo==="bar"}catch(d){}return!1}return Js=a()?c:typeof document!="undefined"&&typeof document.createEvent=="function"?function(d,u){var m=document.createEvent("CustomEvent");return u?m.initCustomEvent(d,u.bubbles,u.cancelable,u.detail):m.initCustomEvent(d,!1,!1,void 0),m}:function(d,u){var m=document.createEventObject();return m.type=d,u?(m.bubbles=!!u.bubbles,m.cancelable=!!u.cancelable,m.detail=u.detail):(m.bubbles=!1,m.cancelable=!1,m.detail=void 0),m},Js}var Xs,du;function km(){if(du)return Xs;du=1;var c=[],a="",l=/^on/;for(a in globalThis)l.test(a)&&c.push(a.slice(2));return Xs=c,Xs}var Zs,uu;function Cm(){if(uu)return Zs;uu=1;var c=wm(),a=km(),l=globalThis.document,d=x,u=C,m=[];globalThis.addEventListener||(d=v,u=j),Zs={add:d,remove:u,fabricate:$};function x(y,P,_,H){return y.addEventListener(P,_,H)}function v(y,P,_){return y.attachEvent("on"+P,O(y,P,_))}function C(y,P,_,H){return y.removeEventListener(P,_,H)}function j(y,P,_){var H=J(y,P,_);if(H)return y.detachEvent("on"+P,H)}function $(y,P,_){var H=a.indexOf(P)===-1?Q():ce();y.dispatchEvent?y.dispatchEvent(H):y.fireEvent("on"+P,H);function ce(){var I;return l.createEvent?(I=l.createEvent("Event"),I.initEvent(P,!0,!0)):l.createEventObject&&(I=l.createEventObject()),I}function Q(){return new c(P,{detail:_})}}function T(y,P,_){return function(ce){var Q=ce||globalThis.event;Q.target=Q.target||Q.srcElement,Q.preventDefault=Q.preventDefault||function(){Q.returnValue=!1},Q.stopPropagation=Q.stopPropagation||function(){Q.cancelBubble=!0},Q.which=Q.which||Q.keyCode,_.call(y,Q)}}function O(y,P,_){var H=J(y,P,_)||T(y,P,_);return m.push({wrapper:H,element:y,type:P,fn:_}),H}function J(y,P,_){var H=G(y,P,_);if(H){var ce=m[H].wrapper;return m.splice(H,1),ce}}function G(y,P,_){var H,ce;for(H=0;H<m.length;H++)if(ce=m[H],ce.element===y&&ce.type===P&&ce.fn===_)return H}return Zs}var el,pu;function jm(){if(pu)return el;pu=1;var c={},a="(?:^|\\s)",l="(?:\\s|$)";function d(x){var v=c[x];return v?v.lastIndex=0:c[x]=v=new RegExp(a+x+l,"g"),v}function u(x,v){var C=x.className;C.length?d(v).test(C)||(x.className+=" "+v):x.className=v}function m(x,v){x.className=x.className.replace(d(v)," ").trim()}return el={add:u,rm:m},el}var tl,fu;function Sm(){if(fu)return tl;fu=1;var c=bm(),a=Cm(),l=jm(),d=document,u=d.documentElement;function m(I,ne){var ie=arguments.length;ie===1&&Array.isArray(I)===!1&&(ne=I,I=[]);var se,fe,pe,Ie,ze,Z,Y,me,de,k,N,F=null,z,h=ne||{};h.moves===void 0&&(h.moves=O),h.accepts===void 0&&(h.accepts=O),h.invalid===void 0&&(h.invalid=ye),h.containers===void 0&&(h.containers=I||[]),h.isContainer===void 0&&(h.isContainer=T),h.copy===void 0&&(h.copy=!1),h.copySortSource===void 0&&(h.copySortSource=!1),h.revertOnSpill===void 0&&(h.revertOnSpill=!1),h.removeOnSpill===void 0&&(h.removeOnSpill=!1),h.direction===void 0&&(h.direction="vertical"),h.ignoreInputTextSelection===void 0&&(h.ignoreInputTextSelection=!0),h.mirrorContainer===void 0&&(h.mirrorContainer=d.body);var E=c({containers:h.containers,start:be,end:W,cancel:lt,remove:tt,destroy:Ce,canMove:te,dragging:!1});return h.removeOnSpill===!0&&E.on("over",In).on("out",Sn),b(),E;function f(K){return E.containers.indexOf(K)!==-1||h.isContainer(K)}function b(K){var Ae=K?"remove":"add";x(u,Ae,"mousedown",Le),x(u,Ae,"mouseup",De)}function R(K){var Ae=K?"remove":"add";x(u,Ae,"mousemove",Ve)}function q(K){var Ae=K?"remove":"add";a[Ae](u,"selectstart",je),a[Ae](u,"click",je)}function Ce(){b(!0),De({})}function je(K){z&&K.preventDefault()}function Le(K){Z=K.clientX,Y=K.clientY;var Ae=v(K)!==1||K.metaKey||K.ctrlKey;if(!Ae){var $e=K.target,Re=Ye($e);Re&&(z=Re,R(),K.type==="mousedown"&&(P($e)?$e.focus():K.preventDefault()))}}function Ve(K){if(z){if(v(K)===0){De({});return}if(!(K.clientX!==void 0&&Math.abs(K.clientX-Z)<=(h.slideFactorX||0)&&K.clientY!==void 0&&Math.abs(K.clientY-Y)<=(h.slideFactorY||0))){if(h.ignoreInputTextSelection){var Ae=Q("clientX",K)||0,$e=Q("clientY",K)||0,Re=d.elementFromPoint(Ae,$e);if(P(Re))return}var pt=z;R(!0),q(),W(),Ue(pt);var nt=C(pe);Ie=Q("pageX",K)-nt.left,ze=Q("pageY",K)-nt.top,l.add(k||pe,"gu-transit"),Xe(),mn(K)}}}function Ye(K){if(!(E.dragging&&se)&&!f(K)){for(var Ae=K;y(K)&&f(y(K))===!1;)if(h.invalid(K,Ae)||(K=y(K),!K))return;var $e=y(K);if($e&&!h.invalid(K,Ae)){var Re=h.moves(K,$e,Ae,H(K));if(Re)return{item:K,source:$e}}}}function te(K){return!!Ye(K)}function be(K){var Ae=Ye(K);Ae&&Ue(Ae)}function Ue(K){Nn(K.item,K.source)&&(k=K.item.cloneNode(!0),E.emit("cloned",k,K.item,"copy")),fe=K.source,pe=K.item,me=de=H(K.item),E.dragging=!0,E.emit("drag",pe,fe)}function ye(){return!1}function W(){if(E.dragging){var K=k||pe;Ke(K,y(K))}}function ue(){z=!1,R(!0),q(!0)}function De(K){if(ue(),!!E.dragging){var Ae=k||pe,$e=Q("clientX",K)||0,Re=Q("clientY",K)||0,pt=$(se,$e,Re),nt=jn(pt,$e,Re);nt&&(k&&h.copySortSource||!k||nt!==fe)?Ke(Ae,nt):h.removeOnSpill?tt():lt()}}function Ke(K,Ae){var $e=y(K);k&&h.copySortSource&&Ae===fe&&$e.removeChild(pe),$t(Ae)?E.emit("cancel",K,fe,fe):E.emit("drop",K,Ae,fe,de),ht()}function tt(){if(E.dragging){var K=k||pe,Ae=y(K);Ae&&Ae.removeChild(K),E.emit(k?"cancel":"remove",K,Ae,fe),ht()}}function lt(K){if(E.dragging){var Ae=arguments.length>0?K:h.revertOnSpill,$e=k||pe,Re=y($e),pt=$t(Re);pt===!1&&Ae&&(k?Re&&Re.removeChild(k):fe.insertBefore($e,me)),pt||Ae?E.emit("cancel",$e,fe,fe):E.emit("drop",$e,Re,fe,de),ht()}}function ht(){var K=k||pe;ue(),rn(),K&&l.rm(K,"gu-transit"),N&&clearTimeout(N),E.dragging=!1,F&&E.emit("out",K,F,fe),E.emit("dragend",K),fe=pe=k=me=de=N=F=null}function $t(K,Ae){var $e;return Ae!==void 0?$e=Ae:se?$e=de:$e=H(k||pe),K===fe&&$e===me}function jn(K,Ae,$e){for(var Re=K;Re&&!pt();)Re=y(Re);return Re;function pt(){var nt=f(Re);if(nt===!1)return!1;var Mt=on(Re,K),ct=qt(Re,Mt,Ae,$e),wt=$t(Re,ct);return wt?!0:h.accepts(pe,Re,fe,ct)}}function mn(K){if(!se)return;K.preventDefault();var Ae=Q("clientX",K)||0,$e=Q("clientY",K)||0,Re=Ae-Ie,pt=$e-ze;se.style.left=Re+"px",se.style.top=pt+"px";var nt=k||pe,Mt=$(se,Ae,$e),ct=jn(Mt,Ae,$e),wt=ct!==null&&ct!==F;(wt||ct===null)&&(an(),F=ct,Dn());var ot=y(nt);if(ct===fe&&k&&!h.copySortSource){ot&&ot.removeChild(nt);return}var vt,Et=on(ct,Mt);if(Et!==null)vt=qt(ct,Et,Ae,$e);else if(h.revertOnSpill===!0&&!k)vt=me,ct=fe;else{k&&ot&&ot.removeChild(nt);return}(vt===null&&wt||vt!==nt&&vt!==H(nt))&&(de=vt,ct.insertBefore(nt,vt),E.emit("shadow",nt,ct,fe));function Rt(En){E.emit(En,nt,F,fe)}function Dn(){wt&&Rt("over")}function an(){F&&Rt("out")}}function In(K){l.rm(K,"gu-hide")}function Sn(K){E.dragging&&l.add(K,"gu-hide")}function Xe(){if(!se){var K=pe.getBoundingClientRect();se=pe.cloneNode(!0),se.style.width=J(K)+"px",se.style.height=G(K)+"px",l.rm(se,"gu-transit"),l.add(se,"gu-mirror"),h.mirrorContainer.appendChild(se),x(u,"add","mousemove",mn),l.add(h.mirrorContainer,"gu-unselectable"),E.emit("cloned",se,pe,"mirror")}}function rn(){se&&(l.rm(h.mirrorContainer,"gu-unselectable"),x(u,"remove","mousemove",mn),y(se).removeChild(se),se=null)}function on(K,Ae){for(var $e=Ae;$e!==K&&y($e)!==K;)$e=y($e);return $e===u?null:$e}function qt(K,Ae,$e,Re){var pt=h.direction==="horizontal",nt=Ae!==K?ct():Mt();return nt;function Mt(){var ot=K.children.length,vt,Et,Rt;for(vt=0;vt<ot;vt++)if(Et=K.children[vt],Rt=Et.getBoundingClientRect(),pt&&Rt.left+Rt.width/2>$e||!pt&&Rt.top+Rt.height/2>Re)return Et;return null}function ct(){var ot=Ae.getBoundingClientRect();return wt(pt?$e>ot.left+J(ot)/2:Re>ot.top+G(ot)/2)}function wt(ot){return ot?H(Ae):Ae}}function Nn(K,Ae){return typeof h.copy=="boolean"?h.copy:h.copy(K,Ae)}}function x(I,ne,ie,se){var fe={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},pe={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},Ie={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};globalThis.navigator.pointerEnabled?a[ne](I,pe[ie],se):globalThis.navigator.msPointerEnabled?a[ne](I,Ie[ie],se):(a[ne](I,fe[ie],se),a[ne](I,ie,se))}function v(I){if(I.touches!==void 0)return I.touches.length;if(I.which!==void 0&&I.which!==0)return I.which;if(I.buttons!==void 0)return I.buttons;var ne=I.button;if(ne!==void 0)return ne&1?1:ne&2?3:ne&4?2:0}function C(I){var ne=I.getBoundingClientRect();return{left:ne.left+j("scrollLeft","pageXOffset"),top:ne.top+j("scrollTop","pageYOffset")}}function j(I,ne){return typeof globalThis[ne]!="undefined"?globalThis[ne]:u.clientHeight?u[I]:d.body[I]}function $(I,ne,ie){I=I||{};var se=I.className||"",fe;return I.className+=" gu-hide",fe=d.elementFromPoint(ne,ie),I.className=se,fe}function T(){return!1}function O(){return!0}function J(I){return I.width||I.right-I.left}function G(I){return I.height||I.bottom-I.top}function y(I){return I.parentNode===d?null:I.parentNode}function P(I){return I.tagName==="INPUT"||I.tagName==="TEXTAREA"||I.tagName==="SELECT"||_(I)}function _(I){return!I||I.contentEditable==="false"?!1:I.contentEditable==="true"?!0:_(y(I))}function H(I){return I.nextElementSibling||ne();function ne(){var ie=I;do ie=ie.nextSibling;while(ie&&ie.nodeType!==1);return ie}}function ce(I){return I.targetTouches&&I.targetTouches.length?I.targetTouches[0]:I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:I}function Q(I,ne){var ie=ce(ne),se={pageX:"clientX",pageY:"clientY"};return I in se&&!(I in ie)&&se[I]in ie&&(I=se[I]),ie[I]}return tl=m,tl}var Nm=Sm();const Em=wu(Nm);function zu(c,a=0){var d;return{id:c.id||`element-${c.tagName.toLowerCase()}-${a}`,tagName:c.tagName.toLowerCase(),className:c.className||void 0,textContent:((d=c.textContent)==null?void 0:d.trim().substring(0,50))||void 0,children:Array.from(c.children).map((u,m)=>zu(u,m))}}function mu(c){const a=[c];return[".row",".col",".column",".container",".container-fluid",".section",".grid",'[data-droppable="true"]',".card-body",".panel-body","main","section","article",".hero",".hero-section",".hero-banner","form",".form-section",".form-group"].forEach(d=>{c.querySelectorAll(d).forEach(m=>{if(m instanceof HTMLElement){const x=m.getBoundingClientRect();x.width>50&&x.height>30&&a.push(m)}})}),[...new Set(a)]}function Fm(c){if(!c||typeof c!="string")return"";try{let a=c.trim();if(a=a.replace(/^```html\s*/gi,""),a=a.replace(/^```\s*/gi,""),a=a.replace(/```\s*$/gi,""),a=a.replace(/^['"`]+|['"`]+$/g,""),a.includes("<html")&&a.includes("</html>")){const l=a.match(/<style[^>]*>([\s\S]*?)<\/style>/gi);let d="";l&&(d=l.join(`
`));const u=a.match(/<body[^>]*>([\s\S]*?)<\/body>/i);u&&(a=d+u[1])}return!a.includes("<")||!a.includes(">")?`<div style="padding: 20px; color: #666; font-family: 'Segoe UI', sans-serif;">
                <p><strong>⚠️ HTML Rendering Issue</strong></p>
                <p>The wireframe content appears to be malformed. Please try regenerating the wireframe.</p>
            </div>`:a}catch(a){return`<div style="padding: 20px; color: #dc3545; font-family: 'Segoe UI', sans-serif;">
            <p><strong>❌ HTML Parsing Error</strong></p>
            <p>Failed to parse wireframe content. Please try regenerating the wireframe.</p>
        </div>`}}const Am=({htmlContent:c,onUpdateContent:a,onOrderingChange:l})=>{const d=g.useRef(null),u=g.useRef(null),[m,x]=g.useState(!1),v=g.useRef(!1),[C,j]=g.useState([]),$=g.useRef(null),T=g.useRef(!1),O=g.useRef(!1),J=g.useRef(null),G=g.useRef(null),y=g.useRef(null),P=g.useRef(null),_=g.useRef(!1),H=g.useRef(!1),ce=()=>{if(!J.current){const k=document.createElement("div");k.className="insertion-gap-marker",k.setAttribute("aria-hidden","true"),J.current=k}return J.current},Q=(k,N)=>{const F=document.elementFromPoint(k,N);return F?F.closest(".dragula-container.drag-enabled"):null},I=k=>{const N=Q(k.clientX,k.clientY)||d.current;if(!N)return;const F=ce(),z=Array.from(N.children).filter(f=>f!==F&&f!==G.current);if(z.length===0){F.parentElement!==N&&N.appendChild(F);return}const h=k.clientY;let E=!1;for(let f=0;f<z.length;f++){const b=z[f].getBoundingClientRect(),R=b.top+b.height/2;if(h<R){if(z[f].previousSibling===F){E=!0;break}N.insertBefore(F,z[f]),E=!0;break}}E||z[z.length-1].nextSibling!==F&&N.appendChild(F)},ne=()=>{if(!d.current)return;d.current.querySelectorAll('[data-editable="true"]').forEach(N=>N.removeAttribute("data-editable")),O.current=!1},ie=()=>{if(!d.current)return;d.current.querySelectorAll("[style]").forEach(N=>{N instanceof HTMLElement&&(N.style.outline==="1px solid var(--color-primary-medium)"||N.style.outline==="1px solid rgb(117, 147, 175)")&&(N.style.outline="1px solid transparent")})},se=()=>{if(!d.current)return;O.current=!0,d.current.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span,a,button,label,li,td,th,div").forEach(N=>{N instanceof HTMLElement&&N.getAttribute("data-editing")!=="true"&&(Z(N)?N.setAttribute("data-editable","true"):N.removeAttribute("data-editable"))})},fe=()=>{if(!d.current||T.current)return;const k=d.current;k.querySelectorAll(".draggable-block").forEach(z=>{z.classList.remove("draggable-block"),z.removeAttribute("data-struct-block")});const N=["form",".form-section",".form-group",".hero",".hero-section",".hero-banner",".card-group",".card",".feature",".feature-block","header:not(.ms-learn-topnav)","footer:not(.ms-learn-topnav)","nav:not(.ms-learn-nav)","aside","main","section","article"];let F=0;N.forEach(z=>{k.querySelectorAll(z).forEach(h=>{if(!(h instanceof HTMLElement)||h===k)return;const E=h.getBoundingClientRect();E.width<50||E.height<30||h.closest(".draggable-block")||(h.classList.add("draggable-block"),h.setAttribute("data-struct-block",z),F++)})}),F===0&&Array.from(k.children).filter(h=>h.tagName!=="STYLE"&&h.tagName!=="SCRIPT"&&!h.classList.contains("insertion-gap-marker")).forEach(h=>{const E=h.getBoundingClientRect();E.width>20&&E.height>20&&(h.classList.add("draggable-block"),h.setAttribute("data-struct-block","auto-first-level"),F++)}),F===0&&Array.from(k.querySelectorAll("*")).filter(h=>{if(!(h instanceof HTMLElement)||h===k)return!1;const E=h.getBoundingClientRect();return E.width>50&&E.height>30}).slice(0,5).forEach(h=>{h.closest(".draggable-block")||(h.classList.add("draggable-block"),h.setAttribute("data-struct-block","fallback"),F++)}),console.log("[Wireframe Drag] Draggable blocks marked:",F),T.current=!0},pe=(k,N=!0)=>{k&&(k.contentEditable==="true"&&(k.contentEditable="false"),k.style.outline="",k.style.backgroundColor="",k.style.border="",k.removeAttribute("data-editing"),N&&d.current&&a&&a(d.current.innerHTML),$.current=null)},Ie=()=>{if(!d.current||!l)return;const k=Array.from(d.current.children).map((N,F)=>zu(N,F));l(k)},ze=()=>{const k=!v.current;v.current=k,x(k)},Z=k=>{if(!k||!k.textContent||!k.textContent.trim())return!1;const N=k.tagName,F=Array.from(k.classList);return["card","card-body","card-header","card-footer","container","container-fluid","row","col","navbar","nav","section","hero","jumbotron"].some(E=>F.includes(E))||F.some(E=>E.match(/^col-/)||E==="col")?!1:["H1","H2","H3","H4","H5","H6","P","SPAN","A","BUTTON","LABEL","LI","TD","TH"].includes(N)?!Array.from(k.children).some(f=>{const b=f.tagName;return["DIV","SECTION","HEADER","FOOTER","UL","OL","NAV","MAIN","ASIDE","TABLE","FORM"].includes(b)}):N==="DIV"?k.children.length>0||k.textContent.trim().length<5?!1:!F.some(f=>f.includes("card")||f.includes("container")||f.includes("wrapper")||f.includes("section")||f.includes("row")||f.includes("col")):!1},Y=k=>{k.addEventListener("mouseover",N=>{if(v.current)return;const F=N.target;k.contains(F)&&F&&Z(F)&&F.contentEditable!=="true"&&(F.style.outline="1px solid var(--color-primary-medium)",F.style.cursor="text")}),k.addEventListener("mouseout",N=>{const F=N.target;F&&F.getAttribute("data-editing")!=="true"&&F.contentEditable!=="true"&&(F.style.outline="1px solid transparent")})},me=k=>{if(v.current||!d.current)return;const N=k.target;if(!N||!d.current.contains(N))return;let F=N;const z=d.current;for(;F&&F!==z&&!Z(F);)F=F.parentElement;if(!F||F===z)return;if($.current===F&&F.contentEditable==="true"){const R=document.createRange();R.selectNodeContents(F);const q=window.getSelection();q==null||q.removeAllRanges(),q==null||q.addRange(R);return}$.current&&$.current!==F&&pe($.current),F.contentEditable="true",F.setAttribute("data-editing","true"),F.style.backgroundColor="var(--color-background-light)",F.style.outline="2px solid var(--color-primary-medium-dark)",F.focus(),$.current=F,F.removeAttribute("data-editable");const h=document.createRange();h.selectNodeContents(F);const E=window.getSelection();E==null||E.removeAllRanges(),E==null||E.addRange(h);const f=R=>{(R.key==="Enter"&&!R.shiftKey||R.key==="Escape")&&(R.preventDefault(),pe(F))},b=()=>{setTimeout(()=>{$.current===F&&pe(F),F.removeEventListener("keydown",f),F.removeEventListener("blur",b)},40)};F.addEventListener("keydown",f),F.addEventListener("blur",b)},de=k=>{if(u.current)try{u.current.destroy()}catch(z){}const N=k.filter(z=>z&&z instanceof HTMLElement&&document.contains(z)&&!z.classList.contains("insertion-gap-marker"));console.log("[Wireframe Drag] Initializing dragula. Container count:",N.length,"Simple mode:",_.current),u.current=Em(N,{moves:function(z,h,E,f){if(!v.current||z&&z.classList&&z.classList.contains("insertion-gap-marker")||d.current&&z===d.current||_.current&&d.current&&z&&z.parentElement!==d.current||!(z instanceof HTMLElement))return!1;const b=z.getBoundingClientRect();return!(b.width<10||b.height<10)},accepts:function(z,h,E,f){return h instanceof HTMLElement?_.current?h===d.current:N.includes(h):!1},invalid:function(z,h){if(!(z instanceof HTMLElement)||z.classList&&z.classList.contains("insertion-gap-marker")||d.current&&z===d.current)return!0;const E=window.getComputedStyle(z);return E.position==="sticky"||E.position==="fixed"?!0:z.tagName==="INPUT"||z.tagName==="BUTTON"||z.tagName==="A"||z.contentEditable==="true"||z.hasAttribute("contenteditable")}}),u.current.on("drag",z=>{d.current&&d.current.classList.add("dragging-active"),G.current=z,console.log("[Wireframe Drag] drag start ->",z.tagName,z.className);const h=ce();h.style.display="block",y.current||(y.current=E=>I(E),window.addEventListener("mousemove",y.current,{passive:!0}))});const F=()=>{G.current=null;const z=J.current;z&&z.parentElement&&z.parentElement.removeChild(z),y.current&&(window.removeEventListener("mousemove",y.current),y.current=null)};P.current=F,u.current.on("cancel",()=>{d.current&&d.current.classList.remove("dragging-active"),console.log("[Wireframe Drag] drag cancel"),F()}),u.current.on("drop",()=>{if(d.current&&d.current.classList.remove("dragging-active"),console.log("[Wireframe Drag] drop"),F(),d.current&&a)try{const z=d.current.innerHTML;a(z),Ie(),T.current=!1,fe(),se()}catch(z){}}),u.current.on("shadow",(z,h)=>{console.log("[Wireframe Drag] shadow placeholder in",h===d.current?"ROOT":h.className)}),u.current.on("over",(z,h)=>{console.log("[Wireframe Drag] over container",h===d.current?"ROOT":h.className)}),u.current.on("out",(z,h)=>{console.log("[Wireframe Drag] out container",h===d.current?"ROOT":h.className)}),Ie()};return g.useEffect(()=>{if(!d.current)return;if(H.current){H.current=!1;try{const F=_.current?[d.current]:(()=>{const z=mu(d.current),h=Array.from(d.current.children);if(h.length===1){const E=h[0];z.includes(E)||z.push(E)}return z.filter(E=>E&&E instanceof HTMLElement&&document.contains(E)&&E.getBoundingClientRect().width>0&&E.getBoundingClientRect().height>0)})();j(F),de(F)}catch(F){console.warn("[Wireframe Drag] Reinit error, falling back to simple mode:",F),_.current=!0,j([d.current]),de([d.current])}return}if(u.current)try{u.current.destroy()}catch(F){}const k=Fm(c);try{d.current.innerHTML=k;const F=Array.from(d.current.children).filter(z=>!(z.tagName==="STYLE"||z.tagName==="SCRIPT"));if(!_.current&&F.length===1){const z=F[0],h=/(wireframe|wrapper|content|inner|layout|root|canvas)/i.test(z.className||"");if(/^(DIV|MAIN|SECTION)$/i.test(z.tagName)&&h){const f=document.createDocumentFragment();Array.from(z.childNodes).forEach(b=>f.appendChild(b)),d.current.replaceChild(f,z)}else Array.from(z.children).forEach(f=>{f instanceof HTMLElement&&!f.classList.contains("draggable-block")&&f.classList.add("draggable-block")})}T.current=!1,Array.from(d.current.querySelectorAll("*")).forEach(z=>{z.style.outline="1px solid transparent"}),fe(),se()}catch(F){console.warn("[Wireframe Drag] HTML parsing error:",F),d.current.innerHTML='<div style="padding:20px;color:#dc3545;font-family:Segoe UI,sans-serif"><p><strong>❌ Render Error</strong></p><p>Failed to render wireframe. Switching to simple mode.</p></div>',_.current=!0}const N=_.current?[d.current]:(()=>{try{const F=mu(d.current),z=Array.from(d.current.children);if(z.length===1){const E=z[0];F.includes(E)||F.push(E)}const h=F.filter(E=>E&&E instanceof HTMLElement&&document.contains(E)&&E.getBoundingClientRect().width>0&&E.getBoundingClientRect().height>0);return h.length<=1?(console.warn("[Wireframe Drag] No valid containers found, falling back to simple mode"),_.current=!0,[d.current]):h}catch(F){return console.warn("[Wireframe Drag] Container detection error, falling back to simple mode:",F),_.current=!0,[d.current]}})();j(N),de(N)},[c,a,l]),g.useEffect(()=>{const k=N=>{d.current&&(N.altKey&&N.key==="1"?_.current||(_.current=!0,H.current=!0,console.log("[Wireframe Drag] Switching to SIMPLE mode (root-only)."),x(F=>F)):N.altKey&&N.key==="2"&&_.current&&(_.current=!1,H.current=!0,console.log("[Wireframe Drag] Switching to NORMAL mode (multi-container)."),x(F=>F)))};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[]),g.useEffect(()=>{const k=N=>{if(N.altKey&&(N.key==="d"||N.key==="D")){if(!d.current)return;const F=Array.from(d.current.children).map(z=>z.tagName+"."+z.className);console.log("[Wireframe Debug] Containers:",C.map(z=>z.tagName+"."+z.className)),console.log("[Wireframe Debug] First-level children:",F)}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[C]),g.useEffect(()=>{d.current&&(v.current=m,m?($.current&&pe($.current),ne(),ie(),T.current=!1,fe()):(se(),d.current.querySelectorAll(".draggable-block").forEach(k=>{k.classList.remove("draggable-block")}),P.current&&P.current()))},[m]),g.useEffect(()=>{if(!d.current)return;const k=d.current;k.addEventListener("click",me),Y(k);const N=F=>{if(!k)return;const z=F.target;$.current&&z&&!k.contains(z)&&pe($.current)};return document.addEventListener("mousedown",N),se(),()=>{k.removeEventListener("click",me),document.removeEventListener("mousedown",N)}},[]),r.jsxs("div",{className:"drag-wireframe",children:[r.jsx("div",{className:"drag-mode-controls",children:r.jsx("button",{className:`drag-toggle-btn ${m?"enabled":"disabled"}`,onClick:ze,title:m?"Click to disable drag mode":"Click to enable drag mode",children:m?r.jsxs(r.Fragment,{children:["🔒 ",r.jsx("span",{children:"Drag Mode: ON"})]}):r.jsxs(r.Fragment,{children:["🔓 ",r.jsx("span",{children:"Drag Mode: OFF"})]})})}),r.jsx("div",{ref:d,className:`dragula-container ${m?"drag-enabled":"drag-disabled"}`})]})},nl=({message:c,onReact:a,reactions:l=[],onCopy:d,onEdit:u})=>{const m=()=>{switch(c.status){case"sending":return r.jsx(Eu,{className:"status-icon sending"});case"sent":return r.jsx(Dt,{className:"status-icon sent"});case"delivered":return r.jsxs("div",{className:"status-icon delivered",children:[r.jsx(Dt,{}),r.jsx(Dt,{})]});case"read":return r.jsxs("div",{className:"status-icon read",children:[r.jsx(Dt,{}),r.jsx(Dt,{})]});default:return null}};return r.jsx("div",{className:`enhanced-message ${c.type}-message microsoft-chat-style`,children:r.jsxs("div",{className:"message-container",children:[r.jsx("div",{className:"message-header",children:r.jsxs("div",{className:"message-meta",children:[r.jsx("span",{className:"message-time",children:c.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),m()]})}),r.jsx("div",{className:"message-response",children:r.jsx("div",{className:"message-body",children:c.content})}),l.length>0&&r.jsx("div",{className:"message-reactions",children:l.map((x,v)=>r.jsxs("button",{className:`reaction-btn ${x.userReacted?"user-reacted":""}`,onClick:()=>a==null?void 0:a(c.id,x.emoji),children:[r.jsx("span",{className:"reaction-emoji",children:x.emoji}),r.jsx("span",{className:"reaction-count",children:x.count})]},v))})]})})},gu=[{id:"hero-landing",name:"Hero Landing Page",url:"/demo-images/hero-landing.png",description:"Clean landing page with hero section, navigation, and call-to-action buttons",category:"landing-page",accuracy:97,components:8,complexity:"simple",features:["High Contrast","Clear Typography","Minimal Layout"],mockResults:{detectedComponents:["Navigation Bar","Hero Section","CTA Button","Feature Cards","Footer"],colorsPalette:["#0078D4","#FFFFFF","#323130","#107C10"],layoutType:"Single Column with Grid",confidenceScore:.97,processingTime:"2.3s"}},{id:"admin-dashboard",name:"Admin Dashboard",url:"/demo-images/admin-dashboard.png",description:"Complex dashboard with charts, tables, sidebar navigation, and data visualization",category:"dashboard",accuracy:94,components:15,complexity:"complex",features:["Data Tables","Charts","Sidebar Nav","Multi-column"],mockResults:{detectedComponents:["Sidebar Nav","Header Bar","Data Cards","Chart Container","Data Table","Action Buttons"],colorsPalette:["#0078D4","#F3F2F1","#323130","#D83B01","#107C10"],layoutType:"Multi-column with Sidebar",confidenceScore:.94,processingTime:"4.1s"}},{id:"mobile-shopping",name:"Mobile Shopping App",url:"/demo-images/mobile-shopping.png",description:"Mobile e-commerce interface with product grid, search, and bottom navigation",category:"mobile-app",accuracy:96,components:12,complexity:"medium",features:["Mobile Optimized","Touch Targets","Bottom Nav","Product Grid"],mockResults:{detectedComponents:["Search Bar","Product Grid","Product Cards","Bottom Navigation","Filter Buttons"],colorsPalette:["#0078D4","#FFFFFF","#323130","#E74C3C"],layoutType:"Mobile Grid Layout",confidenceScore:.96,processingTime:"3.2s"}},{id:"contact-form",name:"Contact Form",url:"/demo-images/contact-form.png",description:"Simple contact form with validation, inputs, and submit button",category:"form",accuracy:99,components:6,complexity:"simple",features:["Form Validation","Input Fields","Clear Labels","Submit Button"],mockResults:{detectedComponents:["Form Container","Text Inputs","Textarea","Submit Button","Validation Messages"],colorsPalette:["#0078D4","#FFFFFF","#323130","#D83B01"],layoutType:"Centered Form Layout",confidenceScore:.99,processingTime:"1.8s"}},{id:"ecommerce-product",name:"Product Detail Page",url:"/demo-images/ecommerce-product.png",description:"E-commerce product page with image gallery, specifications, and purchase options",category:"ecommerce",accuracy:95,components:11,complexity:"medium",features:["Image Gallery","Product Info","Price Display","Add to Cart"],mockResults:{detectedComponents:["Product Images","Product Title","Price Display","Add to Cart Button","Product Details","Reviews Section"],colorsPalette:["#0078D4","#FFFFFF","#323130","#107C10","#FF8C00"],layoutType:"Two-column Product Layout",confidenceScore:.95,processingTime:"3.7s"}}],zm=({onSelectDemo:c,selectedDemo:a})=>{const[l,d]=g.useState("all"),[u,m]=g.useState(null),x=[{id:"all",label:"All Examples",icon:"🎯"},{id:"landing-page",label:"Landing Pages",icon:"🏠"},{id:"dashboard",label:"Dashboards",icon:"📊"},{id:"mobile-app",label:"Mobile Apps",icon:"📱"},{id:"form",label:"Forms",icon:"📝"},{id:"ecommerce",label:"E-commerce",icon:"🛒"}],v=l==="all"?gu:gu.filter(T=>T.category===l),C=T=>T>=95?"#107C10":T>=90?"#FF8C00":"#D83B01",j=T=>{const O={simple:{label:"Simple",color:"#107C10"},medium:{label:"Medium",color:"#FF8C00"},complex:{label:"Complex",color:"#D83B01"}};return O[T]||O.simple},$=g.useCallback(T=>{c(T)},[c]);return r.jsxs("div",{className:"demo-gallery",children:[r.jsxs("div",{className:"demo-gallery-header",children:[r.jsxs("div",{className:"demo-title",children:[r.jsx(oa,{className:"demo-icon"}),r.jsx("h3",{children:"Demo Gallery - Curated Examples"})]}),r.jsx("p",{className:"demo-description",children:"Select a pre-analyzed example to see our accuracy capabilities in action"})]}),r.jsx("div",{className:"category-filters",children:x.map(T=>r.jsxs("button",{className:`category-filter ${l===T.id?"active":""}`,onClick:()=>d(T.id),children:[r.jsx("span",{className:"category-emoji",children:T.icon}),T.label]},T.id))}),r.jsx("div",{className:"demo-images-grid",children:v.map(T=>{const O=j(T.complexity),J=a===T.id,G=u===T.id;return r.jsxs("div",{className:`demo-image-card ${J?"selected":""}`,onMouseEnter:()=>m(T.id),onMouseLeave:()=>m(null),onClick:()=>$(T),children:[r.jsxs("div",{className:"demo-image-preview",children:[r.jsxs("div",{className:`demo-image-placeholder ${T.category}`,children:[T.category==="landing-page"&&r.jsxs("div",{className:"landing-page-mockup",children:[r.jsx("div",{className:"mockup-nav"}),r.jsx("div",{className:"mockup-content"}),r.jsx("div",{className:"mockup-footer"})]}),T.category==="dashboard"&&r.jsxs("div",{className:"dashboard-mockup",children:[r.jsx("div",{className:"mockup-sidebar"}),r.jsxs("div",{className:"mockup-main",children:[r.jsx("div",{className:"mockup-charts"}),r.jsx("div",{className:"mockup-stats"})]})]}),T.category==="mobile-app"&&r.jsxs("div",{className:"mobile-app-mockup",children:[r.jsx("div",{className:"mockup-status"}),r.jsx("div",{className:"mockup-header"}),r.jsxs("div",{className:"mockup-body",children:[r.jsx("div",{className:"mockup-item"}),r.jsx("div",{className:"mockup-item"}),r.jsx("div",{className:"mockup-item"}),r.jsx("div",{className:"mockup-item"})]}),r.jsx("div",{className:"mockup-tabs"})]}),T.category==="form"&&r.jsxs("div",{className:"form-mockup",children:[r.jsx("div",{className:"mockup-title"}),r.jsx("div",{className:"mockup-field"}),r.jsx("div",{className:"mockup-field"}),r.jsx("div",{className:"mockup-textarea"}),r.jsx("div",{className:"mockup-button"})]}),T.category==="ecommerce"&&r.jsxs("div",{className:"ecommerce-mockup",children:[r.jsx("div",{className:"mockup-image"}),r.jsxs("div",{className:"mockup-info",children:[r.jsx("div",{className:"mockup-name"}),r.jsx("div",{className:"mockup-price"}),r.jsxs("div",{className:"mockup-actions",children:[r.jsx("div",{className:"mockup-cart"}),r.jsx("div",{className:"mockup-buy"})]})]})]})]}),J&&r.jsx("div",{className:"selected-overlay",children:r.jsx(Dt,{className:"check-icon"})})]}),r.jsxs("div",{className:"demo-image-info",children:[r.jsxs("div",{className:"demo-image-header",children:[r.jsx("h4",{className:"demo-image-title",children:T.name}),r.jsxs("div",{className:"demo-badges",children:[r.jsxs("span",{className:"accuracy-badge",style:{"--accuracy-color":C(T.accuracy)},children:[r.jsx(Jf,{className:"badge-icon"}),T.accuracy,"%"]}),r.jsx("span",{className:"complexity-badge",style:{"--complexity-color":O.color},children:O.label})]})]}),r.jsx("p",{className:"demo-image-description",children:T.description}),r.jsxs("div",{className:"demo-stats",children:[r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-value",children:T.components}),r.jsx("span",{className:"stat-label",children:"Components"})]}),r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-value",children:T.mockResults.processingTime}),r.jsx("span",{className:"stat-label",children:"Process Time"})]}),r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-value",children:T.mockResults.layoutType}),r.jsx("span",{className:"stat-label",children:"Layout"})]})]}),r.jsx("div",{className:"demo-features",children:T.features.map(y=>r.jsx("span",{className:"feature-tag",children:y},y))}),G&&r.jsxs("div",{className:"hover-details",children:[r.jsxs("div",{className:"detail-section",children:[r.jsx("strong",{children:"Detected Components:"}),r.jsx("div",{className:"component-list",children:T.mockResults.detectedComponents.map(y=>r.jsx("span",{className:"component-chip",children:y},y))})]}),r.jsxs("div",{className:"detail-section",children:[r.jsx("strong",{children:"Color Palette:"}),r.jsx("div",{className:"color-palette",children:T.mockResults.colorsPalette.map(y=>r.jsx("div",{className:"color-swatch","data-color":y,title:y},y))})]})]})]})]},T.id)})}),v.length===0&&r.jsx("div",{className:"no-results",children:r.jsx("p",{children:"No demo images found for the selected category."})})]})},Lm=({isOpen:c,onClose:a,onImageUpload:l,onAnalyzeImage:d,isAnalyzing:u=!1,demoMode:m=!1})=>{const[x,v]=g.useState("upload"),[C,j]=g.useState(null),$=g.useCallback(O=>{j(O.id),setTimeout(()=>{const J=`${O.name.toLowerCase().replace(/\s+/g,"-")}.png`;d(O.url,J)},500)},[d]);if(!c)return null;const T=m?x:"upload";return r.jsx("div",{className:"fluent-modal-backdrop",onClick:a,children:r.jsxs("div",{className:"fluent-dialog fluent-upload-dialog",onClick:O=>O.stopPropagation(),children:[r.jsxs("div",{className:"fluent-dialog-header",children:[r.jsxs("div",{className:"fluent-dialog-title",children:[r.jsx(Pn,{className:"fluent-dialog-icon"}),r.jsx("h2",{children:"Upload Image to Wireframe"})]}),r.jsx("button",{className:"fluent-close-btn",onClick:a,title:"Close modal",children:r.jsx(Qt,{})})]}),m&&r.jsxs("div",{className:"upload-mode-switcher",children:[r.jsxs("button",{className:`mode-btn ${T==="upload"?"active":""}`,onClick:()=>v("upload"),children:[r.jsx(Pn,{className:"mode-icon"}),"Upload Your Image"]}),r.jsxs("button",{className:`mode-btn ${T==="demo"?"active":""}`,onClick:()=>v("demo"),children:[r.jsx(oa,{className:"mode-icon"}),"Demo Gallery"]})]}),r.jsx("div",{className:"fluent-dialog-body",children:T==="upload"?r.jsxs("div",{className:"fluent-upload-content",children:[r.jsx("p",{className:"fluent-dialog-description",children:"Upload an image of a UI design, wireframe, or website screenshot to generate a wireframe based on its layout."}),r.jsx("div",{className:"fluent-upload-zone-container",children:r.jsx(Au,{onImageUpload:l,onAnalyzeImage:d,isAnalyzing:u,className:"fluent-upload-zone"})})]}):r.jsx("div",{className:"demo-gallery-content",children:r.jsx(zm,{onSelectDemo:$,selectedDemo:C})})}),r.jsx("div",{className:"fluent-dialog-footer",children:T==="demo"&&C?r.jsxs("div",{className:"demo-footer-actions",children:[r.jsx("button",{className:"fluent-button fluent-button-primary",onClick:()=>{a()},children:"Generate Wireframe from Demo"}),r.jsx("button",{className:"fluent-button fluent-button-secondary",onClick:a,children:"Cancel"})]}):r.jsx("button",{className:"fluent-button fluent-button-secondary",onClick:a,children:"Cancel"})})]})})};function Tm(c){return _e({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.852 8.981h-4.588V0h4.588c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.491-4.49 4.491zM12.735 7.51h3.117c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-3.117V7.51zm0 1.471H8.148c-2.476 0-4.49-2.014-4.49-4.49S5.672 0 8.148 0h4.588v8.981zm-4.587-7.51c-1.665 0-3.019 1.355-3.019 3.019s1.354 3.02 3.019 3.02h3.117V1.471H8.148zm4.587 15.019H8.148c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h4.588v8.98zM8.148 8.981c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h3.117V8.981H8.148zM8.172 24c-2.489 0-4.515-2.014-4.515-4.49s2.014-4.49 4.49-4.49h4.588v4.441c0 2.503-2.047 4.539-4.563 4.539zm-.024-7.51a3.023 3.023 0 0 0-3.019 3.019c0 1.665 1.365 3.019 3.044 3.019 1.705 0 3.093-1.376 3.093-3.068v-2.97H8.148zm7.704 0h-.098c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h.098c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.49-4.49 4.49zm-.097-7.509c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h.098c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-.098z"},child:[]}]})(c)}const Pm=({pages:c,currentPageId:a,onPageSwitch:l,onAddPage:d,onOpenLibrary:u,onOpenDevPlaybooks:m,onOpenFigmaComponents:x,onSave:v,onAddToFavorites:C,onImageUpload:j})=>{const[$,T]=g.useState(null),O=(y,P)=>{const _=y.currentTarget.getBoundingClientRect();T({text:P,x:_.left+_.width/2,y:_.bottom+8})},J=()=>{T(null)};console.log("🔥 PageNavigation render with:",{pages:c.map(y=>({id:y.id,name:y.name})),currentPageId:a});const G=y=>["First Page","Second Page","Third Page","Fourth Page","Fifth Page","Sixth Page","Seventh Page","Eighth Page","Ninth Page","Tenth Page"][y]||`Page ${y+1}`;return!c||c.length===0?r.jsx("div",{className:"page-navigation breadcrumb-style",children:r.jsxs("div",{className:"breadcrumb-bar",children:[r.jsx("div",{className:"breadcrumb-left",children:r.jsx("span",{className:"no-pages-message",children:"No pages yet"})}),r.jsxs("div",{className:"page-toolbar",children:[r.jsx("button",{className:"toolbar-btn",onClick:d,onMouseEnter:y=>O(y,"Add new page"),onMouseLeave:J,"aria-label":"Add Page",children:r.jsx(ru,{})}),r.jsx("button",{className:"icon-btn",title:"Dev Playbooks",onClick:()=>{console.log("📚 Dev Playbooks button clicked!"),m&&m()},children:r.jsx(Vi,{})}),r.jsx("button",{className:"icon-btn",title:"Figma Components",onClick:()=>{console.log("🎨 Figma Components button clicked!"),x&&x()},children:r.jsx(ll,{})}),r.jsx("button",{className:"icon-btn",title:"Component Library (Legacy)",onClick:()=>{console.log("🎨 Component Library button clicked!"),u&&u()},children:r.jsx(Gf,{})}),r.jsx("button",{className:"toolbar-btn",onClick:C,onMouseEnter:y=>O(y,"Add to favorites"),onMouseLeave:J,"aria-label":"Add to Favorites",children:r.jsx(oa,{})}),r.jsx("button",{className:"toolbar-btn",onClick:v,onMouseEnter:y=>O(y,"Save wireframe"),onMouseLeave:J,"aria-label":"Save",children:r.jsx(cl,{})})]})]})}):r.jsxs("div",{className:"page-navigation breadcrumb-style",children:[r.jsxs("div",{className:"breadcrumb-bar",children:[r.jsx("div",{className:"breadcrumb-left",children:r.jsx("div",{className:"breadcrumb-container",children:c.map((y,P)=>r.jsxs(Qn.Fragment,{children:[r.jsx("button",{className:`breadcrumb-item ${a===y.id?"active":""}`,onClick:()=>l(y.id),title:`${y.name} - ${y.description}`,children:G(P)}),P<c.length-1&&r.jsx("span",{className:"breadcrumb-separator",children:"/"})]},y.id))})}),r.jsxs("div",{className:"page-toolbar",children:[r.jsx("button",{className:"toolbar-btn",onClick:d,onMouseEnter:y=>O(y,"Add new page"),onMouseLeave:J,"aria-label":"Add Page",children:r.jsx(ru,{})}),r.jsx("button",{className:"toolbar-btn",onClick:m,onMouseEnter:y=>O(y,"Dev Playbooks"),onMouseLeave:J,"aria-label":"Dev Playbooks",children:r.jsx(sl,{})}),r.jsx("button",{className:"toolbar-btn",onClick:x,onMouseEnter:y=>O(y,"Figma Components"),onMouseLeave:J,"aria-label":"Figma Components",children:r.jsx(Tm,{})}),r.jsx("button",{className:"toolbar-btn",onClick:j,onMouseEnter:y=>O(y,"Upload Image"),onMouseLeave:J,"aria-label":"Upload Image",children:r.jsx(ii,{})}),r.jsx("button",{className:"toolbar-btn",onClick:C,onMouseEnter:y=>O(y,"Add to favorites"),onMouseLeave:J,"aria-label":"Add to Favorites",children:r.jsx(oa,{})}),r.jsx("button",{className:"toolbar-btn",onClick:v,onMouseEnter:y=>O(y,"Save wireframe"),onMouseLeave:J,"aria-label":"Save",children:r.jsx(cl,{})})]})]}),$&&r.jsx("div",{className:"black-tooltip-container",children:r.jsx("div",{className:"black-tooltip",ref:y=>{y&&(y.style.left=`${$.x}px`,y.style.top=`${$.y}px`)},children:$.text})})]})},Im=({isOpen:c,onClose:a,htmlContent:l,title:d="HTML Code",onImportHtml:u})=>{const[m,x]=g.useState(!1),[v,C]=g.useState(!1),j=g.useRef(null);if(!c)return null;const $=()=>Fe(null,null,function*(){try{yield navigator.clipboard.writeText(l),x(!0),setTimeout(()=>x(!1),2e3)}catch(y){console.error("Failed to copy text: ",y)}}),T=()=>{const y=new Blob([l],{type:"text/html"}),P=URL.createObjectURL(y),_=document.createElement("a");_.href=P,_.download="wireframe.html",document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(P)},O=y=>Fe(null,null,function*(){var _;const P=(_=y.target.files)==null?void 0:_[0];if(P){C(!0);try{const H=yield P.text();u==null||u(H)}catch(H){console.error("Failed to read file",H)}finally{C(!1),j.current&&(j.current.value="")}}}),J=()=>{var y;(y=j.current)==null||y.click()},G=y=>y.replace(/></g,`>
<`).replace(/^\s*\n/gm,"").split(`
`).map(P=>P.trim()).filter(P=>P.length>0).join(`
`);return r.jsx("div",{className:"html-code-overlay",children:r.jsxs("div",{className:"html-code-modal",children:[r.jsxs("div",{className:"html-code-header",children:[r.jsxs("div",{className:"header-left",children:[r.jsx("h2",{children:d}),r.jsx("p",{children:"View, copy, import, or download the HTML for your wireframe"})]}),r.jsxs("div",{className:"header-right",children:[u&&r.jsxs(r.Fragment,{children:[r.jsx("input",{ref:j,type:"file",accept:".html,.htm,text/html",className:"visually-hidden-file-input","aria-label":"Import HTML file",onChange:O}),r.jsxs("button",{className:"code-action-btn",onClick:J,title:"Import HTML File",disabled:v,children:[r.jsx(Pn,{}),v?"Importing...":"Import"]})]}),r.jsxs("button",{className:"code-action-btn",onClick:$,title:"Copy to Clipboard",children:[m?r.jsx(Dt,{}):r.jsx(Fu,{}),m?"Copied!":"Copy"]}),r.jsxs("button",{className:"code-action-btn",onClick:T,title:"Download HTML File",children:[r.jsx(zr,{}),"Download"]}),r.jsx("button",{className:"close-btn",onClick:a,title:"Close Code Viewer",children:r.jsx(Qt,{})})]})]}),r.jsx("div",{className:"html-code-content",children:r.jsx("pre",{className:"html-code-block",children:r.jsx("code",{children:G(l)})})}),r.jsxs("div",{className:"html-code-footer",children:[r.jsx("div",{className:"footer-info",children:r.jsxs("small",{children:[l.length," characters • Ready to use HTML code"]})}),r.jsx("button",{className:"btn-secondary",onClick:a,children:"Close"})]})]})})},Dm=({content:c,styleMode:a})=>{const[l,d]=g.useState(""),[u,m]=g.useState(!0);return g.useEffect(()=>{Fe(null,null,function*(){m(!0);try{const v=yield vl(c,!0),C="body{margin:0;padding:16px;box-sizing:border-box;}*{box-sizing:border-box;}img{max-width:100%;height:auto;}",j=`
                .presentation-base{--primary:#8E9AAF;--secondary:#68769C;--accent:#3C4858;--background:#E9ECEF;--text-primary:#3C4858;--text-secondary:#68769C;--border-color:#CBC2C2;--highlight:#8E9AAF;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;line-height:1.6;color:var(--text-primary);} 
                .presentation-base h1,.presentation-base h2,.presentation-base h3,.presentation-base h4,.presentation-base h5,.presentation-base h6{margin-top:0;margin-bottom:.75rem;color:var(--text-primary);} 
                .presentation-base .container,.presentation-base .section,.presentation-base .card{border:1px solid var(--border-color);border-radius:6px;padding:16px;margin-bottom:16px;background:#fff;} 
                .presentation-base button{background:var(--primary);color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-family:inherit;} 
                .presentation-base button:hover{background:var(--secondary);} 
                .presentation-base input,.presentation-base textarea,.presentation-base select{border:1px solid var(--border-color);border-radius:4px;padding:8px 12px;font-family:inherit;font-size:14px;color:var(--text-primary);} 
                .presentation-base input:focus,.presentation-base textarea:focus,.presentation-base select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px rgba(142,154,175,.2);} 
                .presentation-base a{color:var(--primary);text-decoration:none;} 
                .presentation-base a:hover{color:var(--secondary);text-decoration:underline;} 
                .presentation-base .nav,.presentation-base .navigation{background:var(--background);border:1px solid var(--border-color);padding:12px;border-radius:6px;margin-bottom:16px;} 
                .presentation-base .hero,.presentation-base .header{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;padding:24px;border-radius:8px;margin-bottom:20px;} 
                .presentation-base .hero h1,.presentation-base .hero h2,.presentation-base .hero h3,.presentation-base .header h1,.presentation-base .header h2,.presentation-base .header h3{color:#fff;} 
                .presentation-base .sidebar{background:var(--background);border:1px solid var(--border-color);padding:16px;border-radius:6px;} 
                .presentation-base table{width:100%;border-collapse:collapse;margin-bottom:16px;} 
                .presentation-base th,.presentation-base td{border:1px solid var(--border-color);padding:8px 12px;text-align:left;} 
                .presentation-base th{background:var(--background);font-weight:600;color:var(--text-primary);} 
                @media (max-width:768px){.presentation-base{padding:12px;}.presentation-base .container,.presentation-base .section,.presentation-base .card{padding:12px;margin-bottom:12px;}}
                `,$=a==="neutral"?'<div class="presentation-base">':'<div class="presentation-raw">',O=`<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>${v.styles?`<style>${v.styles}</style>`:""}<style>${C}${a==="neutral"?j:""}</style></head><body>${$}${v.html}</div></body></html>`;d(O)}catch(v){console.warn("Failed to inline CSS in presentation, using fallback:",v);const C=ai(c,!0),j="body{margin:0;padding:16px;box-sizing:border-box;}*{box-sizing:border-box;}img{max-width:100%;height:auto;}",$=`
                .presentation-base{--primary:#8E9AAF;--secondary:#68769C;--accent:#3C4858;--background:#E9ECEF;--text-primary:#3C4858;--text-secondary:#68769C;--border-color:#CBC2C2;--highlight:#8E9AAF;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;line-height:1.6;color:var(--text-primary);} 
                .presentation-base h1,.presentation-base h2,.presentation-base h3,.presentation-base h4,.presentation-base h5,.presentation-base h6{margin-top:0;margin-bottom:.75rem;color:var(--text-primary);} 
                .presentation-base .container,.presentation-base .section,.presentation-base .card{border:1px solid var(--border-color);border-radius:6px;padding:16px;margin-bottom:16px;background:#fff;} 
                .presentation-base button{background:var(--primary);color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-family:inherit;} 
                .presentation-base button:hover{background:var(--secondary);} 
                .presentation-base input,.presentation-base textarea,.presentation-base select{border:1px solid var(--border-color);border-radius:4px;padding:8px 12px;font-family:inherit;font-size:14px;color:var(--text-primary);} 
                .presentation-base input:focus,.presentation-base textarea:focus,.presentation-base select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px rgba(142,154,175,.2);} 
                .presentation-base a{color:var(--primary);text-decoration:none;} 
                .presentation-base a:hover{color:var(--secondary);text-decoration:underline;} 
                .presentation-base .nav,.presentation-base .navigation{background:var(--background);border:1px solid var(--border-color);padding:12px;border-radius:6px;margin-bottom:16px;} 
                .presentation-base .hero,.presentation-base .header{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;padding:24px;border-radius:8px;margin-bottom:20px;} 
                .presentation-base .hero h1,.presentation-base .hero h2,.presentation-base .hero h3,.presentation-base .header h1,.presentation-base .header h2,.presentation-base .header h3{color:#fff;} 
                .presentation-base .sidebar{background:var(--background);border:1px solid var(--border-color);padding:16px;border-radius:6px;} 
                .presentation-base table{width:100%;border-collapse:collapse;margin-bottom:16px;} 
                .presentation-base th,.presentation-base td{border:1px solid var(--border-color);padding:8px 12px;text-align:left;} 
                .presentation-base th{background:var(--background);font-weight:600;color:var(--text-primary);} 
                @media (max-width:768px){.presentation-base{padding:12px;}.presentation-base .container,.presentation-base .section,.presentation-base .card{padding:12px;margin-bottom:12px;}}
                `,T=a==="neutral"?'<div class="presentation-base">':'<div class="presentation-raw">',J=`<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>${(C.links||[]).map(G=>`<link rel="stylesheet" href="${G}"/>`).join("")}${C.styles?`<style>${C.styles}</style>`:""}<style>${j}${a==="neutral"?$:""}</style></head><body>${T}${C.html}</div></body></html>`;d(J)}finally{m(!1)}})},[c,a]),u?r.jsx("div",{className:"wireframe-iframe loading-placeholder",children:r.jsx("div",{children:"Loading presentation..."})}):r.jsx("iframe",{srcDoc:l,className:"wireframe-iframe",title:"Page Preview",sandbox:"allow-same-origin"})},$m=({content:c,title:a})=>{const[l,d]=g.useState("");return g.useEffect(()=>{Fe(null,null,function*(){try{const m=yield vl(c,!0),x=`<!DOCTYPE html><html><head><meta charset='utf-8'/><base target="_blank"/><style>
html,body{margin:0;padding:0;box-sizing:border-box;width:100%;height:100%;overflow:hidden;}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;line-height:1.1;font-size:8px;padding:2px;}
*{max-width:100% !important;animation:none !important;transition:none !important;}
img{max-width:100%;height:auto;display:block;}
button,a{pointer-events:none !important;}
/* Compact mini preview styling - force tighter spacing */
h1,h2,h3,h4,h5,h6{font-size:12px;margin:1px 0;line-height:1.1;font-weight:600;}
p{font-size:8px;margin:1px 0;line-height:1.1;}
div{margin:0 !important;padding:1px 2px !important;}
section,article,main{margin:0 !important;padding:1px !important;}
/* Force content to fill space */
.container,div[style*="max-width"]{max-width:100% !important;width:100% !important;margin:0 !important;}
div[style*="padding"]{padding:2px 4px !important;}
div[style*="margin"]{margin:1px 0 !important;}
/* Override any large dimensions */
div[style*="height"]{min-height:auto !important;}
/* Compact forms and inputs */
input,textarea,button{font-size:7px;padding:1px 2px;margin:0;}
/* Make headers more compact */
div[style*="background"][style*="padding"]{padding:2px 4px !important;margin:0 !important;}
${m.styles||""}
</style></head><body>${m.html}</body></html>`;d(x)}catch(m){console.warn("Failed to inline CSS in thumbnail, using fallback:",m);const x=ai(c,!0),v=`<!DOCTYPE html><html><head><meta charset='utf-8'/><style>
html,body{margin:0;padding:0;box-sizing:border-box;width:100%;height:100%;overflow:hidden;}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;line-height:1.1;font-size:8px;padding:2px;}
*{max-width:100% !important;animation:none !important;transition:none !important;}
img{max-width:100%;height:auto;display:block;}
button,a{pointer-events:none !important;}
h1,h2,h3,h4,h5,h6{font-size:12px;margin:1px 0;line-height:1.1;font-weight:600;}
p{font-size:8px;margin:1px 0;line-height:1.1;}
div{margin:0 !important;padding:1px 2px !important;}
${x.styles||""}
</style></head><body>${x.html}</body></html>`;d(v)}})},[c]),r.jsx("iframe",{srcDoc:l,className:"thumbnail-iframe",title:a,sandbox:"allow-same-origin"})},Mm=({isOpen:c,onClose:a,wireframeName:l,wireframeDescription:d,pages:u})=>{const[m,x]=g.useState(0),[v,C]=g.useState(!1),[j,$]=g.useState(!0),[T,O]=g.useState("raw"),J=g.useRef(null),G=g.useRef(null),y=`presentation_last_index_${l}`,P=new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"});g.useEffect(()=>{if(!c)return;const I=ne=>{switch(ne.key){case"ArrowLeft":H();break;case"ArrowRight":_();break;case"Escape":a();break;case"f":case"F":ce();break;case" ":ne.preventDefault(),_();break;case"Home":x(0);break;case"End":x(u.length-1);break}};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[c,m,u.length]),g.useEffect(()=>{if(c){const I=sessionStorage.getItem(y),ne=I?parseInt(I,10):0,ie=isNaN(ne)?0:Math.min(Math.max(0,ne),Math.max(0,u.length-1));x(ie)}},[c]),g.useEffect(()=>{c&&sessionStorage.setItem(y,String(m))},[c,m]);const _=g.useCallback(()=>{m<u.length-1&&x(I=>I+1)},[m,u.length]),H=g.useCallback(()=>{m>0&&x(I=>I-1)},[m]),ce=g.useCallback(()=>{var I,ne,ie;!document.fullscreenElement&&G.current?(ne=(I=G.current).requestFullscreen)==null||ne.call(I).catch(()=>{C(!0)}):(ie=document.exitFullscreen)==null||ie.call(document).catch(()=>{C(!1)})},[]);if(g.useEffect(()=>{const I=()=>{const ne=!!document.fullscreenElement;C(ne),$(!0)};return document.addEventListener("fullscreenchange",I),()=>document.removeEventListener("fullscreenchange",I)},[]),g.useEffect(()=>{if(!c)return;const I=G.current;if(!I)return;const ne=()=>{$(!0),J.current&&window.clearTimeout(J.current),v&&(J.current=window.setTimeout(()=>{$(!1)},2500))},ie=["mousemove","mousedown","keydown","touchstart"];return ie.forEach(se=>I.addEventListener(se,ne)),ne(),()=>{ie.forEach(se=>I.removeEventListener(se,ne)),J.current&&window.clearTimeout(J.current)}},[c,v]),!c||u.length===0)return null;const Q=u[m];return r.jsxs("div",{ref:G,className:`presentation-mode ${v?"fullscreen":""} ${v&&!j?"chrome-hidden":""}`,children:[r.jsx("div",{className:"presentation-overlay",onClick:a}),r.jsxs("div",{className:"presentation-container",children:[r.jsxs("div",{className:`presentation-toolbar ${v&&!j?"hidden":""}`,children:[r.jsxs("div",{className:"toolbar-left",children:[r.jsx("div",{className:"toolbar-title",children:l}),r.jsx("div",{className:"toolbar-date",children:P})]}),r.jsxs("div",{className:"toolbar-right",children:[r.jsx("button",{className:"presentation-btn",onClick:ce,title:v?"Exit Fullscreen (F)":"Fullscreen (F)",children:v?r.jsx(Wf,{}):r.jsx(Hf,{})}),r.jsx("button",{className:"presentation-btn presentation-close",onClick:a,title:"Close Presentation (Esc)",children:r.jsx(Qt,{})})]})]}),u.length>1&&!v&&r.jsxs("div",{className:"presentation-nav",children:[r.jsx("button",{className:"nav-btn prev",onClick:H,disabled:m===0,title:"Previous Page (←)",children:r.jsx(Su,{})}),r.jsxs("div",{className:"page-indicator",children:[r.jsx("span",{className:"current-page",children:m+1}),r.jsx("span",{className:"page-separator",children:"/"}),r.jsx("span",{className:"total-pages",children:u.length})]}),r.jsx("button",{className:"nav-btn next",onClick:_,disabled:m===u.length-1,title:"Next Page (→)",children:r.jsx(Nu,{})})]}),r.jsxs("div",{className:"presentation-content",children:[!v&&r.jsxs("div",{className:"page-header",children:[r.jsx("h3",{className:"page-title",children:Q.name}),Q.description&&r.jsx("p",{className:"page-description",children:Q.description})]}),r.jsxs("div",{className:"wireframe-display",children:[r.jsx(Dm,{content:Q.content,styleMode:T}),v&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"click-zone left","aria-label":"Previous page",onClick:H}),r.jsx("button",{className:"click-zone right","aria-label":"Next page",onClick:_})]})]})]}),u.length>1&&r.jsx("div",{className:"page-thumbnails",children:u.map((I,ne)=>r.jsxs("button",{className:`thumbnail ${ne===m?"active":""}`,onClick:()=>x(ne),title:I.name,children:[r.jsx("div",{className:"thumbnail-preview",children:r.jsx($m,{content:I.content,title:`${I.name} Thumbnail`})}),r.jsx("span",{className:"thumbnail-label",children:I.name})]},I.id))}),r.jsx("div",{className:"presentation-help",children:r.jsx("small",{children:"Use ← → arrows to navigate • Press F for fullscreen • Press Esc to exit"})})]})]})},Rm=({componentCode:c})=>r.jsx("div",{dangerouslySetInnerHTML:{__html:c}});function hu(c,a){if(c&&c.trim()){const l=Um(c);if(l)return Lu(l+" Wireframe")}if(!c||c.trim().length<10){const l=Bm(c||"");return Om(l,c)}return"Custom Wireframe"}function Om(c,a){const l=[];c.industry&&_m(c.industry,a)&&l.push(c.industry),c.purpose&&l.push(c.purpose),c.layout&&c.layout!=="standard"&&c.layout!=="grid"&&l.push(c.layout),l.length===0&&l.push(Ym(a||"Custom"));let d=l.join(" ");return!d.toLowerCase().includes("wireframe")&&!d.toLowerCase().includes("mockup")&&!d.toLowerCase().includes("design")&&(d+=" Wireframe"),Lu(d)}function _m(c,a){const l=a.toLowerCase();switch(c){case"ecommerce":return l.includes("ecommerce")||l.includes("e-commerce")||l.includes("shop")&&l.includes("product");case"education":return l.includes("education")||l.includes("learn")||l.includes("course");case"healthcare":return l.includes("health")||l.includes("medical")||l.includes("doctor");default:return!1}}function Um(c){const a=c.toLowerCase().trim();if(a.includes("microsoft learning plan")||a.includes("ms learning plan"))return"Microsoft Learning Plan";if(a.includes("azure learning path"))return"Azure Learning Path";if(a.includes("certification progress tracker")||a.includes("certification tracker"))return"Certification Progress Tracker";if(a.includes("microsoft docs")||a.includes("microsoft documentation"))return"Microsoft Docs";if(a.includes("learn home page")||a.includes("microsoft learn landing"))return"Microsoft Learn Home";if(a.includes("dashboard"))return"Dashboard";if(a.includes("landing")||a.includes("homepage"))return"Landing Page";if(a.includes("login")||a.includes("sign in"))return"Login Page";if(a.includes("contact"))return"Contact Form";if(a.includes("profile"))return"Profile Page";if(a.includes("search"))return"Search Page";if(a.includes("checkout"))return"Checkout Page";if(a.includes("product"))return"Product Page";if(a.includes("about"))return"About Page";if(a.includes("blog"))return"Blog Page";if(a.includes("portfolio"))return"Portfolio";const l=a.replace(/[^\w\s]/g," ").split(/\s+/).filter(d=>d.length>2&&!["the","and","for","with","create","make","build","design","wireframe"].includes(d));return l.length>0?l.slice(0,2).join(" "):"Custom"}function Bm(c,a){const l=c.toLowerCase(),d="",u=Hm(l),m=Wm(l,d),x=Vm(l,d);return{components:Gm(l,d),purpose:m,industry:u,layout:x}}function Hm(c){const a={healthcare:["health","medical","doctor","patient","hospital","clinic"],ecommerce:["shop","store","product","cart","checkout","payment","order"],education:["learn","course","student","teacher","school","university","education"],finance:["bank","finance","payment","money","investment","trading"],"real estate":["property","house","apartment","real estate","listing"],travel:["travel","hotel","booking","flight","vacation","trip"],food:["restaurant","food","menu","recipe","cooking","delivery"],fitness:["fitness","gym","workout","exercise","health","training"],social:["social","chat","message","friend","community","profile"],business:["business","corporate","company","professional","enterprise"],tech:["software","app","technology","digital","platform","system"]};for(const[l,d]of Object.entries(a))if(d.some(u=>c.includes(u)))return l;return""}function Wm(c,a){const l={Dashboard:["dashboard","analytics","metrics","overview","summary"],"Landing Page":["landing","homepage","welcome","intro","main page"],"Login Page":["login","sign in","authentication","auth"],Registration:["register","sign up","signup","create account"],"Contact Form":["contact","contact us","get in touch","support"],"Product Page":["product detail","product page","item detail"],"Search Results":["search","results","listing","browse"],"Profile Page":["profile","account","user page","settings"],Checkout:["checkout","payment","purchase","order"],Blog:["blog","article","post","news"],Portfolio:["portfolio","gallery","showcase","work"],"About Page":["about","about us","team","company info"],"Features Page":["features","capabilities","functionality"],"Pricing Page":["pricing","plans","subscription","cost"],FAQ:["faq","frequently asked","questions","help"],Documentation:["docs","documentation","guide","manual"],"Admin Panel":["admin","management","control panel","backend"]};for(const[d,u]of Object.entries(l))if(u.some(m=>c.includes(m)||a.includes(m)))return d;return""}function Vm(c,a){const l={responsive:["responsive","mobile","tablet","adaptive"],grid:["grid","cards","gallery","masonry"],sidebar:["sidebar","side nav","navigation"],"header-footer":["header","footer","navigation"],"single-page":["single page","one page","scrolling"],"multi-step":["wizard","steps","multi-step","flow"],modal:["modal","popup","overlay","dialog"]};for(const[d,u]of Object.entries(l))if(u.some(m=>c.includes(m)||a.includes(m)))return d;return"standard"}function Gm(c,a){const l=[],d={form:["form","input","field","submit"],navigation:["nav","menu","navigation","breadcrumb"],search:["search","filter","find"],table:["table","list","data grid"],chart:["chart","graph","analytics","visualization"],card:["card","tile","panel"],button:["button","cta","action"],image:["image","photo","gallery","media"],video:["video","player","streaming"],social:["social","share","like","follow"]};for(const[u,m]of Object.entries(d))m.some(x=>c.includes(x)||a.includes(x))&&l.push(u);return l}function Ym(c){const a=["a","an","the","for","with","and","or","but","create","make","build","design"],l=c.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(d=>d.length>2&&!a.includes(d));return l.length>0?l.slice(0,2).join(" "):"Custom"}function Lu(c){return c.replace(/\w\S*/g,a=>a.charAt(0).toUpperCase()+a.substr(1).toLowerCase())}const Km=({description:c,setDescription:a,handleSubmit:l,loading:d,loadingStage:u,fallback:m,processingTime:x,handleStop:v,showAiSuggestions:C,aiSuggestions:j,suggestionLoading:$,isAiSourced:T=!1,setShowAiSuggestions:O,onGenerateAiSuggestions:J,error:G,htmlWireframe:y,setHtmlWireframe:P,reactComponent:_,setReactComponent:H,onAiSuggestionClick:ce,designTheme:Q,colorScheme:I,onSave:ne,onEnhancedSave:ie,onAddComponent:se,onGeneratePageContent:fe,onImageUpload:pe,onAnalyzeImage:Ie,isAnalyzingImage:ze=!1,onFigmaExport:Z,onFigmaIntegration:Y,onComponentLibrary:me,onDevPlaybooks:de,onFigmaComponents:k,onViewHtmlCode:N,onDownloadWireframe:F,onPresentationMode:z,editingMode:h="drag",onEditingModeChange:E})=>{var Ki;const f=g.useRef(null),b=g.useRef(null),R=g.useRef(!1),q=g.useRef(null),[Ce,je]=g.useState(!1),[Le,Ve]=g.useState([]),[Ye,te]=g.useState(!1),[be,Ue]=g.useState([]),[ye,W]=g.useState(null),[ue,De]=g.useState({}),[Ke,tt]=g.useState(!1),[lt,ht]=g.useState(!1),[$t,jn]=g.useState(!1),[mn,In]=g.useState([]),[Sn,Xe]=g.useState(!1),[rn,on]=g.useState(),[qt,Nn]=g.useState(null),[K,Ae]=g.useState({}),[$e,Re]=g.useState(!1),[pt,nt]=g.useState(!1),[Mt,ct]=g.useState(!1),[wt,ot]=g.useState(!1),[vt,Et]=g.useState(!1),[Rt,Dn]=g.useState(!1),[an,En]=g.useState(!1),[Jt,sn]=g.useState(null),[Fn,gn]=g.useState(!1),Lr=L=>{const he=L.trim();return/^[\d\s.,]+$/.test(he)&&he.length>0?(Nn("Please provide a descriptive text, not just numbers. For example: 'contact form with name and email fields' instead of just '2'."),!1):(Nn(null),!0)};g.useEffect(()=>{console.log("🧹 SplitLayout mounted - clearing AI suggestions"),O(!1)},[O]),g.useEffect(()=>{if(J){if(q.current&&window.clearTimeout(q.current),c.length>0){const L=c.trim();if(!/^[\d\s.,]+$/.test(L)){const ve=c.length<=3?100:200;q.current=window.setTimeout(()=>{J(c)},ve)}}return()=>{q.current&&window.clearTimeout(q.current)}}},[c,J,O]);const Oe=g.useCallback((L,he)=>{const ve={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:L,content:he,timestamp:new Date};Ve(Ne=>[...Ne,ve])},[]);g.useEffect(()=>{if(console.log("🔥 useEffect for First Page:",{hasWireframe:!!y,wireframePagesLength:be.length}),y&&be.length===0){console.log("🔥 Creating First Page automatically");const L={id:"home-page",name:"First Page",description:"First Page",type:"page"};Ue([L]),W(L.id),De(he=>Qe(Be({},he),{[L.id]:y}))}},[y,be.length]),g.useEffect(()=>{var L;ye&&y&&(console.log("🔄 Updating current page content:",{currentPageId:ye,htmlWireframeLength:y.length,previousContent:((L=ue[ye])==null?void 0:L.length)||0}),De(he=>Qe(Be({},he),{[ye]:y})))},[y,ye]);const $n=g.useCallback(L=>{console.log("🔥 handleAddPagesToWireframe called with pages:",L),console.log("🔥 Current wireframePages:",be);const he=new Set(be.map(Ne=>Ne.id)),ve=L.filter(Ne=>!he.has(Ne.id));if(console.log("🔥 New pages found:",ve),console.log("🔥 New pages with content:",ve.map(Ne=>{var et;return{id:Ne.id,name:Ne.name,hasContent:!!(Ne.htmlContent&&Ne.htmlContent.trim()),contentLength:((et=Ne.htmlContent)==null?void 0:et.length)||0}})),console.log("🔥 Setting wireframePages to:",L),Ue(L),ve.length>0){const Ne=ve[0];console.log("🔥 Switching to first new page:",Ne),ye&&y?De(Ze=>Qe(Be({},Ze),{[ye]:y})):y&&!ye&&De(Ze=>Qe(Be({},Ze),{[Ne.id]:y}));const et={};ve.forEach(Ze=>{Ze.htmlContent&&Ze.htmlContent.trim()&&(console.log(`🔥 Storing AI-generated content for page ${Ze.id}:`,Ze.htmlContent.substring(0,100)+"..."),et[Ze.id]=Ze.htmlContent)}),Object.keys(et).length>0&&De(Ze=>Be(Be({},Ze),et)),console.log("🔥 Setting currentPageId to:",Ne.id),W(Ne.id),Ne.htmlContent&&Ne.htmlContent.trim()?(console.log("🔥 Loading AI-generated content for first new page"),P(Ne.htmlContent),ve.length===1?Oe("ai",`🤖 Added "${Ne.name}" page with AI-generated content! You can switch between pages using the navigation above.`):Oe("ai",`🤖 Added "${Ne.name}" page with AI-generated content! Plus ${ve.length-1} other new page(s). You can switch between pages using the navigation above.`)):ve.length===1?Oe("ai",`📄 Added "${Ne.name}" page and switched to it. You can now click on buttons and links in your wireframe to set up navigation between pages!`):Oe("ai",`📄 Added ${ve.length} new pages and switched to "${Ne.name}". You can now click on buttons and links in your wireframe to set up navigation between pages!`)}console.log("🔥 Closing modal"),te(!1)},[ye,y,Oe]),Mn=g.useCallback(L=>Fe(null,null,function*(){if(console.log("🔥 handlePageSwitch called with pageId:",L),ye===L){console.log("🔥 Already on this page, skipping switch");return}if(ye){const Ne=ue[ye]||y;console.log("🔥 Saving current page content for:",ye),De(et=>Qe(Be({},et),{[ye]:Ne}))}W(L);const he=ue[L],ve=be.find(Ne=>Ne.id===L);if(he)console.log("🔥 Loading existing content for page:",L),P(he),ve&&Oe("ai",`📄 Switched to "${ve.name}" page. Content loaded! You can click on buttons and links to set up navigation between pages.`);else if(ve&&ve.htmlContent&&ve.htmlContent.trim())console.log("🔥 Loading AI-generated content from page object for:",L),P(ve.htmlContent),De(Ne=>Qe(Be({},Ne),{[L]:ve.htmlContent})),Oe("ai",`📄 Switched to "${ve.name}" page with AI-generated content! You can click on buttons and links to set up navigation between pages.`);else if(console.log("🔥 New empty page detected:",L),ve){const Ne=`
          <div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px; font-family: 'Segoe UI', sans-serif; background: #ffffff; min-height: 100vh;">
            <div style="background: #E9ECEF; padding: 60px 40px; border-radius: 12px; margin: 20px 0; text-align: center; border: 1px solid #e1dfdd;">
              <h1 style="color: #3C4858; margin: 0 0 16px 0; font-size: 28px; font-weight: 600;">📄 ${ve.name}</h1>
              <p style="color: #68769C; margin: 0 0 24px 0; font-size: 16px;">
                This is a new ${ve.type||"page"}. Click the buttons below or ask me to generate content for this page.
              </p>
              <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                <button style="background: #8E9AAF; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 600; transition: background-color 0.2s ease;">
                  Generate Content
                </button>
                <button style="background: #f3f2f1; color: #3C4858; border: 1px solid #e1dfdd; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 600; transition: background-color 0.2s ease;">
                  Copy from First Page
                </button>
              </div>
            </div>
          </div>
        `;P(Ne),De(et=>Qe(Be({},et),{[L]:Ne})),Oe("ai",`📄 Switched to "${ve.name}" page. This is a new ${ve.type||"page"} ready for content! You can ask me to "generate content for ${ve.name}" or "create a ${ve.type} layout" and I'll customize it for you.`)}}),[ye,y,ue,be,Oe]),V=g.useCallback(()=>{te(!0)},[]),oe=g.useCallback(()=>{if(!ye)return;const L=be.find(et=>et.id===ye);if(!L)return;const he=ue[ye]||y,ve={id:`favorite-${Date.now()}`,name:L.name,htmlContent:he,type:L.type,createdAt:new Date().toISOString()},Ne=JSON.parse(localStorage.getItem("designetica_favorites")||"[]");Ne.push(ve),localStorage.setItem("designetica_favorites",JSON.stringify(Ne)),Oe("ai",`⭐ Added "${L.name}" to favorites! You can find it in the favorites tab on the landing page.`)},[ye,be,ue,y,Oe]),ae=g.useCallback((L,he)=>{Ae(ve=>{const Ne=ve[L]||[];return Ne.find(Ze=>Ze.emoji===he)?Qe(Be({},ve),{[L]:Ne.map(Ze=>Ze.emoji===he?Qe(Be({},Ze),{count:Ze.userReacted?Ze.count-1:Ze.count+1,userReacted:!Ze.userReacted}):Ze).filter(Ze=>Ze.count>0)}):Qe(Be({},ve),{[L]:[...Ne,{emoji:he,count:1,userReacted:!0}]})})},[]),B=g.useCallback(()=>{console.log("🎨 SplitLayout: handleFigmaIntegration - Opening enhanced Figma Integration Modal"),tt(!0)},[]),ge=g.useCallback((L,he,ve)=>{var Ne,et;console.log("Importing Figma file:",he),ve&&(console.log("🎨 Design tokens extracted:",ve),Oe("ai",`🎨 Extracted ${((Ne=ve.colors)==null?void 0:Ne.length)||0} color tokens, ${((et=ve.typography)==null?void 0:et.length)||0} typography tokens from "${he}".`)),P&&P(L),Oe("ai",`✅ Successfully imported "${he}" from Figma! The wireframe has been converted and is ready for editing.`),tt(!1)},[P,Oe]),He=g.useCallback(L=>{var he,ve,Ne;console.log("🎨 Design tokens extracted in SplitLayout:",L),L&&Oe("ai",`🎨 Design tokens extracted: ${((he=L.colors)==null?void 0:he.length)||0} colors, ${((ve=L.typography)==null?void 0:ve.length)||0} fonts, ${((Ne=L.spacing)==null?void 0:Ne.length)||0} spacing values.`)},[Oe]),Ft=g.useCallback((L,he)=>{console.log("📄 File processed in SplitLayout:",L.name,he)},[]);g.useCallback(()=>{const L=document.createElement("input");L.type="file",L.accept=".html,.htm",L.onchange=he=>{var Ne;const ve=(Ne=he.target.files)==null?void 0:Ne[0];if(ve){const et=new FileReader;et.onload=Ze=>{var qi;const Qi=(qi=Ze.target)==null?void 0:qi.result;Qi&&P&&(P(Qi),Oe("ai",`✅ Successfully imported "${ve.name}"! The HTML wireframe is ready for editing.`))},et.readAsText(ve)}},L.click()},[P,Oe]);const Ut=g.useCallback(L=>{console.log("Exporting to Figma as:",L),Oe("ai",`Wireframe exported to Figma as ${L} successfully! You can now access it in your Figma workspace.`),tt(!1)},[Oe]),yt=g.useCallback(()=>{Dn(!0)},[]),hn=g.useCallback(L=>{const he=L==="html"?"figma-file":"figma-components";Z==null||Z(he),Oe("ai",`🎉 ${L.toUpperCase()} download started! Check your browser's Downloads folder.`)},[Z,Oe]),hr=g.useCallback(L=>{L&&P&&(P(L),Oe("ai","✅ Successfully imported HTML content! The wireframe is ready for editing."))},[P,Oe]),vr=g.useCallback(()=>{Re(!0)},[]),Gi=g.useRef(ze),sa=g.useCallback(()=>{ht(L=>!L)},[]);g.useEffect(()=>{if(Gi.current&&!ze&&lt){const ve=setTimeout(()=>{ht(!1)},1e3);return()=>clearTimeout(ve)}Gi.current=ze},[ze,lt]);const dt=g.useCallback(()=>{jn(!0),Xe(!1),on(void 0)},[]),Yi=g.useCallback(()=>{const L=ye&&ue[ye]?ue[ye]:y;if(L){const he=hu(L);if(sn(he),console.log("🧠 Generated intelligent wireframe name:",he),!Fn){const ve=window.addToRecents;ve&&typeof ve=="function"?(ve(he,"Auto-generated wireframe",L),console.log(`✅ Auto-added "${he}" to recents`),gn(!0),window.dispatchEvent(new CustomEvent("wireframeSaved",{detail:{name:he,description:"Auto-generated wireframe",html:L}}))):console.warn("addToRecents function not available for auto-add")}}},[ye,ue,y,Fn]),si=g.useCallback(L=>Fe(null,null,function*(){const he=new Date().toISOString();if(Sn&&rn){const ve=Qe(Be(Be({},rn),L),{updatedAt:he});In(Ne=>Ne.map(et=>et.id===rn.id?ve:et)),Oe("ai",`✅ Wireframe "${L.name}" updated successfully!`)}else{const ve=Qe(Be({},L),{id:`wireframe_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:he,updatedAt:he});In(et=>[...et,ve]),Oe("ai",`💾 Wireframe "${L.name}" saved successfully! You can access it from the library.`);const Ne=window.addToRecents;Ne&&typeof Ne=="function"?(Ne(L.name,L.description||"Saved wireframe",L.html),console.log(`✅ Added "${L.name}" to recents`),window.dispatchEvent(new CustomEvent("wireframeSaved",{detail:{name:L.name,description:L.description||"Saved wireframe",html:L.html}}))):console.warn("addToRecents function not available on window object")}jn(!1)}),[Sn,rn,mn,Oe]);g.useEffect(()=>{localStorage.setItem("designetica_saved_wireframes",JSON.stringify(mn))},[mn]),g.useEffect(()=>{y&&y.trim()&&!Jt&&Yi()},[y,Jt,Yi]),g.useEffect(()=>{if((y||ye&&ue[ye])&&Jt){const L=ye&&ue[ye]?ue[ye]:y;if(L&&L.length>500){const he=hu(L);he!==Jt&&(sn(he),console.log("🔄 Updated wireframe name to:",he))}}},[ye,ue,y,Jt]),g.useEffect(()=>{(!y||y.trim()==="")&&(gn(!1),sn(null))},[y]);const Tr=g.useCallback(()=>{console.log("🎨 Opening Component Library Modal"),ct(!0)},[]),qn=g.useCallback(()=>{console.log("📚 Opening Dev Playbooks Library"),ot(!0)},[]),li=g.useCallback(()=>{console.log("🎨 Opening Figma Components Library"),Et(!0)},[]),ci=g.useCallback(()=>{nt(!0)},[]);g.useEffect(()=>{Y&&(Y.current=B)},[Y,B]),g.useEffect(()=>{me&&(me.current=Tr)},[me,Tr]),g.useEffect(()=>{de&&(de.current=qn)},[de,qn]),g.useEffect(()=>{k&&(k.current=li)},[k,li]),g.useEffect(()=>{N&&(N.current=vr)},[N,vr]),g.useEffect(()=>{F&&(F.current=yt)},[F,yt]),g.useEffect(()=>{z&&(z.current=ci)},[z,ci]);const Pr=g.useCallback(()=>{En(L=>!L)},[]);g.useEffect(()=>{const L=localStorage.getItem("designetica_saved_wireframes");if(L)try{const he=JSON.parse(L);In(he)}catch(he){console.error("Failed to load saved wireframes:",he)}},[]);const Bt=g.useCallback(()=>{dt()},[dt]);g.useEffect(()=>{ie&&(ie.current=Bt)},[ie,Bt]);const Ir=g.useCallback(L=>{L.preventDefault(),console.log("🚀 Direct AI generation called!",{description:c.trim(),loading:d}),Lr(c)&&(c.trim()&&!d?(lt&&ht(!1),console.log("🤖 Direct AI approach: Calling handleSubmit for immediate AI generation"),(R.current||Le.length>0)&&(Oe("user",c),Oe("ai","✨ Generating wireframe with Microsoft components...")),l(L)):console.log("❌ enhancedHandleSubmit: Conditions not met",{descriptionTrimmed:c.trim(),descriptionLength:c.trim().length,loading:d}))},[c,d,Le.length,lt,ht,Oe,Lr,l]),Xt=()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)};return g.useEffect(()=>{Xt()},[Le,d]),g.useEffect(()=>{f.current&&f.current.focus()},[]),g.useEffect(()=>{if(y&&!d&&Le.length>0){const L=Le[Le.length-1];L&&L.type==="user"&&Oe("ai","✅ Wireframe created successfully! Check the preview on the right.")}},[y,d,Le,Oe]),g.useEffect(()=>{!R.current&&c&&c.trim()&&(Oe("user",c),a(""),R.current=!0)},[c,Oe,a]),r.jsxs("div",{className:`split-layout ${an?"left-panel-collapsed":""}`,children:[r.jsx("button",{className:"panel-toggle-btn",onClick:Pr,title:an?"Expand panel":"Collapse panel",children:an?r.jsx(Nu,{}):r.jsx(Su,{})}),r.jsxs("div",{className:`left-pane ${an?"collapsed":""}`,children:[r.jsxs("div",{className:"chat-messages",ref:b,children:[Le.length===0&&!d&&r.jsx(nl,{message:{id:"welcome",type:"ai",content:"👋 Hello! I'm your AI wireframe assistant. Describe what you'd like to create and I'll generate a wireframe for you.",timestamp:new Date,status:"sent"}}),Le.map(L=>r.jsx(nl,{message:L,onReact:ae,reactions:K[L.id]||[]},L.id)),d&&r.jsx(nl,{message:{id:"loading",type:"ai",content:"Creating your wireframe...",timestamp:new Date,status:"sending"}})]}),r.jsxs("div",{className:"chat-input-container",children:[G&&r.jsx("div",{className:"error error-margin",children:G}),qt&&r.jsx("div",{className:"input-info-alert",children:qt}),r.jsx("form",{onSubmit:Ir,className:"chat-form",children:r.jsxs("div",{className:"chat-input-wrapper",children:[r.jsx("textarea",{ref:f,value:c,onChange:L=>{const he=L.target.value;if(a(he),he.trim()){const ve=he.trim();/^[\d\s.,]+$/.test(ve)||Nn(null)}else Nn(null);if(he.length<=2)O(!1);else{const ve=he.trim();/^[\d\s.,]+$/.test(ve)&&O(!1)}},onFocus:()=>je(!0),onBlur:()=>je(!1),onClick:()=>{if(c.length>2){const L=c.trim();/^[\d\s.,]+$/.test(L)||(J&&J(c),O(!0))}},onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),Ir(L))},placeholder:"Describe your wireframe idea...",className:"chat-input",rows:3}),r.jsx("button",{type:"submit",disabled:d||!c.trim(),className:"chat-send-btn",children:d?r.jsx(fl,{size:"small",color:"white"}):r.jsx(dl,{})}),d&&r.jsx("button",{type:"button",className:"chat-stop-btn",onClick:L=>{console.log("🛑 SplitLayout Stop button clicked!"),L.preventDefault(),L.stopPropagation(),v()},title:"Stop generation",children:r.jsx(ul,{})})]})}),r.jsxs("div",{className:"template-pills-container",children:[r.jsx("div",{className:"template-pills-label",children:"Quick Templates:"}),r.jsxs("div",{className:"template-pills",children:[r.jsx("button",{type:"button",className:"template-pill",onClick:()=>{const L="azure learning path with course cards";console.log("🎯 Azure Path pill clicked - Description:",L),a(L),ce(L)},children:"Azure Path"}),r.jsx("button",{type:"button",className:"template-pill",onClick:()=>{const L="microsoft learning plan";console.log("🎯 Learning Plan pill clicked - Description:",L),a(L),ce(L)},children:"Learning Plan"}),r.jsx("button",{type:"button",className:"template-pill",onClick:()=>{const L="certification progress tracker";console.log("🎯 Certification pill clicked - Description:",L),a(L),ce(L)},children:"Certification"}),r.jsx("button",{type:"button",className:"template-pill",onClick:()=>{const L="microsoft docs";console.log("🎯 Docs pill clicked - Description:",L),a(L),ce(L)},children:"Learn Docs"}),r.jsx("button",{type:"button",className:"template-pill",onClick:()=>{const L="learn home page";console.log("🎯 Learn Home pill clicked - Description:",L),a(L),ce(L)},children:"Learn Home"})]})]})]})]}),r.jsx("div",{className:`right-pane ${an?"expanded":""}`,children:y||be.length>0?r.jsxs("div",{className:"wireframe-panel",children:[Jt&&r.jsx("div",{className:"wireframe-name-header",children:r.jsx("h3",{className:"wireframe-title",children:Jt})}),r.jsx(Pm,{pages:be,currentPageId:ye,onPageSwitch:Mn,onAddPage:V,onOpenLibrary:Tr,onOpenDevPlaybooks:qn,onOpenFigmaComponents:li,onSave:Bt,onAddToFavorites:oe,onImageUpload:sa}),r.jsx("div",{className:"wireframe-container",children:r.jsx("div",{className:"wireframe-content",children:_?r.jsx("div",{className:"react-component-preview",children:r.jsx(Rm,{componentCode:_,componentName:"GeneratedComponent"})}):r.jsx(Am,{htmlContent:ye&&ue[ye]||y,onUpdateContent:L=>{ye?De(he=>Qe(Be({},he),{[ye]:L})):P(L)}})})})]}):r.jsxs("div",{className:"ai-assistant-container",children:[r.jsx("h1",{className:"ai-assistant-title",children:"AI Wireframe Assistant"}),r.jsxs("div",{className:"complexity-section",children:[r.jsx("h3",{className:"complexity-title",children:"Choose complexity level"}),r.jsxs("div",{className:"complexity-options",children:[r.jsxs("label",{className:"complexity-option selected",children:[r.jsx("input",{type:"radio",name:"complexity",value:"simple",defaultChecked:!0,className:"complexity-radio"}),r.jsx("div",{className:"complexity-label",children:"Simple"}),r.jsx("p",{className:"complexity-description",children:"Basic components and layouts. Perfect for quick prototypes and simple interfaces."})]}),r.jsxs("label",{className:"complexity-option",children:[r.jsx("input",{type:"radio",name:"complexity",value:"detailed",className:"complexity-radio"}),r.jsx("div",{className:"complexity-label",children:"Detailed"}),r.jsx("p",{className:"complexity-description",children:"Rich interactions and complex layouts. Great for production-ready designs."})]})]})]}),r.jsx("div",{className:"ai-assistant-input-container",children:r.jsx("textarea",{ref:f,value:c,onChange:L=>{const he=L.target.value;a(he),he.length<=2&&O(!1)},onClick:()=>{c.length>2&&(J&&J(c),O(!0))},onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),c.trim()&&!d&&Ir(L))},placeholder:"Describe your wireframe idea... (e.g., 'Create a modern login form with email, password, and social login options')",className:"ai-assistant-input"})}),r.jsx("button",{type:"submit",disabled:d||!c.trim(),className:"ai-assistant-submit",onClick:L=>{Ir(L)},children:d?r.jsxs(r.Fragment,{children:[r.jsx(fl,{size:"small",color:"white"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dl,{}),"Create Wireframe"]})}),d&&r.jsxs("button",{type:"button",className:"ai-assistant-submit stop-generating",onClick:v,children:[r.jsx(ul,{}),"Stop Generation"]}),C&&j.length>0&&r.jsxs("div",{className:"ai-suggestions-inline",children:[r.jsxs("div",{className:"ai-suggestions-label",children:[r.jsx(al,{className:"ai-icon"}),r.jsx("span",{children:"AI Suggestions:"}),$&&r.jsx("span",{className:"loading-dot",children:"●"})]}),r.jsx("div",{className:"ai-suggestions-buttons",children:j.map((L,he)=>r.jsxs("button",{type:"button",className:"ai-suggestion-pill ai-suggestion-button",onClick:ve=>{ve.preventDefault(),ve.stopPropagation(),a(L),ce(L)},children:[r.jsx(al,{})," ",L,r.jsx(lm,{isAI:T,isLoading:$})]},he))})]}),r.jsx(cm,{isVisible:d,message:u||(d?"Creating your wireframe...":"")})]})}),r.jsx(pm,{isOpen:Ye,onClose:()=>te(!1),onAddPages:$n,existingPages:be.map(L=>Qe(Be({},L),{htmlContent:ue[L.id]||L.htmlContent||y})),onGeneratePageContent:fe}),r.jsx(aa,{isOpen:Ke,onClose:()=>tt(!1),onImport:ge,onExport:Ut,onTokensExtracted:He,onFileProcessed:Ft}),r.jsx(fm,{isOpen:$t,onClose:()=>jn(!1),onSave:si,currentHtml:y,currentCss:"/* Generated CSS styles */",designTheme:Q,colorScheme:I,initialName:Jt||void 0,isUpdating:Sn,existingWireframe:rn}),r.jsx(Lm,{isOpen:lt,onClose:()=>ht(!1),onImageUpload:pe,onAnalyzeImage:Ie,isAnalyzing:ze,demoMode:!0}),r.jsx(aa,{isOpen:Ke,onClose:()=>tt(!1),onImport:ge,onExport:Ut}),r.jsx(mm,{isOpen:Rt,onClose:()=>Dn(!1),onDownload:hn,wireframeTitle:c||"Wireframe"}),r.jsx(gm,{isOpen:wt,onClose:()=>{ot(!1)},onAddComponent:L=>{console.log("✨ Dev Playbook component added:",L.name),se&&se(L)},onGenerateWithAI:L=>{console.log("🤖 AI generation requested for:",L);const he=new Event("submit");l(he),Oe("ai","🤖 Generating wireframe with AI...")},currentDescription:c}),r.jsx(hm,{isOpen:vt,onClose:()=>{Et(!1)},onAddComponent:L=>{console.log("✨ Figma component added:",L.name),se&&se(L)},onGenerateWithAI:L=>{console.log("🤖 AI generation requested for:",L);const he=new Event("submit");l(he),Oe("ai","🤖 Generating wireframe with AI...")},currentDescription:c}),r.jsx(xl,{isOpen:Mt,onClose:()=>{ct(!1)},onAddComponent:L=>{console.log("✨ Component added:",L.name),se&&se(L)},onGenerateWithAI:L=>{console.log("🤖 AI generation requested for:",L);const he=new Event("submit");l(he),Oe("ai","🤖 Generating wireframe with AI...")},currentDescription:c,libraryType:"dev-playbooks"}),r.jsx(Im,{isOpen:$e,onClose:()=>Re(!1),htmlContent:ye&&ue[ye]||y,title:ye?`HTML Code - ${((Ki=be.find(L=>L.id===ye))==null?void 0:Ki.name)||"Unknown Page"}`:"HTML Code - Main Wireframe",onImportHtml:hr}),r.jsx(Mm,{isOpen:pt,onClose:()=>nt(!1),wireframeName:`Wireframe ${new Date().toLocaleDateString()}`,wireframeDescription:"Generated wireframe design",pages:be.length>0?be.map(L=>({id:L.id,name:L.name,description:L.description,content:ue[L.id]||L.htmlContent||y||"<p>No content available</p>"})):y?[{id:"main",name:"Main Wireframe",description:"Primary wireframe content",content:y}]:[]})]})},Qm=({onLogoClick:c,onLogout:a,onFigmaIntegration:l,onViewHtmlCode:d,onPresentationMode:u,onDownloadWireframe:m})=>{const[x,v]=g.useState(null),C=($,T)=>{const O=$.currentTarget.getBoundingClientRect();v({text:T,x:O.left+O.width/2,y:O.bottom+8})},j=()=>{v(null)};return r.jsxs(r.Fragment,{children:[r.jsxs("nav",{className:"top-nav-app",children:[r.jsxs("div",{className:"navbar-left",children:[r.jsxs("button",{onClick:c,className:"navbar-logo-button",title:"Designetica",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M11.5216 0.5H0V11.9067H11.5216V0.5Z",fill:"#F26522"}),r.jsx("path",{d:"M24.2418 0.5H12.7202V11.9067H24.2418V0.5Z",fill:"#8DC63F"}),r.jsx("path",{d:"M11.5216 13.0933H0V24.5H11.5216V13.0933Z",fill:"#00AEEF"}),r.jsx("path",{d:"M24.2418 13.0933H12.7202V24.5H24.2418V13.0933Z",fill:"#FFC20E"})]}),r.jsx("span",{className:"navbar-logo-text",children:"Designetica"})]}),r.jsx("div",{className:"separator-bar"}),r.jsx("img",{src:"/cxsLogo.png",alt:"CXS",className:"navbar-cxs-logo"})]}),r.jsx("div",{className:"navbar-right",children:r.jsxs("div",{className:"navbar-toolbar",children:[r.jsx("button",{className:"navbar-toolbar-btn",onClick:l,onMouseEnter:$=>C($,"Figma Integration"),onMouseLeave:j,"aria-label":"Figma Integration",children:r.jsx(na,{})}),r.jsx("button",{className:"navbar-toolbar-btn",onClick:d,onMouseEnter:$=>C($,"View & Import HTML"),onMouseLeave:j,"aria-label":"View & Import HTML",children:r.jsx(Vi,{})}),r.jsx("button",{className:"navbar-toolbar-btn",onClick:u,onMouseEnter:$=>C($,"Presentation Mode"),onMouseLeave:j,"aria-label":"Presentation Mode",children:r.jsx(Vf,{})}),r.jsx("button",{className:"navbar-toolbar-btn",onClick:m,onMouseEnter:$=>C($,"Download Wireframe"),onMouseLeave:j,"aria-label":"Download Wireframe",children:r.jsx(zr,{})})]})})]}),x&&r.jsx("div",{className:"black-tooltip-container",children:r.jsx("div",{className:"black-tooltip",ref:$=>{$&&($.style.left=`${x.x}px`,$.style.top=`${x.y}px`)},children:x.text})})]})},qm=({onLogoClick:c,onLogout:a})=>r.jsx("nav",{className:"top-nav-landing",children:r.jsxs("div",{className:"navbar-left",children:[r.jsxs("button",{onClick:c,className:"navbar-logo-button",title:"Designetica",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M11.5216 0.5H0V11.9067H11.5216V0.5Z",fill:"#F26522"}),r.jsx("path",{d:"M24.2418 0.5H12.7202V11.9067H24.2418V0.5Z",fill:"#8DC63F"}),r.jsx("path",{d:"M11.5216 13.0933H0V24.5H11.5216V13.0933Z",fill:"#00AEEF"}),r.jsx("path",{d:"M24.2418 13.0933H12.7202V24.5H24.2418V13.0933Z",fill:"#FFC20E"})]}),r.jsx("span",{className:"navbar-logo-text",children:"Designetica"})]}),r.jsx("div",{className:"separator-bar"}),r.jsx("img",{src:"/cxsLogo.png",alt:"CXS",className:"navbar-cxs-logo"})]})}),Jm=({saveTitle:c,setSaveTitle:a,onSave:l,onCancel:d})=>r.jsx("div",{className:"modal-overlay",children:r.jsxs("div",{className:"modal",children:[r.jsx("h3",{children:"Save Wireframe"}),r.jsx("input",{type:"text",value:c,onChange:u=>a(u.target.value),placeholder:"Enter a name for this wireframe",autoFocus:!0}),r.jsxs("div",{className:"modal-buttons",children:[r.jsx("button",{onClick:l,disabled:!c.trim(),children:"Save"}),r.jsx("button",{onClick:d,children:"Cancel"})]})]})}),Xm=({savedWireframes:c,onLoad:a,onDelete:l,onClose:d})=>r.jsx("div",{className:"modal-overlay",children:r.jsxs("div",{className:"modal",children:[r.jsx("h3",{children:"Load Wireframe"}),c.length===0?r.jsx("p",{children:"No saved wireframes found."}):r.jsx("div",{className:"saved-list",children:c.map(u=>r.jsxs("div",{className:"saved-item",children:[r.jsxs("div",{className:"saved-info",children:[r.jsx("strong",{children:u.name}),r.jsx("small",{children:new Date(u.createdAt).toLocaleDateString()}),r.jsx("div",{className:"saved-description",children:u.description})]}),r.jsxs("div",{className:"saved-actions",children:[r.jsx("button",{onClick:()=>a(u),children:"Load"}),r.jsx("button",{onClick:()=>l(u.id),className:"delete-btn",title:"Delete wireframe","aria-label":"Delete wireframe",children:r.jsx(Qt,{})})]})]},u.id))}),r.jsx("div",{className:"modal-buttons",children:r.jsx("button",{onClick:d,children:"Close"})})]})}),Zm=({message:c,type:a="success",duration:l=3e3,onClose:d})=>{const[u,m]=g.useState(!0);return g.useEffect(()=>{const x=setTimeout(()=>{m(!1),setTimeout(()=>{d==null||d()},300)},l);return()=>clearTimeout(x)},[l,d]),u?r.jsxs("div",{className:`toast toast-${a} ${u?"toast-visible":"toast-hidden"}`,children:[r.jsxs("div",{className:"toast-content",children:[r.jsxs("span",{className:"toast-icon",children:[a==="success"&&"✅",a==="info"&&"ℹ️",a==="warning"&&"⚠️",a==="error"&&"❌"]}),r.jsx("span",{className:"toast-message",children:c})]}),r.jsx("button",{className:"toast-close",onClick:()=>{m(!1),setTimeout(()=>d==null?void 0:d(),300)},children:"×"})]}):null},eg=({onAuthSuccess:c})=>{const[a,l]=g.useState(null),[d,u]=g.useState(!0);return g.useEffect(()=>{console.log("🔐 Checking Azure Static Web Apps authentication for Microsoft employees"),fetch("/.auth/me").then(m=>m.json()).then(m=>{console.log("🔐 Azure auth data:",m);const x=m.clientPrincipal;x?(l(x),c()):(console.log("🔐 No authentication found, redirecting to Microsoft login..."),window.location.href="/.auth/login/aad"),u(!1)}).catch(m=>{console.log("🔐 Azure auth failed, redirecting to Microsoft login:",m),window.location.href="/.auth/login/aad",u(!1)})},[c]),d?r.jsx("div",{className:"azure-auth",children:r.jsxs("div",{className:"auth-container",children:[r.jsx("div",{className:"loading-spinner"}),r.jsx("p",{children:"Authenticating with Microsoft..."})]})}):null},tg=({onComponentImported:c,onClose:a})=>{var J,G,y,P,_;const[l,d]=g.useState(""),[u,m]=g.useState(!1),[x,v]=g.useState(""),[C,j]=g.useState(null),$=()=>Fe(null,null,function*(){if(!l.trim()){v("Please enter a Figma URL");return}if(!l.includes("figma.com")){v("Please enter a valid Figma URL");return}m(!0),v("");try{console.log("🎯 Importing from Figma URL:",l);const H=yield fetch(oi("/api/figmaNodeImporter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({figmaUrl:l.trim()})});if(!H.ok){const I=yield H.json();throw new Error(I.error||"Failed to import component")}const ce=yield H.json();console.log("✅ Component imported successfully:",ce);const Q=ce.component;j(Q)}catch(H){console.error("❌ Import failed:",H.message),v(H.message||"Failed to import component")}finally{m(!1)}}),T=()=>{if(C){const H=Qe(Be({},C),{content:`
          <style>
            ${C.css}
          </style>
          ${C.html}
        `});c(H),a()}},O=H=>{d(H.target.value),v(""),j(null)};return r.jsx("div",{className:"figma-url-importer-overlay",children:r.jsxs("div",{className:"figma-url-importer-modal",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:"🎨 Import from Figma URL"}),r.jsx("button",{className:"close-btn",onClick:a,children:"×"})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"url-input-section",children:[r.jsx("label",{htmlFor:"figma-url",children:"Figma Component URL:"}),r.jsx("input",{id:"figma-url",type:"url",value:l,onChange:O,placeholder:"https://www.figma.com/design/FILE_ID/TITLE?node-id=NODE_ID...",className:"figma-url-input",disabled:u}),r.jsx("p",{className:"url-help",children:'💡 Right-click on a component in Figma → "Copy link" → Paste here'})]}),x&&r.jsxs("div",{className:"error-message",children:["❌ ",x]}),r.jsx("div",{className:"action-buttons",children:r.jsx("button",{onClick:$,disabled:u||!l.trim(),className:"import-btn",children:u?"🔄 Importing...":"📥 Import Component"})}),C&&r.jsxs("div",{className:"imported-component-preview",children:[r.jsxs("div",{className:"preview-header",children:[r.jsx("h4",{children:"✅ Component Imported Successfully!"}),r.jsxs("div",{className:"component-info",children:[r.jsx("span",{className:"component-name",children:C.name}),r.jsx("span",{className:"component-category",children:C.category})]})]}),r.jsxs("div",{className:"preview-content",children:[r.jsxs("div",{className:"preview-html",children:[r.jsx("h5",{children:"🎨 Preview:"}),r.jsx("div",{className:"component-preview",dangerouslySetInnerHTML:{__html:`
                        <style>${C.css}</style>
                        ${C.html}
                      `}})]}),r.jsxs("div",{className:"design-tokens",children:[r.jsx("h5",{children:"🔧 Design Properties:"}),r.jsxs("div",{className:"tokens-grid",children:[((G=(J=C.designTokens)==null?void 0:J.fills)==null?void 0:G.length)>0&&r.jsxs("div",{className:"token-item",children:[r.jsx("span",{className:"token-label",children:"Background:"}),r.jsx("span",{className:"color-swatch","data-color":C.designTokens.fills[0].color}),r.jsx("span",{className:"token-value",children:C.designTokens.fills[0].color})]}),((y=C.designTokens)==null?void 0:y.cornerRadius)>0&&r.jsxs("div",{className:"token-item",children:[r.jsx("span",{className:"token-label",children:"Border Radius:"}),r.jsxs("span",{className:"token-value",children:[C.designTokens.cornerRadius,"px"]})]}),((_=(P=C.designTokens)==null?void 0:P.typography)==null?void 0:_.fontSize)&&r.jsxs("div",{className:"token-item",children:[r.jsx("span",{className:"token-label",children:"Font Size:"}),r.jsxs("span",{className:"token-value",children:[C.designTokens.typography.fontSize,"px"]})]})]})]})]}),r.jsx("div",{className:"preview-actions",children:r.jsx("button",{onClick:T,className:"add-to-wireframe-btn",children:"➕ Add to Wireframe"})})]})]})]})})},ng=({onImportComponents:c,onAddToWireframe:a,onClose:l,mode:d="add-to-wireframe"})=>{var E;const[u,m]=g.useState([]),[x,v]=g.useState([]),[C,j]=g.useState("All"),[$,T]=g.useState("All"),[O,J]=g.useState(""),[G,y]=g.useState(new Set),[P,_]=g.useState(!0),[H,ce]=g.useState("grid"),[Q,I]=g.useState([]),[ne,ie]=g.useState(null),[se,fe]=g.useState(!1),pe="figma_components_cache",Ie=2;g.useEffect(()=>{ze()},[]);const ze=(f=!1)=>Fe(null,null,function*(){var b,R,q,Ce,je;try{if(_(!0),!f){const Ye=Z();if(Ye){console.log("🚀 Loading components from cache"),console.log("📦 CACHED Components count:",(b=Ye.components)==null?void 0:b.length),m(Ye.components||[]),v(["All",...(Ye.categories||[]).filter(te=>te!=="All")]),I(Ye.popular||[]),ie(Ye.statistics||null),_(!1);return}}console.log(f?"🔄 Force refreshing components from API":"🔄 Fetching fresh components from API");const Ve=yield(yield fetch(oi("/api/figma/components"))).json();console.log("📦 API Response received:",{componentCount:((R=Ve.components)==null?void 0:R.length)||0,firstComponent:(q=Ve.components)!=null&&q[0]?{name:Ve.components[0].name,hasHtmlCode:!!Ve.components[0].htmlCode,hasCSS:!!Ve.components[0].css,htmlCodeLength:((Ce=Ve.components[0].htmlCode)==null?void 0:Ce.length)||0}:null}),console.log("🔍 DEBUG: First 3 components:"),(je=Ve.components)==null||je.slice(0,3).forEach((Ye,te)=>{var be;console.log(`${te+1}. Name: "${Ye.name}"`,{library:Ye.library,preview:Ye.preview?`${Ye.preview.substring(0,50)}...`:"NO_PREVIEW",description:((be=Ye.description)==null?void 0:be.substring(0,30))||"NO_DESC",id:Ye.id})}),Y(Ve),m(Ve.components||[]),v(["All",...(Ve.categories||[]).filter(Ye=>Ye!=="All")]),I(Ve.popular||[]),ie(Ve.statistics||null)}catch(Le){console.error("Failed to load component data:",Le)}finally{_(!1)}}),Z=()=>{try{const f=localStorage.getItem(pe);if(!f)return null;const b=JSON.parse(f),R=new Date(b.timestamp);return(new Date().getTime()-R.getTime())/(1e3*60*60)>Ie?(localStorage.removeItem(pe),null):b.data}catch(f){return console.error("Cache read error:",f),localStorage.removeItem(pe),null}},Y=f=>{try{const b={data:f,timestamp:new Date().toISOString()};localStorage.setItem(pe,JSON.stringify(b))}catch(b){console.error("Cache write error:",b)}},me=()=>{try{localStorage.removeItem(pe),console.log("🗑️ Cache cleared successfully"),console.log("🔄 Forcing fresh API call..."),ze(!0)}catch(f){console.error("Error clearing cache:",f)}},de=g.useCallback(()=>{let f=u;return O&&(f=f.filter(b=>{var R,q;return b.name.toLowerCase().includes(O.toLowerCase())||((R=b.description)==null?void 0:R.toLowerCase().includes(O.toLowerCase()))||((q=b.tags)==null?void 0:q.some(Ce=>Ce.toLowerCase().includes(O.toLowerCase())))})),C!=="All"&&(f=f.filter(b=>b.category===C)),$!=="All"&&(f=f.filter(b=>b.library===$)),f},[u,O,C,$]),k=f=>{const b=new Set(G);b.has(f)?b.delete(f):b.add(f),y(b)},N=f=>{if(console.log("🔧 Generating HTML for component:",f.name,f),f.htmlCode&&f.htmlCode.trim().length>0)return console.log("✅ Using authentic Figma HTML for:",f.name),f.htmlCode;console.log("⚠️ No Figma HTML found, using Fluent UI fallback for:",f.name);const b=f.name.toLowerCase(),R=f.category.toLowerCase();if(b.includes("button")||R==="actions"){const q=b.includes("outlined")?"outlined":b.includes("filled")?"filled":b.includes("split")?"split":"primary",je=`<button style="${q==="outlined"?"background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF;":"background: #8E9AAF; color: white; border: none;"} padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: 600; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; transition: all 0.2s;" class="fluent-button figma-component" type="button">
                ${f.name}
            </button>`;return console.log("🔧 Generated button HTML:",je),je}return b.includes("card")||R==="cards"?`<div style="background: white; border: 1px solid #edebe9; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" class="fluent-card figma-component">
                <div style="padding: 16px; border-bottom: 1px solid #f3f2f1;">
                    <h5 style="margin: 0; font-size: 16px; font-weight: 600; color: #3C4858;">${f.name}</h5>
                </div>
                <div style="padding: 16px;">
                    <p style="margin: 0 0 16px 0; font-size: 14px; color: #68769C; line-height: 1.4;">This is a ${f.name} from ${f.library}.</p>
                    <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: 600;">Learn More</button>
                </div>
            </div>`:b.includes("nav")||b.includes("breadcrumb")||R==="navigation"?b.includes("breadcrumb")?`<nav aria-label="breadcrumb" style="padding: 16px 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" class="fluent-breadcrumb figma-component">
                    <ol style="display: flex; align-items: center; list-style: none; margin: 0; padding: 0; font-size: 14px;">
                        <li style="margin-right: 8px;"><a href="#" style="color: #8E9AAF; text-decoration: none;">Home</a></li>
                        <li style="margin-right: 8px; color: #68769C;">></li>
                        <li style="margin-right: 8px;"><a href="#" style="color: #8E9AAF; text-decoration: none;">Learn</a></li>
                        <li style="margin-right: 8px; color: #68769C;">></li>
                        <li style="color: #3C4858; font-weight: 600;" aria-current="page">Current Page</li>
                    </ol>
                </nav>`:`<nav style="background: #faf9f8; padding: 12px 24px; border-bottom: 1px solid #edebe9; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" class="fluent-navbar figma-component">
                <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center;">
                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">${f.name}</div>
                    <div style="display: flex; gap: 24px;">
                        <a href="#" style="color: #3C4858; text-decoration: none; font-weight: 500;">Home</a>
                        <a href="#" style="color: #3C4858; text-decoration: none; font-weight: 500;">Products</a>
                        <a href="#" style="color: #3C4858; text-decoration: none; font-weight: 500;">Contact</a>
                    </div>
                </div>
            </nav>`:b.includes("input")||b.includes("form")||R==="forms"?`<div style="margin-bottom: 16px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" class="fluent-form-group figma-component">
                <label for="${f.id}Input" style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 600; color: #3C4858;">${f.name}</label>
                <input type="text" style="width: 100%; max-width: 300px; padding: 8px 12px; border: 1px solid #d1d1d1; border-radius: 4px; font-size: 14px; color: #3C4858; font-family: inherit;" id="${f.id}Input" placeholder="Enter text">
                <small style="display: block; margin-top: 4px; font-size: 12px; color: #68769C;">This is a ${f.name} component.</small>
            </div>`:b.includes("table")||b.includes("list")||R==="data display"?`<div class="table-responsive figma-component">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Column 1</th>
                            <th>Column 2</th>
                            <th>Column 3</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Data 1</td>
                            <td>Data 2</td>
                            <td>Data 3</td>
                        </tr>
                    </tbody>
                </table>
            </div>`:b.includes("hero")||b.includes("banner")||R==="layout"?`<div class="hero-section figma-component bg-primary text-white p-5">
                <div class="container">
                    <h1 class="display-4">${f.name}</h1>
                    <p class="lead">This is a ${f.name} component from ${f.library}.</p>
                    <button style="background: #8E9AAF; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 600; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 16px;">Get Started</button>
                </div>
            </div>`:b.includes("alert")||b.includes("notification")||R==="feedback"?`<div class="alert alert-info figma-component" role="alert">
                <h5 class="alert-heading">${f.name}</h5>
                <p>This is a ${f.name} component for displaying important information.</p>
            </div>`:`<div class="figma-component p-3 border rounded">
            <h6 class="mb-2">${f.name}</h6>
            <p class="text-muted mb-0">A ${f.category} component from ${f.library}</p>
        </div>`},F=()=>Fe(null,null,function*(){if(G.size>0)try{_(!0);const f=Array.from(G).map(b=>{const R=u.find(Le=>Le.id===b),q=R.htmlCode,Ce=N(R),je=q||Ce;return console.log("🔧 Selected component data for",R==null?void 0:R.name,":",{component:R,hasAuthenticHTML:!!q,hasCSS:!!R.css,usingFallback:!q}),{id:R==null?void 0:R.id,name:R==null?void 0:R.name,htmlCode:je,css:R.css||"",type:(R==null?void 0:R.type)||"component",category:R==null?void 0:R.category,library:R==null?void 0:R.library,defaultWidth:4,content:je}});if(a){a(f),y(new Set),l();return}}catch(f){console.error("Operation error:",f),alert(`Operation failed: ${f.message}`)}finally{_(!1)}}),z=({component:f})=>{var b,R;return console.log("🎴 Rendering ComponentCard:",{name:f.name,nameType:typeof f.name,nameLength:(b=f.name)==null?void 0:b.length,firstChar:(R=f.name)==null?void 0:R.charAt(0),preview:f.preview?"HAS_PREVIEW":"NO_PREVIEW",library:f.library}),r.jsxs("div",{className:`component-card ${G.has(f.id)?"selected":""}`,onClick:()=>k(f.id),children:[r.jsxs("div",{className:"component-preview",children:[f.preview?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:f.preview,alt:f.name,onError:q=>{var je;const Ce=q.target;Ce.classList.add("hidden"),(je=Ce.nextElementSibling)==null||je.classList.remove("hidden")}}),r.jsx("div",{className:"preview-placeholder hidden",children:r.jsx("span",{children:f.name.charAt(0)})})]}):r.jsx("div",{className:"preview-placeholder",children:r.jsx("span",{title:`Component name: "${f.name}" | First char: "${f.name.charAt(0)}"`,children:f.name.charAt(0)})}),r.jsx("div",{className:"component-library-badge",children:f.library})]}),r.jsxs("div",{className:"component-info",children:[r.jsx("h4",{className:"component-name",children:f.name}),r.jsx("p",{className:"component-description",children:f.description}),f.htmlCode&&r.jsx("div",{style:{fontSize:"10px",color:"green",fontWeight:"bold",marginTop:"4px"},children:"✅ Authentic Figma HTML Available"}),r.jsxs("div",{className:"component-meta",children:[r.jsx("span",{className:"component-category",children:f.category}),r.jsxs("span",{className:"component-usage",children:["Used ",f.usageCount," times"]})]}),f.variants&&f.variants.length>0&&r.jsx("div",{className:"component-variants",children:r.jsxs("span",{className:"variants-label",children:[f.variants.length," variants"]})})]})]})},h=({component:f})=>{var b;return r.jsxs("div",{className:`component-list-item ${G.has(f.id)?"selected":""}`,onClick:()=>k(f.id),children:[r.jsx("div",{className:"list-item-preview",children:f.preview?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:f.preview,alt:f.name,onError:R=>{var Ce;const q=R.target;q.classList.add("hidden"),(Ce=q.nextElementSibling)==null||Ce.classList.remove("hidden")}}),r.jsx("div",{className:"preview-placeholder hidden",children:r.jsx("span",{children:f.name.charAt(0)})})]}):r.jsx("div",{className:"preview-placeholder",children:r.jsx("span",{children:f.name.charAt(0)})})}),r.jsxs("div",{className:"list-item-content",children:[r.jsxs("div",{className:"list-item-header",children:[r.jsx("h4",{className:"component-name",children:f.name}),r.jsx("span",{className:"component-library",children:f.library})]}),r.jsx("p",{className:"component-description",children:f.description}),r.jsxs("div",{className:"list-item-footer",children:[r.jsx("span",{className:"component-category",children:f.category}),r.jsxs("span",{className:"component-variants",children:[((b=f.variants)==null?void 0:b.length)||0," variants"]}),r.jsxs("span",{className:"component-usage",children:[f.usageCount," uses"]})]})]})]})};return P?r.jsx("div",{className:"figma-browser-loading",children:r.jsxs("div",{className:"loading-modal-content",children:[r.jsxs("div",{className:"figma-brand",children:[r.jsx("div",{className:"figma-logo",children:"F"}),r.jsx("span",{className:"figma-brand-text",children:"Figma"})]}),r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"loading-spinner",children:r.jsx("div",{className:"inner-dot"})}),r.jsxs("div",{className:"loading-text",children:[r.jsx("h2",{children:"Loading Components"}),r.jsx("p",{children:"Fetching your Figma component library..."})]}),r.jsx("div",{className:"loading-progress",children:r.jsx("div",{className:"loading-progress-bar"})}),r.jsxs("div",{className:"loading-dots",children:[r.jsx("div",{className:"loading-dot"}),r.jsx("div",{className:"loading-dot"}),r.jsx("div",{className:"loading-dot"})]})]})]})}):r.jsxs("div",{className:"figma-component-browser",children:[r.jsxs("div",{className:"browser-header",children:[r.jsxs("div",{className:"header-title",children:[r.jsx("h2",{children:"Add Components to Wireframe"}),r.jsx("button",{className:"close-button",onClick:l,children:"✕"})]}),ne&&r.jsxs("div",{className:"browser-stats",children:[r.jsxs("span",{children:[ne.totalComponents," components"]}),r.jsxs("span",{children:[ne.categories.length," categories"]}),r.jsxs("span",{children:[ne.totalUsage," total uses"]}),r.jsx("button",{className:"clear-cache-button",onClick:me,title:"Clear cached components and reload from Figma",children:"🔄 Refresh"}),r.jsx("button",{className:"url-import-button",onClick:()=>fe(!0),title:"Import specific component from Figma URL",children:"🔗 Import URL"})]})]}),r.jsxs("div",{className:"browser-controls",children:[r.jsx("div",{className:"search-section",children:r.jsx("input",{type:"text",placeholder:"Search components...",value:O,onChange:f=>J(f.target.value),className:"search-input"})}),r.jsxs("div",{className:"filter-section",children:[r.jsx("select",{value:C,onChange:f=>j(f.target.value),className:"filter-select","aria-label":"Filter by category",children:x.map(f=>r.jsx("option",{value:f,children:f},f))}),r.jsxs("select",{value:$,onChange:f=>T(f.target.value),className:"filter-select","aria-label":"Filter by library",children:[r.jsx("option",{value:"All",children:"All Libraries"}),(E=ne==null?void 0:ne.libraries)==null?void 0:E.map(f=>r.jsxs("option",{value:f.name,children:[f.name," (",f.count,")"]},f.name))]}),r.jsxs("div",{className:"view-controls",children:[r.jsx("button",{className:`view-button ${H==="grid"?"active":""}`,onClick:()=>ce("grid"),children:"⋅⋅⋅"}),r.jsx("button",{className:`view-button ${H==="list"?"active":""}`,onClick:()=>ce("list"),children:"≡"})]})]})]}),r.jsxs("div",{className:"browser-content",children:[r.jsx("div",{className:`components-${H}`,children:de().map(f=>H==="grid"?r.jsx(z,{component:f},f.id):r.jsx(h,{component:f},f.id))}),de().length===0&&r.jsxs("div",{className:"no-results",children:[r.jsx("p",{children:"No components found matching your criteria."}),r.jsx("button",{onClick:()=>{J(""),j("All"),T("All")},children:"Clear filters"})]})]}),r.jsxs("div",{className:"browser-footer",children:[r.jsx("div",{className:"selection-info",children:G.size>0?r.jsxs("span",{children:[G.size," component(s) selected"]}):r.jsx("span",{children:"Select components to add to wireframe"})}),r.jsx("div",{className:"action-buttons",children:r.jsxs("button",{className:"import-button",onClick:F,disabled:G.size===0,children:["Add to Wireframe (",G.size,")"]})})]}),se&&r.jsx(tg,{onComponentImported:f=>{const b=[{id:f.id,name:f.name,description:f.description,category:f.category,content:f.content,figmaUrl:f.figmaUrl}];a(b)},onClose:()=>fe(!1)})]})},rg=({onComponentsImported:c,onAddToWireframe:a,onClose:l,designSystem:d="auto",mode:u="component-browser"})=>{console.log("🎨 FigmaIntegration component rendered!");const[m,x]=g.useState(!1),[v,C]=g.useState(null),[j,$]=g.useState("import"),[T,O]=g.useState(""),[J,G]=g.useState(!1),[y,P]=g.useState(!1),[_,H]=g.useState(null),[ce,Q]=g.useState(null),I=fe=>Fe(null,null,function*(){x(!0),C(null);try{const pe=yield fetch(oi("/api/figma/import"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentIds:fe,wireframeOptions:{designSystem:d,includeVariants:!0,generateCSS:!0,responsive:!0}})}),Ie=yield pe.json();if(pe.ok)C({type:"success",message:`Successfully imported ${Ie.summary.successful} of ${Ie.summary.total} components`,results:Ie.results}),c&&c(Ie.results.filter(ze=>ze.success));else throw new Error(Ie.error||"Import failed")}catch(pe){C({type:"error",message:`Import failed: ${pe.message}`})}finally{x(!1)}}),ne=()=>{C(null),l&&l()},ie=()=>Fe(null,null,function*(){if(!T.trim()){H("Please enter your Figma access token");return}P(!0),H(null),Q(null);try{yield new Promise(fe=>setTimeout(fe,1500)),T.toLowerCase().includes("figd_")||T.length>10?(G(!0),Q("🔗 Successfully connected to Figma! You can now import designs."),setTimeout(()=>{$("import")},2e3),window.open("https://www.figma.com/","_blank")):H('Please enter a valid Figma access token starting with "figd_"')}catch(fe){H(fe instanceof Error?fe.message:"Failed to connect to Figma")}finally{P(!1)}}),se=()=>{G(!1),O(""),H(null),Q("🔓 Disconnected from Figma. Your data has been cleared."),setTimeout(()=>{Q(null)},3e3)};return r.jsxs("div",{className:"figma-integration",children:[(console.log("🔍 FigmaIntegration mode:",u),console.log("🔍 Showing component browser?",u==="component-browser"||u==="add-to-wireframe"),null),u==="component-browser"||u==="add-to-wireframe"?r.jsx(ng,{onImportComponents:I,onAddToWireframe:a,onClose:ne}):r.jsxs("div",{className:"figma-design-import",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:"Import from Figma"}),r.jsx("button",{className:"close-btn",onClick:l,children:"×"})]}),r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"import-tabs",children:[r.jsx("button",{className:`tab-btn ${j==="import"?"active":""}`,onClick:()=>$("import"),children:"Import Design"}),r.jsx("button",{className:`tab-btn ${j==="connect"?"active":""}`,onClick:()=>$("connect"),children:"Connect Account"})]}),_&&r.jsxs("div",{className:"status-message error",children:[r.jsxs("span",{children:["❌ ",_]}),r.jsx("button",{onClick:()=>H(null),children:"×"})]}),ce&&r.jsxs("div",{className:"status-message success",children:[r.jsx("span",{children:ce}),r.jsx("button",{onClick:()=>Q(null),children:"×"})]}),j==="import"?r.jsxs("div",{className:"import-section",children:[r.jsx("h3",{children:"Import Figma Design"}),r.jsx("p",{children:"Import your Figma designs as wireframes. Paste a Figma share link or upload a Figma file."}),r.jsx("div",{className:`connection-status ${J?"connected":"disconnected"}`,children:J?r.jsx("span",{children:"✅ Connected to Figma"}):r.jsxs("span",{children:["⚠️ Not connected to Figma - ",r.jsx("button",{className:"link-btn",onClick:()=>$("connect"),children:"Connect now"})]})}),r.jsxs("div",{className:"import-input-group",children:[r.jsx("input",{type:"text",placeholder:"Paste Figma share link here...",className:"figma-url-input",disabled:!J}),r.jsx("button",{className:"import-btn",disabled:m||!J,children:m?"Importing...":"Import Design"})]}),r.jsx("div",{className:"file-upload-section",children:r.jsxs("label",{className:`file-upload-label ${J?"":"disabled"}`,children:[r.jsx("input",{type:"file",accept:".fig,.figma",className:"hidden-file-input",disabled:!J}),r.jsxs("div",{className:"upload-zone",children:[r.jsx("div",{className:"upload-icon",children:"📁"}),r.jsx("div",{children:"Upload Figma File"}),r.jsx("div",{className:"upload-hint",children:J?"Drag & drop or click to browse":"Connect to Figma first"})]})]})})]}):r.jsxs("div",{className:"connect-section",children:[r.jsx("h3",{children:"Connect to Figma"}),r.jsx("p",{children:"Connect your Figma account to import designs directly into the wireframe tool."}),J?r.jsxs("div",{className:"connected-section",children:[r.jsxs("div",{className:"connection-success",children:[r.jsx("div",{className:"success-icon",children:"✅"}),r.jsxs("div",{children:[r.jsx("h4",{children:"Successfully Connected!"}),r.jsx("p",{children:"Your Figma account is connected and ready to use."})]})]}),r.jsxs("div",{className:"connected-actions",children:[r.jsx("button",{className:"primary-btn",onClick:()=>$("import"),children:"Start Importing"}),r.jsx("button",{className:"secondary-btn",onClick:se,children:"Disconnect"})]})]}):r.jsxs("div",{className:"connect-form",children:[r.jsxs("div",{className:"input-group",children:[r.jsx("label",{htmlFor:"figma-token",children:"Figma Access Token"}),r.jsx("input",{id:"figma-token",type:"password",placeholder:"Enter your Figma access token (figd_...)",value:T,onChange:fe=>O(fe.target.value),className:"token-input"}),r.jsx("div",{className:"input-hint",children:r.jsx("a",{href:"https://www.figma.com/developers/api#access-tokens",target:"_blank",rel:"noopener noreferrer",children:"How to get your Figma access token"})})]}),r.jsx("button",{className:"connect-btn",onClick:ie,disabled:y||!T.trim(),children:y?"Connecting...":"Connect to Figma"})]})]})]})]})]})},ig={maxRetries:3,delayMs:1e3,backoffFactor:1.5},og=c=>new Promise(a=>setTimeout(a,c));class Wi extends Error{constructor(a,l){super(l),this.status=a,this.name="ApiError"}}function ag(c){return c.message.includes("Failed to fetch")?"Unable to connect to the backend server. Please check your internet connection or try again later.":c.message.includes("NetworkError")?"Network connection error. Please check your internet connection and try again":c.message.includes("timeout")?"Request timed out. The backend may be overloaded, please try again in a moment":c.message}function sg(d,u){return Fe(this,arguments,function*(c,a,l=ig){let m=null,x=l.delayMs;for(let v=0;v<=l.maxRetries;v++)try{const C=yield fetch(c,Qe(Be({},a),{signal:AbortSignal.timeout(3e4)}));if(!C.ok){if(C.status===503)return C;throw new Wi(C.status,`HTTP error! status: ${C.status}`)}return C}catch(C){if(m=C,v===l.maxRetries){const j=ag(m);throw new Error(j)}if(C instanceof TypeError||C instanceof Wi&&C.status>=500){console.warn(`Attempt ${v+1} failed, retrying in ${x}ms...`),yield og(x),x*=l.backoffFactor;continue}throw C}throw m})}function Zo(d){return Fe(this,arguments,function*(c,a={},l){const u=Array.isArray(c)?c:[c];let m=null;const x=[Kn.BASE_URL];for(const v of x)for(const C of u){const j=`${v}${C}`;console.log(`🔧 BULLETPROOF: Trying endpoint: ${j}`);const $=Be({headers:Be({"Content-Type":"application/json"},a.headers)},a);try{const T=yield sg(j,$,l);if(T.status===503){const O=yield T.json();throw new Wi(503,O.message||O.error||"Service temporarily unavailable")}return console.log(`✅ BULLETPROOF: Success with endpoint: ${j}`),window.__DESIGNETICA_LAST_WORKING_BASE__=v,yield T.json()}catch(T){if(m=T,console.log(`❌ BULLETPROOF: Failed with endpoint: ${j}, error:`,T instanceof Error?T.message:T),T instanceof Wi&&T.status===404)continue;if(u.length>1){console.log("⚠️ BULLETPROOF: Trying next endpoint on same base...");continue}}}if(m instanceof Wi)switch(m.status){case 401:throw new Error("Unauthorized: Please check your API credentials");case 403:throw new Error("Forbidden: You don't have permission to access this resource");case 404:throw new Error("Not Found: The requested resource doesn't exist");case 429:throw new Error("Too Many Requests: Please try again later");case 500:throw new Error("Server Error: Something went wrong on our end");case 503:throw new Error(m.message);default:throw new Error(`API Error: ${m.message}`)}throw m instanceof TypeError?new Error("Network Error: Please check your internet connection"):m||new Error("All API endpoints failed")})}const lg={get:(c,a={})=>Zo(c,Qe(Be({},a),{method:"GET"})),post:(c,a,l={})=>(console.log("🔍 API POST Debug:",{endpoint:c,data:a,dataType:typeof a,stringifiedData:JSON.stringify(a),options:l}),Zo(c,Qe(Be({},l),{method:"POST",body:JSON.stringify(a),headers:Be({"Content-Type":"application/json"},l.headers)}))),put:(c,a,l={})=>Zo(c,Qe(Be({},l),{method:"PUT",body:JSON.stringify(a)})),delete:(c,a={})=>Zo(c,Qe(Be({},a),{method:"DELETE"}))},ea={},vu=c=>(c=c.replace(/<style[^>]*>([\s\S]*?)<\/style>/gi,(a,l)=>`<style>${l.replace(/([^{}]+){/g,(u,m)=>{if(m.trim().startsWith("@"))return u;const x=m.trim();return x&&!x.includes(".wireframe-content")?`.wireframe-content ${x} {`:u})}</style>`),c=c.replace(/<div[^>]*class="[^"]*text-placeholder-heading[^"]*"[^>]*><\/div>/gi,"<h2>Sample Heading</h2>"),c=c.replace(/<div[^>]*class="[^"]*text-placeholder-line[^"]*"[^>]*><\/div>/gi,"<p>This is sample text content that represents the actual content that would appear in the final design.</p>"),c=c.replace(/(<p>This is sample text content that represents the actual content that would appear in the final design\.<\/p>\s*){2,}/gi,"<p>This is sample text content that represents the actual content that would appear in the final design.</p><p>Here is additional sample content to show how multiple paragraphs would look in the actual implementation.</p>"),c=c.replace(/text-placeholder-[a-zA-Z-]+/gi,""),c),cg=c=>{if(c==null)return"";if(typeof c=="string"){let a=c.trim(),l=a.indexOf("<!DOCTYPE html>");if(l!==-1){let d=a.lastIndexOf("</html>");d!==-1&&(a=a.substring(l,d+7))}else if(l=a.indexOf("<html"),l!==-1){let d=a.lastIndexOf("</html>");d!==-1&&(a=a.substring(l,d+7))}return a=a.replace(/^```html\s*/gi,""),a=a.replace(/```\s*$/gi,""),a=a.replace(/^['"]+|['"]+$/g,""),a=vu(a),a.trim()}try{let a=String(c).trim(),l=a.indexOf("<!DOCTYPE html>");if(l!==-1){let d=a.lastIndexOf("</html>");d!==-1&&(a=a.substring(l,d+7))}else if(l=a.indexOf("<html"),l!==-1){let d=a.lastIndexOf("</html>");d!==-1&&(a=a.substring(l,d+7))}return a=a.replace(/^```html\s*/gi,""),a=a.replace(/```\s*$/gi,""),a=a.replace(/^['"]+|['"]+$/g,""),a=a.replace(/^```html\s*/gi,""),a=a.replace(/```\s*$/gi,""),a=vu(a),a.trim()}catch(a){return console.error("Failed to convert HTML content to string:",a),""}},dg=()=>{const[c,a]=g.useState(!1),[l,d]=g.useState(""),[u,m]=g.useState(null),[x,v]=g.useState(!1),[C,j]=g.useState(0),$=g.useRef(null),T=g.useRef([]);g.useEffect(()=>()=>{T.current.forEach(y=>clearTimeout(y)),$.current&&$.current.abort()},[]);const O=g.useCallback(()=>{if(console.log("🚨 FORCE STOP - cancelGeneration called!"),a(!1),d(""),m(null),T.current.forEach(y=>clearTimeout(y)),T.current=[],$.current){console.log("🚨 Aborting request...");try{$.current.abort(),console.log("🚨 Request aborted!")}catch(y){console.log("🚨 Error aborting request:",y)}$.current=null}console.log("🚨 FORCE STOP completed!")},[]),J=g.useCallback((y,P="microsoft",_="primary",H=!1,ce=!1)=>Fe(null,null,function*(){var fe,pe,Ie,ze,Z;O(),console.log("🎨 Generating wireframe (INTELLIGENT FALLBACK):",{description:y.substring(0,100)+"...",theme:P,colorScheme:_,skipCache:H,fastMode:ce,baseUrl:Kn.BASE_URL}),a(!0),m(null),v(!1),d("🚀 Connecting to AI wireframe service...");const Q=`req-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,I=`${y}-${P}-${_}-${Date.now()}`;console.log(`🔍 [${Q}] Starting wireframe generation for:`,{description:y.substring(0,50)+(y.length>50?"...":""),theme:P,colorScheme:_,requestId:Q});const ne=setTimeout(()=>d("🤖 AI analyzing your description..."),2e3),ie=setTimeout(()=>d("⚡ Generating intelligent wireframe..."),6e3),se=setTimeout(()=>d("🎯 Finalizing design..."),12e3);T.current=[ne,ie,se];try{const Y=new AbortController;$.current=Y,console.log(`🚀 [${Q}] Attempting Azure Functions + OpenAI generation:`,{endpoint:Kn.ENDPOINTS.GENERATE_WIREFRAME,payload:{description:y,theme:P,colorScheme:_,fastMode:!1},timestamp:Date.now(),cacheKey:I,requestId:Q});const me={description:y,theme:P,colorScheme:_,fastMode:!1};console.log(`📡 [${Q}] Detailed request payload:`,JSON.stringify(me,null,2));const de=Date.now(),k=yield Promise.race([lg.post(Kn.ENDPOINTS.GENERATE_WIREFRAME+`?t=${Date.now()}`,me,{signal:Y.signal,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}),new Promise((Ce,je)=>setTimeout(()=>je(new Error("Azure Functions timeout")),6e4))]),N=Date.now();console.log(`✅ [${Q}] Azure Functions call succeeded in`,N-de,"ms");try{console.log(`🩻 [${Q}] Raw API response JSON:`,k)}catch(Ce){console.log(`🩻 [${Q}] Raw API response could not be stringified`)}const F=(fe=k==null?void 0:k.data)==null?void 0:fe.html,h=(k==null?void 0:k.html)||F||"",E=(k==null?void 0:k.source)||((pe=k==null?void 0:k.data)==null?void 0:pe.source)||"unknown",f=(k==null?void 0:k.metadata)||((Ie=k==null?void 0:k.data)==null?void 0:Ie.metadata)||void 0,b=(k==null?void 0:k.processingTime)||(f==null?void 0:f.processingTimeMs)||N-de,R=(k==null?void 0:k.fallback)||((ze=k==null?void 0:k.data)==null?void 0:ze.fallback)||!1;console.log(`📦 [${Q}] Normalized response info:`,{hasHtml:!!h,htmlLength:h==null?void 0:h.length,apiFallback:R,processingMs:b,apiSource:E,metadata:f,shape:{topLevelKeys:Object.keys(k||{}),hasDataObject:!!(k!=null&&k.data)}}),(Z=k.metadata)!=null&&Z.description&&console.log(`🎯 [${Q}] Template Detection:`,{requestedDescription:y,responseDescription:k.metadata.description,templateSource:k.source,match:y===k.metadata.description}),v(R||!1),b&&j(b);const q=cg(h);if(!q)throw new Error("No HTML content received from Azure Functions");return q.length>0&&!R&&(ea[I]={html:q,timestamp:Date.now(),processingTime:b||0}),console.log("🎉 Azure Functions + OpenAI generation successful"),{html:q,fallback:R||!1,processingTime:b||0,fromCache:!1,source:"azure-functions"}}catch(Y){if(console.warn("⚠️ Azure Functions unavailable, using intelligent fallback:",Y),Y instanceof Error&&Y.name==="AbortError"&&!Y.message.includes("timeout"))throw m("Request was cancelled"),Y;try{d("🧠 Using intelligent local generation...");const{generateFallbackWireframe:me}=yield gl(()=>Fe(null,null,function*(){const{generateFallbackWireframe:z}=yield import("./fallbackWireframeGenerator-CYPY5d3W.js");return{generateFallbackWireframe:z}}),[]);console.log("🔧 Generating intelligent local wireframe...");const de=Date.now(),k=yield me({description:y,theme:P,colorScheme:_}),N=Date.now();console.log("✅ Intelligent fallback generated in",N-de,"ms");const F={html:k,fallback:!0,processingTime:N-de,fromCache:!1,source:"client-side-intelligent"};return v(!0),j(F.processingTime),console.log("🎯 Client-side intelligent generation successful"),F}catch(me){console.error("❌ All generation methods failed:",me);const de=Y instanceof Error?Y.message:"Unable to generate wireframe. Please try again.";throw m(`Generation Failed: ${de}`),Y}}finally{a(!1),d(""),T.current.forEach(Y=>clearTimeout(Y)),T.current=[],$.current=null}}),[O]),G=g.useCallback(()=>{const y=Object.keys(ea).length;Object.keys(ea).forEach(P=>delete ea[P]),console.log(`Cleared ${y} items from wireframe cache`)},[]);return{generateWireframe:J,isLoading:c,loadingStage:l,error:u,fallback:x,processingTime:C,cancelGeneration:O,clearCache:G}},rl={};function ug(c,a){rl[c]||(rl[c]={count:0,totalTime:0,minTime:a,maxTime:a,lastTime:a,avgTime:a});const l=rl[c];l.count++,l.totalTime+=a,l.minTime=Math.min(l.minTime,a),l.maxTime=Math.max(l.maxTime,a),l.lastTime=a,l.avgTime=l.totalTime/l.count}class il{constructor(a){Bi(this,"startTime");Bi(this,"name");this.name=a,this.startTime=performance.now()}stop(){const l=performance.now()-this.startTime;return ug(this.name,l),l}}function pg(c={}){const{title:a="Learning for everyone, everywhere",summary:l="Explore Microsoft product documentation, training, credentials, Q&A, code references, and shows.",eyebrow:d="MICROSOFT LEARN",ctaText:u="Get Started",secondaryCtaText:m="Browse",showSecondaryButton:x=!0,backgroundColor:v="#E9ECEF",heroImageUrl:C="Microsoft-Learn-keyart-neutral-gray-angle-1.png"}=c;return`
    <!-- Microsoft Learn Accent Hero Section -->
    <section class="hero hero-image background-color-body-accent gradient-border-right gradient-border-body-accent" 
             style="--hero-background-image-light: url('${C}'); --hero-background-image-dark: url('${C}'); 
                    position: relative; display: flex; flex-direction: column; min-height: 300px; padding: 2rem; 
                    background-color: ${v}; background-image: var(--hero-background-image-light); 
                    background-size: cover; background-position: center; background-repeat: no-repeat;">
      
      <!-- Gradient Border Right -->
      <div style="content: ''; position: absolute; right: 0; top: 0; bottom: 0; width: 4px; 
                  background: linear-gradient(180deg, ${v} 0%, rgba(232, 230, 223, 0) 100%);"></div>
      
      <!-- Hero Content -->
      <div class="hero-content" style="max-width: 800px; z-index: 1;">
        <!-- Eyebrow Text -->
        <p class="letter-spacing-wide text-transform-uppercase font-size-sm" 
           style="letter-spacing: 0.2em; text-transform: uppercase; font-size: 0.875rem; 
                  line-height: 1.25rem; margin: 0 0 0.5rem 0; color: #3C4858; font-weight: 600;">
          ${d}
        </p>
        
        <!-- Main Title -->
        <h1 class="font-size-h1 font-weight-semibold" 
            style="font-size: 2.5rem; line-height: 3rem; font-weight: 600; margin: 0 0 1rem 0; color: #3C4858;">
          ${a}
        </h1>
        
        <!-- Summary Text -->
        <p class="font-size-lg font-weight-semibold margin-block-sm" 
           style="font-size: 1.125rem; line-height: 1.75rem; font-weight: 600; 
                  margin-top: 0.5rem; margin-bottom: 0.5rem; color: #3C4858;">
          ${l}
        </p>
        
        <!-- Action Buttons -->
        <div class="buttons margin-top-md" style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 1rem;">
          <button class="button border button-clear" 
                  style="display: inline-flex; align-items: center; justify-content: center; 
                         padding: 0.5rem 1rem; border-radius: 0.25rem; font-family: 'Segoe UI', sans-serif; 
                         font-size: 0.875rem; font-weight: 600; text-decoration: none; cursor: pointer; 
                         transition: all 0.2s ease; min-height: 2.5rem; border: 1px solid #8E9AAF; 
                         background-color: transparent; color: #8E9AAF;">
            ${u}
          </button>
          ${x?`
          <button class="button border" 
                  style="display: inline-flex; align-items: center; justify-content: center; 
                         padding: 0.5rem 1rem; border-radius: 0.25rem; font-family: 'Segoe UI', sans-serif; 
                         font-size: 0.875rem; font-weight: 600; text-decoration: none; cursor: pointer; 
                         transition: all 0.2s ease; min-height: 2.5rem; border: 1px solid #8E9AAF; 
                         background-color: #8E9AAF; color: white;">
            ${m}
          </button>
          `:""}
        </div>
      </div>
    </section>
    
    <style>
      /* Microsoft Learn Accent Hero CSS Classes */
      .hero {
        position: relative;
        display: flex;
        flex-direction: column;
        min-height: 300px;
        padding: 2rem;
        font-family: 'Segoe UI', sans-serif;
      }
      
      .hero-image {
        background-image: var(--hero-background-image-light);
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
      }
      
      .background-color-body-accent {
        background-color: #E9ECEF;
      }
      
      .gradient-border-right::after {
        content: '';
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(180deg, #E9ECEF 0%, rgba(232, 230, 223, 0) 100%);
      }
      
      .hero-content {
        max-width: 800px;
        z-index: 1;
      }
      
      .button:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }
      
      .button.button-clear:hover {
        background-color: #8E9AAF !important;
        color: white !important;
      }
      
      .button.border:hover {
        background-color: #68769C !important;
        border-color: #68769C !important;
      }
      
      @media (max-width: 768px) {
        .hero {
          padding: 1rem;
        }
        
        .font-size-h1 {
          font-size: 1.875rem !important;
          line-height: 2.25rem !important;
        }
        
        .buttons {
          flex-direction: column;
        }
        
        .button {
          width: 100%;
          justify-content: center;
        }
      }
    </style>
  `}const ol={primary:(c,a,l)=>`https://placehold.co/${c}x${a}/0078d4/ffffff?text=${encodeURIComponent(l||"Image")}`,secondary:(c,a,l)=>`https://placehold.co/${c}x${a}/106ebe/ffffff?text=${encodeURIComponent(l||"Image")}`,neutral:(c,a,l)=>`https://placehold.co/${c}x${a}/f3f2f1/323130?text=${encodeURIComponent(l||"Image")}`,avatar:c=>`https://placehold.co/${c}x${c}/ca5010/ffffff?text=👤`,icon:(c,a)=>`https://placehold.co/${c}x${c}/605e5c/ffffff?text=${encodeURIComponent(a||"🔲")}`,microsoftLogo:(c=24)=>"/windowsLogo.png",mslearnLogo:(c=120)=>"/mslearn-logo.png"},Yn={avatar:{width:64,height:64},icon:{width:24,height:24},thumbnail:{width:150,height:150},card:{width:300,height:200},hero:{width:800,height:400},banner:{width:1200,height:300},product:{width:250,height:250},gallery:{width:400,height:300},logo:{width:120,height:40}};function fg(c,a="",l=""){const d=c.toLowerCase(),u=a.toLowerCase(),m=l.toLowerCase();return d.includes("avatar")||u.includes("avatar")||m.includes("avatar")?Yn.avatar:d.includes("icon")||u.includes("icon")||m.includes("icon")?Yn.icon:d.includes("logo")||u.includes("logo")||m.includes("logo")?Yn.logo:d.includes("hero")||u.includes("hero")||m.includes("hero")?Yn.hero:d.includes("banner")||u.includes("banner")||m.includes("banner")?Yn.banner:d.includes("product")||u.includes("product")||m.includes("product")?Yn.product:d.includes("gallery")||u.includes("gallery")||m.includes("gallery")?Yn.gallery:d.includes("thumb")||u.includes("thumb")||m.includes("thumb")?Yn.thumbnail:Yn.card}function mg(c,a="",l="",d="neutral"){if(a.toLowerCase().includes("microsoft logo")||a.toLowerCase().includes("windows logo")||c.toLowerCase().includes("microsoft")||c.toLowerCase().includes("windows"))return ol.microsoftLogo();if(a.toLowerCase().includes("ms learn")||a.toLowerCase().includes("microsoft learn")||c.toLowerCase().includes("mslearn"))return ol.mslearnLogo();const u=fg(c,a,l),m=a||gg(c);return ol[d](u.width,u.height,m)}function gg(c){var l;return(((l=c.split("/").pop())==null?void 0:l.split(".")[0])||"").replace(/[-_]/g," ").replace(/\d+/g,"").trim().substring(0,20)||"Image"}function hg(c){const a=/<img([^>]*?)src=["']([^"']*?)["']([^>]*?)>/gi;return c.replace(a,(l,d,u,m)=>{if(u.includes("placehold.co")||u.includes("picsum.photos")||u.includes("dummyimage.com")||u.startsWith("/windowsLogo.png")||u.startsWith("/mslearn-logo.png")||u.startsWith("/cxsLogo.png"))return l;if(u.includes("via.placeholder.com")){const T=u.replace("via.placeholder.com","placehold.co");return`<img${d}src="${T}"${m}>`}if(u.startsWith("data:")||(u.startsWith("http://")||u.startsWith("https://"))&&!u.includes("via.placeholder.com"))return l;const x=l.match(/alt=["']([^"']*?)["']/i),v=l.match(/class=["']([^"']*?)["']/i),C=x?x[1]:"",j=v?v[1]:"",$=mg(u,C,j);return`<img${d}src="${$}"${m}>`})}function vg(c){const a=/<img([^>]*?)>/gi;return c.replace(a,(l,d)=>{if(d.includes("onerror"))return l;const u=d.match(/width=["']?(\d+)["']?/i),m=d.match(/height=["']?(\d+)["']?/i),x=d.match(/alt=["']([^"']*?)["']/i),v=u?u[1]:"300",C=m?m[1]:"200",j=x?x[1]:"Image",T=`onerror="this.src='${`https://placehold.co/${v}x${C}/f3f2f1/323130?text=${encodeURIComponent(j)}`}'; this.onerror=null;"`;return`<img${d} ${T}>`})}function xg(c){let a=hg(c);return a=vg(a),a}function yg(c){let a=c.replace(/https:\/\/via\.placeholder\.com\/\d+x\d+\/[^"']*text=Microsoft[^"']*/gi,"/windowsLogo.png");return a=a.replace(/src=["'][^"']*microsoft[^"']*logo[^"']*["']/gi,'src="/windowsLogo.png"'),a=a.replace(/<div[^>]*class=["'][^"']*docs-header-brand[^"']*["'][^>]*>[\s\S]*?<\/div>/gi,l=>l.includes("windowsLogo.png")?l:l.replace(/<img[^>]*>/gi,'<img src="/windowsLogo.png" alt="Microsoft Logo" width="24" height="24">')),a}function xu(c){let a=yg(c);return a=xg(a),a=bg(a),a}function bg(c){if(!c.includes("--ms-color-primary")){const a=`
      <style>
        :root {
          --ms-color-primary: #8E9AAF;
          --ms-color-primary-hover: #68769C;
          --ms-color-white: #ffffff;
          --ms-color-gray-50: #f8f9fa;
          --ms-color-gray-900: #1a1a1a;
          --ms-font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        /* Microsoft Learn Logo Styling */
        .docs-header-brand img {
          transition: opacity 0.2s ease;
        }
        
        .docs-header-brand img:hover {
          opacity: 0.8;
        }
        
        /* Enhanced Microsoft Learn Components */
        .ms-learn-button {
          background: var(--ms-color-primary);
          color: var(--ms-color-white);
          border: none;
          border-radius: 4px;
          padding: 8px 16px;
          font-family: var(--ms-font-family);
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }
        
        .ms-learn-button:hover {
          background: var(--ms-color-primary-hover);
        }
      </style>
    `;c.includes("</head>")?c=c.replace("</head>",`${a}</head>`):c.includes("<head>")?c=c.replace("<head>",`<head>${a}`):c=`${a}${c}`}return c}function wg(c){const a=[];let l=c;const d=/https:\/\/via\.placeholder\.com[^"']*/g,u=c.match(d);u&&(a.push(`Found ${u.length} potentially broken placeholder images`),l=xu(l));const x=(c.match(/<img[^>]*>/g)||[]).filter(j=>!j.includes("alt="));x.length>0&&a.push(`Found ${x.length} images without alt attributes`);const v=c.includes("docs-header-brand"),C=c.includes("Microsoft Logo")||c.includes("windowsLogo.png");return v&&!C&&(a.push("Microsoft Learn header found but missing proper Microsoft logo"),l=xu(l)),{isValid:a.length===0,issues:a,fixedHtml:l}}function kg(c){const a=wg(c);return a.isValid||console.log("Wireframe validation issues:",a.issues),a.fixedHtml}const Cg=()=>{const[c,a]=g.useState(!1);return{isVisible:c,toggle:()=>a(!c),show:()=>a(!0),hide:()=>a(!1)}},jg=[{keywords:["dashboard","admin","analytics"],suggestions:["Dashboard with key metrics and charts","Admin panel with user management","Analytics dashboard with real-time data"]},{keywords:["form","input","submit","contact"],suggestions:["Contact form with validation","Multi-step registration form","Login form with forgot password"]},{keywords:["landing","hero","homepage"],suggestions:["Hero section with call-to-action","Product landing page with features","Marketing homepage with testimonials"]},{keywords:["navigation","menu","navbar","header"],suggestions:["Navigation bar with search","Sidebar menu with icons","Breadcrumb navigation system"]},{keywords:["card","grid","list"],suggestions:["Card grid layout with hover effects","Product list with filters","Team member cards with bios"]},{keywords:["table","data","report"],suggestions:["Data table with sorting and filters","Financial report layout","User activity table with actions"]},{keywords:["modal","popup","dialog"],suggestions:["Modal dialog with form","Confirmation popup with actions","Image gallery with lightbox"]},{keywords:["ecommerce","shop","product","cart"],suggestions:["Product showcase with cart","E-commerce checkout flow","Shopping cart with totals"]},{keywords:["learn","education","course","tutorial"],suggestions:["Learning module with progress tracker","Course overview with lessons","Tutorial page with step-by-step guide"]},{keywords:["blog","article","news"],suggestions:["Blog layout with sidebar","Article page with comments","News feed with pagination"]}],Sg=c=>{if(!c||c.length<2)return[];const a=c.toLowerCase().trim(),l=[];for(const u of jg)u.keywords.some(x=>a.includes(x)||x.includes(a))&&l.push(...u.suggestions);return[...new Set(l)].slice(0,5)},Ng=c=>{const a=c.toLowerCase(),l=[];return(a.includes("microsoft")||a.includes("learn"))&&l.push("Microsoft Learn module with exercises","Documentation page with code samples","Learning path with prerequisites"),(a.includes("responsive")||a.includes("mobile"))&&l.push("Responsive layout with mobile-first design","Mobile navigation with hamburger menu","Adaptive grid that works on all devices"),(a.includes("accessible")||a.includes("aria"))&&l.push("Accessible form with proper labels","Screen reader friendly navigation","High contrast design with ARIA support"),l.slice(0,3)},Eg=c=>{const a=Sg(c),l=Ng(c),d=[...a,...l];return[...new Set(d)].slice(0,6)},Fg=c=>{if(c.length<10)return!1;const a=["complex","advanced","custom","specific","detailed","integrate","with authentication","with database","real-time","dynamic","interactive"],l=c.toLowerCase();return a.some(d=>l.includes(d))},Tu=10800*1e3,Pu=c=>c.toLowerCase().replace(/\s+/g," ").trim().split(" ").filter(l=>!["a","an","the","and","or","but","for","with","in","on","at","to","of"].includes(l)).sort().join(" "),Ag=(c,a,l="ai")=>{try{const d=Pu(c),u=localStorage.getItem("designetica_suggestion_cache"),m=u?JSON.parse(u):{};m[d]={key:d,suggestions:a,timestamp:Date.now(),source:l};const x=Object.fromEntries(Object.entries(m).filter(([,v])=>Date.now()-v.timestamp<Tu));localStorage.setItem("designetica_suggestion_cache",JSON.stringify(x)),console.log(`📦 Cached ${a.length} suggestions for "${c}"`)}catch(d){console.error("Failed to cache suggestions:",d)}},zg=c=>{try{const a=Pu(c),l=localStorage.getItem("designetica_suggestion_cache");if(!l)return null;const u=JSON.parse(l)[a];return u&&Date.now()-u.timestamp<Tu?(console.log(`🔍 Cache hit for "${c}"`),{suggestions:u.suggestions,source:u.source}):null}catch(a){return console.error("Failed to retrieve cached suggestions:",a),null}};function Lg({onLogout:c}){const[a,l]=g.useState(""),[d,u]=g.useState(""),[m,x]=g.useState([]),[v,C]=g.useState(!1),[j,$]=g.useState(""),[T,O]=g.useState(!1),[J,G]=g.useState([]),[y,P]=g.useState(!1),[_,H]=g.useState(!1),[ce]=g.useState(!1),Q="microsoft",[I,ne]=g.useState("primary"),[ie,se]=g.useState(Date.now()),[fe,pe]=g.useState(!0),[Ie,ze]=g.useState(!1),[Z,Y]=g.useState([]),[me,de]=g.useState(!1),[k,N]=g.useState(!1),[F,z]=g.useState(!1),[h,E]=g.useState("drag"),f=g.useRef(null),b=g.useRef(null),R=g.useRef(null),q=g.useRef(null),Ce=g.useRef(null),je=g.useRef(null),Le=g.useRef(null),Ve=g.useRef(null),Ye=()=>{console.log("🎨 TOP TOOLBAR FIGMA BUTTON CLICKED - Opening Figma import (like landing page)..."),z(!0)};g.useEffect(()=>{f.current=()=>{console.log("🎨 PAGES TOOLBAR COMPONENT LIBRARY BUTTON CLICKED - Opening Component Library..."),b.current?b.current():console.warn("Component Library function not available")}},[]),g.useEffect(()=>{R.current=()=>{console.log("📚 DEV PLAYBOOKS BUTTON CLICKED - Opening Dev Playbooks...")}},[]),g.useEffect(()=>{q.current=()=>{console.log("🎨 FIGMA COMPONENTS BUTTON CLICKED - Opening Figma Components...")}},[]);const te=()=>{Ce.current?Ce.current():console.log("HTML code viewer function not available")},be=()=>{je.current?je.current():console.log("Download wireframe function not available")},Ue=()=>{Le.current?Le.current():console.log("Presentation mode function not available")};Cg();const{generateWireframe:ye,isLoading:W,loadingStage:ue,error:De,fallback:Ke,processingTime:tt,cancelGeneration:lt}=dg(),[ht,$t]=g.useState(""),[jn,mn]=g.useState(!1),[In,Sn]=g.useState("");g.useEffect(()=>{localStorage.removeItem("snapframe_current"),localStorage.removeItem("currentWireframe"),localStorage.removeItem("lastUsedTheme"),localStorage.setItem("lastUsedTheme","microsoftlearn")},[]),g.useEffect(()=>{on()},[]),g.useEffect(()=>{d?window.history.pushState({view:"wireframe"},"",window.location.pathname):window.history.replaceState({view:"landing"},"",window.location.pathname)},[d]);const Xe=(V,oe="success")=>{const ae={id:Date.now()+Math.random(),message:V,type:oe};Y(B=>[...B,ae])},rn=V=>{Y(oe=>oe.filter(ae=>ae.id!==V))},on=()=>{const V=localStorage.getItem("snapframe_saved");V&&x(JSON.parse(V))},qt=()=>{if(!d||!j.trim())return;const V={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:j.trim(),description:a,html:d,createdAt:new Date().toISOString()},oe=[...m,V];x(oe),localStorage.setItem("snapframe_saved",JSON.stringify(oe)),C(!1),$(""),console.log("Wireframe Saved!",`"${j.trim()}" has been saved successfully.`)},Nn=V=>{Re(V.html),l(V.description),O(!1),console.log("Wireframe Loaded!",`"${V.name}" has been loaded.`)},K=(V,oe)=>{l(oe),Re(V,oe),console.log("Wireframe opened from recent/favorites")},Ae=V=>{m.find(ae=>ae.id===V);const oe=m.filter(ae=>ae.id!==V);x(oe),localStorage.setItem("snapframe_saved",JSON.stringify(oe))},$e=g.useRef(""),Re=(V,oe)=>{oe&&oe.trim().length&&($e.current=oe.trim());const ae=(oe==null?void 0:oe.trim())||$e.current;console.log("⚡ handleWireframeGenerated called",{effectiveDescription:ae,htmlLength:V==null?void 0:V.length}),pe(!1);let B="";try{const ge=ai(V,!0);ge.styles&&!/^\s*<style/i.test(ge.html)?B=`<style>${ge.styles}</style>
${ge.html}`:B=ge.html}catch(ge){console.error("⚡ Error processing HTML:",ge)}if(B&&B.length>0){const ge=kg(B);u(ge);try{const He=window.addToRecents;if(He&&ae){const Ft=ae.length>50?ae.substring(0,47)+"...":ae;He(Ft,"Wireframe created",ge)}}catch(He){console.log("Could not add to recents:",He)}}else u("");se(Date.now())},pt=(V,oe)=>Fe(null,null,function*(){const ae=oe||a;if(console.log("🚀 handleSubmit called with description:",ae),V.preventDefault(),!ae||ae.trim().length===0){Xe("Please enter a description for the wireframe","warning");return}const B=new il("wireframe-generation");try{console.log("🚀 Generating wireframe with description:",ae);const ge=yield ye(ae,Q,I);ge&&ge.html?typeof ge.html=="string"&&ge.html.length>0?(Re(ge.html,ae),$t(""),pe(!1),P(!1)):(console.error("Error: Received invalid wireframe data"),Xe("Error: Received invalid wireframe data. Please try again.","error")):(console.error("Error: No wireframe generated"),Xe("Error: No wireframe generated. Please try again.","error"))}catch(ge){console.error("🚀 Exception in handleSubmit:",ge);const He=ge instanceof Error?ge.message:"Unknown error occurred";Xe(`Failed to generate wireframe: ${He}`,"error")}finally{B.stop()}}),nt=()=>{console.log("🛑 App.tsx handleStop called!"),console.log("🛑 cancelGeneration function:",typeof lt),console.log("🛑 Current loading state:",W);try{lt(),console.log("🛑 cancelGeneration called successfully from App.tsx")}catch(V){console.error("🛑 Error calling cancelGeneration:",V)}},Mt=V=>Fe(null,null,function*(){console.log("🚀 AI suggestion clicked:",V),console.log("🚀 Current designTheme:",Q),console.log("🚀 Current colorScheme:",I),P(!1),l(V);const oe=new il("ai-suggestion-wireframe");try{const ae=yield ye(V,Q,I);ae&&ae.html?typeof ae.html=="string"&&ae.html.length>0?(Re(ae.html,V),$t(""),pe(!1)):(console.error("Error: Received invalid wireframe data"),Xe("Error: Received invalid wireframe data. Please try again.","error")):(console.error("Error: No wireframe generated"),Xe("Error: No wireframe generated. Please try again.","error"))}catch(ae){console.error("🚀 Exception in handleAiSuggestionClick:",ae);const B=ae instanceof Error?ae.message:"Unknown error occurred";Xe(`Failed to generate wireframe from suggestion: ${B}`,"error")}finally{oe.stop()}}),ct=V=>{console.log("🔧 App.tsx: handleAddComponent called with:",V),console.log("🔧 App.tsx: Current htmlWireframe length:",(d==null?void 0:d.length)||0);const oe=ot(V);if(console.log("🔧 App.tsx: Generated HTML:",oe),d){const ae=vt(d,oe);console.log("🔧 App.tsx: Updating existing wireframe, new length:",ae.length),u(ae),console.log("🔧 App.tsx: ✅ Component added as overlay in top-right!")}else{const ae=Et(oe);console.log("🔧 App.tsx: Creating new wireframe, length:",ae.length),u(ae),console.log("🔧 App.tsx: ✅ Created new wireframe with component overlay!")}se(Date.now()),Xe("Component added successfully!","success")},wt=(V,oe)=>Fe(null,null,function*(){try{console.log(`Generating ${oe} content:`,V);const ae=yield ye(V,Q,I),B=ai(ae.html,!0);let ge=B.html;return B.styles&&!/^\s*<style/i.test(ge)&&(ge=`<style>${B.styles}</style>
${ge}`),ge}catch(ae){throw console.error("Failed to generate page content:",ae),ae}}),ot=V=>{if(console.log("🔧 generateComponentHtml: Processing component:",V),V.htmlCode){console.log("🔧 generateComponentHtml: Using component.htmlCode");let ge=V.htmlCode;if(ge.trim().startsWith("<")&&ge.trim().endsWith(">")){const Ut=new DOMParser().parseFromString(ge,"text/html").body.children;if(Ut.length===1){const yt=Ut[0];yt.setAttribute("data-user-added","true"),yt.classList.add("atlas-component"),ge=yt.outerHTML}else ge=`<div class="atlas-component component-container" data-user-added="true" style="display: inline-block; margin: 8px;">${ge}</div>`}return ge}const{id:oe,name:ae,defaultProps:B}=V;switch(console.log("🔧 generateComponentHtml: Using fallback logic for ID:",oe),oe){case"ms-learn-layout":return`<div class="ms-learn-layout" style="margin: 10px; padding: 20px; border: 2px solid #8E9AAF; border-radius: 8px; background: #f8f9fa;">
          <h3 style="color: #8E9AAF;">📄 Microsoft Learn Complete Layout</h3>
          <p>Complete Microsoft Learn page layout with top nav, hero, content sections, and footer</p>
        </div>`;case"ms-learn-topnav":return`<nav class="ms-learn-topnav" style="margin: 10px; padding: 15px; background: #8E9AAF; color: white; border-radius: 4px;">
          <h4 style="margin: 0; color: white;">🧭 Microsoft Learn Navigation</h4>
          <p style="margin: 5px 0 0 0; font-size: 14px; color: #e1f5fe;">Official Microsoft Learn top navigation with search, menus, and branding</p>
        </nav>`;case"microsoft-learn-topnav":return`<header class="microsoft-learn-header" style="
          width: 100%;
          background-color: #2B2B2B;
          color: white;
          padding: 12px 24px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        ">
          <div class="header-container" style="
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
          ">
            <div class="logo-section" style="display: flex; align-items: center;">
              <span class="ms-logo" style="
                font-size: 16px;
                font-weight: 600;
                color: #FFFFFF;
                margin-right: 32px;
              ">🪟 Microsoft Learn</span>
            </div>
            <nav class="main-nav" style="
              display: flex;
              align-items: center;
              gap: 24px;
            ">
              <a href="#" style="color: #CCCCCC; text-decoration: none; font-size: 14px;">Learning Paths</a>
              <a href="#" style="color: #CCCCCC; text-decoration: none; font-size: 14px;">Certifications</a>
              <a href="#" style="color: #CCCCCC; text-decoration: none; font-size: 14px;">Documentation</a>
              <a href="#" style="color: #CCCCCC; text-decoration: none; font-size: 14px;">Community</a>
            </nav>
            <div class="user-section" style="
              display: flex;
              align-items: center;
              gap: 16px;
            ">
              <button class="search-btn" style="
                background: none;
                border: none;
                color: #CCCCCC;
                font-size: 16px;
                cursor: pointer;
              ">🔍</button>
              <button class="profile-btn" style="
                background: #8E9AAF;
                border: none;
                color: white;
                padding: 6px 12px;
                border-radius: 4px;
                font-size: 14px;
                cursor: pointer;
              ">Sign in</button>
            </div>
          </div>
        </header>`;case"ms-learn-hero":return`<section class="ms-learn-hero" style="margin: 10px; padding: 30px; background: linear-gradient(135deg, #8E9AAF, #68769C); color: white; border-radius: 8px; text-align: center;">
          <h2 style="margin: 0 0 10px 0; color: white;">🚀 Microsoft Learn Hero Section</h2>
          <p style="margin: 0; font-size: 16px;">Engaging hero section with call-to-action and learning paths</p>
        </section>`;case"ms-learn-footer":return`<footer class="ms-learn-footer" style="margin: 10px; padding: 20px; background: #3C4858; color: white; border-radius: 4px;">
          <h4 style="margin: 0 0 10px 0; color: white;">🦶 Microsoft Learn Footer</h4>
          <p style="margin: 0; font-size: 14px; color: #d1d1d1;">Footer with community links and feedback options</p>
        </footer>`;case"atlas-button-primary":return`<button class="button button-primary button-lg atlas-component" data-user-added="true" style="margin: 10px; padding: 12px 24px; background: #CBC2C2; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Primary Button"}</button>`;case"atlas-button-primary-filled":return`<button class="button button-primary-filled" style="margin: 10px; padding: 12px 24px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Primary Filled Button"}</button>`;case"atlas-button-primary-clear":return`<button class="button button-primary-clear" style="margin: 10px; padding: 12px 24px; background: transparent; color: #8E9AAF; border: 2px solid #8E9AAF; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Primary Clear Button"}</button>`;case"atlas-button-secondary":return`<button class="button button-secondary button-lg" style="margin: 10px; padding: 12px 24px; background: #f3f2f1; color: #3C4858; border: 1px solid #e1dfdd; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Secondary Button"}</button>`;case"atlas-button-secondary-clear":return`<button class="button button-secondary-clear" style="margin: 10px; padding: 12px 24px; background: transparent; color: #3C4858; border: 2px solid #e1dfdd; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Secondary Clear Button"}</button>`;case"atlas-button-secondary-filled":return`<button class="button button-secondary-filled" style="margin: 10px; padding: 12px 24px; background: #68769C; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Secondary Filled Button"}</button>`;case"atlas-button-danger":return`<button class="button button-danger" style="margin: 10px; padding: 12px 24px; background: #d13438; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Danger Button"}</button>`;case"atlas-button-success":return`<button class="button button-success" style="margin: 10px; padding: 12px 24px; background: #107c10; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Success Button"}</button>`;case"atlas-button-warning":return`<button class="button button-warning" style="margin: 10px; padding: 12px 24px; background: #ffb900; color: #3C4858; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(B==null?void 0:B.text)||"Warning Button"}</button>`;case"atlas-button-loading":return'<button class="button button-loading" style="margin: 10px; padding: 12px 24px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;" disabled>⏳ Loading...</button>';case"atlas-button-small":return`<button class="button button-small" style="margin: 10px; padding: 8px 16px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 12px;">${(B==null?void 0:B.text)||"Small Button"}</button>`;case"atlas-button-large":return`<button class="button button-large" style="margin: 10px; padding: 16px 32px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 18px;">${(B==null?void 0:B.text)||"Large Button"}</button>`;case"atlas-button-block":return`<button class="button button-block" style="margin: 10px; padding: 12px 24px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; width: 100%; display: block;">${(B==null?void 0:B.text)||"Block Button"}</button>`;case"atlas-button-search":return`<button class="button button-primary button-lg button-search" style="margin: 10px; padding: 12px 24px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; display: inline-flex; align-items: center; gap: 8px;">🔍 ${(B==null?void 0:B.text)||"Search"}</button>`;case"atlas-input":return`<div style="margin: 10px;">
          <label style="display: block; margin-bottom: 5px; color: #3C4858; font-weight: 600;">${(B==null?void 0:B.label)||"Input Label"}</label>
          <input type="text" class="form-control" placeholder="${(B==null?void 0:B.placeholder)||"Enter text here..."}" style="width: 100%; padding: 8px 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-family: 'Segoe UI', sans-serif;">
        </div>`;case"atlas-textarea":return`<div style="margin: 10px;">
          <label style="display: block; margin-bottom: 5px; color: #3C4858; font-weight: 600;">${(B==null?void 0:B.label)||"Textarea Label"}</label>
          <textarea class="form-control" placeholder="${(B==null?void 0:B.placeholder)||"Enter your text here..."}" rows="4" style="width: 100%; padding: 8px 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-family: 'Segoe UI', sans-serif; resize: vertical;"></textarea>
        </div>`;case"atlas-select":return`<div style="margin: 10px;">
          <label style="display: block; margin-bottom: 5px; color: #3C4858; font-weight: 600;">${(B==null?void 0:B.label)||"Select Label"}</label>
          <select class="form-control" style="width: 100%; padding: 8px 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-family: 'Segoe UI', sans-serif;">
            <option>Option 1</option>
            <option>Option 2</option>
            <option>Option 3</option>
          </select>
        </div>`;case"atlas-checkbox":return`<div style="margin: 10px;">
          <label style="display: flex; align-items: center; color: #3C4858; font-weight: 500; cursor: pointer;">
            <input type="checkbox" style="margin-right: 8px; width: 16px; height: 16px;">
            ${(B==null?void 0:B.label)||"Checkbox Label"}
          </label>
        </div>`;case"atlas-radio":return`<div style="margin: 10px;">
          <label style="display: flex; align-items: center; color: #3C4858; font-weight: 500; cursor: pointer;">
            <input type="radio" name="radio-group" style="margin-right: 8px; width: 16px; height: 16px;">
            ${(B==null?void 0:B.label)||"Radio Button Label"}
          </label>
        </div>`;case"atlas-toggle":return`<div style="margin: 10px;">
          <label style="display: flex; align-items: center; color: #3C4858; font-weight: 500; cursor: pointer;">
            <div style="position: relative; width: 44px; height: 24px; background: #e1dfdd; border-radius: 12px; margin-right: 8px; transition: background 0.3s;">
              <div style="position: absolute; top: 2px; left: 2px; width: 20px; height: 20px; background: white; border-radius: 50%; transition: transform 0.3s;"></div>
            </div>
            ${(B==null?void 0:B.label)||"Toggle Switch"}
          </label>
        </div>`;case"atlas-label":return`<label style="margin: 10px; display: block; color: #3C4858; font-weight: 600; font-size: 14px;">${(B==null?void 0:B.text)||"Form Label"}</label>`;case"atlas-breadcrumb":return`<nav style="margin: 10px; padding: 10px; background: #f8f9fa; border-radius: 4px;">
          <div style="color: #68769C; font-size: 14px;">
            🏠 <a href="#" style="color: #8E9AAF; text-decoration: none;">Home</a> &gt; 
            <a href="#" style="color: #8E9AAF; text-decoration: none;">Category</a> &gt; 
            <span style="color: #3C4858; font-weight: 600;">Current Page</span>
          </div>
        </nav>`;case"atlas-site-header":return`<header style="margin: 10px; padding: 20px; background: #3C4858; color: white; border-radius: 4px;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <h3 style="margin: 0; color: white;">🌐 Atlas Site Header</h3>
            <nav style="display: flex; gap: 20px;">
              <a href="#" style="color: #ffffff; text-decoration: none;">Home</a>
              <a href="#" style="color: #ffffff; text-decoration: none;">About</a>
              <a href="#" style="color: #ffffff; text-decoration: none;">Contact</a>
            </nav>
          </div>
        </header>`;case"atlas-pagination":return`<nav style="margin: 10px; padding: 15px; text-align: center;">
          <div style="display: inline-flex; gap: 5px;">
            <button style="padding: 8px 12px; border: 1px solid #e1dfdd; background: white; border-radius: 4px; cursor: pointer;">&laquo;</button>
            <button style="padding: 8px 12px; border: 1px solid #8E9AAF; background: #8E9AAF; color: white; border-radius: 4px;">1</button>
            <button style="padding: 8px 12px; border: 1px solid #e1dfdd; background: white; border-radius: 4px; cursor: pointer;">2</button>
            <button style="padding: 8px 12px; border: 1px solid #e1dfdd; background: white; border-radius: 4px; cursor: pointer;">3</button>
            <button style="padding: 8px 12px; border: 1px solid #e1dfdd; background: white; border-radius: 4px; cursor: pointer;">&raquo;</button>
          </div>
        </nav>`;case"atlas-gradient-card":return`<div class="gradient-card" style="margin: 10px; padding: 25px; background: linear-gradient(135deg, #8E9AAF, #68769C); color: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,120,212,0.3);">
          <h4 style="margin: 0 0 10px 0; color: white;">✨ Gradient Card</h4>
          <p style="margin: 0; color: #e1f5fe;">A beautiful gradient card component with Microsoft Learn styling.</p>
        </div>`;case"atlas-hero":return pg({title:"Build your next great idea",summary:"Transform your vision into reality with Microsoft Learn's comprehensive resources and tools.",eyebrow:"MICROSOFT LEARN",ctaText:"Get Started",showSecondaryButton:!0,secondaryCtaText:"Learn More",backgroundColor:"#E9ECEF",heroImageUrl:"hero-learn.svg"});case"atlas-banner":return`<div class="banner" style="margin: 10px; padding: 20px; background: #fff4ce; border: 1px solid #ffb900; border-radius: 4px; color: #3C4858;">
          <div style="display: flex; align-items: center; gap: 10px;">
            <span style="font-size: 20px;">ℹ️</span>
            <div>
              <h4 style="margin: 0 0 5px 0; color: #3C4858;">Important Banner</h4>
              <p style="margin: 0; color: #68769C;">This is an informational banner component.</p>
            </div>
          </div>
        </div>`;case"atlas-container":return`<div class="container" style="margin: 10px; padding: 20px; border: 1px solid #e1dfdd; border-radius: 4px; background: #f9f9f9;">
          <h3 style="margin: 0 0 10px 0; color: #3C4858;">📦 Container</h3>
          <p style="margin: 0; color: #68769C;">This is a container component. Add your content here.</p>
        </div>`;case"atlas-card":return`<div class="card atlas-component" data-user-added="true" style="margin: 10px; padding: 20px; border: 1px solid #e1dfdd; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
          <h4 style="margin: 0 0 10px 0; color: #3C4858;">💳 Card Title</h4>
          <p style="margin: 0; color: #68769C;">Card content goes here. This is a Microsoft Learn styled card component.</p>
        </div>`;case"atlas-heading":return`<h2 style="margin: 10px; color: #3C4858; font-size: 2rem; font-weight: 600;">📝 ${(B==null?void 0:B.text)||"Heading Component"}</h2>`;case"atlas-text":return`<p style="margin: 10px; color: #68769C; line-height: 1.5; font-family: 'Segoe UI', sans-serif;">${(B==null?void 0:B.text)||"This is a text component. You can use it to display paragraphs of content with Microsoft Learn styling."}</p>`;default:return`<div style="margin: 10px; padding: 15px; border: 2px dashed #e1dfdd; border-radius: 4px; color: #68769C; text-align: center; background: #f9f9f9;">
          <h4 style="margin: 0 0 5px 0; color: #3C4858;">🔧 ${ae||"Unknown Component"}</h4>
          <p style="margin: 0; font-size: 12px;">Component ID: ${oe}</p>
        </div>`}},vt=(V,oe)=>{if(console.log("🔧 insertComponentIntoWireframe: Adding component to Fluent UI layout"),V.includes("fluent-container")||V.includes("fluent-row")||V.includes("fluent-col")){const He=/<div class="col-[^"]*"[^>]*>/g,Ft=V.match(He);if(Ft&&Ft.length>0){const yt=V.match(/<div class="col-[^"]*"[^>]*>[\s]*<\/div>/);if(yt)return V.replace(yt[0],yt[0].replace("</div>",`
              <div class="atlas-component-wrapper" data-user-added="true">
                ${oe}
              </div>
            </div>`));{const hn=V.match(/(<div class="col-[^"]*"[^>]*>)([\s\S]*?)(<\/div>)(?![\s\S]*<div class="col-)/);if(hn){const hr=hn[0],vr=hr.replace(hn[3],`
              <div class="atlas-component-wrapper mb-3" data-user-added="true">
                ${oe}
              </div>
            ${hn[3]}`);return V.replace(hr,vr)}}}const Ut=V.match(/(<div class="row[^"]*"[^>]*>[\s\S]*?<\/div>)(?![\s\S]*<div class="row)/);if(Ut){const yt=Ut[0],hn=`
          <div class="row mb-4">
            <div class="col-md-6">
              <div class="atlas-component-wrapper" data-user-added="true">
                ${oe}
              </div>
            </div>
            <div class="col-md-6">
              <div class="p-4 border border-dashed rounded text-center text-muted">
                <p class="mb-0">Drop zone for additional components</p>
              </div>
            </div>
          </div>`;return V.replace(yt,yt+hn)}}const B=`
      <div class="atlas-component-wrapper mt-4" data-user-added="true" style="
        background: rgba(255, 255, 255, 0.95);
        border: 2px solid #8E9AAF;
        border-radius: 8px;
        padding: 15px;
        margin: 15px 0;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        animation: atlasSlideIn 0.6s ease-out;
      ">
        ${oe}
      </div>
      
      <style>
        @keyframes atlasSlideIn {
          0% { transform: translateY(-20px) scale(0.95); opacity: 0; }
          100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        .atlas-component-wrapper:hover {
          transform: scale(1.02);
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
      </style>`;return V.match(/<\/body>/)?V.replace("</body>",B+`
</body>`):V+B},Et=V=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Wireframe</title>
    <link href="https://static2.sharepointonline.com/files/fabric/office-ui-fabric-core/11.0.0/css/fabric.min.css" rel="stylesheet">
    <style>
      body { font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif; }
      .fluent-container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 16px; }
      .fluent-row { display: flex; flex-wrap: wrap; margin: 0 -8px; }
      .fluent-col { flex: 1; padding: 0 8px; min-width: 0; }
    </style>
    <style>
        body { 
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
          background-color: #f8f9fa;
          padding: 20px;
        }
        .wireframe-container { 
          background: white;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
          padding: 30px;
          min-height: 400px; 
        }
        .button { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; }
        .button-primary { background: #8E9AAF; color: white; }
        .button-secondary { background: #f3f2f1; color: #3C4858; border: 1px solid #e1dfdd; }
        .button-lg { padding: 12px 24px; }
        .button-search { display: inline-flex; align-items: center; gap: 8px; }
        
        /* Component entry animation */
        @keyframes atlasSlideIn {
          0% { transform: translateY(-20px) scale(0.95); opacity: 0; }
          100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        .atlas-component-wrapper {
          animation: atlasSlideIn 0.6s ease-out;
          transition: all 0.3s ease;
          background: rgba(255, 255, 255, 0.95);
          border: 2px solid #8E9AAF;
          border-radius: 8px;
          padding: 15px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
          min-height: 80px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .atlas-component-wrapper:hover {
          transform: scale(1.02);
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
        .atlas-component-wrapper .atlas-component {
          margin: 0 !important;
        }
    </style>
</head>
<body>
    <div style="width: 100%; padding: 0 16px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
        <div class="wireframe-container">
            <div class="row mb-4">
                <div class="col-12">
                    <h1 class="h3 text-primary mb-1">Component Library Wireframe</h1>
                    <p style="color: #68769C; font-size: 14px;">Components are added to the Fluent UI layout and can be rearranged using drag & drop.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <div class="atlas-component-wrapper" data-user-added="true">
                        ${V}
                    </div>
                </div>
                <div class="col-md-8 mb-3">
                    <div class="p-4 border border-dashed rounded text-center text-muted">
                        <h5>Drop Zone</h5>
                        <p class="mb-0">Add more components from the library or drag existing ones to rearrange.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`,Rt=(V,oe)=>{console.log("🎨 Injecting CSS into wireframe");const ae=/(<head>[\s\S]*?)(<\/head>)/i,B=V.match(ae);if(B){const ge=/(<style>[\s\S]*?<\/style>)/i,He=B[1].match(ge);if(He){const Ft=He[1].replace("</style>",`
${oe}
</style>`);return V.replace(He[1],Ft)}else{const Ft=B[1]+`
<style>
${oe}
</style>
`;return V.replace(B[1],Ft)}}else{const ge=/<head[^>]*>/i,He=V.match(ge);if(He)return V.replace(He[0],`${He[0]}
<style>
${oe}
</style>`)}return`<style>
${oe}
</style>
${V}`},Dn=(V,oe)=>Fe(null,null,function*(){oe&&ne(oe);const ae="microsoftlearn",B=oe||I;if(!a.trim())return;const ge=new il("design-change-wireframe");try{const He=yield ye(a,ae,B);He&&He.html?typeof He.html=="string"&&He.html.length>0?Re(He.html,a):(console.error("Error: Received invalid wireframe data"),Xe("Error: Received invalid wireframe data. Please try again.","error")):(console.error("Error: No wireframe generated"),Xe("Error: No wireframe generated. Please try again.","error"))}catch(He){console.error("🎨 Error in design change:",He)}finally{ge.stop()}}),an=V=>Fe(null,null,function*(){try{const oe=new AbortController,ae=setTimeout(()=>oe.abort(),1e4),B=yield fetch(oi(Kn.ENDPOINTS.GENERATE_SUGGESTIONS),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:V.trim()}),signal:oe.signal});return clearTimeout(ae),B.ok?(yield B.json()).suggestions||Kn.FALLBACK_SUGGESTIONS:(console.warn(`AI suggestions API returned ${B.status}, using fallback suggestions`),Kn.FALLBACK_SUGGESTIONS)}catch(oe){return oe instanceof Error?console.warn("AI suggestions temporarily unavailable, using fallback suggestions:",oe.message):console.warn("AI suggestions temporarily unavailable, using fallback suggestions"),Kn.FALLBACK_SUGGESTIONS}}),En=g.useCallback(V=>Fe(null,null,function*(){if(V.trim().length>=2){const ae=Eg(V);ae.length>0&&(G(ae),P(!0),H(!1));const B=zg(V);if(B&&B.suggestions.length>0){G(B.suggestions),P(!0),H(!1);return}if(Fg(V)||ae.length===0){ae.length===0&&H(!0);try{const ge=yield an(V);ge.length>0&&(G(ge),P(!0),Ag(V,ge,"ai"))}catch(ge){console.warn("AI suggestions failed, keeping instant suggestions")}finally{H(!1)}}}else G([]),P(!1),H(!1)}),[]),Jt=()=>{console.log("Multi-step feature clicked")},sn=V=>{console.log("Image uploaded:",V.name,V.size)},Fn=()=>{u(""),$t(""),pe(!0),l("")},gn=(V,oe)=>Fe(null,null,function*(){console.log("🔍 Starting direct image-to-wireframe conversion:",oe,"Size:",V.length,"bytes"),ze(!0);try{const ae=yield fetch("/api/direct-image-to-wireframe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:V,designTheme:Q,colorScheme:I})});if(!ae.ok)throw new Error(`Direct conversion failed: ${ae.status}`);const B=yield ae.json();if(!B.success)throw new Error(B.error||"Direct conversion failed");console.log("✅ Direct image-to-wireframe conversion completed successfully");const ge=`Pixel-perfect wireframe generated from uploaded image: ${oe}. Preserves exact colors, text, and layout from the original design.`;l(ge),B.html&&Re(B.html,ge)}catch(ae){console.error("❌ Direct conversion failed, trying fallback:",ae);try{const He=yield fetch("/api/analyzeUIImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:V,prompt:"Extract EXACT text content and EXACT hex colors from this image. Be pixel-perfect in color matching."})});if(He.ok){const Ft=yield He.json();if(Ft.success){const Ut=`Recreate this UI design from image: ${oe}. Use exact colors and text from analysis.`;l(Ut);const yt=yield ye(Ut,Q,I,Ft);if(yt&&yt.html){Re(yt.html,Ut);return}}}}catch(He){console.error("❌ Fallback analysis also failed:",He)}const B=`Generate a wireframe based on the uploaded image: ${oe}. Analyze the layout, components, and structure shown in the image.`;l(B);const ge=yield ye(B,Q,I);ge&&ge.html&&Re(ge.html,B)}finally{ze(!1)}}),Lr=V=>{if(console.log("Figma components imported:",V),V.length===0){Xe("No components were imported","warning");return}let oe="";if(V.forEach((ae,B)=>{ae.wireframeHtml&&(oe+=`
          <div class="figma-imported-component" data-component-name="${ae.componentName}" style="margin: 20px 0; padding: 20px; border: 2px solid #8E9AAF; border-radius: 8px; background: rgba(255,255,255,0.95);">
            <h4 style="margin: 0 0 15px 0; color: #8E9AAF; font-size: 16px;">📦 ${ae.componentName}</h4>
            ${ae.wireframeHtml}
          </div>
        `)}),oe){if(d){const ae=vt(d,oe);u(ae),Xe(`Added ${V.length} Figma component(s) to wireframe`,"success")}else{const ae=Et(oe);u(ae),pe(!1),Xe(`Created wireframe with ${V.length} Figma component(s)`,"success")}se(Date.now())}else Xe("Failed to process imported components","error");N(!1)},Oe=V=>{if(console.log("🔧 Adding components to wireframe:",V),V.length===0){Xe("No components selected to add to wireframe","warning");return}let oe=d,ae=0,B="";V.forEach(ge=>{if(console.log("🔧 Processing component:",ge.name,"content:",ge.content),ge.content){ge.css&&ge.css.trim()&&(B+=`
/* CSS for ${ge.name} */
${ge.css}
`,console.log("🎨 Collected CSS for component:",ge.name));const He=`
          <div class="figma-imported-component" data-component-id="${ge.id}" style="margin: 10px 0;">
            ${ge.content}
          </div>
        `;console.log("🔧 Individual component HTML:",He),oe&&oe.trim()!==""?oe=vt(oe,He):(oe=Et(He),pe(!1)),ae++}}),B.trim()&&(console.log("🎨 Injecting component CSS into wireframe"),oe=Rt(oe,B)),ae>0?(u(oe),Xe(`Added ${ae} component(s) to wireframe`,"success"),se(Date.now())):Xe("Failed to process component data","error"),N(!1)},$n=(V,oe)=>{console.log("Figma file imported:",oe),u(V),pe(!1),se(Date.now()),Xe(`Figma design imported: ${oe}`,"success")},Mn=V=>Fe(null,null,function*(){if(console.log("Exporting wireframe:",V),!d||d.trim()===""){Xe("No wireframe to export. Please create a wireframe first.","error");return}try{const{wireframeExportService:oe}=yield gl(()=>Fe(null,null,function*(){const{wireframeExportService:B}=yield import("./wireframeExport-OFNBTKrt.js");return{wireframeExportService:B}}),[]);let ae;V==="figma-file"?ae=yield oe.exportAsHTML(d,{format:"html",filename:oe.generateFilename("wireframe","html"),includeStyles:!0,includeInteractivity:!0}):V==="figma-components"&&(ae=yield oe.exportAsJSON(d,{description:a,theme:Q,colorScheme:I,exportedAt:new Date().toISOString()},{format:"figma-components",filename:oe.generateFilename("wireframe-components","json")})),ae!=null&&ae.success?Xe(`✅ Wireframe exported successfully as ${ae.filename}! 
          ${ae.size?`(${Math.round(ae.size/1024)} KB)`:""}`,"success"):Xe(`❌ Export failed: ${(ae==null?void 0:ae.error)||"Unknown error"}`,"error")}catch(oe){console.error("Export error:",oe),Xe("❌ Export failed. Please try again.","error")}});return r.jsxs("div",{className:"app-content",children:[fe&&!d&&!ht?r.jsx(qm,{onLogoClick:Fn,onLogout:c}):r.jsx(Qm,{onLogoClick:Fn,onLogout:c,onFigmaIntegration:Ye,onViewHtmlCode:te,onPresentationMode:Ue,onDownloadWireframe:be}),fe&&!d&&!ht?r.jsx(sm,{error:De,savedWireframesCount:m.length,onLoadClick:()=>O(!0),description:a,onDescriptionChange:V=>{const oe=V.target.value;l(oe),oe.length<=2&&P(!1)},onSubmit:pt,loading:W,handleStop:nt,showAiSuggestions:y,aiSuggestions:J,suggestionLoading:_,onAiSuggestionClick:Mt,onGenerateAiSuggestions:En,onImageUpload:sn,onAnalyzeImage:gn,isAnalyzingImage:Ie,onFigmaImport:$n,onFigmaExport:Mn,onOpenWireframe:K}):r.jsx(Km,{description:a,setDescription:l,handleSubmit:pt,loading:W,loadingStage:ue,fallback:Ke,processingTime:tt,handleStop:nt,showAiSuggestions:y,aiSuggestions:J,suggestionLoading:_,isAiSourced:ce,setShowAiSuggestions:P,onGenerateAiSuggestions:En,error:De,savedWireframesCount:m.length,onLoadClick:()=>O(!0),htmlWireframe:ht||d,setHtmlWireframe:u,reactComponent:ht,setReactComponent:$t,onSave:()=>C(!0),onEnhancedSave:Ve,onMultiStep:Jt,designTheme:Q,colorScheme:I,setColorScheme:ne,onDesignChange:Dn,onAiSuggestionClick:Mt,forceUpdateKey:ie,onBackToLanding:Fn,onAddComponent:ct,onGeneratePageContent:wt,onImageUpload:sn,onAnalyzeImage:gn,isAnalyzingImage:Ie,onFigmaExport:Mn,onFigmaIntegration:f,onComponentLibrary:b,onDevPlaybooks:R,onFigmaComponents:q,onViewHtmlCode:Ce,onDownloadWireframe:je,onPresentationMode:Le,editingMode:h,onEditingModeChange:E}),v&&r.jsx(Jm,{saveTitle:j,setSaveTitle:$,onSave:qt,onCancel:()=>C(!1)}),T&&r.jsx(Xm,{savedWireframes:m,onLoad:Nn,onDelete:Ae,onClose:()=>O(!1)}),Z.map(V=>r.jsx(Zm,{message:V.message,type:V.type,onClose:()=>rn(V.id)},V.id)),(console.log("🔍 App.tsx render: showFigmaIntegration =",k),null),k&&r.jsx("div",{className:"figma-modal-overlay",children:r.jsx(rg,{onComponentsImported:Lr,onAddToWireframe:Oe,onClose:()=>N(!1),designSystem:"auto",mode:"add-to-wireframe"})}),F&&r.jsx(aa,{isOpen:F,onClose:()=>z(!1),onImport:(V,oe,ae)=>{$n(V,oe),ae&&console.log("Design tokens extracted:",ae),z(!1)},onExport:V=>{console.log("Figma export requested:",V),z(!1)},onTokensExtracted:V=>{console.log("Design tokens extracted:",V)},onFileProcessed:(V,oe)=>{console.log("File processed:",V.name,oe)}})]})}function Tg(){const[c,a]=g.useState(!1),[l,d]=g.useState(!0);g.useEffect(()=>{if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port!==""){console.log("🔧 Development mode: Bypassing Azure authentication"),a(!0),d(!1);return}console.log("🔐 Production mode: Checking Azure authentication"),fetch("/.auth/me").then(v=>v.json()).then(v=>{console.log("🔐 Azure auth response:",v),v.clientPrincipal&&a(!0),d(!1)}).catch(v=>{console.log("🔐 Azure auth check failed:",v),d(!1)})},[]);const u=()=>{a(!0)},m=()=>{window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port!==""?window.location.reload():window.location.href="/.auth/logout"};return l?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Segoe UI, sans-serif"},children:r.jsx("div",{children:"Loading..."})}):c?r.jsx(Lg,{onLogout:m}):r.jsx(eg,{onAuthSuccess:u})}const ta="https://func-designetica-prod-xabnur6oyusju.azurewebsites.net";function yu(c){return c==="localhost"||c==="127.0.0.1"||c==="[::1]"}(function(){if(typeof window=="undefined"||yu(window.location.hostname))return;const a=window.fetch.bind(window);window.fetch=(u,m)=>Fe(null,null,function*(){try{let x=typeof u=="string"?u:u instanceof URL?u.toString():u.url;if(typeof x=="string"&&x.includes("localhost:5001")){const v=x.replace(/https?:\/\/localhost:5001/gi,ta);console.warn("[ProductionSafety] Rewriting localhost:5001 ->",ta,`
 Original:`,x,`
 New:`,v),u=v}}catch(x){console.warn("[ProductionSafety] Fetch guard inspection failed:",x)}return a(u,m)});const l=window.XMLHttpRequest;class d extends l{open(m,x,v,C,j){if(x&&x.includes("localhost:5001")&&!yu(window.location.hostname)){const $=x.replace(/https?:\/\/localhost:5001/gi,ta);return console.warn("[ProductionSafety][XHR] Rewriting localhost:5001 ->",ta,`
 Original:`,x,`
 New:`,$),super.open(m,$,v!=null?v:!0,C,j)}return super.open(m,x,v!=null?v:!0,C,j)}}window.XMLHttpRequest=d})();window.React=Qn;const bu=document.getElementById("root");bu&&Ff.createRoot(bu).render(r.jsx(g.StrictMode,{children:r.jsx(Tg,{})}))});export default Pg();
