var sf=Object.defineProperty,af=Object.defineProperties;var lf=Object.getOwnPropertyDescriptors;var Yd=Object.getOwnPropertySymbols;var cf=Object.prototype.hasOwnProperty,df=Object.prototype.propertyIsEnumerable;var dl=(c,s,a)=>s in c?sf(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a,_e=(c,s)=>{for(var a in s||(s={}))cf.call(s,a)&&dl(c,a,s[a]);if(Yd)for(var a of Yd(s))df.call(s,a)&&dl(c,a,s[a]);return c},Ge=(c,s)=>af(c,lf(s));var uf=(c,s)=>()=>(s||c((s={exports:{}}).exports,s),s.exports);var kr=(c,s,a)=>dl(c,typeof s!="symbol"?s+"":s,a);var we=(c,s,a)=>new Promise((d,u)=>{var g=b=>{try{h(a.next(b))}catch(w){u(w)}},y=b=>{try{h(a.throw(b))}catch(w){u(w)}},h=b=>b.done?d(b.value):Promise.resolve(b.value).then(g,y);h((a=a.apply(c,s)).next())});var yg=uf(Ue=>{(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const g of u)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function a(u){const g={};return u.integrity&&(g.integrity=u.integrity),u.referrerPolicy&&(g.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?g.credentials="include":u.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function d(u){if(u.ep)return;u.ep=!0;const g=a(u);fetch(u.href,g)}})();function pf(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var ul={exports:{}},fi={},pl={exports:{}},We={},Jd;function ff(){if(Jd)return We;Jd=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),E=Symbol.iterator;function I(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,k={};function z(j,B,m){this.props=j,this.context=B,this.refs=k,this.updater=m||X}z.prototype.isReactComponent={},z.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=z.prototype;function Q(j,B,m){this.props=j,this.context=B,this.refs=k,this.updater=m||X}var he=Q.prototype=new V;he.constructor=Q,W(he,z.prototype),he.isPureReactComponent=!0;var pe=Array.isArray,_=Object.prototype.hasOwnProperty,ie={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function M(j,B,m){var x,R={},de=null,Ee=null;if(B!=null)for(x in B.ref!==void 0&&(Ee=B.ref),B.key!==void 0&&(de=""+B.key),B)_.call(B,x)&&!G.hasOwnProperty(x)&&(R[x]=B[x]);var Ce=arguments.length-2;if(Ce===1)R.children=m;else if(1<Ce){for(var ze=Array(Ce),Be=0;Be<Ce;Be++)ze[Be]=arguments[Be+2];R.children=ze}if(j&&j.defaultProps)for(x in Ce=j.defaultProps,Ce)R[x]===void 0&&(R[x]=Ce[x]);return{$$typeof:c,type:j,key:de,ref:Ee,props:R,_owner:ie.current}}function ge(j,B){return{$$typeof:c,type:j.type,key:B,ref:j.ref,props:j.props,_owner:j._owner}}function me(j){return typeof j=="object"&&j!==null&&j.$$typeof===c}function $e(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(m){return B[m]})}var Fe=/\/+/g;function re(j,B){return typeof j=="object"&&j!==null&&j.key!=null?$e(""+j.key):B.toString(36)}function le(j,B,m,x,R){var de=typeof j;(de==="undefined"||de==="boolean")&&(j=null);var Ee=!1;if(j===null)Ee=!0;else switch(de){case"string":case"number":Ee=!0;break;case"object":switch(j.$$typeof){case c:case s:Ee=!0}}if(Ee)return Ee=j,R=R(Ee),j=x===""?"."+re(Ee,0):x,pe(R)?(m="",j!=null&&(m=j.replace(Fe,"$&/")+"/"),le(R,B,m,"",function(Be){return Be})):R!=null&&(me(R)&&(R=ge(R,m+(!R.key||Ee&&Ee.key===R.key?"":(""+R.key).replace(Fe,"$&/")+"/")+j)),B.push(R)),1;if(Ee=0,x=x===""?".":x+":",pe(j))for(var Ce=0;Ce<j.length;Ce++){de=j[Ce];var ze=x+re(de,Ce);Ee+=le(de,B,m,ze,R)}else if(ze=I(j),typeof ze=="function")for(j=ze.call(j),Ce=0;!(de=j.next()).done;)de=de.value,ze=x+re(de,Ce++),Ee+=le(de,B,m,ze,R);else if(de==="object")throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ee}function be(j,B,m){if(j==null)return j;var x=[],R=0;return le(j,x,"","",function(de){return B.call(m,de,R++)}),x}function fe(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(m){(j._status===0||j._status===-1)&&(j._status=1,j._result=m)},function(m){(j._status===0||j._status===-1)&&(j._status=2,j._result=m)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var H={current:null},T={transition:null},ce={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:T,ReactCurrentOwner:ie};function ee(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:be,forEach:function(j,B,m){be(j,function(){B.apply(this,arguments)},m)},count:function(j){var B=0;return be(j,function(){B++}),B},toArray:function(j){return be(j,function(B){return B})||[]},only:function(j){if(!me(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},We.Component=z,We.Fragment=a,We.Profiler=u,We.PureComponent=Q,We.StrictMode=d,We.Suspense=b,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,We.act=ee,We.cloneElement=function(j,B,m){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var x=W({},j.props),R=j.key,de=j.ref,Ee=j._owner;if(B!=null){if(B.ref!==void 0&&(de=B.ref,Ee=ie.current),B.key!==void 0&&(R=""+B.key),j.type&&j.type.defaultProps)var Ce=j.type.defaultProps;for(ze in B)_.call(B,ze)&&!G.hasOwnProperty(ze)&&(x[ze]=B[ze]===void 0&&Ce!==void 0?Ce[ze]:B[ze])}var ze=arguments.length-2;if(ze===1)x.children=m;else if(1<ze){Ce=Array(ze);for(var Be=0;Be<ze;Be++)Ce[Be]=arguments[Be+2];x.children=Ce}return{$$typeof:c,type:j.type,key:R,ref:de,props:x,_owner:Ee}},We.createContext=function(j){return j={$$typeof:y,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:g,_context:j},j.Consumer=j},We.createElement=M,We.createFactory=function(j){var B=M.bind(null,j);return B.type=j,B},We.createRef=function(){return{current:null}},We.forwardRef=function(j){return{$$typeof:h,render:j}},We.isValidElement=me,We.lazy=function(j){return{$$typeof:O,_payload:{_status:-1,_result:j},_init:fe}},We.memo=function(j,B){return{$$typeof:w,type:j,compare:B===void 0?null:B}},We.startTransition=function(j){var B=T.transition;T.transition={};try{j()}finally{T.transition=B}},We.unstable_act=ee,We.useCallback=function(j,B){return H.current.useCallback(j,B)},We.useContext=function(j){return H.current.useContext(j)},We.useDebugValue=function(){},We.useDeferredValue=function(j){return H.current.useDeferredValue(j)},We.useEffect=function(j,B){return H.current.useEffect(j,B)},We.useId=function(){return H.current.useId()},We.useImperativeHandle=function(j,B,m){return H.current.useImperativeHandle(j,B,m)},We.useInsertionEffect=function(j,B){return H.current.useInsertionEffect(j,B)},We.useLayoutEffect=function(j,B){return H.current.useLayoutEffect(j,B)},We.useMemo=function(j,B){return H.current.useMemo(j,B)},We.useReducer=function(j,B,m){return H.current.useReducer(j,B,m)},We.useRef=function(j){return H.current.useRef(j)},We.useState=function(j){return H.current.useState(j)},We.useSyncExternalStore=function(j,B,m){return H.current.useSyncExternalStore(j,B,m)},We.useTransition=function(){return H.current.useTransition()},We.version="18.3.1",We}var Zd;function Fl(){return Zd||(Zd=1,pl.exports=ff()),pl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function mf(){if(qd)return fi;qd=1;var c=Fl(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,u=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function y(h,b,w){var O,E={},I=null,X=null;w!==void 0&&(I=""+w),b.key!==void 0&&(I=""+b.key),b.ref!==void 0&&(X=b.ref);for(O in b)d.call(b,O)&&!g.hasOwnProperty(O)&&(E[O]=b[O]);if(h&&h.defaultProps)for(O in b=h.defaultProps,b)E[O]===void 0&&(E[O]=b[O]);return{$$typeof:s,type:h,key:I,ref:X,props:E,_owner:u.current}}return fi.Fragment=a,fi.jsx=y,fi.jsxs=y,fi}var Xd;function gf(){return Xd||(Xd=1,ul.exports=mf()),ul.exports}var n=gf(),f=Fl();const Zn=pf(f);var ks={},fl={exports:{}},Ut={},ml={exports:{}},gl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu;function hf(){return eu||(eu=1,function(c){function s(T,ce){var ee=T.length;T.push(ce);e:for(;0<ee;){var j=ee-1>>>1,B=T[j];if(0<u(B,ce))T[j]=ce,T[ee]=B,ee=j;else break e}}function a(T){return T.length===0?null:T[0]}function d(T){if(T.length===0)return null;var ce=T[0],ee=T.pop();if(ee!==ce){T[0]=ee;e:for(var j=0,B=T.length,m=B>>>1;j<m;){var x=2*(j+1)-1,R=T[x],de=x+1,Ee=T[de];if(0>u(R,ee))de<B&&0>u(Ee,R)?(T[j]=Ee,T[de]=ee,j=de):(T[j]=R,T[x]=ee,j=x);else if(de<B&&0>u(Ee,ee))T[j]=Ee,T[de]=ee,j=de;else break e}}return ce}function u(T,ce){var ee=T.sortIndex-ce.sortIndex;return ee!==0?ee:T.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;c.unstable_now=function(){return g.now()}}else{var y=Date,h=y.now();c.unstable_now=function(){return y.now()-h}}var b=[],w=[],O=1,E=null,I=3,X=!1,W=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function he(T){for(var ce=a(w);ce!==null;){if(ce.callback===null)d(w);else if(ce.startTime<=T)d(w),ce.sortIndex=ce.expirationTime,s(b,ce);else break;ce=a(w)}}function pe(T){if(k=!1,he(T),!W)if(a(b)!==null)W=!0,fe(_);else{var ce=a(w);ce!==null&&H(pe,ce.startTime-T)}}function _(T,ce){W=!1,k&&(k=!1,V(M),M=-1),X=!0;var ee=I;try{for(he(ce),E=a(b);E!==null&&(!(E.expirationTime>ce)||T&&!$e());){var j=E.callback;if(typeof j=="function"){E.callback=null,I=E.priorityLevel;var B=j(E.expirationTime<=ce);ce=c.unstable_now(),typeof B=="function"?E.callback=B:E===a(b)&&d(b),he(ce)}else d(b);E=a(b)}if(E!==null)var m=!0;else{var x=a(w);x!==null&&H(pe,x.startTime-ce),m=!1}return m}finally{E=null,I=ee,X=!1}}var ie=!1,G=null,M=-1,ge=5,me=-1;function $e(){return!(c.unstable_now()-me<ge)}function Fe(){if(G!==null){var T=c.unstable_now();me=T;var ce=!0;try{ce=G(!0,T)}finally{ce?re():(ie=!1,G=null)}}else ie=!1}var re;if(typeof Q=="function")re=function(){Q(Fe)};else if(typeof MessageChannel!="undefined"){var le=new MessageChannel,be=le.port2;le.port1.onmessage=Fe,re=function(){be.postMessage(null)}}else re=function(){z(Fe,0)};function fe(T){G=T,ie||(ie=!0,re())}function H(T,ce){M=z(function(){T(c.unstable_now())},ce)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(T){T.callback=null},c.unstable_continueExecution=function(){W||X||(W=!0,fe(_))},c.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<T?Math.floor(1e3/T):5},c.unstable_getCurrentPriorityLevel=function(){return I},c.unstable_getFirstCallbackNode=function(){return a(b)},c.unstable_next=function(T){switch(I){case 1:case 2:case 3:var ce=3;break;default:ce=I}var ee=I;I=ce;try{return T()}finally{I=ee}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(T,ce){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var ee=I;I=T;try{return ce()}finally{I=ee}},c.unstable_scheduleCallback=function(T,ce,ee){var j=c.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?j+ee:j):ee=j,T){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,T={id:O++,callback:ce,priorityLevel:T,startTime:ee,expirationTime:B,sortIndex:-1},ee>j?(T.sortIndex=ee,s(w,T),a(b)===null&&T===a(w)&&(k?(V(M),M=-1):k=!0,H(pe,ee-j))):(T.sortIndex=B,s(b,T),W||X||(W=!0,fe(_))),T},c.unstable_shouldYield=$e,c.unstable_wrapCallback=function(T){var ce=I;return function(){var ee=I;I=ce;try{return T.apply(this,arguments)}finally{I=ee}}}}(gl)),gl}var tu;function xf(){return tu||(tu=1,ml.exports=hf()),ml.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu;function yf(){if(nu)return Ut;nu=1;var c=Fl(),s=xf();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,u={};function g(e,t){y(e,t),y(e+"Capture",t)}function y(e,t){for(u[e]=t,e=0;e<t.length;e++)d.add(t[e])}var h=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),b=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O={},E={};function I(e){return b.call(E,e)?!0:b.call(O,e)?!1:w.test(e)?E[e]=!0:(O[e]=!0,!1)}function X(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W(e,t,r,o){if(t===null||typeof t=="undefined"||X(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,r,o,i,l,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=p}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];z[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,Q);z[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,Q);z[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,Q);z[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function he(e,t,r,o){var i=z.hasOwnProperty(t)?z[t]:null;(i!==null?i.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W(t,r,i,o)&&(r=null),o||i===null?I(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,o=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var pe=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),ie=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),$e=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),T=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=T&&e[T]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,j;function B(e){if(j===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var m=!1;function x(e,t){if(!e||m)return"";m=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var o=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){o=L}e.call(t.prototype)}else{try{throw Error()}catch(L){o=L}e()}}catch(L){if(L&&o&&typeof L.stack=="string"){for(var i=L.stack.split(`
`),l=o.stack.split(`
`),p=i.length-1,v=l.length-1;1<=p&&0<=v&&i[p]!==l[v];)v--;for(;1<=p&&0<=v;p--,v--)if(i[p]!==l[v]){if(p!==1||v!==1)do if(p--,v--,0>v||i[p]!==l[v]){var C=`
`+i[p].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=p&&0<=v);break}}}finally{m=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B(e):""}function R(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=x(e.type,!1),e;case 11:return e=x(e.type.render,!1),e;case 1:return e=x(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case ie:return"Portal";case ge:return"Profiler";case M:return"StrictMode";case re:return"Suspense";case le:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $e:return(e.displayName||"Context")+".Consumer";case me:return(e._context.displayName||"Context")+".Provider";case Fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case be:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return de(e(t))}catch(r){}}return null}function Ee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ze(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Be(e){var t=ze(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){o=""+p,l.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ve(e){e._valueTracker||(e._valueTracker=Be(e))}function lt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=ze(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function D(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ye(e,t){var r=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Y(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=Ce(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $(e,t){t=t.checked,t!=null&&he(e,"checked",t,!1)}function oe(e,t){$(e,t);var r=Ce(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Re(e,t.type,r):t.hasOwnProperty("defaultValue")&&Re(e,t.type,Ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ae(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Re(e,t,r){(t!=="number"||D(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ze=Array.isArray;function nt(e,t,r,o){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ce(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,o&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Qe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ct(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(a(92));if(Ze(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ce(r)}}function Fn(e,t){var r=Ce(t.value),o=Ce(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function Cr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qe,xn=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,o,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qe=qe||document.createElement("div"),qe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];Object.keys(yn).forEach(function(e){er.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yn[t]=yn[e]})});function Qr(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yn.hasOwnProperty(e)&&yn[e]?(""+t).trim():t+"px"}function Kr(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,i=Qr(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,i):e[r]=i}}var Io=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(e,t){if(t){if(Io[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function an(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=null;function nr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sr=null,ln=null,cn=null;function rr(e){if(e=qo(e)){if(typeof Sr!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Mi(t),Sr(e.stateNode,e.type,t))}}function Yr(e){ln?cn?cn.push(e):cn=[e]:ln=e}function Ln(){if(ln){var e=ln,t=cn;if(cn=ln=null,rr(e),t)for(e=0;e<t.length;e++)rr(t[e])}}function Jr(e,t){return e(t)}function or(){}var Nr=!1;function Tn(e,t,r){if(Nr)return e(t,r);Nr=!0;try{return Jr(e,t,r)}finally{Nr=!1,(ln!==null||cn!==null)&&(or(),Ln())}}function Pn(e,t){var r=e.stateNode;if(r===null)return null;var o=Mi(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,t,typeof r));return r}var vn=!1;if(h)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){vn=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch(e){vn=!1}function Er(e,t,r,o,i,l,p,v,C){var L=Array.prototype.slice.call(arguments,3);try{t.apply(r,L)}catch(q){this.onError(q)}}var In=!1,$n=null,Dn=!1,Mn=null,U={onError:function(e){In=!0,$n=e}};function se(e,t,r,o,i,l,p,v,C){In=!1,$n=null,Er.apply(U,arguments)}function J(e,t,r,o,i,l,p,v,C){if(se.apply(this,arguments),In){if(In){var L=$n;In=!1,$n=null}else throw Error(a(198));Dn||(Dn=!0,Mn=L)}}function P(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ie(e){if(P(e)!==e)throw Error(a(188))}function dt(e){var t=e.alternate;if(!t){if(t=P(e),t===null)throw Error(a(188));return t!==e?null:e}for(var r=e,o=t;;){var i=r.return;if(i===null)break;var l=i.alternate;if(l===null){if(o=i.return,o!==null){r=o;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===r)return Ie(i),e;if(l===o)return Ie(i),t;l=l.sibling}throw Error(a(188))}if(r.return!==o.return)r=i,o=l;else{for(var p=!1,v=i.child;v;){if(v===r){p=!0,r=i,o=l;break}if(v===o){p=!0,o=i,r=l;break}v=v.sibling}if(!p){for(v=l.child;v;){if(v===r){p=!0,r=l,o=i;break}if(v===o){p=!0,o=l,r=i;break}v=v.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:t}function ut(e){return e=dt(e),e!==null?ft(e):null}function ft(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ft(e);if(t!==null)return t;e=e.sibling}return null}var zt=s.unstable_scheduleCallback,Jt=s.unstable_cancelCallback,ir=s.unstable_shouldYield,Zr=s.unstable_requestPaint,rt=s.unstable_now,$l=s.unstable_getCurrentPriorityLevel,$o=s.unstable_ImmediatePriority,vi=s.unstable_UserBlockingPriority,Ar=s.unstable_NormalPriority,Le=s.unstable_LowPriority,bi=s.unstable_IdlePriority,qr=null,Zt=null;function Is(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(qr,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Ht=Math.clz32?Math.clz32:$s,wi=Math.log,ki=Math.LN2;function $s(e){return e>>>=0,e===0?32:31-(wi(e)/ki|0)|0}var Xr=64,Fr=4194304;function sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eo(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,i=e.suspendedLanes,l=e.pingedLanes,p=r&268435455;if(p!==0){var v=p&~i;v!==0?o=sr(v):(l&=p,l!==0&&(o=sr(l)))}else p=r&~i,p!==0?o=sr(p):l!==0&&(o=sr(l));if(o===0)return 0;if(t!==0&&t!==o&&(t&i)===0&&(i=o&-o,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if((o&4)!==0&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-Ht(t),i=1<<r,o|=e[r],t&=~i;return o}function Ds(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var p=31-Ht(l),v=1<<p,C=i[p];C===-1?((v&r)===0||(v&o)!==0)&&(i[p]=Ds(v,t)):C<=t&&(e.expiredLanes|=v),l&=~v}}function to(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Do(){var e=Xr;return Xr<<=1,(Xr&4194240)===0&&(Xr=64),e}function Mo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function Ms(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ht(r),l=1<<i;t[i]=0,o[i]=-1,e[i]=-1,r&=~l}}function Rn(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Ht(r),i=1<<o;i&t|e[o]&t&&(e[o]|=t),r&=~i}}var Ke=0;function ji(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ro,no,Si,ro,oo,Lr=!1,Tr=[],qt=null,Xt=null,bn=null,Pr=new Map,On=new Map,Wt=[],Rs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oo(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function S(e,t,r,o,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:l,targetContainers:[i]},t!==null&&(t=qo(t),t!==null&&no(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Z(e,t,r,o,i){switch(t){case"focusin":return qt=S(qt,e,t,r,o,i),!0;case"dragenter":return Xt=S(Xt,e,t,r,o,i),!0;case"mouseover":return bn=S(bn,e,t,r,o,i),!0;case"pointerover":var l=i.pointerId;return Pr.set(l,S(Pr.get(l)||null,e,t,r,o,i)),!0;case"gotpointercapture":return l=i.pointerId,On.set(l,S(On.get(l)||null,e,t,r,o,i)),!0}return!1}function ne(e){var t=Ir(e.target);if(t!==null){var r=P(t);if(r!==null){if(t=r.tag,t===13){if(t=xe(r),t!==null){e.blockedOn=t,oo(e.priority,function(){Si(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function te(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_n(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);tr=o,r.target.dispatchEvent(o),tr=null}else return t=qo(r),t!==null&&no(t),e.blockedOn=r,!1;t.shift()}return!0}function Oe(e,t,r){te(e)&&r.delete(t)}function He(){Lr=!1,qt!==null&&te(qt)&&(qt=null),Xt!==null&&te(Xt)&&(Xt=null),bn!==null&&te(bn)&&(bn=null),Pr.forEach(Oe),On.forEach(Oe)}function gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Lr||(Lr=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,He)))}function it(e){function t(i){return gt(i,e)}if(0<Tr.length){gt(Tr[0],e);for(var r=1;r<Tr.length;r++){var o=Tr[r];o.blockedOn===e&&(o.blockedOn=null)}}for(qt!==null&&gt(qt,e),Xt!==null&&gt(Xt,e),bn!==null&&gt(bn,e),Pr.forEach(t),On.forEach(t),r=0;r<Wt.length;r++)o=Wt[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Wt.length&&(r=Wt[0],r.blockedOn===null);)ne(r),r.blockedOn===null&&Wt.shift()}var kt=pe.ReactCurrentBatchConfig,Gt=!0;function io(e,t,r,o){var i=Ke,l=kt.transition;kt.transition=null;try{Ke=1,wn(e,t,r,o)}finally{Ke=i,kt.transition=l}}function so(e,t,r,o){var i=Ke,l=kt.transition;kt.transition=null;try{Ke=4,wn(e,t,r,o)}finally{Ke=i,kt.transition=l}}function wn(e,t,r,o){if(Gt){var i=_n(e,t,r,o);if(i===null)ea(e,t,o,$t,r),Oo(e,o);else if(Z(i,e,t,r,o))o.stopPropagation();else if(Oo(e,o),t&4&&-1<Rs.indexOf(e)){for(;i!==null;){var l=qo(i);if(l!==null&&Ro(l),l=_n(e,t,r,o),l===null&&ea(e,t,o,$t,r),l===i)break;i=l}i!==null&&o.stopPropagation()}else ea(e,t,o,null,r)}}var $t=null;function _n(e,t,r,o){if($t=null,e=nr(o),e=Ir(e),e!==null)if(t=P(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xe(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function ar(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($l()){case $o:return 1;case vi:return 4;case Ar:case Le:return 16;case bi:return 536870912;default:return 16}default:return 16}}var kn=null,_o=null,Ni=null;function Dl(){if(Ni)return Ni;var e,t=_o,r=t.length,o,i="value"in kn?kn.value:kn.textContent,l=i.length;for(e=0;e<r&&t[e]===i[e];e++);var p=r-e;for(o=1;o<=p&&t[r-o]===i[l-o];o++);return Ni=i.slice(e,1<o?1-o:void 0)}function Ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Ml(){return!1}function Vt(e){function t(r,o,i,l,p){this._reactName=r,this._targetInst=i,this.type=o,this.nativeEvent=l,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(l):l[v]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ai:Ml,this.isPropagationStopped=Ml,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Vt(ao),Uo=ee({},ao,{view:0,detail:0}),Tu=Vt(Uo),_s,Us,Bo,Fi=ee({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bo&&(Bo&&e.type==="mousemove"?(_s=e.screenX-Bo.screenX,Us=e.screenY-Bo.screenY):Us=_s=0,Bo=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:Us}}),Rl=Vt(Fi),Pu=ee({},Fi,{dataTransfer:0}),Iu=Vt(Pu),$u=ee({},Uo,{relatedTarget:0}),Bs=Vt($u),Du=ee({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=Vt(Du),Ru=ee({},ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ou=Vt(Ru),_u=ee({},ao,{data:0}),Ol=Vt(_u),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hu[e])?!!t[e]:!1}function Hs(){return Wu}var Gu=ee({},Uo,{key:function(e){if(e.key){var t=Uu[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=Vt(Gu),Qu=ee({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Vt(Qu),Ku=ee({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),Yu=Vt(Ku),Ju=ee({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=Vt(Ju),qu=ee({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xu=Vt(qu),ep=[9,13,27,32],Ws=h&&"CompositionEvent"in window,Ho=null;h&&"documentMode"in document&&(Ho=document.documentMode);var tp=h&&"TextEvent"in window&&!Ho,Ul=h&&(!Ws||Ho&&8<Ho&&11>=Ho),Bl=" ",Hl=!1;function Wl(e,t){switch(e){case"keyup":return ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lo=!1;function np(e,t){switch(e){case"compositionend":return Gl(t);case"keypress":return t.which!==32?null:(Hl=!0,Bl);case"textInput":return e=t.data,e===Bl&&Hl?null:e;default:return null}}function rp(e,t){if(lo)return e==="compositionend"||!Ws&&Wl(e,t)?(e=Dl(),Ni=_o=kn=null,lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ul&&t.locale!=="ko"?null:t.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!op[e.type]:t==="textarea"}function Ql(e,t,r,o){Yr(o),t=Ii(t,"onChange"),0<t.length&&(r=new Os("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var Wo=null,Go=null;function ip(e){uc(e,0)}function zi(e){var t=mo(e);if(lt(t))return e}function sp(e,t){if(e==="change")return t}var Kl=!1;if(h){var Gs;if(h){var Vs="oninput"in document;if(!Vs){var Yl=document.createElement("div");Yl.setAttribute("oninput","return;"),Vs=typeof Yl.oninput=="function"}Gs=Vs}else Gs=!1;Kl=Gs&&(!document.documentMode||9<document.documentMode)}function Jl(){Wo&&(Wo.detachEvent("onpropertychange",Zl),Go=Wo=null)}function Zl(e){if(e.propertyName==="value"&&zi(Go)){var t=[];Ql(t,Go,e,nr(e)),Tn(ip,t)}}function ap(e,t,r){e==="focusin"?(Jl(),Wo=t,Go=r,Wo.attachEvent("onpropertychange",Zl)):e==="focusout"&&Jl()}function lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Go)}function cp(e,t){if(e==="click")return zi(t)}function dp(e,t){if(e==="input"||e==="change")return zi(t)}function up(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:up;function Vo(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var i=r[o];if(!b.call(t,i)||!un(e[i],t[i]))return!1}return!0}function ql(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xl(e,t){var r=ql(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ql(r)}}function ec(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ec(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tc(){for(var e=window,t=D();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(o){r=!1}if(r)e=t.contentWindow;else break;t=D(e.document)}return t}function Qs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pp(e){var t=tc(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ec(r.ownerDocument.documentElement,r)){if(o!==null&&Qs(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,l=Math.min(o.start,i);o=o.end===void 0?l:Math.min(o.end,i),!e.extend&&l>o&&(i=o,o=l,l=i),i=Xl(r,l);var p=Xl(r,o);i&&p&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>o?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fp=h&&"documentMode"in document&&11>=document.documentMode,co=null,Ks=null,Qo=null,Ys=!1;function nc(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ys||co==null||co!==D(o)||(o=co,"selectionStart"in o&&Qs(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Vo(Qo,o)||(Qo=o,o=Ii(Ks,"onSelect"),0<o.length&&(t=new Os("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=co)))}function Li(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var uo={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionend:Li("Transition","TransitionEnd")},Js={},rc={};h&&(rc=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Ti(e){if(Js[e])return Js[e];if(!uo[e])return e;var t=uo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rc)return Js[e]=t[r];return e}var oc=Ti("animationend"),ic=Ti("animationiteration"),sc=Ti("animationstart"),ac=Ti("transitionend"),lc=new Map,cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(e,t){lc.set(e,t),g(t,[e])}for(var Zs=0;Zs<cc.length;Zs++){var qs=cc[Zs],mp=qs.toLowerCase(),gp=qs[0].toUpperCase()+qs.slice(1);lr(mp,"on"+gp)}lr(oc,"onAnimationEnd"),lr(ic,"onAnimationIteration"),lr(sc,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(ac,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function dc(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,J(o,t,void 0,e),e.currentTarget=null}function uc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],i=o.event;o=o.listeners;e:{var l=void 0;if(t)for(var p=o.length-1;0<=p;p--){var v=o[p],C=v.instance,L=v.currentTarget;if(v=v.listener,C!==l&&i.isPropagationStopped())break e;dc(i,v,L),l=C}else for(p=0;p<o.length;p++){if(v=o[p],C=v.instance,L=v.currentTarget,v=v.listener,C!==l&&i.isPropagationStopped())break e;dc(i,v,L),l=C}}}if(Dn)throw e=Mn,Dn=!1,Mn=null,e}function et(e,t){var r=t[sa];r===void 0&&(r=t[sa]=new Set);var o=e+"__bubble";r.has(o)||(pc(t,e,2,!1),r.add(o))}function Xs(e,t,r){var o=0;t&&(o|=4),pc(r,e,o,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function Yo(e){if(!e[Pi]){e[Pi]=!0,d.forEach(function(r){r!=="selectionchange"&&(hp.has(r)||Xs(r,!1,e),Xs(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,Xs("selectionchange",!1,t))}}function pc(e,t,r,o){switch(ar(t)){case 1:var i=io;break;case 4:i=so;break;default:i=wn}r=i.bind(null,t,r,e),i=void 0,!vn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),o?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ea(e,t,r,o,i){var l=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===i||v.nodeType===8&&v.parentNode===i)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&(C=p.stateNode.containerInfo,C===i||C.nodeType===8&&C.parentNode===i))return;p=p.return}for(;v!==null;){if(p=Ir(v),p===null)return;if(C=p.tag,C===5||C===6){o=l=p;continue e}v=v.parentNode}}o=o.return}Tn(function(){var L=l,q=nr(r),ae=[];e:{var K=lc.get(e);if(K!==void 0){var ve=Os,je=e;switch(e){case"keypress":if(Ei(r)===0)break e;case"keydown":case"keyup":ve=Vu;break;case"focusin":je="focus",ve=Bs;break;case"focusout":je="blur",ve=Bs;break;case"beforeblur":case"afterblur":ve=Bs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Yu;break;case oc:case ic:case sc:ve=Mu;break;case ac:ve=Zu;break;case"scroll":ve=Tu;break;case"wheel":ve=Xu;break;case"copy":case"cut":case"paste":ve=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=_l}var Se=(t&4)!==0,mt=!Se&&e==="scroll",A=Se?K!==null?K+"Capture":null:K;Se=[];for(var N=L,F;N!==null;){F=N;var ue=F.stateNode;if(F.tag===5&&ue!==null&&(F=ue,A!==null&&(ue=Pn(N,A),ue!=null&&Se.push(Jo(N,ue,F)))),mt)break;N=N.return}0<Se.length&&(K=new ve(K,je,null,r,q),ae.push({event:K,listeners:Se}))}}if((t&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",ve=e==="mouseout"||e==="pointerout",K&&r!==tr&&(je=r.relatedTarget||r.fromElement)&&(Ir(je)||je[Un]))break e;if((ve||K)&&(K=q.window===q?q:(K=q.ownerDocument)?K.defaultView||K.parentWindow:window,ve?(je=r.relatedTarget||r.toElement,ve=L,je=je?Ir(je):null,je!==null&&(mt=P(je),je!==mt||je.tag!==5&&je.tag!==6)&&(je=null)):(ve=null,je=L),ve!==je)){if(Se=Rl,ue="onMouseLeave",A="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Se=_l,ue="onPointerLeave",A="onPointerEnter",N="pointer"),mt=ve==null?K:mo(ve),F=je==null?K:mo(je),K=new Se(ue,N+"leave",ve,r,q),K.target=mt,K.relatedTarget=F,ue=null,Ir(q)===L&&(Se=new Se(A,N+"enter",je,r,q),Se.target=F,Se.relatedTarget=mt,ue=Se),mt=ue,ve&&je)t:{for(Se=ve,A=je,N=0,F=Se;F;F=po(F))N++;for(F=0,ue=A;ue;ue=po(ue))F++;for(;0<N-F;)Se=po(Se),N--;for(;0<F-N;)A=po(A),F--;for(;N--;){if(Se===A||A!==null&&Se===A.alternate)break t;Se=po(Se),A=po(A)}Se=null}else Se=null;ve!==null&&fc(ae,K,ve,Se,!1),je!==null&&mt!==null&&fc(ae,mt,je,Se,!0)}}e:{if(K=L?mo(L):window,ve=K.nodeName&&K.nodeName.toLowerCase(),ve==="select"||ve==="input"&&K.type==="file")var Ne=sp;else if(Vl(K))if(Kl)Ne=dp;else{Ne=lp;var Te=ap}else(ve=K.nodeName)&&ve.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(Ne=cp);if(Ne&&(Ne=Ne(e,L))){Ql(ae,Ne,r,q);break e}Te&&Te(e,K,L),e==="focusout"&&(Te=K._wrapperState)&&Te.controlled&&K.type==="number"&&Re(K,"number",K.value)}switch(Te=L?mo(L):window,e){case"focusin":(Vl(Te)||Te.contentEditable==="true")&&(co=Te,Ks=L,Qo=null);break;case"focusout":Qo=Ks=co=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,nc(ae,r,q);break;case"selectionchange":if(fp)break;case"keydown":case"keyup":nc(ae,r,q)}var Pe;if(Ws)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else lo?Wl(e,r)&&(De="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(De="onCompositionStart");De&&(Ul&&r.locale!=="ko"&&(lo||De!=="onCompositionStart"?De==="onCompositionEnd"&&lo&&(Pe=Dl()):(kn=q,_o="value"in kn?kn.value:kn.textContent,lo=!0)),Te=Ii(L,De),0<Te.length&&(De=new Ol(De,e,null,r,q),ae.push({event:De,listeners:Te}),Pe?De.data=Pe:(Pe=Gl(r),Pe!==null&&(De.data=Pe)))),(Pe=tp?np(e,r):rp(e,r))&&(L=Ii(L,"onBeforeInput"),0<L.length&&(q=new Ol("onBeforeInput","beforeinput",null,r,q),ae.push({event:q,listeners:L}),q.data=Pe))}uc(ae,t)})}function Jo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ii(e,t){for(var r=t+"Capture",o=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Pn(e,r),l!=null&&o.unshift(Jo(e,l,i)),l=Pn(e,t),l!=null&&o.push(Jo(e,l,i))),e=e.return}return o}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fc(e,t,r,o,i){for(var l=t._reactName,p=[];r!==null&&r!==o;){var v=r,C=v.alternate,L=v.stateNode;if(C!==null&&C===o)break;v.tag===5&&L!==null&&(v=L,i?(C=Pn(r,l),C!=null&&p.unshift(Jo(r,C,v))):i||(C=Pn(r,l),C!=null&&p.push(Jo(r,C,v)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var xp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function mc(e){return(typeof e=="string"?e:""+e).replace(xp,`
`).replace(yp,"")}function $i(e,t,r){if(t=mc(t),mc(e)!==t&&r)throw Error(a(425))}function Di(){}var ta=null,na=null;function ra(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oa=typeof setTimeout=="function"?setTimeout:void 0,vp=typeof clearTimeout=="function"?clearTimeout:void 0,gc=typeof Promise=="function"?Promise:void 0,bp=typeof queueMicrotask=="function"?queueMicrotask:typeof gc!="undefined"?function(e){return gc.resolve(null).then(e).catch(wp)}:oa;function wp(e){setTimeout(function(){throw e})}function ia(e,t){var r=t,o=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(o===0){e.removeChild(i),it(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=i}while(r);it(t)}function cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Cn="__reactFiber$"+fo,Zo="__reactProps$"+fo,Un="__reactContainer$"+fo,sa="__reactEvents$"+fo,kp="__reactListeners$"+fo,Cp="__reactHandles$"+fo;function Ir(e){var t=e[Cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Un]||r[Cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hc(e);e!==null;){if(r=e[Cn])return r;e=hc(e)}return t}e=r,r=e.parentNode}return null}function qo(e){return e=e[Cn]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Mi(e){return e[Zo]||null}var aa=[],go=-1;function dr(e){return{current:e}}function tt(e){0>go||(e.current=aa[go],aa[go]=null,go--)}function Xe(e,t){go++,aa[go]=e.current,e.current=t}var ur={},St=dr(ur),Dt=dr(!1),$r=ur;function ho(e,t){var r=e.type.contextTypes;if(!r)return ur;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in r)i[l]=t[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(e){return e=e.childContextTypes,e!=null}function Ri(){tt(Dt),tt(St)}function xc(e,t,r){if(St.current!==ur)throw Error(a(168));Xe(St,t),Xe(Dt,r)}function yc(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var i in o)if(!(i in t))throw Error(a(108,Ee(e)||"Unknown",i));return ee({},r,o)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,$r=St.current,Xe(St,e),Xe(Dt,Dt.current),!0}function vc(e,t,r){var o=e.stateNode;if(!o)throw Error(a(169));r?(e=yc(e,t,$r),o.__reactInternalMemoizedMergedChildContext=e,tt(Dt),tt(St),Xe(St,e)):tt(Dt),Xe(Dt,r)}var Bn=null,_i=!1,la=!1;function bc(e){Bn===null?Bn=[e]:Bn.push(e)}function jp(e){_i=!0,bc(e)}function pr(){if(!la&&Bn!==null){la=!0;var e=0,t=Ke;try{var r=Bn;for(Ke=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Bn=null,_i=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(e+1)),zt($o,pr),i}finally{Ke=t,la=!1}}return null}var xo=[],yo=0,Ui=null,Bi=0,en=[],tn=0,Dr=null,Hn=1,Wn="";function Mr(e,t){xo[yo++]=Bi,xo[yo++]=Ui,Ui=e,Bi=t}function wc(e,t,r){en[tn++]=Hn,en[tn++]=Wn,en[tn++]=Dr,Dr=e;var o=Hn;e=Wn;var i=32-Ht(o)-1;o&=~(1<<i),r+=1;var l=32-Ht(t)+i;if(30<l){var p=i-i%5;l=(o&(1<<p)-1).toString(32),o>>=p,i-=p,Hn=1<<32-Ht(t)+i|r<<i|o,Wn=l+e}else Hn=1<<l|r<<i|o,Wn=e}function ca(e){e.return!==null&&(Mr(e,1),wc(e,1,0))}function da(e){for(;e===Ui;)Ui=xo[--yo],xo[yo]=null,Bi=xo[--yo],xo[yo]=null;for(;e===Dr;)Dr=en[--tn],en[tn]=null,Wn=en[--tn],en[tn]=null,Hn=en[--tn],en[tn]=null}var Qt=null,Kt=null,ot=!1,pn=null;function kc(e,t){var r=sn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Kt=cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Dr!==null?{id:Hn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=sn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Kt=null,!0):!1;default:return!1}}function ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pa(e){if(ot){var t=Kt;if(t){var r=t;if(!Cc(e,t)){if(ua(e))throw Error(a(418));t=cr(r.nextSibling);var o=Qt;t&&Cc(e,t)?kc(o,r):(e.flags=e.flags&-4097|2,ot=!1,Qt=e)}}else{if(ua(e))throw Error(a(418));e.flags=e.flags&-4097|2,ot=!1,Qt=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Hi(e){if(e!==Qt)return!1;if(!ot)return jc(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ra(e.type,e.memoizedProps)),t&&(t=Kt)){if(ua(e))throw Sc(),Error(a(418));for(;t;)kc(e,t),t=cr(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Kt=cr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Qt?cr(e.stateNode.nextSibling):null;return!0}function Sc(){for(var e=Kt;e;)e=cr(e.nextSibling)}function vo(){Kt=Qt=null,ot=!1}function fa(e){pn===null?pn=[e]:pn.push(e)}var Sp=pe.ReactCurrentBatchConfig;function Xo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(a(309));var o=r.stateNode}if(!o)throw Error(a(147,e));var i=o,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(p){var v=i.refs;p===null?delete v[l]:v[l]=p},t._stringRef=l,t)}if(typeof e!="string")throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Wi(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nc(e){var t=e._init;return t(e._payload)}function Ec(e){function t(A,N){if(e){var F=A.deletions;F===null?(A.deletions=[N],A.flags|=16):F.push(N)}}function r(A,N){if(!e)return null;for(;N!==null;)t(A,N),N=N.sibling;return null}function o(A,N){for(A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function i(A,N){return A=br(A,N),A.index=0,A.sibling=null,A}function l(A,N,F){return A.index=F,e?(F=A.alternate,F!==null?(F=F.index,F<N?(A.flags|=2,N):F):(A.flags|=2,N)):(A.flags|=1048576,N)}function p(A){return e&&A.alternate===null&&(A.flags|=2),A}function v(A,N,F,ue){return N===null||N.tag!==6?(N=ol(F,A.mode,ue),N.return=A,N):(N=i(N,F),N.return=A,N)}function C(A,N,F,ue){var Ne=F.type;return Ne===G?q(A,N,F.props.children,ue,F.key):N!==null&&(N.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===fe&&Nc(Ne)===N.type)?(ue=i(N,F.props),ue.ref=Xo(A,N,F),ue.return=A,ue):(ue=ms(F.type,F.key,F.props,null,A.mode,ue),ue.ref=Xo(A,N,F),ue.return=A,ue)}function L(A,N,F,ue){return N===null||N.tag!==4||N.stateNode.containerInfo!==F.containerInfo||N.stateNode.implementation!==F.implementation?(N=il(F,A.mode,ue),N.return=A,N):(N=i(N,F.children||[]),N.return=A,N)}function q(A,N,F,ue,Ne){return N===null||N.tag!==7?(N=Gr(F,A.mode,ue,Ne),N.return=A,N):(N=i(N,F),N.return=A,N)}function ae(A,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return N=ol(""+N,A.mode,F),N.return=A,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return F=ms(N.type,N.key,N.props,null,A.mode,F),F.ref=Xo(A,null,N),F.return=A,F;case ie:return N=il(N,A.mode,F),N.return=A,N;case fe:var ue=N._init;return ae(A,ue(N._payload),F)}if(Ze(N)||ce(N))return N=Gr(N,A.mode,F,null),N.return=A,N;Wi(A,N)}return null}function K(A,N,F,ue){var Ne=N!==null?N.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return Ne!==null?null:v(A,N,""+F,ue);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return F.key===Ne?C(A,N,F,ue):null;case ie:return F.key===Ne?L(A,N,F,ue):null;case fe:return Ne=F._init,K(A,N,Ne(F._payload),ue)}if(Ze(F)||ce(F))return Ne!==null?null:q(A,N,F,ue,null);Wi(A,F)}return null}function ve(A,N,F,ue,Ne){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return A=A.get(F)||null,v(N,A,""+ue,Ne);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return A=A.get(ue.key===null?F:ue.key)||null,C(N,A,ue,Ne);case ie:return A=A.get(ue.key===null?F:ue.key)||null,L(N,A,ue,Ne);case fe:var Te=ue._init;return ve(A,N,F,Te(ue._payload),Ne)}if(Ze(ue)||ce(ue))return A=A.get(F)||null,q(N,A,ue,Ne,null);Wi(N,ue)}return null}function je(A,N,F,ue){for(var Ne=null,Te=null,Pe=N,De=N=0,wt=null;Pe!==null&&De<F.length;De++){Pe.index>De?(wt=Pe,Pe=null):wt=Pe.sibling;var Je=K(A,Pe,F[De],ue);if(Je===null){Pe===null&&(Pe=wt);break}e&&Pe&&Je.alternate===null&&t(A,Pe),N=l(Je,N,De),Te===null?Ne=Je:Te.sibling=Je,Te=Je,Pe=wt}if(De===F.length)return r(A,Pe),ot&&Mr(A,De),Ne;if(Pe===null){for(;De<F.length;De++)Pe=ae(A,F[De],ue),Pe!==null&&(N=l(Pe,N,De),Te===null?Ne=Pe:Te.sibling=Pe,Te=Pe);return ot&&Mr(A,De),Ne}for(Pe=o(A,Pe);De<F.length;De++)wt=ve(Pe,A,De,F[De],ue),wt!==null&&(e&&wt.alternate!==null&&Pe.delete(wt.key===null?De:wt.key),N=l(wt,N,De),Te===null?Ne=wt:Te.sibling=wt,Te=wt);return e&&Pe.forEach(function(wr){return t(A,wr)}),ot&&Mr(A,De),Ne}function Se(A,N,F,ue){var Ne=ce(F);if(typeof Ne!="function")throw Error(a(150));if(F=Ne.call(F),F==null)throw Error(a(151));for(var Te=Ne=null,Pe=N,De=N=0,wt=null,Je=F.next();Pe!==null&&!Je.done;De++,Je=F.next()){Pe.index>De?(wt=Pe,Pe=null):wt=Pe.sibling;var wr=K(A,Pe,Je.value,ue);if(wr===null){Pe===null&&(Pe=wt);break}e&&Pe&&wr.alternate===null&&t(A,Pe),N=l(wr,N,De),Te===null?Ne=wr:Te.sibling=wr,Te=wr,Pe=wt}if(Je.done)return r(A,Pe),ot&&Mr(A,De),Ne;if(Pe===null){for(;!Je.done;De++,Je=F.next())Je=ae(A,Je.value,ue),Je!==null&&(N=l(Je,N,De),Te===null?Ne=Je:Te.sibling=Je,Te=Je);return ot&&Mr(A,De),Ne}for(Pe=o(A,Pe);!Je.done;De++,Je=F.next())Je=ve(Pe,A,De,Je.value,ue),Je!==null&&(e&&Je.alternate!==null&&Pe.delete(Je.key===null?De:Je.key),N=l(Je,N,De),Te===null?Ne=Je:Te.sibling=Je,Te=Je);return e&&Pe.forEach(function(of){return t(A,of)}),ot&&Mr(A,De),Ne}function mt(A,N,F,ue){if(typeof F=="object"&&F!==null&&F.type===G&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case _:e:{for(var Ne=F.key,Te=N;Te!==null;){if(Te.key===Ne){if(Ne=F.type,Ne===G){if(Te.tag===7){r(A,Te.sibling),N=i(Te,F.props.children),N.return=A,A=N;break e}}else if(Te.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===fe&&Nc(Ne)===Te.type){r(A,Te.sibling),N=i(Te,F.props),N.ref=Xo(A,Te,F),N.return=A,A=N;break e}r(A,Te);break}else t(A,Te);Te=Te.sibling}F.type===G?(N=Gr(F.props.children,A.mode,ue,F.key),N.return=A,A=N):(ue=ms(F.type,F.key,F.props,null,A.mode,ue),ue.ref=Xo(A,N,F),ue.return=A,A=ue)}return p(A);case ie:e:{for(Te=F.key;N!==null;){if(N.key===Te)if(N.tag===4&&N.stateNode.containerInfo===F.containerInfo&&N.stateNode.implementation===F.implementation){r(A,N.sibling),N=i(N,F.children||[]),N.return=A,A=N;break e}else{r(A,N);break}else t(A,N);N=N.sibling}N=il(F,A.mode,ue),N.return=A,A=N}return p(A);case fe:return Te=F._init,mt(A,N,Te(F._payload),ue)}if(Ze(F))return je(A,N,F,ue);if(ce(F))return Se(A,N,F,ue);Wi(A,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,N!==null&&N.tag===6?(r(A,N.sibling),N=i(N,F),N.return=A,A=N):(r(A,N),N=ol(F,A.mode,ue),N.return=A,A=N),p(A)):r(A,N)}return mt}var bo=Ec(!0),Ac=Ec(!1),Gi=dr(null),Vi=null,wo=null,ma=null;function ga(){ma=wo=Vi=null}function ha(e){var t=Gi.current;tt(Gi),e._currentValue=t}function xa(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function ko(e,t){Vi=e,ma=wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Rt=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},wo===null){if(Vi===null)throw Error(a(308));wo=e,Vi.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Rr=null;function ya(e){Rr===null?Rr=[e]:Rr.push(e)}function Fc(e,t,r,o){var i=t.interleaved;return i===null?(r.next=r,ya(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gn(e,o)}function Gn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fr=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var i=o.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),o.pending=t,Gn(e,r)}return i=o.interleaved,i===null?(t.next=t,ya(o)):(t.next=i.next,i.next=t),o.interleaved=t,Gn(e,r)}function Qi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Rn(e,r)}}function Lc(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var i=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?i=l=p:l=l.next=p,r=r.next}while(r!==null);l===null?i=l=t:l=l.next=t}else i=l=t;r={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ki(e,t,r,o){var i=e.updateQueue;fr=!1;var l=i.firstBaseUpdate,p=i.lastBaseUpdate,v=i.shared.pending;if(v!==null){i.shared.pending=null;var C=v,L=C.next;C.next=null,p===null?l=L:p.next=L,p=C;var q=e.alternate;q!==null&&(q=q.updateQueue,v=q.lastBaseUpdate,v!==p&&(v===null?q.firstBaseUpdate=L:v.next=L,q.lastBaseUpdate=C))}if(l!==null){var ae=i.baseState;p=0,q=L=C=null,v=l;do{var K=v.lane,ve=v.eventTime;if((o&K)===K){q!==null&&(q=q.next={eventTime:ve,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var je=e,Se=v;switch(K=t,ve=r,Se.tag){case 1:if(je=Se.payload,typeof je=="function"){ae=je.call(ve,ae,K);break e}ae=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Se.payload,K=typeof je=="function"?je.call(ve,ae,K):je,K==null)break e;ae=ee({},ae,K);break e;case 2:fr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,K=i.effects,K===null?i.effects=[v]:K.push(v))}else ve={eventTime:ve,lane:K,tag:v.tag,payload:v.payload,callback:v.callback,next:null},q===null?(L=q=ve,C=ae):q=q.next=ve,p|=K;if(v=v.next,v===null){if(v=i.shared.pending,v===null)break;K=v,v=K.next,K.next=null,i.lastBaseUpdate=K,i.shared.pending=null}}while(!0);if(q===null&&(C=ae),i.baseState=C,i.firstBaseUpdate=L,i.lastBaseUpdate=q,t=i.shared.interleaved,t!==null){i=t;do p|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);Ur|=p,e.lanes=p,e.memoizedState=ae}}function Tc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(i!==null){if(o.callback=null,o=r,typeof i!="function")throw Error(a(191,i));i.call(o)}}}var ei={},jn=dr(ei),ti=dr(ei),ni=dr(ei);function Or(e){if(e===ei)throw Error(a(174));return e}function ba(e,t){switch(Xe(ni,t),Xe(ti,e),Xe(jn,ei),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xn(t,e)}tt(jn),Xe(jn,t)}function Co(){tt(jn),tt(ti),tt(ni)}function Pc(e){Or(ni.current);var t=Or(jn.current),r=Xn(t,e.type);t!==r&&(Xe(ti,e),Xe(jn,r))}function wa(e){ti.current===e&&(tt(jn),tt(ti))}var st=dr(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=[];function Ca(){for(var e=0;e<ka.length;e++)ka[e]._workInProgressVersionPrimary=null;ka.length=0}var Ji=pe.ReactCurrentDispatcher,ja=pe.ReactCurrentBatchConfig,_r=0,at=null,xt=null,vt=null,Zi=!1,ri=!1,oi=0,Np=0;function Nt(){throw Error(a(321))}function Sa(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!un(e[r],t[r]))return!1;return!0}function Na(e,t,r,o,i,l){if(_r=l,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ji.current=e===null||e.memoizedState===null?zp:Lp,e=r(o,i),ri){l=0;do{if(ri=!1,oi=0,25<=l)throw Error(a(301));l+=1,vt=xt=null,t.updateQueue=null,Ji.current=Tp,e=r(o,i)}while(ri)}if(Ji.current=es,t=xt!==null&&xt.next!==null,_r=0,vt=xt=at=null,Zi=!1,t)throw Error(a(300));return e}function Ea(){var e=oi!==0;return oi=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?at.memoizedState=vt=e:vt=vt.next=e,vt}function rn(){if(xt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=vt===null?at.memoizedState:vt.next;if(t!==null)vt=t,xt=e;else{if(e===null)throw Error(a(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},vt===null?at.memoizedState=vt=e:vt=vt.next=e}return vt}function ii(e,t){return typeof t=="function"?t(e):t}function Aa(e){var t=rn(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=xt,i=o.baseQueue,l=r.pending;if(l!==null){if(i!==null){var p=i.next;i.next=l.next,l.next=p}o.baseQueue=i=l,r.pending=null}if(i!==null){l=i.next,o=o.baseState;var v=p=null,C=null,L=l;do{var q=L.lane;if((_r&q)===q)C!==null&&(C=C.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),o=L.hasEagerState?L.eagerState:e(o,L.action);else{var ae={lane:q,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};C===null?(v=C=ae,p=o):C=C.next=ae,at.lanes|=q,Ur|=q}L=L.next}while(L!==null&&L!==l);C===null?p=o:C.next=v,un(o,t.memoizedState)||(Rt=!0),t.memoizedState=o,t.baseState=p,t.baseQueue=C,r.lastRenderedState=o}if(e=r.interleaved,e!==null){i=e;do l=i.lane,at.lanes|=l,Ur|=l,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fa(e){var t=rn(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,i=r.pending,l=t.memoizedState;if(i!==null){r.pending=null;var p=i=i.next;do l=e(l,p.action),p=p.next;while(p!==i);un(l,t.memoizedState)||(Rt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,o]}function Ic(){}function $c(e,t){var r=at,o=rn(),i=t(),l=!un(o.memoizedState,i);if(l&&(o.memoizedState=i,Rt=!0),o=o.queue,za(Rc.bind(null,r,o,e),[e]),o.getSnapshot!==t||l||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,si(9,Mc.bind(null,r,o,i,t),void 0,null),bt===null)throw Error(a(349));(_r&30)!==0||Dc(r,t,i)}return i}function Dc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mc(e,t,r,o){t.value=r,t.getSnapshot=o,Oc(t)&&_c(e)}function Rc(e,t,r){return r(function(){Oc(t)&&_c(e)})}function Oc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!un(e,r)}catch(o){return!0}}function _c(e){var t=Gn(e,1);t!==null&&hn(t,e,1,-1)}function Uc(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},t.queue=e,e=e.dispatch=Fp.bind(null,at,e),[t.memoizedState,e]}function si(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function Bc(){return rn().memoizedState}function qi(e,t,r,o){var i=Sn();at.flags|=e,i.memoizedState=si(1|t,r,void 0,o===void 0?null:o)}function Xi(e,t,r,o){var i=rn();o=o===void 0?null:o;var l=void 0;if(xt!==null){var p=xt.memoizedState;if(l=p.destroy,o!==null&&Sa(o,p.deps)){i.memoizedState=si(t,r,l,o);return}}at.flags|=e,i.memoizedState=si(1|t,r,l,o)}function Hc(e,t){return qi(8390656,8,e,t)}function za(e,t){return Xi(2048,8,e,t)}function Wc(e,t){return Xi(4,2,e,t)}function Gc(e,t){return Xi(4,4,e,t)}function Vc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qc(e,t,r){return r=r!=null?r.concat([e]):null,Xi(4,4,Vc.bind(null,t,e),r)}function La(){}function Kc(e,t){var r=rn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Sa(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function Yc(e,t){var r=rn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Sa(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function Jc(e,t,r){return(_r&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=r):(un(r,t)||(r=Do(),at.lanes|=r,Ur|=r,e.baseState=!0),t)}function Ep(e,t){var r=Ke;Ke=r!==0&&4>r?r:4,e(!0);var o=ja.transition;ja.transition={};try{e(!1),t()}finally{Ke=r,ja.transition=o}}function Zc(){return rn().memoizedState}function Ap(e,t,r){var o=yr(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},qc(e))Xc(t,r);else if(r=Fc(e,t,r,o),r!==null){var i=Tt();hn(r,e,o,i),ed(r,t,o)}}function Fp(e,t,r){var o=yr(e),i={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(qc(e))Xc(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var p=t.lastRenderedState,v=l(p,r);if(i.hasEagerState=!0,i.eagerState=v,un(v,p)){var C=t.interleaved;C===null?(i.next=i,ya(t)):(i.next=C.next,C.next=i),t.interleaved=i;return}}catch(L){}finally{}r=Fc(e,t,i,o),r!==null&&(i=Tt(),hn(r,e,o,i),ed(r,t,o))}}function qc(e){var t=e.alternate;return e===at||t!==null&&t===at}function Xc(e,t){ri=Zi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ed(e,t,r){if((r&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Rn(e,r)}}var es={readContext:nn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},zp={readContext:nn,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:Hc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qi(4194308,4,Vc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qi(4194308,4,e,t)},useInsertionEffect:function(e,t){return qi(4,2,e,t)},useMemo:function(e,t){var r=Sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=Sn();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Ap.bind(null,at,e),[o.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:Uc,useDebugValue:La,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=Uc(!1),t=e[0];return e=Ep.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=at,i=Sn();if(ot){if(r===void 0)throw Error(a(407));r=r()}else{if(r=t(),bt===null)throw Error(a(349));(_r&30)!==0||Dc(o,t,r)}i.memoizedState=r;var l={value:r,getSnapshot:t};return i.queue=l,Hc(Rc.bind(null,o,l,e),[e]),o.flags|=2048,si(9,Mc.bind(null,o,l,r,t),void 0,null),r},useId:function(){var e=Sn(),t=bt.identifierPrefix;if(ot){var r=Wn,o=Hn;r=(o&~(1<<32-Ht(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=oi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Np++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lp={readContext:nn,useCallback:Kc,useContext:nn,useEffect:za,useImperativeHandle:Qc,useInsertionEffect:Wc,useLayoutEffect:Gc,useMemo:Yc,useReducer:Aa,useRef:Bc,useState:function(){return Aa(ii)},useDebugValue:La,useDeferredValue:function(e){var t=rn();return Jc(t,xt.memoizedState,e)},useTransition:function(){var e=Aa(ii)[0],t=rn().memoizedState;return[e,t]},useMutableSource:Ic,useSyncExternalStore:$c,useId:Zc,unstable_isNewReconciler:!1},Tp={readContext:nn,useCallback:Kc,useContext:nn,useEffect:za,useImperativeHandle:Qc,useInsertionEffect:Wc,useLayoutEffect:Gc,useMemo:Yc,useReducer:Fa,useRef:Bc,useState:function(){return Fa(ii)},useDebugValue:La,useDeferredValue:function(e){var t=rn();return xt===null?t.memoizedState=e:Jc(t,xt.memoizedState,e)},useTransition:function(){var e=Fa(ii)[0],t=rn().memoizedState;return[e,t]},useMutableSource:Ic,useSyncExternalStore:$c,useId:Zc,unstable_isNewReconciler:!1};function fn(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ta(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ts={isMounted:function(e){return(e=e._reactInternals)?P(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=Tt(),i=yr(e),l=Vn(o,i);l.payload=t,r!=null&&(l.callback=r),t=mr(e,l,i),t!==null&&(hn(t,e,i,o),Qi(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=Tt(),i=yr(e),l=Vn(o,i);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=mr(e,l,i),t!==null&&(hn(t,e,i,o),Qi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tt(),o=yr(e),i=Vn(r,o);i.tag=2,t!=null&&(i.callback=t),t=mr(e,i,o),t!==null&&(hn(t,e,o,r),Qi(t,e,o))}};function td(e,t,r,o,i,l,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,p):t.prototype&&t.prototype.isPureReactComponent?!Vo(r,o)||!Vo(i,l):!0}function nd(e,t,r){var o=!1,i=ur,l=t.contextType;return typeof l=="object"&&l!==null?l=nn(l):(i=Mt(t)?$r:St.current,o=t.contextTypes,l=(o=o!=null)?ho(e,i):ur),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ts,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function rd(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&ts.enqueueReplaceState(t,t.state,null)}function Pa(e,t,r,o){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},va(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=nn(l):(l=Mt(t)?$r:St.current,i.context=ho(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ta(e,t,l,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ts.enqueueReplaceState(i,i.state,null),Ki(e,r,i,o),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jo(e,t){try{var r="",o=t;do r+=R(o),o=o.return;while(o);var i=r}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function Ia(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function $a(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Pp=typeof WeakMap=="function"?WeakMap:Map;function od(e,t,r){r=Vn(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){ls||(ls=!0,Ja=o),$a(e,t)},r}function id(e,t,r){r=Vn(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var i=t.value;r.payload=function(){return o(i)},r.callback=function(){$a(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){$a(e,t),typeof o!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function sd(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Pp;var i=new Set;o.set(t,i)}else i=o.get(t),i===void 0&&(i=new Set,o.set(t,i));i.has(r)||(i.add(r),e=Qp.bind(null,e,t,r),t.then(e,e))}function ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ld(e,t,r,o,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vn(-1,1),t.tag=2,mr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Ip=pe.ReactCurrentOwner,Rt=!1;function Lt(e,t,r,o){t.child=e===null?Ac(t,null,r,o):bo(t,e.child,r,o)}function cd(e,t,r,o,i){r=r.render;var l=t.ref;return ko(t,i),o=Na(e,t,r,o,l,i),r=Ea(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qn(e,t,i)):(ot&&r&&ca(t),t.flags|=1,Lt(e,t,o,i),t.child)}function dd(e,t,r,o,i){if(e===null){var l=r.type;return typeof l=="function"&&!rl(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,ud(e,t,l,o,i)):(e=ms(r.type,null,o,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,(e.lanes&i)===0){var p=l.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(p,o)&&e.ref===t.ref)return Qn(e,t,i)}return t.flags|=1,e=br(l,o),e.ref=t.ref,e.return=t,t.child=e}function ud(e,t,r,o,i){if(e!==null){var l=e.memoizedProps;if(Vo(l,o)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=o=l,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Rt=!0);else return t.lanes=e.lanes,Qn(e,t,i)}return Da(e,t,r,o,i)}function pd(e,t,r){var o=t.pendingProps,i=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(No,Yt),Yt|=r;else{if((r&1073741824)===0)return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(No,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:r,Xe(No,Yt),Yt|=o}else l!==null?(o=l.baseLanes|r,t.memoizedState=null):o=r,Xe(No,Yt),Yt|=o;return Lt(e,t,i,r),t.child}function fd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Da(e,t,r,o,i){var l=Mt(r)?$r:St.current;return l=ho(t,l),ko(t,i),r=Na(e,t,r,o,l,i),o=Ea(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qn(e,t,i)):(ot&&o&&ca(t),t.flags|=1,Lt(e,t,r,i),t.child)}function md(e,t,r,o,i){if(Mt(r)){var l=!0;Oi(t)}else l=!1;if(ko(t,i),t.stateNode===null)rs(e,t),nd(t,r,o),Pa(t,r,o,i),o=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var C=p.context,L=r.contextType;typeof L=="object"&&L!==null?L=nn(L):(L=Mt(r)?$r:St.current,L=ho(t,L));var q=r.getDerivedStateFromProps,ae=typeof q=="function"||typeof p.getSnapshotBeforeUpdate=="function";ae||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==o||C!==L)&&rd(t,p,o,L),fr=!1;var K=t.memoizedState;p.state=K,Ki(t,o,p,i),C=t.memoizedState,v!==o||K!==C||Dt.current||fr?(typeof q=="function"&&(Ta(t,r,q,o),C=t.memoizedState),(v=fr||td(t,r,v,o,K,C,L))?(ae||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=C),p.props=o,p.state=C,p.context=L,o=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,zc(e,t),v=t.memoizedProps,L=t.type===t.elementType?v:fn(t.type,v),p.props=L,ae=t.pendingProps,K=p.context,C=r.contextType,typeof C=="object"&&C!==null?C=nn(C):(C=Mt(r)?$r:St.current,C=ho(t,C));var ve=r.getDerivedStateFromProps;(q=typeof ve=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==ae||K!==C)&&rd(t,p,o,C),fr=!1,K=t.memoizedState,p.state=K,Ki(t,o,p,i);var je=t.memoizedState;v!==ae||K!==je||Dt.current||fr?(typeof ve=="function"&&(Ta(t,r,ve,o),je=t.memoizedState),(L=fr||td(t,r,L,o,K,je,C)||!1)?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,je,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,je,C)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=je),p.props=o,p.state=je,p.context=C,o=L):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),o=!1)}return Ma(e,t,r,o,l,i)}function Ma(e,t,r,o,i,l){fd(e,t);var p=(t.flags&128)!==0;if(!o&&!p)return i&&vc(t,r,!1),Qn(e,t,l);o=t.stateNode,Ip.current=t;var v=p&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&p?(t.child=bo(t,e.child,null,l),t.child=bo(t,null,v,l)):Lt(e,t,v,l),t.memoizedState=o.state,i&&vc(t,r,!0),t.child}function gd(e){var t=e.stateNode;t.pendingContext?xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xc(e,t.context,!1),ba(e,t.containerInfo)}function hd(e,t,r,o,i){return vo(),fa(i),t.flags|=256,Lt(e,t,r,o),t.child}var Ra={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function xd(e,t,r){var o=t.pendingProps,i=st.current,l=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(i&2)!==0),v?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xe(st,i&1),e===null)return pa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=o.children,e=o.fallback,l?(o=t.mode,l=t.child,p={mode:"hidden",children:p},(o&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=p):l=gs(p,o,0,null),e=Gr(e,o,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Oa(r),t.memoizedState=Ra,e):_a(t,p));if(i=e.memoizedState,i!==null&&(v=i.dehydrated,v!==null))return $p(e,t,p,o,v,i,r);if(l){l=o.fallback,p=t.mode,i=e.child,v=i.sibling;var C={mode:"hidden",children:o.children};return(p&1)===0&&t.child!==i?(o=t.child,o.childLanes=0,o.pendingProps=C,t.deletions=null):(o=br(i,C),o.subtreeFlags=i.subtreeFlags&14680064),v!==null?l=br(v,l):(l=Gr(l,p,r,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,p=e.child.memoizedState,p=p===null?Oa(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},l.memoizedState=p,l.childLanes=e.childLanes&~r,t.memoizedState=Ra,o}return l=e.child,e=l.sibling,o=br(l,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function _a(e,t){return t=gs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ns(e,t,r,o){return o!==null&&fa(o),bo(t,e.child,null,r),e=_a(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $p(e,t,r,o,i,l,p){if(r)return t.flags&256?(t.flags&=-257,o=Ia(Error(a(422))),ns(e,t,p,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=o.fallback,i=t.mode,o=gs({mode:"visible",children:o.children},i,0,null),l=Gr(l,i,p,null),l.flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,(t.mode&1)!==0&&bo(t,e.child,null,p),t.child.memoizedState=Oa(p),t.memoizedState=Ra,l);if((t.mode&1)===0)return ns(e,t,p,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var v=o.dgst;return o=v,l=Error(a(419)),o=Ia(l,o,void 0),ns(e,t,p,o)}if(v=(p&e.childLanes)!==0,Rt||v){if(o=bt,o!==null){switch(p&-p){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(o.suspendedLanes|p))!==0?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,Gn(e,i),hn(o,e,i,-1))}return nl(),o=Ia(Error(a(421))),ns(e,t,p,o)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Kp.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,Kt=cr(i.nextSibling),Qt=t,ot=!0,pn=null,e!==null&&(en[tn++]=Hn,en[tn++]=Wn,en[tn++]=Dr,Hn=e.id,Wn=e.overflow,Dr=t),t=_a(t,o.children),t.flags|=4096,t)}function yd(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),xa(e.return,t,r)}function Ua(e,t,r,o,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=r,l.tailMode=i)}function vd(e,t,r){var o=t.pendingProps,i=o.revealOrder,l=o.tail;if(Lt(e,t,o.children,r),o=st.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,r,t);else if(e.tag===19)yd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Xe(st,o),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Yi(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ua(t,!1,i,r,l);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Yi(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ua(t,!0,r,null,l);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ur|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,r=br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Dp(e,t,r){switch(t.tag){case 3:gd(t),vo();break;case 5:Pc(t);break;case 1:Mt(t.type)&&Oi(t);break;case 4:ba(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;Xe(Gi,o._currentValue),o._currentValue=i;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Xe(st,st.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?xd(e,t,r):(Xe(st,st.current&1),e=Qn(e,t,r),e!==null?e.sibling:null);Xe(st,st.current&1);break;case 19:if(o=(r&t.childLanes)!==0,(e.flags&128)!==0){if(o)return vd(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(st,st.current),o)break;return null;case 22:case 23:return t.lanes=0,pd(e,t,r)}return Qn(e,t,r)}var bd,Ba,wd,kd;bd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ba=function(){},wd=function(e,t,r,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,Or(jn.current);var l=null;switch(r){case"input":i=ye(e,i),o=ye(e,o),l=[];break;case"select":i=ee({},i,{value:void 0}),o=ee({},o,{value:void 0}),l=[];break;case"textarea":i=Qe(e,i),o=Qe(e,o),l=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Di)}It(r,o);var p;r=null;for(L in i)if(!o.hasOwnProperty(L)&&i.hasOwnProperty(L)&&i[L]!=null)if(L==="style"){var v=i[L];for(p in v)v.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(u.hasOwnProperty(L)?l||(l=[]):(l=l||[]).push(L,null));for(L in o){var C=o[L];if(v=i!=null?i[L]:void 0,o.hasOwnProperty(L)&&C!==v&&(C!=null||v!=null))if(L==="style")if(v){for(p in v)!v.hasOwnProperty(p)||C&&C.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in C)C.hasOwnProperty(p)&&v[p]!==C[p]&&(r||(r={}),r[p]=C[p])}else r||(l||(l=[]),l.push(L,r)),r=C;else L==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,v=v?v.__html:void 0,C!=null&&v!==C&&(l=l||[]).push(L,C)):L==="children"?typeof C!="string"&&typeof C!="number"||(l=l||[]).push(L,""+C):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(u.hasOwnProperty(L)?(C!=null&&L==="onScroll"&&et("scroll",e),l||v===C||(l=[])):(l=l||[]).push(L,C))}r&&(l=l||[]).push("style",r);var L=l;(t.updateQueue=L)&&(t.flags|=4)}},kd=function(e,t,r,o){r!==o&&(t.flags|=4)};function ai(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function Mp(e,t,r){var o=t.pendingProps;switch(da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Mt(t.type)&&Ri(),Et(t),null;case 3:return o=t.stateNode,Co(),tt(Dt),tt(St),Ca(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Hi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pn!==null&&(Xa(pn),pn=null))),Ba(e,t),Et(t),null;case 5:wa(t);var i=Or(ni.current);if(r=t.type,e!==null&&t.stateNode!=null)wd(e,t,r,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(a(166));return Et(t),null}if(e=Or(jn.current),Hi(t)){o=t.stateNode,r=t.type;var l=t.memoizedProps;switch(o[Cn]=t,o[Zo]=l,e=(t.mode&1)!==0,r){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(i=0;i<Ko.length;i++)et(Ko[i],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":Y(o,l),et("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},et("invalid",o);break;case"textarea":ct(o,l),et("invalid",o)}It(r,l),i=null;for(var p in l)if(l.hasOwnProperty(p)){var v=l[p];p==="children"?typeof v=="string"?o.textContent!==v&&(l.suppressHydrationWarning!==!0&&$i(o.textContent,v,e),i=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(l.suppressHydrationWarning!==!0&&$i(o.textContent,v,e),i=["children",""+v]):u.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&et("scroll",o)}switch(r){case"input":Ve(o),Ae(o,l,!0);break;case"textarea":Ve(o),Cr(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=Di)}o=i,t.updateQueue=o,o!==null&&(t.flags|=4)}else{p=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jr(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(r,{is:o.is}):(e=p.createElement(r),r==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,r),e[Cn]=t,e[Zo]=o,bd(e,t,!1,!1),t.stateNode=e;e:{switch(p=an(r,o),r){case"dialog":et("cancel",e),et("close",e),i=o;break;case"iframe":case"object":case"embed":et("load",e),i=o;break;case"video":case"audio":for(i=0;i<Ko.length;i++)et(Ko[i],e);i=o;break;case"source":et("error",e),i=o;break;case"img":case"image":case"link":et("error",e),et("load",e),i=o;break;case"details":et("toggle",e),i=o;break;case"input":Y(e,o),i=ye(e,o),et("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=ee({},o,{value:void 0}),et("invalid",e);break;case"textarea":ct(e,o),i=Qe(e,o),et("invalid",e);break;default:i=o}It(r,i),v=i;for(l in v)if(v.hasOwnProperty(l)){var C=v[l];l==="style"?Kr(e,C):l==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&xn(e,C)):l==="children"?typeof C=="string"?(r!=="textarea"||C!=="")&&zn(e,C):typeof C=="number"&&zn(e,""+C):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(u.hasOwnProperty(l)?C!=null&&l==="onScroll"&&et("scroll",e):C!=null&&he(e,l,C,p))}switch(r){case"input":Ve(e),Ae(e,o,!1);break;case"textarea":Ve(e),Cr(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Ce(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?nt(e,!!o.multiple,l,!1):o.defaultValue!=null&&nt(e,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Di)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)kd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(a(166));if(r=Or(ni.current),Or(jn.current),Hi(t)){if(o=t.stateNode,r=t.memoizedProps,o[Cn]=t,(l=o.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:$i(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$i(o.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Cn]=t,t.stateNode=o}return Et(t),null;case 13:if(tt(st),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Sc(),vo(),t.flags|=98560,l=!1;else if(l=Hi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(a(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));l[Cn]=t}else vo(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),l=!1}else pn!==null&&(Xa(pn),pn=null),l=!0;if(!l)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(st.current&1)!==0?yt===0&&(yt=3):nl())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return Co(),Ba(e,t),e===null&&Yo(t.stateNode.containerInfo),Et(t),null;case 10:return ha(t.type._context),Et(t),null;case 17:return Mt(t.type)&&Ri(),Et(t),null;case 19:if(tt(st),l=t.memoizedState,l===null)return Et(t),null;if(o=(t.flags&128)!==0,p=l.rendering,p===null)if(o)ai(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Yi(e),p!==null){for(t.flags|=128,ai(l,!1),o=p.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)l=r,e=o,l.flags&=14680066,p=l.alternate,p===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,e=p.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xe(st,st.current&1|2),t.child}e=e.sibling}l.tail!==null&&rt()>Eo&&(t.flags|=128,o=!0,ai(l,!1),t.lanes=4194304)}else{if(!o)if(e=Yi(p),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ai(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!ot)return Et(t),null}else 2*rt()-l.renderingStartTime>Eo&&r!==1073741824&&(t.flags|=128,o=!0,ai(l,!1),t.lanes=4194304);l.isBackwards?(p.sibling=t.child,t.child=p):(r=l.last,r!==null?r.sibling=p:t.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rt(),t.sibling=null,r=st.current,Xe(st,o?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return tl(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Yt&1073741824)!==0&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Rp(e,t){switch(da(t),t.tag){case 1:return Mt(t.type)&&Ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Co(),tt(Dt),tt(St),Ca(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return wa(t),null;case 13:if(tt(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(st),null;case 4:return Co(),null;case 10:return ha(t.type._context),null;case 22:case 23:return tl(),null;case 24:return null;default:return null}}var os=!1,At=!1,Op=typeof WeakSet=="function"?WeakSet:Set,ke=null;function So(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){pt(e,t,o)}else r.current=null}function Ha(e,t,r){try{r()}catch(o){pt(e,t,o)}}var Cd=!1;function _p(e,t){if(ta=Gt,e=tc(),Qs(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var i=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{r.nodeType,l.nodeType}catch(ue){r=null;break e}var p=0,v=-1,C=-1,L=0,q=0,ae=e,K=null;t:for(;;){for(var ve;ae!==r||i!==0&&ae.nodeType!==3||(v=p+i),ae!==l||o!==0&&ae.nodeType!==3||(C=p+o),ae.nodeType===3&&(p+=ae.nodeValue.length),(ve=ae.firstChild)!==null;)K=ae,ae=ve;for(;;){if(ae===e)break t;if(K===r&&++L===i&&(v=p),K===l&&++q===o&&(C=p),(ve=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=ve}r=v===-1||C===-1?null:{start:v,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(na={focusedElem:e,selectionRange:r},Gt=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var je=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Se=je.memoizedProps,mt=je.memoizedState,A=t.stateNode,N=A.getSnapshotBeforeUpdate(t.elementType===t.type?Se:fn(t.type,Se),mt);A.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ue){pt(t,t.return,ue)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return je=Cd,Cd=!1,je}function li(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Ha(t,r,l)}i=i.next}while(i!==o)}}function is(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function Wa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jd(e){var t=e.alternate;t!==null&&(e.alternate=null,jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[Zo],delete t[sa],delete t[kp],delete t[Cp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sd(e){return e.tag===5||e.tag===3||e.tag===4}function Nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ga(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Di));else if(o!==4&&(e=e.child,e!==null))for(Ga(e,t,r),e=e.sibling;e!==null;)Ga(e,t,r),e=e.sibling}function Va(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Va(e,t,r),e=e.sibling;e!==null;)Va(e,t,r),e=e.sibling}var Ct=null,mn=!1;function gr(e,t,r){for(r=r.child;r!==null;)Ed(e,t,r),r=r.sibling}function Ed(e,t,r){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(qr,r)}catch(v){}switch(r.tag){case 5:At||So(r,t);case 6:var o=Ct,i=mn;Ct=null,gr(e,t,r),Ct=o,mn=i,Ct!==null&&(mn?(e=Ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(mn?(e=Ct,r=r.stateNode,e.nodeType===8?ia(e.parentNode,r):e.nodeType===1&&ia(e,r),it(e)):ia(Ct,r.stateNode));break;case 4:o=Ct,i=mn,Ct=r.stateNode.containerInfo,mn=!0,gr(e,t,r),Ct=o,mn=i;break;case 0:case 11:case 14:case 15:if(!At&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var l=i,p=l.destroy;l=l.tag,p!==void 0&&((l&2)!==0||(l&4)!==0)&&Ha(r,t,p),i=i.next}while(i!==o)}gr(e,t,r);break;case 1:if(!At&&(So(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(v){pt(r,t,v)}gr(e,t,r);break;case 21:gr(e,t,r);break;case 22:r.mode&1?(At=(o=At)||r.memoizedState!==null,gr(e,t,r),At=o):gr(e,t,r);break;default:gr(e,t,r)}}function Ad(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Op),t.forEach(function(o){var i=Yp.bind(null,e,o);r.has(o)||(r.add(o),o.then(i,i))})}}function gn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var i=r[o];try{var l=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:Ct=v.stateNode,mn=!1;break e;case 3:Ct=v.stateNode.containerInfo,mn=!0;break e;case 4:Ct=v.stateNode.containerInfo,mn=!0;break e}v=v.return}if(Ct===null)throw Error(a(160));Ed(l,p,i),Ct=null,mn=!1;var C=i.alternate;C!==null&&(C.return=null),i.return=null}catch(L){pt(i,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fd(t,e),t=t.sibling}function Fd(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),Nn(e),o&4){try{li(3,e,e.return),is(3,e)}catch(Se){pt(e,e.return,Se)}try{li(5,e,e.return)}catch(Se){pt(e,e.return,Se)}}break;case 1:gn(t,e),Nn(e),o&512&&r!==null&&So(r,r.return);break;case 5:if(gn(t,e),Nn(e),o&512&&r!==null&&So(r,r.return),e.flags&32){var i=e.stateNode;try{zn(i,"")}catch(Se){pt(e,e.return,Se)}}if(o&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,p=r!==null?r.memoizedProps:l,v=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{v==="input"&&l.type==="radio"&&l.name!=null&&$(i,l),an(v,p);var L=an(v,l);for(p=0;p<C.length;p+=2){var q=C[p],ae=C[p+1];q==="style"?Kr(i,ae):q==="dangerouslySetInnerHTML"?xn(i,ae):q==="children"?zn(i,ae):he(i,q,ae,L)}switch(v){case"input":oe(i,l);break;case"textarea":Fn(i,l);break;case"select":var K=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var ve=l.value;ve!=null?nt(i,!!l.multiple,ve,!1):K!==!!l.multiple&&(l.defaultValue!=null?nt(i,!!l.multiple,l.defaultValue,!0):nt(i,!!l.multiple,l.multiple?[]:"",!1))}i[Zo]=l}catch(Se){pt(e,e.return,Se)}}break;case 6:if(gn(t,e),Nn(e),o&4){if(e.stateNode===null)throw Error(a(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(Se){pt(e,e.return,Se)}}break;case 3:if(gn(t,e),Nn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{it(t.containerInfo)}catch(Se){pt(e,e.return,Se)}break;case 4:gn(t,e),Nn(e);break;case 13:gn(t,e),Nn(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Ya=rt())),o&4&&Ad(e);break;case 22:if(q=r!==null&&r.memoizedState!==null,e.mode&1?(At=(L=At)||q,gn(t,e),At=L):gn(t,e),Nn(e),o&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!q&&(e.mode&1)!==0)for(ke=e,q=e.child;q!==null;){for(ae=ke=q;ke!==null;){switch(K=ke,ve=K.child,K.tag){case 0:case 11:case 14:case 15:li(4,K,K.return);break;case 1:So(K,K.return);var je=K.stateNode;if(typeof je.componentWillUnmount=="function"){o=K,r=K.return;try{t=o,je.props=t.memoizedProps,je.state=t.memoizedState,je.componentWillUnmount()}catch(Se){pt(o,r,Se)}}break;case 5:So(K,K.return);break;case 22:if(K.memoizedState!==null){Td(ae);continue}}ve!==null?(ve.return=K,ke=ve):Td(ae)}q=q.sibling}e:for(q=null,ae=e;;){if(ae.tag===5){if(q===null){q=ae;try{i=ae.stateNode,L?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(v=ae.stateNode,C=ae.memoizedProps.style,p=C!=null&&C.hasOwnProperty("display")?C.display:null,v.style.display=Qr("display",p))}catch(Se){pt(e,e.return,Se)}}}else if(ae.tag===6){if(q===null)try{ae.stateNode.nodeValue=L?"":ae.memoizedProps}catch(Se){pt(e,e.return,Se)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===e)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===e)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===e)break e;q===ae&&(q=null),ae=ae.return}q===ae&&(q=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:gn(t,e),Nn(e),o&4&&Ad(e);break;case 21:break;default:gn(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Sd(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(zn(i,""),o.flags&=-33);var l=Nd(e);Va(e,l,i);break;case 3:case 4:var p=o.stateNode.containerInfo,v=Nd(e);Ga(e,v,p);break;default:throw Error(a(161))}}catch(C){pt(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Up(e,t,r){ke=e,zd(e)}function zd(e,t,r){for(var o=(e.mode&1)!==0;ke!==null;){var i=ke,l=i.child;if(i.tag===22&&o){var p=i.memoizedState!==null||os;if(!p){var v=i.alternate,C=v!==null&&v.memoizedState!==null||At;v=os;var L=At;if(os=p,(At=C)&&!L)for(ke=i;ke!==null;)p=ke,C=p.child,p.tag===22&&p.memoizedState!==null?Pd(i):C!==null?(C.return=p,ke=C):Pd(i);for(;l!==null;)ke=l,zd(l),l=l.sibling;ke=i,os=v,At=L}Ld(e)}else(i.subtreeFlags&8772)!==0&&l!==null?(l.return=i,ke=l):Ld(e)}}function Ld(e){for(;ke!==null;){var t=ke;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:At||is(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!At)if(r===null)o.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:fn(t.type,r.memoizedProps);o.componentDidUpdate(i,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Tc(t,l,o);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tc(t,p,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&r.focus();break;case"img":C.src&&(r.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var q=L.memoizedState;if(q!==null){var ae=q.dehydrated;ae!==null&&it(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}At||t.flags&512&&Wa(t)}catch(K){pt(t,t.return,K)}}if(t===e){ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,ke=r;break}ke=t.return}}function Td(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ke=r;break}ke=t.return}}function Pd(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{is(4,t)}catch(C){pt(t,r,C)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var i=t.return;try{o.componentDidMount()}catch(C){pt(t,i,C)}}var l=t.return;try{Wa(t)}catch(C){pt(t,l,C)}break;case 5:var p=t.return;try{Wa(t)}catch(C){pt(t,p,C)}}}catch(C){pt(t,t.return,C)}if(t===e){ke=null;break}var v=t.sibling;if(v!==null){v.return=t.return,ke=v;break}ke=t.return}}var Bp=Math.ceil,ss=pe.ReactCurrentDispatcher,Qa=pe.ReactCurrentOwner,on=pe.ReactCurrentBatchConfig,Ye=0,bt=null,ht=null,jt=0,Yt=0,No=dr(0),yt=0,ci=null,Ur=0,as=0,Ka=0,di=null,Ot=null,Ya=0,Eo=1/0,Kn=null,ls=!1,Ja=null,hr=null,cs=!1,xr=null,ds=0,ui=0,Za=null,us=-1,ps=0;function Tt(){return(Ye&6)!==0?rt():us!==-1?us:us=rt()}function yr(e){return(e.mode&1)===0?1:(Ye&2)!==0&&jt!==0?jt&-jt:Sp.transition!==null?(ps===0&&(ps=Do()),ps):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:ar(e.type)),e)}function hn(e,t,r,o){if(50<ui)throw ui=0,Za=null,Error(a(185));zr(e,r,o),((Ye&2)===0||e!==bt)&&(e===bt&&((Ye&2)===0&&(as|=r),yt===4&&vr(e,jt)),_t(e,o),r===1&&Ye===0&&(t.mode&1)===0&&(Eo=rt()+500,_i&&pr()))}function _t(e,t){var r=e.callbackNode;Ci(e,t);var o=eo(e,e===bt?jt:0);if(o===0)r!==null&&Jt(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&Jt(r),t===1)e.tag===0?jp($d.bind(null,e)):bc($d.bind(null,e)),bp(function(){(Ye&6)===0&&pr()}),r=null;else{switch(ji(o)){case 1:r=$o;break;case 4:r=vi;break;case 16:r=Ar;break;case 536870912:r=bi;break;default:r=Ar}r=Hd(r,Id.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Id(e,t){if(us=-1,ps=0,(Ye&6)!==0)throw Error(a(327));var r=e.callbackNode;if(Ao()&&e.callbackNode!==r)return null;var o=eo(e,e===bt?jt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=fs(e,o);else{t=o;var i=Ye;Ye|=2;var l=Md();(bt!==e||jt!==t)&&(Kn=null,Eo=rt()+500,Hr(e,t));do try{Gp();break}catch(v){Dd(e,v)}while(!0);ga(),ss.current=l,Ye=i,ht!==null?t=0:(bt=null,jt=0,t=yt)}if(t!==0){if(t===2&&(i=to(e),i!==0&&(o=i,t=qa(e,i))),t===1)throw r=ci,Hr(e,0),vr(e,o),_t(e,rt()),r;if(t===6)vr(e,o);else{if(i=e.current.alternate,(o&30)===0&&!Hp(i)&&(t=fs(e,o),t===2&&(l=to(e),l!==0&&(o=l,t=qa(e,l))),t===1))throw r=ci,Hr(e,0),vr(e,o),_t(e,rt()),r;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:Wr(e,Ot,Kn);break;case 3:if(vr(e,o),(o&130023424)===o&&(t=Ya+500-rt(),10<t)){if(eo(e,0)!==0)break;if(i=e.suspendedLanes,(i&o)!==o){Tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=oa(Wr.bind(null,e,Ot,Kn),t);break}Wr(e,Ot,Kn);break;case 4:if(vr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,i=-1;0<o;){var p=31-Ht(o);l=1<<p,p=t[p],p>i&&(i=p),o&=~l}if(o=i,o=rt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Bp(o/1960))-o,10<o){e.timeoutHandle=oa(Wr.bind(null,e,Ot,Kn),o);break}Wr(e,Ot,Kn);break;case 5:Wr(e,Ot,Kn);break;default:throw Error(a(329))}}}return _t(e,rt()),e.callbackNode===r?Id.bind(null,e):null}function qa(e,t){var r=di;return e.current.memoizedState.isDehydrated&&(Hr(e,t).flags|=256),e=fs(e,t),e!==2&&(t=Ot,Ot=r,t!==null&&Xa(t)),e}function Xa(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function Hp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var i=r[o],l=i.getSnapshot;i=i.value;try{if(!un(l(),i))return!1}catch(p){return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vr(e,t){for(t&=~Ka,t&=~as,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),o=1<<r;e[r]=-1,t&=~o}}function $d(e){if((Ye&6)!==0)throw Error(a(327));Ao();var t=eo(e,0);if((t&1)===0)return _t(e,rt()),null;var r=fs(e,t);if(e.tag!==0&&r===2){var o=to(e);o!==0&&(t=o,r=qa(e,o))}if(r===1)throw r=ci,Hr(e,0),vr(e,t),_t(e,rt()),r;if(r===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wr(e,Ot,Kn),_t(e,rt()),null}function el(e,t){var r=Ye;Ye|=1;try{return e(t)}finally{Ye=r,Ye===0&&(Eo=rt()+500,_i&&pr())}}function Br(e){xr!==null&&xr.tag===0&&(Ye&6)===0&&Ao();var t=Ye;Ye|=1;var r=on.transition,o=Ke;try{if(on.transition=null,Ke=1,e)return e()}finally{Ke=o,on.transition=r,Ye=t,(Ye&6)===0&&pr()}}function tl(){Yt=No.current,tt(No)}function Hr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vp(r)),ht!==null)for(r=ht.return;r!==null;){var o=r;switch(da(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ri();break;case 3:Co(),tt(Dt),tt(St),Ca();break;case 5:wa(o);break;case 4:Co();break;case 13:tt(st);break;case 19:tt(st);break;case 10:ha(o.type._context);break;case 22:case 23:tl()}r=r.return}if(bt=e,ht=e=br(e.current,null),jt=Yt=t,yt=0,ci=null,Ka=as=Ur=0,Ot=di=null,Rr!==null){for(t=0;t<Rr.length;t++)if(r=Rr[t],o=r.interleaved,o!==null){r.interleaved=null;var i=o.next,l=r.pending;if(l!==null){var p=l.next;l.next=i,o.next=p}r.pending=o}Rr=null}return e}function Dd(e,t){do{var r=ht;try{if(ga(),Ji.current=es,Zi){for(var o=at.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}Zi=!1}if(_r=0,vt=xt=at=null,ri=!1,oi=0,Qa.current=null,r===null||r.return===null){yt=1,ci=t,ht=null;break}e:{var l=e,p=r.return,v=r,C=t;if(t=jt,v.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var L=C,q=v,ae=q.tag;if((q.mode&1)===0&&(ae===0||ae===11||ae===15)){var K=q.alternate;K?(q.updateQueue=K.updateQueue,q.memoizedState=K.memoizedState,q.lanes=K.lanes):(q.updateQueue=null,q.memoizedState=null)}var ve=ad(p);if(ve!==null){ve.flags&=-257,ld(ve,p,v,l,t),ve.mode&1&&sd(l,L,t),t=ve,C=L;var je=t.updateQueue;if(je===null){var Se=new Set;Se.add(C),t.updateQueue=Se}else je.add(C);break e}else{if((t&1)===0){sd(l,L,t),nl();break e}C=Error(a(426))}}else if(ot&&v.mode&1){var mt=ad(p);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),ld(mt,p,v,l,t),fa(jo(C,v));break e}}l=C=jo(C,v),yt!==4&&(yt=2),di===null?di=[l]:di.push(l),l=p;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var A=od(l,C,t);Lc(l,A);break e;case 1:v=C;var N=l.type,F=l.stateNode;if((l.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(hr===null||!hr.has(F)))){l.flags|=65536,t&=-t,l.lanes|=t;var ue=id(l,v,t);Lc(l,ue);break e}}l=l.return}while(l!==null)}Od(r)}catch(Ne){t=Ne,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function Md(){var e=ss.current;return ss.current=es,e===null?es:e}function nl(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||(Ur&268435455)===0&&(as&268435455)===0||vr(bt,jt)}function fs(e,t){var r=Ye;Ye|=2;var o=Md();(bt!==e||jt!==t)&&(Kn=null,Hr(e,t));do try{Wp();break}catch(i){Dd(e,i)}while(!0);if(ga(),Ye=r,ss.current=o,ht!==null)throw Error(a(261));return bt=null,jt=0,yt}function Wp(){for(;ht!==null;)Rd(ht)}function Gp(){for(;ht!==null&&!ir();)Rd(ht)}function Rd(e){var t=Bd(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?Od(e):ht=t,Qa.current=null}function Od(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Mp(r,t,Yt),r!==null){ht=r;return}}else{if(r=Rp(r,t),r!==null){r.flags&=32767,ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,ht=null;return}}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);yt===0&&(yt=5)}function Wr(e,t,r){var o=Ke,i=on.transition;try{on.transition=null,Ke=1,Vp(e,t,r,o)}finally{on.transition=i,Ke=o}return null}function Vp(e,t,r,o){do Ao();while(xr!==null);if((Ye&6)!==0)throw Error(a(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Ms(e,l),e===bt&&(ht=bt=null,jt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||cs||(cs=!0,Hd(Ar,function(){return Ao(),null})),l=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||l){l=on.transition,on.transition=null;var p=Ke;Ke=1;var v=Ye;Ye|=4,Qa.current=null,_p(e,r),Fd(r,e),pp(na),Gt=!!ta,na=ta=null,e.current=r,Up(r),Zr(),Ye=v,Ke=p,on.transition=l}else e.current=r;if(cs&&(cs=!1,xr=e,ds=i),l=e.pendingLanes,l===0&&(hr=null),Is(r.stateNode),_t(e,rt()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],o(i.value,{componentStack:i.stack,digest:i.digest});if(ls)throw ls=!1,e=Ja,Ja=null,e;return(ds&1)!==0&&e.tag!==0&&Ao(),l=e.pendingLanes,(l&1)!==0?e===Za?ui++:(ui=0,Za=e):ui=0,pr(),null}function Ao(){if(xr!==null){var e=ji(ds),t=on.transition,r=Ke;try{if(on.transition=null,Ke=16>e?16:e,xr===null)var o=!1;else{if(e=xr,xr=null,ds=0,(Ye&6)!==0)throw Error(a(331));var i=Ye;for(Ye|=4,ke=e.current;ke!==null;){var l=ke,p=l.child;if((ke.flags&16)!==0){var v=l.deletions;if(v!==null){for(var C=0;C<v.length;C++){var L=v[C];for(ke=L;ke!==null;){var q=ke;switch(q.tag){case 0:case 11:case 15:li(8,q,l)}var ae=q.child;if(ae!==null)ae.return=q,ke=ae;else for(;ke!==null;){q=ke;var K=q.sibling,ve=q.return;if(jd(q),q===L){ke=null;break}if(K!==null){K.return=ve,ke=K;break}ke=ve}}}var je=l.alternate;if(je!==null){var Se=je.child;if(Se!==null){je.child=null;do{var mt=Se.sibling;Se.sibling=null,Se=mt}while(Se!==null)}}ke=l}}if((l.subtreeFlags&2064)!==0&&p!==null)p.return=l,ke=p;else e:for(;ke!==null;){if(l=ke,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:li(9,l,l.return)}var A=l.sibling;if(A!==null){A.return=l.return,ke=A;break e}ke=l.return}}var N=e.current;for(ke=N;ke!==null;){p=ke;var F=p.child;if((p.subtreeFlags&2064)!==0&&F!==null)F.return=p,ke=F;else e:for(p=N;ke!==null;){if(v=ke,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:is(9,v)}}catch(Ne){pt(v,v.return,Ne)}if(v===p){ke=null;break e}var ue=v.sibling;if(ue!==null){ue.return=v.return,ke=ue;break e}ke=v.return}}if(Ye=i,pr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(qr,e)}catch(Ne){}o=!0}return o}finally{Ke=r,on.transition=t}}return!1}function _d(e,t,r){t=jo(r,t),t=od(e,t,1),e=mr(e,t,1),t=Tt(),e!==null&&(zr(e,1,t),_t(e,t))}function pt(e,t,r){if(e.tag===3)_d(e,e,r);else for(;t!==null;){if(t.tag===3){_d(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){e=jo(r,e),e=id(t,e,1),t=mr(t,e,1),e=Tt(),t!==null&&(zr(t,1,e),_t(t,e));break}}t=t.return}}function Qp(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&r,bt===e&&(jt&r)===r&&(yt===4||yt===3&&(jt&130023424)===jt&&500>rt()-Ya?Hr(e,0):Ka|=r),_t(e,t)}function Ud(e,t){t===0&&((e.mode&1)===0?t=1:(t=Fr,Fr<<=1,(Fr&130023424)===0&&(Fr=4194304)));var r=Tt();e=Gn(e,t),e!==null&&(zr(e,t,r),_t(e,r))}function Kp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ud(e,r)}function Yp(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}o!==null&&o.delete(t),Ud(e,r)}var Bd;Bd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)Rt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Rt=!1,Dp(e,t,r);Rt=(e.flags&131072)!==0}else Rt=!1,ot&&(t.flags&1048576)!==0&&wc(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;rs(e,t),e=t.pendingProps;var i=ho(t,St.current);ko(t,r),i=Na(null,t,o,e,i,r);var l=Ea();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(o)?(l=!0,Oi(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,va(t),i.updater=ts,t.stateNode=i,i._reactInternals=t,Pa(t,o,e,r),t=Ma(null,t,o,!0,l,r)):(t.tag=0,ot&&l&&ca(t),Lt(null,t,i,r),t=t.child),t;case 16:o=t.elementType;e:{switch(rs(e,t),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=Zp(o),e=fn(o,e),i){case 0:t=Da(null,t,o,e,r);break e;case 1:t=md(null,t,o,e,r);break e;case 11:t=cd(null,t,o,e,r);break e;case 14:t=dd(null,t,o,fn(o.type,e),r);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:fn(o,i),Da(e,t,o,i,r);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:fn(o,i),md(e,t,o,i,r);case 3:e:{if(gd(t),e===null)throw Error(a(387));o=t.pendingProps,l=t.memoizedState,i=l.element,zc(e,t),Ki(t,o,null,r);var p=t.memoizedState;if(o=p.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=jo(Error(a(423)),t),t=hd(e,t,o,r,i);break e}else if(o!==i){i=jo(Error(a(424)),t),t=hd(e,t,o,r,i);break e}else for(Kt=cr(t.stateNode.containerInfo.firstChild),Qt=t,ot=!0,pn=null,r=Ac(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vo(),o===i){t=Qn(e,t,r);break e}Lt(e,t,o,r)}t=t.child}return t;case 5:return Pc(t),e===null&&pa(t),o=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,p=i.children,ra(o,i)?p=null:l!==null&&ra(o,l)&&(t.flags|=32),fd(e,t),Lt(e,t,p,r),t.child;case 6:return e===null&&pa(t),null;case 13:return xd(e,t,r);case 4:return ba(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=bo(t,null,o,r):Lt(e,t,o,r),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:fn(o,i),cd(e,t,o,i,r);case 7:return Lt(e,t,t.pendingProps,r),t.child;case 8:return Lt(e,t,t.pendingProps.children,r),t.child;case 12:return Lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,l=t.memoizedProps,p=i.value,Xe(Gi,o._currentValue),o._currentValue=p,l!==null)if(un(l.value,p)){if(l.children===i.children&&!Dt.current){t=Qn(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var v=l.dependencies;if(v!==null){p=l.child;for(var C=v.firstContext;C!==null;){if(C.context===o){if(l.tag===1){C=Vn(-1,r&-r),C.tag=2;var L=l.updateQueue;if(L!==null){L=L.shared;var q=L.pending;q===null?C.next=C:(C.next=q.next,q.next=C),L.pending=C}}l.lanes|=r,C=l.alternate,C!==null&&(C.lanes|=r),xa(l.return,r,t),v.lanes|=r;break}C=C.next}}else if(l.tag===10)p=l.type===t.type?null:l.child;else if(l.tag===18){if(p=l.return,p===null)throw Error(a(341));p.lanes|=r,v=p.alternate,v!==null&&(v.lanes|=r),xa(p,r,t),p=l.sibling}else p=l.child;if(p!==null)p.return=l;else for(p=l;p!==null;){if(p===t){p=null;break}if(l=p.sibling,l!==null){l.return=p.return,p=l;break}p=p.return}l=p}Lt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,ko(t,r),i=nn(i),o=o(i),t.flags|=1,Lt(e,t,o,r),t.child;case 14:return o=t.type,i=fn(o,t.pendingProps),i=fn(o.type,i),dd(e,t,o,i,r);case 15:return ud(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:fn(o,i),rs(e,t),t.tag=1,Mt(o)?(e=!0,Oi(t)):e=!1,ko(t,r),nd(t,o,i),Pa(t,o,i,r),Ma(null,t,o,!0,e,r);case 19:return vd(e,t,r);case 22:return pd(e,t,r)}throw Error(a(156,t.tag))};function Hd(e,t){return zt(e,t)}function Jp(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,r,o){return new Jp(e,t,r,o)}function rl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zp(e){if(typeof e=="function")return rl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fe)return 11;if(e===be)return 14}return 2}function br(e,t){var r=e.alternate;return r===null?(r=sn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ms(e,t,r,o,i,l){var p=2;if(o=e,typeof e=="function")rl(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case G:return Gr(r.children,i,l,t);case M:p=8,i|=8;break;case ge:return e=sn(12,r,t,i|2),e.elementType=ge,e.lanes=l,e;case re:return e=sn(13,r,t,i),e.elementType=re,e.lanes=l,e;case le:return e=sn(19,r,t,i),e.elementType=le,e.lanes=l,e;case H:return gs(r,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case me:p=10;break e;case $e:p=9;break e;case Fe:p=11;break e;case be:p=14;break e;case fe:p=16,o=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=sn(p,r,t,i),t.elementType=e,t.type=o,t.lanes=l,t}function Gr(e,t,r,o){return e=sn(7,e,o,t),e.lanes=r,e}function gs(e,t,r,o){return e=sn(22,e,o,t),e.elementType=H,e.lanes=r,e.stateNode={isHidden:!1},e}function ol(e,t,r){return e=sn(6,e,null,t),e.lanes=r,e}function il(e,t,r){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qp(e,t,r,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mo(0),this.expirationTimes=Mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sl(e,t,r,o,i,l,p,v,C){return e=new qp(e,t,r,v,C),t===1?(t=1,l===!0&&(t|=8)):t=0,l=sn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},va(l),e}function Xp(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function Wd(e){if(!e)return ur;e=e._reactInternals;e:{if(P(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var r=e.type;if(Mt(r))return yc(e,r,t)}return t}function Gd(e,t,r,o,i,l,p,v,C){return e=sl(r,o,!0,e,i,l,p,v,C),e.context=Wd(null),r=e.current,o=Tt(),i=yr(r),l=Vn(o,i),l.callback=t!=null?t:null,mr(r,l,i),e.current.lanes=i,zr(e,i,o),_t(e,o),e}function hs(e,t,r,o){var i=t.current,l=Tt(),p=yr(i);return r=Wd(r),t.context===null?t.context=r:t.pendingContext=r,t=Vn(l,p),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=mr(i,t,p),e!==null&&(hn(e,i,p,l),Qi(e,i,p)),p}function xs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function al(e,t){Vd(e,t),(e=e.alternate)&&Vd(e,t)}function ef(){return null}var Qd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ys.prototype.render=ll.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));hs(e,t,null,null)},ys.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Br(function(){hs(null,e,null,null)}),t[Un]=null}};function ys(e){this._internalRoot=e}ys.prototype.unstable_scheduleHydration=function(e){if(e){var t=ro();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wt.length&&t!==0&&t<Wt[r].priority;r++);Wt.splice(r,0,e),r===0&&ne(e)}};function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function tf(e,t,r,o,i){if(i){if(typeof o=="function"){var l=o;o=function(){var L=xs(p);l.call(L)}}var p=Gd(t,o,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=p,e[Un]=p.current,Yo(e.nodeType===8?e.parentNode:e),Br(),p}for(;i=e.lastChild;)e.removeChild(i);if(typeof o=="function"){var v=o;o=function(){var L=xs(C);v.call(L)}}var C=sl(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=C,e[Un]=C.current,Yo(e.nodeType===8?e.parentNode:e),Br(function(){hs(t,C,r,o)}),C}function bs(e,t,r,o,i){var l=r._reactRootContainer;if(l){var p=l;if(typeof i=="function"){var v=i;i=function(){var C=xs(p);v.call(C)}}hs(t,p,e,i)}else p=tf(r,t,e,i,o);return xs(p)}Ro=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sr(t.pendingLanes);r!==0&&(Rn(t,r|1),_t(t,rt()),(Ye&6)===0&&(Eo=rt()+500,pr()))}break;case 13:Br(function(){var o=Gn(e,1);if(o!==null){var i=Tt();hn(o,e,1,i)}}),al(e,1)}},no=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var r=Tt();hn(t,e,134217728,r)}al(e,134217728)}},Si=function(e){if(e.tag===13){var t=yr(e),r=Gn(e,t);if(r!==null){var o=Tt();hn(r,e,t,o)}al(e,t)}},ro=function(){return Ke},oo=function(e,t){var r=Ke;try{return Ke=e,t()}finally{Ke=r}},Sr=function(e,t,r){switch(t){case"input":if(oe(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var i=Mi(o);if(!i)throw Error(a(90));lt(o),oe(o,i)}}}break;case"textarea":Fn(e,r);break;case"select":t=r.value,t!=null&&nt(e,!!r.multiple,t,!1)}},Jr=el,or=Br;var nf={usingClientEntryPoint:!1,Events:[qo,mo,Mi,Yr,Ln,el]},pi={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rf={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ut(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||ef,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{qr=ws.inject(rf),Zt=ws}catch(e){}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf,Ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cl(t))throw Error(a(200));return Xp(e,t,null,r)},Ut.createRoot=function(e,t){if(!cl(e))throw Error(a(299));var r=!1,o="",i=Qd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sl(e,1,!1,null,null,r,!1,o,i),e[Un]=t.current,Yo(e.nodeType===8?e.parentNode:e),new ll(t)},Ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=ut(t),e=e===null?null:e.stateNode,e},Ut.flushSync=function(e){return Br(e)},Ut.hydrate=function(e,t,r){if(!vs(t))throw Error(a(200));return bs(null,e,t,!0,r)},Ut.hydrateRoot=function(e,t,r){if(!cl(e))throw Error(a(405));var o=r!=null&&r.hydratedSources||null,i=!1,l="",p=Qd;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=Gd(t,null,e,1,r!=null?r:null,i,!1,l,p),e[Un]=t.current,Yo(e),o)for(e=0;e<o.length;e++)r=o[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ys(t)},Ut.render=function(e,t,r){if(!vs(t))throw Error(a(200));return bs(null,e,t,!1,r)},Ut.unmountComponentAtNode=function(e){if(!vs(e))throw Error(a(40));return e._reactRootContainer?(Br(function(){bs(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1},Ut.unstable_batchedUpdates=el,Ut.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!vs(r))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return bs(e,t,r,!1,o)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var ru;function vf(){if(ru)return fl.exports;ru=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(s){console.error(s)}}return c(),fl.exports=yf(),fl.exports}var ou;function bf(){if(ou)return ks;ou=1;var c=vf();return ks.createRoot=c.createRoot,ks.hydrateRoot=c.hydrateRoot,ks}var wf=bf();const kf="modulepreload",Cf=function(c){return"/"+c},iu={},zl=function(s,a,d){let u=Promise.resolve();if(a&&a.length>0){let y=function(w){return Promise.all(w.map(O=>Promise.resolve(O).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),b=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));u=y(a.map(w=>{if(w=Cf(w),w in iu)return;iu[w]=!0;const O=w.endsWith(".css"),E=O?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${E}`))return;const I=document.createElement("link");if(I.rel=O?"stylesheet":kf,O||(I.as="script"),I.crossOrigin="",I.href=w,b&&I.setAttribute("nonce",b),document.head.appendChild(I),O)return new Promise((X,W)=>{I.addEventListener("load",X),I.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${w}`)))})}))}function g(y){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=y,window.dispatchEvent(h),!h.defaultPrevented)throw y}return u.then(y=>{for(const h of y||[])h.status==="rejected"&&g(h.reason);return s().catch(g)})};var wu={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},su=Zn.createContext&&Zn.createContext(wu),jf=["attr","size","title"];function Sf(c,s){if(c==null)return{};var a=Nf(c,s),d,u;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);for(u=0;u<g.length;u++)d=g[u],!(s.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(c,d)&&(a[d]=c[d])}return a}function Nf(c,s){if(c==null)return{};var a={};for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){if(s.indexOf(d)>=0)continue;a[d]=c[d]}return a}function As(){return As=Object.assign?Object.assign.bind():function(c){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d])}return c},As.apply(this,arguments)}function au(c,s){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(c);s&&(d=d.filter(function(u){return Object.getOwnPropertyDescriptor(c,u).enumerable})),a.push.apply(a,d)}return a}function Fs(c){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?au(Object(a),!0).forEach(function(d){Ef(c,d,a[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(a)):au(Object(a)).forEach(function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(a,d))})}return c}function Ef(c,s,a){return s=Af(s),s in c?Object.defineProperty(c,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):c[s]=a,c}function Af(c){var s=Ff(c,"string");return typeof s=="symbol"?s:s+""}function Ff(c,s){if(typeof c!="object"||!c)return c;var a=c[Symbol.toPrimitive];if(a!==void 0){var d=a.call(c,s);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(c)}function ku(c){return c&&c.map((s,a)=>Zn.createElement(s.tag,Fs({key:a},s.attr),ku(s.child)))}function Me(c){return s=>Zn.createElement(zf,As({attr:Fs({},c.attr)},s),ku(c.child))}function zf(c){var s=a=>{var{attr:d,size:u,title:g}=c,y=Sf(c,jf),h=u||a.size||"1em",b;return a.className&&(b=a.className),c.className&&(b=(b?b+" ":"")+c.className),Zn.createElement("svg",As({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,d,y,{className:b,style:Fs(Fs({color:c.color||a.color},a.style),c.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),g&&Zn.createElement("title",null,g),c.children)};return su!==void 0?Zn.createElement(su.Consumer,null,a=>s(a)):s(wu)}function bl(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(c)}function Cu(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(c)}function Lf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(c)}function Ft(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(c)}function ju(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(c)}function Su(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(c)}function Nu(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(c)}function yi(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(c)}function Ll(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(c)}function wl(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(c)}function Vr(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(c)}function Tf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(c)}function lu(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(c)}function Pf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(c)}function Es(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"},child:[]},{tag:"path",attr:{d:"M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"},child:[]},{tag:"path",attr:{d:"M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"},child:[]},{tag:"path",attr:{d:"M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"},child:[]},{tag:"path",attr:{d:"M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"},child:[]}]})(c)}function Tl(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(c)}function If(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(c)}function cu(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(c)}function kl(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(c)}function To(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(c)}function $f(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(c)}function Cl(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(c)}function Fo(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(c)}function Eu(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(c)}function Df(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(c)}function Mf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},child:[]}]})(c)}function Rf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(c)}function Of(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(c)}function _f(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(c)}function Uf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(c)}function du(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(c)}function Yn(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(c)}function jl(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(c)}function Sl(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(c)}function Bf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(c)}function zs(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(c)}function Nl(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]}]})(c)}function Hf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(c)}function Wf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(c)}function Gf(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(c)}function El(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(c)}function An(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(c)}function Pt(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(c)}function Al(c){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(c)}const Vf=()=>n.jsx("footer",{className:"microsoft-footer",children:n.jsx("p",{className:"footer-text",children:" 2025 Designetica by Cloud Experience Studio - Microsoft"})}),Au=({onImageUpload:c,onAnalyzeImage:s,isAnalyzing:a=!1,className:d=""})=>{const[u,g]=f.useState(!1),[y,h]=f.useState(null),[b,w]=f.useState(""),O=f.useCallback(V=>{V.preventDefault(),g(!0)},[]),E=f.useCallback(V=>{V.preventDefault(),g(!1)},[]),I=f.useCallback(V=>{V.preventDefault(),g(!1);const he=Array.from(V.dataTransfer.files).find(pe=>pe.type.startsWith("image/"));he&&W(he)},[]),X=f.useCallback(V=>{var he;const Q=(he=V.target.files)==null?void 0:he[0];Q&&Q.type.startsWith("image/")&&W(Q)},[]),W=f.useCallback(V=>{const Q=new FileReader;Q.onload=he=>{var _;const pe=(_=he.target)==null?void 0:_.result;h(pe),w(V.name),c(V)},Q.readAsDataURL(V)},[c]),k=f.useCallback(()=>{y&&b&&s&&s(y,b)},[y,b,s]),z=f.useCallback(()=>{h(null),w("")},[]);return y?n.jsxs("div",{className:`image-preview-zone ${d}`,children:[n.jsxs("div",{className:"preview-header",children:[n.jsxs("span",{className:"preview-title",children:[n.jsx(To,{}),b]}),n.jsx("button",{className:"clear-btn",onClick:z,"aria-label":"Clear image",children:n.jsx(Pt,{})})]}),n.jsx("div",{className:"preview-image-container",children:n.jsx("img",{src:y,alt:"Upload preview",className:"preview-image"})}),n.jsx("div",{className:"preview-actions",children:n.jsx("button",{className:"analyze-btn primary",onClick:k,disabled:a,"aria-label":"Analyze image and generate wireframe",children:a?n.jsxs(n.Fragment,{children:[n.jsx(Eu,{className:"spinning"}),"Analyzing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(An,{}),"Generate Wireframe"]})})})]}):n.jsx("div",{className:`image-upload-zone ${u?"drag-over":""} ${d}`,onDragOver:O,onDragLeave:E,onDrop:I,children:n.jsxs("div",{className:"upload-content",children:[n.jsx(To,{className:"upload-icon"}),n.jsx("h3",{children:"Drop UI image here"}),n.jsx("p",{children:"Upload a screenshot, mockup, or sketch to generate a wireframe"}),n.jsxs("label",{className:"upload-btn",children:[n.jsx(An,{}),"Choose Image",n.jsx("input",{type:"file",accept:"image/*",onChange:X,className:"hidden-input"})]}),n.jsx("div",{className:"supported-formats",children:n.jsx("small",{children:"Supports PNG, JPG, WebP, SVG"})})]})})},Qf=()=>null,Kf=({isOpen:c,onClose:s,onConfirm:a,itemName:d,itemType:u})=>{if(f.useEffect(()=>{const y=h=>{h.key==="Escape"&&s()};if(c)return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[c,s]),!c)return null;const g=()=>{a(),s()};return n.jsx("div",{className:"modal-overlay",onClick:y=>y.target===y.currentTarget&&s(),children:n.jsxs("div",{className:"modal-content modal-small",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{children:[n.jsx(Cu,{size:20,className:"warning-icon"}),"Delete ",u==="favorite"?"Favorite":"Recent Project"]}),n.jsx("button",{className:"close-button",onClick:s,"aria-label":"Close dialog",title:"Close",children:n.jsx(Pt,{size:20})})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsxs("strong",{children:['"',d,'"']})," from your ",u==="favorite"?"favorites":"recent projects","?"]}),n.jsx("p",{className:"delete-warning",children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"modal-button modal-button-secondary",onClick:s,children:"Cancel"}),n.jsxs("button",{className:"modal-button modal-button-danger",onClick:g,children:[n.jsx(El,{size:16}),"Delete"]})]})]})})};class Yf{constructor(){kr(this,"accessToken","");kr(this,"baseUrl","https://api.figma.com/v1")}setAccessToken(s){this.accessToken=s}makeRequest(s){return we(this,null,function*(){if(!this.accessToken)throw new Error("Figma access token not set. Please authenticate first.");const a=yield fetch(`${this.baseUrl}${s}`,{headers:{"X-Figma-Token":this.accessToken,"Content-Type":"application/json"}});if(!a.ok)throw a.status===401?new Error("Invalid Figma access token. Please check your credentials."):a.status===403?new Error("Access denied. Please check file permissions in Figma."):a.status===404?new Error("Figma file not found. Please check the file URL or ID."):new Error(`Figma API error: ${a.status} ${a.statusText}`);return a.json()})}getTeamProjects(s){return we(this,null,function*(){return this.makeRequest(`/teams/${s}/projects`)})}getProjectFiles(s){return we(this,null,function*(){return this.makeRequest(`/projects/${s}/files`)})}getFile(s){return we(this,null,function*(){const a=yield this.makeRequest(`/files/${s}`);return{document:a.document,components:a.components||{},styles:a.styles||{},name:a.name,lastModified:a.lastModified,thumbnailUrl:a.thumbnailUrl||"",version:a.version}})}getFileImages(s,a){return we(this,null,function*(){const d=a.join(",");return(yield this.makeRequest(`/images/${s}?ids=${d}&format=png&scale=2`)).images||{}})}extractFrames(s){const a=[],d=u=>{(u.type==="FRAME"||u.type==="COMPONENT")&&a.push({id:u.id,name:u.name,type:u.type,children:u.children,absoluteBoundingBox:u.absoluteBoundingBox,fills:u.fills,strokes:u.strokes,strokeWeight:u.strokeWeight,cornerRadius:u.cornerRadius}),u.children&&u.children.forEach(d)};return s.children.forEach(d),a}convertFramesToWireframe(s,a){return we(this,null,function*(){try{const d=s.map(y=>y.id),u=yield this.getFileImages(a,d);let g=`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Figma Import - Wireframe</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        .figma-import-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .figma-header {
            background: #1e1e1e;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .figma-frames {
            padding: 20px;
            display: grid;
            gap: 20px;
        }
        .figma-frame {
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            overflow: hidden;
            background: white;
        }
        .frame-header {
            background: #f8f9fa;
            padding: 12px 16px;
            border-bottom: 1px solid #e1e1e1;
            font-weight: 600;
            color: #333;
        }
        .frame-content {
            padding: 16px;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .frame-image {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .frame-placeholder {
            background: #f1f3f4;
            border: 2px dashed #dadce0;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            color: #5f6368;
        }
        .frame-info {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="figma-import-container">
        <div class="figma-header">
            <h1> Imported from Figma</h1>
            <p>Wireframe generated from Figma frames</p>
        </div>
        <div class="figma-frames">
`;return s.forEach((y,h)=>{const b=u[y.id],w=y.absoluteBoundingBox;g+=`
            <div class="figma-frame">
                <div class="frame-header">
                    ${y.name||`Frame ${h+1}`}
                </div>
                <div class="frame-content">
                    ${b?`<img src="${b}" alt="${y.name}" class="frame-image" />`:`<div class="frame-placeholder">
                         <p>Frame: ${y.name}</p>
                         <p>Type: ${y.type}</p>
                         ${w?`<p>Size: ${Math.round(w.width)}  ${Math.round(w.height)}</p>`:""}
                       </div>`}
                    ${w?`<div class="frame-info">${Math.round(w.width)}  ${Math.round(w.height)}</div>`:""}
                </div>
            </div>
        `}),g+=`
        </div>
    </div>
</body>
</html>
`,g}catch(d){throw console.error("Error converting frames to wireframe:",d),new Error("Failed to convert Figma frames to wireframe")}})}parseFileUrl(s){const a=s.match(/figma\.com\/file\/([a-zA-Z0-9]+)/);return a?a[1]:null}validateToken(){return we(this,null,function*(){try{return yield this.makeRequest("/me"),!0}catch(s){return!1}})}}const Bt=new Yf;class Jf{extractTokensFromFigma(s,a){const d={colors:[],typography:[],spacing:[],shadows:[],borderRadius:[],metadata:{extractedFrom:"Figma",extractedAt:new Date,figmaFileId:a,version:"1.0.0"}};return s.styles&&this.extractFromStyles(s.styles,d),s.document&&this.extractFromNodes(s.document,d),this.generateSemanticTokens(d),this.processTokens(d),d}extractFromStyles(s,a){Object.entries(s).forEach(([d,u])=>{const g=u;g.styleType==="FILL"?this.extractColorFromStyle(d,g,a.colors):g.styleType==="TEXT"?this.extractTypographyFromStyle(d,g,a.typography):g.styleType==="EFFECT"&&this.extractShadowFromStyle(d,g,a.shadows)})}extractFromNodes(s,a){s.fills&&Array.isArray(s.fills)&&s.fills.forEach((d,u)=>{d.type==="SOLID"&&d.color&&this.extractColorFromFill(s.id,d,u,a.colors)}),s.type==="TEXT"&&s.style&&this.extractTypographyFromNode(s.id,s.style,a.typography),s.effects&&Array.isArray(s.effects)&&s.effects.forEach((d,u)=>{(d.type==="DROP_SHADOW"||d.type==="INNER_SHADOW")&&this.extractShadowFromEffect(s.id,d,u,a.shadows)}),s.cornerRadius!==void 0&&this.extractBorderRadius(s.id,s.cornerRadius,a.borderRadius),(s.paddingLeft!==void 0||s.itemSpacing!==void 0)&&this.extractSpacing(s.id,s,a.spacing),s.children&&Array.isArray(s.children)&&s.children.forEach(d=>{this.extractFromNodes(d,a)})}extractColorFromStyle(s,a,d){var y;const u=(y=a.definition)==null?void 0:y.fills;if(!u||!Array.isArray(u)||u.length===0)return;const g=u[0];if(g.type==="SOLID"&&g.color){const h=this.figmaColorToToken(s,g.color,a.name);h&&(h.figmaReference=s,d.push(h))}}extractColorFromFill(s,a,d,u){if(a.type==="SOLID"&&a.color){const g=this.figmaColorToToken(`${s}-fill-${d}`,a.color);g&&(g.figmaReference=s,u.push(g))}}figmaColorToToken(s,a,d){const{r:u,g,b:y,a:h=1}=a,b={r:Math.round(u*255),g:Math.round(g*255),b:Math.round(y*255),a:h<1?h:void 0},w=`#${b.r.toString(16).padStart(2,"0")}${b.g.toString(16).padStart(2,"0")}${b.b.toString(16).padStart(2,"0")}`,O=h<1?`rgba(${b.r}, ${b.g}, ${b.b}, ${h})`:w,E=this.determineColorUsage(b,d);return{id:s,name:d||this.generateColorName(b),value:O,rgb:b,hex:w,usage:E}}determineColorUsage(s,a){if(a){const u=a.toLowerCase();if(u.includes("primary"))return"primary";if(u.includes("secondary"))return"secondary";if(u.includes("accent"))return"accent";if(u.includes("error")||u.includes("danger")||u.includes("success")||u.includes("warning"))return"semantic"}const d=(.299*s.r+.587*s.g+.114*s.b)/255;return d>.8||d<.2?"neutral":"primary"}generateColorName(s){const{r:a,g:d,b:u}=s;if(a>d&&a>u)return"Red";if(d>a&&d>u)return"Green";if(u>a&&u>d)return"Blue";if(a===d&&a>u)return"Yellow";if(a===u&&a>d)return"Magenta";if(d===u&&d>a)return"Cyan";const g=(.299*a+.587*d+.114*u)/255;return g>.9?"White":g<.1?"Black":g>.7?"Light Gray":g<.3?"Dark Gray":"Gray"}extractTypographyFromStyle(s,a,d){const u=a.definition;if(!u)return;const g={id:s,name:a.name||"Typography",fontFamily:u.fontFamily||"inherit",fontSize:u.fontSize||16,lineHeight:u.lineHeightPx||u.lineHeight||1.5,fontWeight:this.figmaFontWeightToNumber(u.fontWeight),letterSpacing:u.letterSpacing,figmaReference:s,usage:this.determineTypographyUsage(a.name,u.fontSize)};d.push(g)}extractTypographyFromNode(s,a,d){const u={id:`${s}-text`,name:"Text Style",fontFamily:a.fontFamily||"inherit",fontSize:a.fontSize||16,lineHeight:a.lineHeightPx||a.lineHeight||1.5,fontWeight:this.figmaFontWeightToNumber(a.fontWeight),letterSpacing:a.letterSpacing,figmaReference:s,usage:this.determineTypographyUsage("",a.fontSize)};d.push(u)}figmaFontWeightToNumber(s){return typeof s=="number"?s:{Thin:100,ExtraLight:200,Light:300,Regular:400,Medium:500,SemiBold:600,Bold:700,ExtraBold:800,Black:900}[s]||400}determineTypographyUsage(s,a){const d=s.toLowerCase();return d.includes("heading")||d.includes("title")?"heading":d.includes("body")||d.includes("paragraph")?"body":d.includes("caption")||d.includes("small")?"caption":d.includes("label")||d.includes("tag")?"label":d.includes("display")||d.includes("hero")?"display":a>=24?"heading":a>=14?"body":a>=10?"caption":"body"}extractShadowFromStyle(s,a,d){var g;const u=(g=a.definition)==null?void 0:g.effects;!u||!Array.isArray(u)||u.forEach((y,h)=>{if(y.type==="DROP_SHADOW"||y.type==="INNER_SHADOW"){const b=this.figmaEffectToShadowToken(`${s}-${h}`,y,a.name);b&&(b.figmaReference=s,d.push(b))}})}extractShadowFromEffect(s,a,d,u){const g=this.figmaEffectToShadowToken(`${s}-effect-${d}`,a);g&&(g.figmaReference=s,u.push(g))}figmaEffectToShadowToken(s,a,d){const{offset:u,radius:g,color:y,spread:h=0}=a;if(!u||!y)return null;const b=this.figmaColorToRgba(y),w=`${u.x}px ${u.y}px ${g}px ${h}px ${b}`;return{id:s,name:d||"Shadow",value:w,offsetX:u.x,offsetY:u.y,blur:g,spread:h,color:b,usage:this.determineShadowUsage(d,g)}}figmaColorToRgba(s){const{r:a,g:d,b:u,a:g=1}=s,y={r:Math.round(a*255),g:Math.round(d*255),b:Math.round(u*255)};return g<1?`rgba(${y.r}, ${y.g}, ${y.b}, ${g})`:`rgb(${y.r}, ${y.g}, ${y.b})`}determineShadowUsage(s,a){if(s){const d=s.toLowerCase();if(d.includes("focus"))return"focus";if(d.includes("hover"))return"hover";if(d.includes("pressed")||d.includes("active"))return"pressed"}return"elevation"}extractBorderRadius(s,a,d){const u={id:`${s}-radius`,name:this.generateRadiusName(a),value:a,unit:"px",usage:this.determineRadiusUsage(a),figmaReference:s};d.push(u)}generateRadiusName(s){return s===0?"None":s<=4?"Small":s<=8?"Medium":s<=16?"Large":s>=100?"Round":"Custom"}determineRadiusUsage(s){return s===0||s<=4?"small":s<=8?"medium":s<=16?"large":s>=100?"round":"medium"}extractSpacing(s,a,d){[{prop:"paddingLeft",usage:"padding"},{prop:"paddingRight",usage:"padding"},{prop:"paddingTop",usage:"padding"},{prop:"paddingBottom",usage:"padding"},{prop:"itemSpacing",usage:"gap"}].forEach(({prop:g,usage:y})=>{const h=a[g];if(h!==void 0&&h>0){const b={id:`${s}-${g}`,name:this.generateSpacingName(h),value:h,unit:"px",usage:y,figmaReference:s};d.push(b)}})}generateSpacingName(s){return s<=4?"XS":s<=8?"S":s<=16?"M":s<=24?"L":s<=32?"XL":s<=48?"XXL":"Custom"}generateSemanticTokens(s){this.generateSemanticColors(s.colors),this.generateSpacingScale(s.spacing)}generateSemanticColors(s){}generateSpacingScale(s){[...new Set(s.map(d=>d.value))].sort((d,u)=>d-u).forEach((d,u)=>{const g=s.find(y=>y.value===d);g&&(g.scale=u)})}processTokens(s){s.colors=this.deduplicateTokens(s.colors,"value"),s.typography=this.deduplicateTokens(s.typography,"name"),s.spacing=this.deduplicateTokens(s.spacing,"value"),s.shadows=this.deduplicateTokens(s.shadows,"value"),s.borderRadius=this.deduplicateTokens(s.borderRadius,"value")}deduplicateTokens(s,a){const d=new Set;return s.filter(u=>{const g=u[a];return d.has(g)?!1:(d.add(g),!0)})}exportTokens(s,a){switch(a.format){case"css":return this.exportToCss(s,a);case"scss":return this.exportToScss(s,a);case"js":return this.exportToJs(s,a);case"json":return this.exportToJson(s,a);case"style-dictionary":return this.exportToStyleDictionary(s,a);default:throw new Error(`Unsupported export format: ${a.format}`)}}exportToCss(s,a){const{includeComments:d,useCustomProperties:u,namespace:g="",prefix:y="ds"}=a;let h="";return d&&(h+=`/* Design Tokens Generated from ${s.metadata.extractedFrom} */
`,h+=`/* Generated at: ${s.metadata.extractedAt.toISOString()} */

`),h+=`:root {
`,d&&(h+=`  /* Colors */
`),s.colors.forEach(b=>{const w=`--${y}-color-${b.name.toLowerCase().replace(/\s+/g,"-")}`;h+=`  ${w}: ${b.value};
`}),h+=`
`,d&&(h+=`  /* Typography */
`),s.typography.forEach(b=>{const w=b.name.toLowerCase().replace(/\s+/g,"-");h+=`  --${y}-font-family-${w}: ${b.fontFamily};
`,h+=`  --${y}-font-size-${w}: ${b.fontSize}px;
`,h+=`  --${y}-line-height-${w}: ${b.lineHeight};
`,h+=`  --${y}-font-weight-${w}: ${b.fontWeight};
`,b.letterSpacing&&(h+=`  --${y}-letter-spacing-${w}: ${b.letterSpacing}px;
`)}),h+=`
`,d&&(h+=`  /* Spacing */
`),s.spacing.forEach(b=>{const w=`--${y}-spacing-${b.name.toLowerCase()}`;h+=`  ${w}: ${b.value}${b.unit};
`}),h+=`
`,d&&(h+=`  /* Shadows */
`),s.shadows.forEach(b=>{const w=`--${y}-shadow-${b.name.toLowerCase().replace(/\s+/g,"-")}`;h+=`  ${w}: ${b.value};
`}),h+=`
`,d&&(h+=`  /* Border Radius */
`),s.borderRadius.forEach(b=>{const w=`--${y}-radius-${b.name.toLowerCase()}`;h+=`  ${w}: ${b.value}${b.unit};
`}),h+=`}
`,h}exportToScss(s,a){const{includeComments:d,prefix:u="ds"}=a;let g="";return d&&(g+=`// Design Tokens Generated from ${s.metadata.extractedFrom}
`,g+=`// Generated at: ${s.metadata.extractedAt.toISOString()}

`),d&&(g+=`// Colors
`),s.colors.forEach(y=>{const h=`$${u}-color-${y.name.toLowerCase().replace(/\s+/g,"-")}`;g+=`${h}: ${y.value};
`}),g+=`
`,d&&(g+=`// Typography
`),s.typography.forEach(y=>{const h=y.name.toLowerCase().replace(/\s+/g,"-");g+=`$${u}-font-family-${h}: ${y.fontFamily};
`,g+=`$${u}-font-size-${h}: ${y.fontSize}px;
`,g+=`$${u}-line-height-${h}: ${y.lineHeight};
`,g+=`$${u}-font-weight-${h}: ${y.fontWeight};
`}),g}exportToJs(s,a){const{includeComments:d}=a;let u="";return d&&(u+=`/**
 * Design Tokens Generated from ${s.metadata.extractedFrom}
`,u+=` * Generated at: ${s.metadata.extractedAt.toISOString()}
 */

`),u+=`export const designTokens = {
`,u+=`  colors: {
`,s.colors.forEach(g=>{const y=g.name.toLowerCase().replace(/\s+/g,"");u+=`    ${y}: '${g.value}',
`}),u+=`  },
`,u+=`  typography: {
`,s.typography.forEach(g=>{const y=g.name.toLowerCase().replace(/\s+/g,"");u+=`    ${y}: {
`,u+=`      fontFamily: '${g.fontFamily}',
`,u+=`      fontSize: ${g.fontSize},
`,u+=`      lineHeight: ${g.lineHeight},
`,u+=`      fontWeight: ${g.fontWeight},
`,u+=`    },
`}),u+=`  },
`,u+=`  spacing: {
`,s.spacing.forEach(g=>{const y=g.name.toLowerCase();u+=`    ${y}: ${g.value},
`}),u+=`  },
`,u+=`};
`,u}exportToJson(s,a){return JSON.stringify(s,null,2)}exportToStyleDictionary(s,a){const d={color:{},size:{font:{},spacing:{},radius:{}},shadow:{}};return s.colors.forEach(u=>{const g=u.name.toLowerCase().replace(/\s+/g,"-");d.color[g]={value:u.value,type:"color",description:u.description||`${u.usage} color`}}),s.typography.forEach(u=>{const g=u.name.toLowerCase().replace(/\s+/g,"-");d.size.font[g]={value:`${u.fontSize}px`,type:"dimension"}}),s.spacing.forEach(u=>{const g=u.name.toLowerCase();d.size.spacing[g]={value:`${u.value}${u.unit}`,type:"dimension"}}),JSON.stringify(d,null,2)}}const uu=new Jf,Zf=({onFileSelect:c,onUrlImport:s,isLoading:a=!1,maxSize:d=50,acceptedFormats:u=[".fig",".json",".svg",".png",".jpg",".jpeg"]})=>{const[g,y]=f.useState(!1),[h,b]=f.useState("figma-link"),[w,O]=f.useState(""),[E,I]=f.useState(0),[X,W]=f.useState(null),[k,z]=f.useState(null),[V,Q]=f.useState(null),he=f.useRef(null),pe=[{id:"figma-link",name:"Figma URL",description:"Import directly from a Figma file URL",icon:n.jsx(yi,{}),supportedFormats:["Figma file URLs"]},{id:"file",name:"File Upload",description:"Upload exported files from Figma or other design tools",icon:n.jsx(An,{}),supportedFormats:u},{id:"url",name:"Image URL",description:"Import from an image URL or cloud storage",icon:n.jsx(To,{}),supportedFormats:["PNG","JPG","SVG URLs"]}],_=f.useCallback(re=>{var fe;const le=re.size/1048576;if(le>d)return`File size (${le.toFixed(2)}MB) exceeds maximum limit of ${d}MB`;const be="."+((fe=re.name.split(".").pop())==null?void 0:fe.toLowerCase());return u.includes(be)?null:`File type ${be} is not supported. Accepted formats: ${u.join(", ")}`},[d,u]),ie=f.useCallback(re=>re.trim()?/^https:\/\/(www\.)?figma\.com\/(file|proto|design)\/[a-zA-Z0-9]+/.test(re)?null:"Please enter a valid Figma file URL (starting with https://figma.com/file/)":"Please enter a Figma URL",[]),G=f.useCallback(re=>{re.preventDefault(),re.stopPropagation(),re.type==="dragenter"||re.type==="dragover"?y(!0):re.type==="dragleave"&&y(!1)},[]),M=f.useCallback(re=>{re.preventDefault(),re.stopPropagation(),y(!1),W(null);const le=Array.from(re.dataTransfer.files);if(le.length>1){W("Please upload only one file at a time");return}const be=le[0];if(be){const fe=_(be);if(fe){W(fe);return}Q(be),me(be)}},[_]),ge=f.useCallback(re=>{var be;W(null);const le=(be=re.target.files)==null?void 0:be[0];if(le){const fe=_(le);if(fe){W(fe);return}Q(le),me(le)}},[_]),me=f.useCallback(re=>we(null,null,function*(){I(0),W(null);try{const le=setInterval(()=>{I(fe=>fe>=90?(clearInterval(le),90):fe+10)},200),be={name:re.name,size:re.size,type:re.type,lastModified:new Date(re.lastModified)};re.type.startsWith("image/")&&(be.previewUrl=URL.createObjectURL(re)),setTimeout(()=>{I(100),z(`File "${re.name}" uploaded successfully!`),c(re,be),setTimeout(()=>z(null),3e3)},1e3)}catch(le){W(le instanceof Error?le.message:"Failed to upload file"),I(0)}}),[c]),$e=f.useCallback(()=>{if(W(null),h==="figma-link"){const re=ie(w);if(re){W(re);return}}z("Importing from URL..."),s(w),O(""),setTimeout(()=>z(null),3e3)},[h,w,ie,s]),Fe=f.useCallback(()=>{Q(null),I(0),W(null),z(null),he.current&&(he.current.value="")},[]);return n.jsxs("div",{className:"figma-file-upload",children:[n.jsxs("div",{className:"upload-header",children:[n.jsx("h3",{children:"Import Your Designs"}),n.jsx("p",{children:"Choose how you'd like to import your design files into Designetica"})]}),n.jsx("div",{className:"upload-methods",children:pe.map(re=>n.jsxs("button",{className:`upload-method ${h===re.id?"active":""}`,onClick:()=>b(re.id),disabled:a,children:[n.jsx("div",{className:"method-icon",children:re.icon}),n.jsxs("div",{className:"method-content",children:[n.jsx("h4",{children:re.name}),n.jsx("p",{children:re.description}),n.jsxs("div",{className:"method-formats",children:[re.supportedFormats.slice(0,3).map((le,be)=>n.jsx("span",{className:"format-tag",children:le},be)),re.supportedFormats.length>3&&n.jsxs("span",{className:"format-tag",children:["+",re.supportedFormats.length-3," more"]})]})]})]},re.id))}),X&&n.jsxs("div",{className:"upload-message error",children:[n.jsx(Cu,{}),n.jsx("span",{children:X})]}),k&&n.jsxs("div",{className:"upload-message success",children:[n.jsx(Ft,{}),n.jsx("span",{children:k})]}),n.jsxs("div",{className:"upload-interface",children:[h==="file"&&n.jsx("div",{className:"file-upload-section",children:n.jsxs("div",{className:`upload-zone ${g?"drag-active":""} ${V?"has-file":""}`,onDragEnter:G,onDragLeave:G,onDragOver:G,onDrop:M,onClick:()=>{var re;return(re=he.current)==null?void 0:re.click()},children:[n.jsx("input",{ref:he,type:"file",accept:u.join(","),onChange:ge,className:"file-input-hidden",disabled:a,title:"Select file to upload","aria-label":"Select file to upload"}),V?n.jsxs("div",{className:"selected-file",children:[n.jsxs("div",{className:"file-info",children:[n.jsx(If,{size:24}),n.jsxs("div",{className:"file-details",children:[n.jsx("h4",{children:V.name}),n.jsxs("p",{children:[(V.size/(1024*1024)).toFixed(2),"MB"]})]})]}),n.jsx("button",{className:"remove-file",onClick:re=>{re.stopPropagation(),Fe()},disabled:a,title:"Remove selected file","aria-label":"Remove selected file",children:n.jsx(Pt,{})})]}):n.jsxs(n.Fragment,{children:[n.jsx(An,{size:32,className:"upload-icon"}),n.jsx("h4",{children:"Drop your file here or click to browse"}),n.jsxs("p",{children:["Supports: ",u.join(", ")]}),n.jsxs("p",{className:"size-limit",children:["Maximum file size: ",d,"MB"]})]}),E>0&&E<100&&n.jsxs("div",{className:"upload-progress",children:[n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-fill","data-progress":E})}),n.jsxs("span",{children:[E,"%"]})]})]})}),(h==="url"||h==="figma-link")&&n.jsxs("div",{className:"url-import-section",children:[n.jsxs("div",{className:"url-input-group",children:[n.jsx("label",{htmlFor:"import-url",children:h==="figma-link"?"Figma File URL":"Image URL"}),n.jsx("input",{id:"import-url",type:"url",placeholder:h==="figma-link"?"https://www.figma.com/file/...":"https://example.com/design.png",value:w,onChange:re=>O(re.target.value),disabled:a,className:"url-input"})]}),n.jsx("button",{className:"import-url-btn",onClick:$e,disabled:a||!w.trim(),children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"spinner"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Vr,{}),"Import from URL"]})}),h==="figma-link"&&n.jsxs("div",{className:"figma-help",children:[n.jsx("h5",{children:"How to get your Figma URL:"}),n.jsxs("ol",{children:[n.jsx("li",{children:"Open your Figma file"}),n.jsx("li",{children:'Click "Share" in the top-right corner'}),n.jsx("li",{children:'Set permissions to "Anyone with the link can view"'}),n.jsx("li",{children:"Copy the file URL and paste it above"})]})]})]})]}),n.jsxs("div",{className:"import-options",children:[n.jsx("h4",{children:"Import Settings"}),n.jsxs("div",{className:"options-grid",children:[n.jsxs("label",{className:"option-item",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0}),n.jsx("span",{children:"Extract design tokens"})]}),n.jsxs("label",{className:"option-item",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0}),n.jsx("span",{children:"Generate responsive layout"})]}),n.jsxs("label",{className:"option-item",children:[n.jsx("input",{type:"checkbox"}),n.jsx("span",{children:"Preserve interactions"})]}),n.jsxs("label",{className:"option-item",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0}),n.jsx("span",{children:"Create component library"})]})]})]})]})},qf=!1,Ps=typeof window!="undefined"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="[::1]"),Xf=!Ps,xi=typeof window!="undefined"&&window.location.hostname==="lemon-field-08a1a0b0f.1.azurestaticapps.net"?"https://func-original-app-pgno4orkguix6.azurewebsites.net":void 0,em=()=>xi||"";console.log(" API Configuration:",{isDevelopment:qf,isLocalhost:Ps,isProduction:Xf,hostname:typeof window!="undefined"?window.location.hostname:"server",actualBaseUrl:em(),hasProductionFallback:!!xi,willUseDirectFunctionApp:!!xi});const tm={development:{primary:7072,fallback:5001,frontend:5173},production:{primary:443,frontend:443}},En={FALLBACK_SUGGESTIONS:["Create an Azure dashboard with service monitoring and resource management","Design Azure certification journey pages with exam codes (AZ-900, AZ-104, AZ-204, AZ-305)","Build cloud training dashboard with module completion tracking and time estimates","Add skills assessment portal with technology-specific evaluation paths","Generate Microsoft Docs-style API reference pages with code samples and Try It buttons","Create training module structure with objectives, knowledge checks, and summary","Design hands-on lab interface with Azure sandbox environment integration","Build Q&A community pages with expert answers and voting system","Design Azure services catalog with pricing, regions, and getting started tutorials","Create Microsoft 365 admin center with role-based permissions guides","Build Power Platform center with app templates and connector documentation","Generate Visual Studio Code extension marketplace with development tutorials","Create career path explorer with job role requirements and skill mapping","Design certification preparation hub with study guides, practice exams, and community forums","Build professional profile dashboard with achievements, transcripts, and learning streaks","Add mentorship platform connecting learners with industry experts","Generate interactive tutorials with step-by-step Azure portal guidance","Create code playground with live compilation and Azure resource deployment","Design assessment engine with adaptive questioning and personalized feedback","Build virtual labs with real Azure environments and guided exercises"],ENDPOINTS:{GENERATE_WIREFRAME:"/api/generate-wireframe",GENERATE_REACT_COMPONENT:"/api/generate-react-component",GENERATE_WIREFRAME_ENHANCED:"/api/generate-wireframe",GENERATE_FLUENT_WIREFRAME:"/api/generate-fluent-wireframe",GENERATE_SUGGESTIONS:"/api/generate-suggestions",GET_TEMPLATE:"/api/get-template",COMPONENT_LIBRARY:"/api/component-library",FLUENT_COMPONENTS:"/api/fluent-components",FLUENT_COMPONENTS_SEARCH:"/api/fluent-components/search",HEALTH:"/api/health",WEBSITE_ANALYZER:"/api/websiteAnalyzer"},PORTS:tm,BASE_URL:xi||void 0||""},qn=(c,s)=>`${En.BASE_URL}${c}`,zo="figma_oauth_session",Ls=1440*60*1e3,mi=()=>{var c;if(typeof window=="undefined")return null;try{const s=window.localStorage.getItem(zo);if(!s)return null;const a=JSON.parse(s);if(!a||typeof a!="object")return window.localStorage.removeItem(zo),null;const d=typeof a.connectedAt=="number"?a.connectedAt:Date.now(),u=typeof a.expiresAt=="number"?a.expiresAt:d+Ls;return Date.now()>=u?(window.localStorage.removeItem(zo),null):{source:a.source==="manual"?"manual":"oauth",connectedAt:d,expiresAt:u,user:(c=a.user)!=null?c:null,tokenPreview:a.tokenPreview}}catch(s){console.error("Error reading trusted Figma session:",s);try{window.localStorage.removeItem(zo)}catch(a){}return null}},pu=c=>{var a;if(typeof window=="undefined")return;const s=Ge(_e({},c),{expiresAt:(a=c.expiresAt)!=null?a:c.connectedAt+Ls});try{window.localStorage.setItem(zo,JSON.stringify(s))}catch(d){console.error("Error persisting trusted Figma session:",d)}},nm=()=>{if(typeof window!="undefined")try{window.localStorage.removeItem(zo)}catch(c){console.error("Error clearing trusted Figma session:",c)}},Ts=({isOpen:c,onClose:s,onImport:a,onExport:d,onTokensExtracted:u,onFileProcessed:g})=>{const[y,h]=f.useState("connect"),[b,w]=f.useState(!1),O=f.useRef(!1),E=f.useRef(null),I=f.useRef(!1),X=f.useCallback(()=>{try{const D=localStorage.getItem("figma_oauth_tokens"),ye=localStorage.getItem("figma_oauth_timestamp");if(D&&ye){const $=Date.now()-parseInt(ye),oe=1440*60*1e3;return $<oe}if(mi())return!0}catch(D){console.error("Error checking local tokens:",D)}return!1},[]),[W,k]=f.useState(null),[z,V]=f.useState(""),[Q,he]=f.useState(""),[pe,_]=f.useState(!1),[ie,G]=f.useState(null),[M,ge]=f.useState(null),[me,$e]=f.useState([]),[Fe,re]=f.useState([]),[le,be]=f.useState("figma-file"),[fe,H]=f.useState(null),[T,ce]=f.useState(!1),[ee,j]=f.useState(null),[B,m]=f.useState(0),x=()=>{const D=localStorage.getItem("figma_oauth_tokens");if(D)try{return JSON.parse(D).access_token}catch(ye){console.error("Error parsing stored OAuth tokens:",ye),localStorage.removeItem("figma_oauth_tokens"),localStorage.removeItem("figma_oauth_timestamp")}return z},R=f.useCallback(()=>we(null,null,function*(){var ye,Y;if(O.current){console.log(" Status check already in progress, skipping...");return}O.current=!0;const D=Symbol("figma-status-check");E.current=D;try{const $=mi();if($){console.log(" Using trusted local Figma session - SKIPPING ALL BACKEND CHECKS"),w(!0),k({status:"trusted_local_session",message:"Using locally trusted Figma connection",connected:!0,user:$.user||void 0}),I.current=!0,E.current=null,O.current=!1;return}I.current=!1;const oe=localStorage.getItem("figma_oauth_tokens"),Ae=localStorage.getItem("figma_oauth_timestamp");if(oe&&Ae){const Qe=Date.now()-parseInt(Ae),ct=1440*60*1e3;if(Qe<ct){console.log(" Found valid locally stored OAuth tokens"),console.log(" Setting isConnected to TRUE from stored tokens"),w(!0),k({status:"already_authorized",message:"Connected via locally stored OAuth tokens",connected:!0,user:{email:"OAuth User (Stored)"}}),ge(" Already connected to Figma via stored OAuth tokens!"),console.log(" Using localStorage as authoritative source - skipping backend check"),I.current=!0,E.current=null,O.current=!1;return}else console.log(" Locally stored tokens expired, removing..."),localStorage.removeItem("figma_oauth_tokens"),localStorage.removeItem("figma_oauth_timestamp"),I.current=!1}const Re=yield fetch(qn("/api/figmaOAuthStatus"),{headers:{Accept:"application/json"}}),nt=(Re.headers.get("Content-Type")||"").includes("application/json");if(!Re.ok)if(nt){const Qe=yield Re.json();if(Qe.status==="oauth_not_configured"){k({status:"oauth_not_configured",message:"OAuth2 not configured - using manual token mode",error:Qe.message}),console.log(" OAuth not configured, setting isConnected to FALSE"),w(!1),h("connect");return}throw new Error(Qe.error||"OAuth status check failed")}else throw new Error("OAuth status check failed (non-JSON response)");if(nt){let Qe;try{const ct=yield Re.text();if(ct.trim())Qe=JSON.parse(ct);else{console.log(" Empty response body - likely HTML auth challenge, ignoring");return}}catch(ct){console.error("Failed to parse OAuth status response as JSON:",ct),console.log(" HTML auth challenge detected - likely stale status check, ignoring");return}if(console.log(" OAuth Status Response:",Qe),E.current!==D)console.log(" Ignoring stale OAuth status response (JSON) [token already rotated]");else if(k(Qe),Qe.status==="already_authorized"&&Qe.connected)console.log(" Server confirms OAuth connection - setting connected state to TRUE"),w(!0),I.current=!0,ge(` Already connected to Figma! Welcome back, ${((ye=Qe.user)==null?void 0:ye.email)||((Y=Qe.user)==null?void 0:Y.handle)||"User"}`),h("connect");else{const ct=X(),Fn=!!mi();!ct&&!Fn&&!I.current?(console.log(" Server indicates not connected (no local/trusted session) - leaving connection FALSE",Qe),w(!1),h("connect")):console.log(" Server indicates disconnect but local trusted state exists - keeping connection TRUE")}}else{const Qe=X(),ct=!!mi();E.current!==D?console.log(" Ignoring stale HTML OAuth status response [token already rotated]"):!Qe&&!ct&&!I.current?(k({status:"authorization_required",message:"Authorization required (interactive auth page detected)"}),console.log(" HTML auth challenge detected (no local session yet) - awaiting OAuth completion"),w(!1),h("connect")):console.log(" HTML response received but valid session exists - keeping connection TRUE")}}catch($){console.error("Error checking OAuth status:",$);const oe=X(),Ae=!!mi();E.current!==D?console.log(" Ignoring stale OAuth status error [token already rotated]"):!oe&&!Ae&&!I.current?(k({status:"oauth_error",message:"OAuth connection unavailable - using manual token mode",error:$ instanceof Error?$.message:String($)}),console.log(" OAuth status request failed (no local/trusted session) - leaving connection FALSE"),w(!1),h("connect")):(console.log(" OAuth status check failed but valid session exists - keeping connection TRUE"),k({status:"oauth_error_but_connected",message:"Status check failed but using stored OAuth tokens",connected:!0}))}finally{E.current===D&&(O.current=!1,E.current=null)}}),[]);f.useEffect(()=>{c&&R()},[c]),f.useEffect(()=>{const D=ye=>{var Y,$;if(((Y=ye.data)==null?void 0:Y.type)==="FIGMA_OAUTH_SUCCESS"){console.log(" Received OAuth success message",ye.data),ye.data.tokenInfo&&(localStorage.setItem("figma_oauth_tokens",JSON.stringify(ye.data.tokenInfo)),localStorage.setItem("figma_oauth_timestamp",Date.now().toString()),console.log(" Stored OAuth tokens locally"));const oe=Date.now();pu({source:"oauth",connectedAt:oe,expiresAt:oe+Ls,user:ye.data.userInfo||null,tokenPreview:($=ye.data.tokenInfo)!=null&&$.access_token?`${ye.data.tokenInfo.access_token.slice(0,4)}${ye.data.tokenInfo.access_token.slice(-4)}`:void 0}),console.log(" Setting isConnected to TRUE immediately"),w(!0),I.current=!0,E.current=null,O.current=!1,k({status:"already_authorized",message:"Successfully connected via OAuth",connected:!0,user:ye.data.userInfo||{email:"OAuth User"}}),ge(" Successfully connected to Figma! You can now import designs."),G(null),(window.figmaOAuthWindows||[]).forEach(Re=>{Re&&!Re.closed&&Re.close()}),console.log(" OAuth complete - trusted session persisted, no further status checks needed")}};return window.addEventListener("message",D),()=>window.removeEventListener("message",D)},[]);const de=f.useCallback(()=>we(null,null,function*(){_(!0),G(null);try{const D=yield fetch(qn("/api/figmaOAuthStart"),{method:"GET"});if(!D.ok){let Y;try{const $=yield D.text();if($.trim())Y=JSON.parse($);else throw console.log(" Empty OAuth start error response - likely HTML auth challenge, graceful fallback"),new Error(`OAuth start failed with status ${D.status}: ${D.statusText}`)}catch($){throw $.message.includes("Empty response body")||$.message.includes("OAuth start failed with status")?$:(console.log(" OAuth start error response not JSON - likely HTML auth challenge"),new Error(`OAuth start failed with status ${D.status}: ${D.statusText}`))}if(Y.status==="oauth_not_configured"){G(" OAuth is not configured. Please use the Manual Token section below to connect to Figma."),h("connect");return}throw new Error(Y.error||"Failed to get authorization URL")}let ye;try{const Y=yield D.text();if(Y.trim()){if(Y.trim().toLowerCase().startsWith("<!doctype")||Y.trim().startsWith("<html"))throw console.log(" OAuth start returned HTML - likely auth challenge or redirect page"),new Error("OAuth endpoint returned HTML instead of JSON - authentication may be required");ye=JSON.parse(Y)}else throw console.log(" Empty OAuth start response - likely HTML auth challenge"),new Error("OAuth endpoint returned empty response - authentication may be required")}catch(Y){throw Y.message.includes("OAuth endpoint returned")?Y:(console.log(" OAuth start response not valid JSON - likely HTML auth challenge"),new Error("OAuth endpoint returned invalid format - authentication may be required"))}if(ye.auth_url){const Y=window.open(ye.auth_url,"figma-oauth","width=600,height=700,scrollbars=yes,resizable=yes"),$=setInterval(()=>{Y!=null&&Y.closed&&(clearInterval($),console.log(" OAuth window closed - relying on message handler for status"))},1e3);ge(" Opening Figma OAuth window. Please authorize the application.")}else G("Failed to get authorization URL from backend")}catch(D){G(`OAuth connection failed: ${D.message}`)}finally{_(!1)}}),[]);f.useEffect(()=>{if(ie||M){const D=setTimeout(()=>{G(null),ge(null)},5e3);return()=>clearTimeout(D)}},[ie,M]);const Ee=f.useCallback((D,ye)=>we(null,null,function*(){_(!0),G(null),m(0);try{m(25),yield new Promise(oe=>setTimeout(oe,500));let Y=null,$="";if(D.type==="application/json"){const oe=yield D.text(),Ae=JSON.parse(oe);if(m(50),Ae.document||Ae.styles){const Re=uu.extractTokensFromFigma(Ae);H(Re),u==null||u(Re)}m(75),$=yield Bt.convertFramesToWireframe(Ae.frames||[],Ae.fileKey||"uploaded-file"),Y=Ae}else D.type.startsWith("image/")&&(m(50),$=`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Imported Design - ${D.name}</title>
                    <style>
                        body { margin: 0; padding: 20px; font-family: 'Segoe UI', sans-serif; background: #f5f5f5; }
                        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
                        .header { background: #3C4858; color: white; padding: 20px; text-align: center; }
                        .content { padding: 20px; text-align: center; }
                        .design-image { max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
                        .metadata { margin-top: 20px; padding: 16px; background: #f8f9fa; border-radius: 6px; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <div class="header">
                            <h1> Imported Design</h1>
                            <p>Design imported from ${D.name}</p>
                        </div>
                        <div class="content">
                            <img src="${ye.previewUrl||URL.createObjectURL(D)}" alt="${D.name}" class="design-image" />
                            <div class="metadata">
                                <strong>File Details:</strong><br>
                                Name: ${D.name}<br>
                                Size: ${(D.size/1024/1024).toFixed(2)} MB<br>
                                Type: ${D.type}<br>
                                Last Modified: ${new Date(D.lastModified).toLocaleDateString()}
                            </div>
                        </div>
                    </div>
                </body>
                </html>`,m(75),Y={type:"image",file:D,metadata:ye});m(100),g==null||g(D,Y),a($,D.name,fe||void 0),ge(` Successfully processed "${D.name}"! Design tokens extracted and HTML generated.`),setTimeout(()=>s(),2e3)}catch(Y){G(Y instanceof Error?Y.message:"Failed to process file")}finally{_(!1),m(0)}}),[a,u,g,s,fe]),Ce=f.useCallback(D=>we(null,null,function*(){_(!0),G(null),m(0);try{const ye=x();if(!ye){G("Please connect to Figma first (OAuth or manual token)");return}Bt.setAccessToken(ye);const Y=Bt.parseFileUrl(D);if(Y){m(25);const $=yield Bt.getFile(Y);m(50);const oe=Bt.extractFrames($.document);$e(oe);const Ae=uu.extractTokensFromFigma($,Y);H(Ae),u==null||u(Ae),m(75);const Re=oe.map(Ze=>Ze.id);re(Re),m(100),ge(` Found ${oe.length} frames and extracted ${Ae.colors.length} color tokens, ${Ae.typography.length} typography tokens.`)}else{m(50);const $=`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Imported from URL</title>
                    <style>
                        body { margin: 0; padding: 20px; font-family: 'Segoe UI', sans-serif; }
                        .container { max-width: 1200px; margin: 0 auto; }
                        .imported-content { text-align: center; padding: 40px; }
                        .url-preview { max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <div class="imported-content">
                            <h1> Imported from URL</h1>
                            <p>Content imported from: ${D}</p>
                            <img src="${D}" alt="Imported content" class="url-preview" onerror="this.style.display='none'" />
                        </div>
                    </div>
                </body>
                </html>`;m(100),a($,"URL Import"),ge(" Successfully imported content from URL!"),setTimeout(()=>s(),2e3)}}catch(ye){G(ye instanceof Error?ye.message:"Failed to import from URL")}finally{_(!1),m(0)}}),[a,u,s,x]),ze=f.useCallback(()=>we(null,null,function*(){if(!z.trim()){G("Please enter your Figma access token");return}_(!0),G(null);try{if(yield new Promise(D=>setTimeout(D,1500)),z.toLowerCase().includes("figd_")||z.length>10){Bt.setAccessToken(z),w(!0);const D=Date.now();pu({source:"manual",connectedAt:D,expiresAt:D+Ls,user:{email:"Personal Access Token"},tokenPreview:`${z.slice(0,4)}${z.slice(-4)}`}),I.current=!0,E.current=null,O.current=!1,ge(" Successfully connected to Figma! You can now import designs."),window.open("https://www.figma.com/","_blank")}else G('Please enter a valid Figma access token starting with "figd_"')}catch(D){G(D instanceof Error?D.message:"Failed to connect to Figma")}finally{_(!1)}}),[z]);f.useCallback(()=>we(null,null,function*(){if(!Q.trim()){G("Please enter a Figma file URL");return}_(!0),G(null),$e([]);try{const D=x();if(!D){G("Please connect to Figma first (OAuth or manual token)");return}Bt.setAccessToken(D);const ye=Bt.parseFileUrl(Q);if(!ye){G("Invalid Figma URL. Please use a valid Figma file URL.");return}const Y=yield Bt.getFile(ye),$=Bt.extractFrames(Y.document);$e($),ge(` Found ${$.length} frames in your Figma file. Select which ones to import.`)}catch(D){G(D instanceof Error?D.message:"Failed to load Figma file")}finally{_(!1)}}),[Q,x]);const Be=f.useCallback(D=>{re(ye=>ye.includes(D)?ye.filter(Y=>Y!==D):[...ye,D])},[]),Ve=f.useCallback(()=>we(null,null,function*(){if(Fe.length===0){G("Please select at least one frame to import");return}_(!0),G(null),m(0);try{const D=x();if(!D){G("Please connect to Figma first (OAuth or manual token)");return}Bt.setAccessToken(D);const ye=Bt.parseFileUrl(Q);if(!ye){G("Invalid Figma URL");return}m(25);const Y=me.filter(oe=>Fe.includes(oe.id));m(50);const $=yield Bt.convertFramesToWireframe(Y,ye);m(75),a($,"Figma Import",fe||void 0),m(100),ge(" Figma designs successfully imported and converted to wireframe with design tokens!"),j(new Date),setTimeout(()=>s(),2e3)}catch(D){G(D instanceof Error?D.message:"Failed to import frames")}finally{_(!1),m(0)}}),[Fe,me,Q,a,s,fe,x]);f.useCallback(()=>{d==null||d(le),ge(` ${le==="figma-file"?"HTML file":"JSON data file"} download started! Check your browser's Downloads folder.`),setTimeout(()=>s(),2e3)},[le,d,s]);const lt=f.useCallback(()=>we(null,null,function*(){_(!0),G(null);try{w(!1),V(""),$e([]),re([]),he(""),k(null),Bt.setAccessToken(""),localStorage.removeItem("figma_oauth_tokens"),localStorage.removeItem("figma_oauth_timestamp"),console.log(" Cleared locally stored OAuth tokens"),nm();try{(yield fetch(qn("/api/figmaOAuthDisconnect"),{method:"POST",headers:{Accept:"application/json"}})).ok&&console.log(" Backend OAuth session cleared")}catch(D){console.log(" Backend disconnect not available, local cleanup only")}ge(" Disconnected from Figma. Your local session has been cleared."),h("connect"),console.log(" Disconnect complete - no further status checks needed"),I.current=!1,E.current=null,O.current=!1}catch(D){console.error("Disconnect error:",D),G(`Disconnect failed: ${D instanceof Error?D.message:"Unknown error"}`)}finally{_(!1)}}),[]);return c?n.jsx("div",{className:"figma-modal-overlay",children:n.jsxs("div",{className:"figma-modal",children:[n.jsxs("div",{className:"figma-modal-header",children:[n.jsxs("div",{className:"figma-modal-title",children:[n.jsx(Fo,{className:"figma-icon"}),n.jsx("h2",{children:"Figma Integration Hub"})]}),n.jsx("button",{className:"figma-modal-close",onClick:s,"aria-label":"Close Figma integration modal",children:n.jsx(Pt,{})})]}),ie&&n.jsxs("div",{className:"figma-message figma-error",children:[n.jsx(bl,{}),n.jsx("span",{children:ie})]}),M&&n.jsxs("div",{className:"figma-message figma-success",children:[n.jsx(Ft,{}),n.jsx("span",{children:M})]}),n.jsx("div",{className:`figma-connection-status ${b?"connected":"disconnected"}`,children:b?n.jsxs(n.Fragment,{children:[n.jsx(Ft,{className:"status-icon"}),n.jsx("span",{children:"Connected to Figma"}),n.jsx("button",{className:"disconnect-btn",onClick:lt,children:"Disconnect"})]}):n.jsxs(n.Fragment,{children:[n.jsx(bl,{className:"status-icon"}),n.jsx("span",{children:"Not connected to Figma"})]})}),n.jsxs("div",{className:"figma-tabs",children:[n.jsxs("button",{className:`figma-tab ${y==="connect"?"active":""}`,onClick:()=>h("connect"),children:[n.jsx(Bf,{}),"Connect"]}),n.jsxs("button",{className:`figma-tab ${y==="url"?"active":""} ${b?"":"disabled"}`,onClick:()=>b&&h("url"),disabled:!b,children:[n.jsx(Fo,{}),"URL Import"]}),n.jsxs("button",{className:`figma-tab ${y==="upload"?"active":""}`,onClick:()=>h("upload"),children:[n.jsx(An,{}),"File Upload"]}),n.jsxs("button",{className:`figma-tab ${y==="live"?"active":""} ${b?"":"disabled"}`,onClick:()=>b&&h("live"),disabled:!b,children:[n.jsx(Yn,{}),"Live Sync"]})]}),B>0&&n.jsxs("div",{className:"figma-progress-container",children:[n.jsx("div",{className:"figma-progress-bar",children:n.jsx("div",{className:"figma-progress-fill",style:{"--progress-value":`${B}%`}})}),n.jsxs("span",{className:"figma-progress-text",children:[B,"% complete"]})]}),n.jsxs("div",{className:"figma-modal-content",children:[y==="connect"&&n.jsxs("div",{className:"figma-tab-content",children:[n.jsxs("div",{className:"tab-description",children:[n.jsx("h3",{children:" Connect to Figma"}),n.jsx("p",{children:"Securely connect your Figma account to import designs with full OAuth2 authentication."})]}),b?n.jsxs("div",{className:"figma-connected-section",children:[n.jsxs("div",{className:"connection-success",children:[n.jsx(Ft,{className:"success-icon"}),n.jsxs("div",{className:"connection-details",children:[n.jsx("h4",{children:"Successfully Connected!"}),(W==null?void 0:W.user)&&n.jsxs("p",{children:["Connected as: ",n.jsx("strong",{children:W.user.email||W.user.handle})]}),(W==null?void 0:W.expires_at)&&n.jsxs("p",{className:"token-expiry",children:["Token expires: ",new Date(W.expires_at).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"connected-actions",children:[n.jsxs("div",{className:"action-grid",children:[n.jsxs("button",{className:"figma-btn figma-btn-primary",onClick:()=>h("url"),children:[n.jsx(Fo,{}),"Import from URL"]}),n.jsxs("button",{className:"figma-btn figma-btn-primary",onClick:()=>h("live"),children:[n.jsx(Yn,{}),"Setup Live Sync"]})]}),n.jsxs("button",{className:"figma-btn figma-btn-danger disconnect-btn",onClick:lt,disabled:pe,children:[pe?n.jsx(Yn,{className:"spinning"}):n.jsx(Pt,{}),"Disconnect"]})]})]}):n.jsxs("div",{className:"figma-connect-section",children:[n.jsxs("div",{className:"figma-oauth-info",children:[n.jsxs("div",{className:"oauth-feature",children:[n.jsx(Fo,{className:"feature-icon"}),n.jsxs("div",{children:[n.jsx("h4",{children:"Secure OAuth2 Connection"}),n.jsx("p",{children:"Connect using Figma's official OAuth2 flow. We never store your password."})]})]}),n.jsxs("div",{className:"oauth-feature",children:[n.jsx(Cl,{className:"feature-icon"}),n.jsxs("div",{children:[n.jsx("h4",{children:"Full File Access"}),n.jsx("p",{children:"Access your Figma files, extract design tokens, and import components."})]})]}),n.jsxs("div",{className:"oauth-feature",children:[n.jsx(Yn,{className:"feature-icon"}),n.jsxs("div",{children:[n.jsx("h4",{children:"Real-time Sync"}),n.jsx("p",{children:"Keep your wireframes in sync with Figma file changes automatically."})]})]})]}),n.jsxs("div",{className:"figma-connect-actions",children:[(W==null?void 0:W.status)!=="oauth_not_configured"&&n.jsx("button",{className:"figma-btn figma-btn-primary oauth-btn",onClick:de,disabled:pe,children:pe?n.jsxs(n.Fragment,{children:[n.jsx(Yn,{className:"spinning"}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pf,{}),"Connect with Figma OAuth"]})}),(W==null?void 0:W.status)==="oauth_not_configured"&&n.jsx("div",{className:"oauth-not-available",children:n.jsxs("div",{className:"info-message",children:[n.jsx($f,{className:"info-icon"}),n.jsxs("div",{children:[n.jsx("h4",{children:"OAuth Not Configured"}),n.jsx("p",{children:"OAuth2 authentication is not set up. Please use the manual token method below."})]})]})}),n.jsxs("div",{className:"oauth-alternative",children:[n.jsx("span",{className:"oauth-divider",children:"or"}),n.jsxs("div",{className:"manual-token-section",children:[n.jsx("h4",{children:"Manual Token Connection"}),n.jsx("p",{className:"token-description",children:"Have a Figma personal access token? You can connect manually:"}),n.jsxs("div",{className:"figma-input-group",children:[n.jsx("label",{htmlFor:"manual-token",children:"Figma Personal Access Token"}),n.jsx("input",{id:"manual-token",type:"password",placeholder:"figd_...",value:z,onChange:D=>V(D.target.value),className:"figma-input"}),n.jsxs("small",{className:"token-help",children:["Get your token from ",n.jsx("a",{href:"https://www.figma.com/developers/api#access-tokens",target:"_blank",rel:"noopener noreferrer",children:"Figma Settings"})]})]}),n.jsxs("button",{className:"figma-btn figma-btn-outline",onClick:ze,disabled:pe||!z.trim(),children:[pe?n.jsx(Yn,{className:"spinning"}):n.jsx(Fo,{}),"Connect with Token"]})]})]})]})]})]}),y==="url"&&n.jsxs("div",{className:"figma-tab-content",children:[n.jsxs("div",{className:"tab-description",children:[n.jsx("h3",{children:" Import from URL"}),n.jsx("p",{children:"Import from Figma URLs or any image URL. Design tokens will be automatically extracted from Figma files."})]}),n.jsxs("div",{className:"figma-input-group",children:[n.jsx("label",{htmlFor:"figma-url",children:"Figma File URL or Image URL"}),n.jsx("input",{id:"figma-url",type:"url",placeholder:"https://www.figma.com/file/... or image URL",value:Q,onChange:D=>he(D.target.value),className:"figma-input"})]}),n.jsxs("button",{className:"figma-btn figma-btn-primary",onClick:()=>Ce(Q),disabled:pe||!Q.trim(),children:[pe?n.jsx(Yn,{className:"spinning"}):n.jsx(Vr,{}),pe?"Processing...":"Import Design"]}),me.length>0&&n.jsxs("div",{className:"figma-frames-section",children:[n.jsxs("h4",{children:["Select Frames to Import (",me.length," available)"]}),n.jsx("div",{className:"figma-frames-grid",children:me.map(D=>n.jsxs("div",{className:`figma-frame-card ${Fe.includes(D.id)?"selected":""}`,onClick:()=>Be(D.id),children:[n.jsx("div",{className:"frame-preview",children:n.jsx(Tl,{size:24})}),n.jsxs("div",{className:"frame-info",children:[n.jsx("h5",{children:D.name}),n.jsx("span",{className:"frame-type",children:D.type}),D.absoluteBoundingBox&&n.jsxs("span",{className:"frame-size",children:[Math.round(D.absoluteBoundingBox.width),"  ",Math.round(D.absoluteBoundingBox.height)]})]}),Fe.includes(D.id)&&n.jsx("div",{className:"frame-selected-indicator",children:n.jsx(Ft,{})})]},D.id))}),n.jsxs("div",{className:"figma-actions",children:[n.jsx("button",{className:"figma-btn figma-btn-outline",onClick:()=>re(me.map(D=>D.id)),children:"Select All"}),n.jsx("button",{className:"figma-btn figma-btn-outline",onClick:()=>re([]),children:"Clear Selection"}),n.jsxs("button",{className:"figma-btn figma-btn-primary",onClick:Ve,disabled:pe||Fe.length===0,children:[pe?n.jsx(Yn,{className:"spinning"}):n.jsx(An,{}),"Import Selected (",Fe.length,")",fe&&" with Tokens"]})]})]})]}),y==="upload"&&n.jsxs("div",{className:"figma-tab-content",children:[n.jsxs("div",{className:"tab-description",children:[n.jsx("h3",{children:" Upload Files"}),n.jsx("p",{children:"Upload Figma JSON exports, images, or drag & drop files for instant conversion with design token extraction."})]}),n.jsx(Zf,{onFileSelect:Ee,onUrlImport:Ce,isLoading:pe})]}),y==="live"&&n.jsxs("div",{className:"figma-tab-content",children:[n.jsxs("div",{className:"tab-description",children:[n.jsx("h3",{children:" Live Sync"}),n.jsx("p",{children:"Set up real-time synchronization with your Figma files for automatic updates and collaboration."})]}),n.jsxs("div",{className:"figma-sync-status",children:[n.jsxs("div",{className:"sync-header",children:[n.jsxs("h4",{children:[n.jsx(Yn,{className:T?"spinning":""}),"Sync Status"]}),n.jsx("span",{className:`sync-status-badge ${T?"active":"inactive"}`,children:T?"Active":"Inactive"})]}),ee&&n.jsxs("div",{className:"sync-info",children:[n.jsx(Nu,{}),n.jsxs("span",{children:["Last sync: ",ee.toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"figma-sync-controls",children:[n.jsx("button",{className:`figma-btn ${T?"figma-btn-danger":"figma-btn-primary"}`,onClick:()=>ce(!T),children:T?n.jsxs(n.Fragment,{children:[n.jsx(_f,{}),"Disable Live Sync"]}):n.jsxs(n.Fragment,{children:[n.jsx(Uf,{}),"Enable Live Sync"]})}),T&&n.jsxs("div",{className:"sync-options",children:[n.jsxs("label",{className:"figma-checkbox",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0}),n.jsx("span",{children:"Auto-import on file changes"})]}),n.jsxs("label",{className:"figma-checkbox",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0}),n.jsx("span",{children:"Extract design tokens automatically"})]}),n.jsxs("label",{className:"figma-checkbox",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0}),n.jsx("span",{children:"Generate component previews"})]})]})]}),T&&Q&&n.jsxs("div",{className:"figma-monitored-file",children:[n.jsx("h5",{children:"Monitoring File:"}),n.jsx("code",{className:"figma-file-url",children:Q})]})]}),fe&&n.jsxs("div",{className:"figma-tokens-section",children:[n.jsxs("div",{className:"tokens-header",children:[n.jsxs("h3",{children:[n.jsx(Cl,{}),"Extracted Design Tokens"]}),n.jsxs("span",{className:"tokens-count",children:[Object.values(fe).flat().length," tokens"]})]}),n.jsxs("div",{className:"figma-tokens-grid",children:[fe.colors&&fe.colors.length>0&&n.jsxs("div",{className:"token-group",children:[n.jsxs("h4",{children:[" Colors (",fe.colors.length,")"]}),n.jsxs("div",{className:"color-tokens",children:[fe.colors.slice(0,8).map((D,ye)=>n.jsxs("div",{className:"color-token",children:[n.jsx("div",{className:"color-swatch",style:{"--swatch-color":D.value},title:D.value}),n.jsx("span",{className:"color-name",children:D.name})]},ye)),fe.colors.length>8&&n.jsxs("div",{className:"more-tokens",children:["+",fe.colors.length-8," more"]})]})]}),fe.typography&&fe.typography.length>0&&n.jsxs("div",{className:"token-group",children:[n.jsxs("h4",{children:[" Typography (",fe.typography.length,")"]}),n.jsx("div",{className:"typography-tokens",children:fe.typography.slice(0,4).map((D,ye)=>n.jsxs("div",{className:"typography-token",children:[n.jsx("span",{className:"typo-name",children:D.name}),n.jsxs("span",{className:"typo-details",children:[D.fontSize,"px  ",D.fontFamily]})]},ye))})]}),fe.spacing&&fe.spacing.length>0&&n.jsxs("div",{className:"token-group",children:[n.jsxs("h4",{children:[" Spacing (",fe.spacing.length,")"]}),n.jsx("div",{className:"spacing-tokens",children:fe.spacing.slice(0,6).map((D,ye)=>n.jsxs("div",{className:"spacing-token",children:[n.jsx("span",{className:"spacing-name",children:D.name}),n.jsxs("span",{className:"spacing-value",children:[D.value,"px"]})]},ye))})]})]})]})]})]})}):null},gi=({size:c="medium",color:s="white",className:a=""})=>{const d=["loading-spinner",`loading-spinner--${c}`,`loading-spinner--${s}`,a].filter(Boolean).join(" ");return n.jsx("div",{className:d,title:"Loading..."})};function rm({error:c,savedWireframesCount:s,onLoadClick:a,description:d,onDescriptionChange:u,onSubmit:g,loading:y,handleStop:h,showAiSuggestions:b,aiSuggestions:w,suggestionLoading:O,onAiSuggestionClick:E,onGenerateAiSuggestions:I,onImageUpload:X,onAnalyzeImage:W,isAnalyzingImage:k=!1,onFigmaImport:z,onFigmaExport:V,onOpenWireframe:Q}){const he=f.useRef(null),pe=f.useRef(null),[_,ie]=f.useState(!1),[G,M]=f.useState(null),[ge,me]=f.useState(!1),[$e,Fe]=f.useState(!1),[re,le]=f.useState({connected:!1}),[be,fe]=f.useState("recent"),[H,T]=f.useState([]),[ce,ee]=f.useState([]),[j,B]=f.useState({isOpen:!1,itemName:"",itemType:"favorite",onConfirm:()=>{}});f.useEffect(()=>{const $=()=>{const Re=JSON.parse(localStorage.getItem("designetica_favorites")||"[]");T(Re)},oe=()=>{const Re=JSON.parse(localStorage.getItem("designetica_recents")||"[]");ee(Re)};$(),oe();const Ae=()=>{$(),oe()};return window.addEventListener("storage",Ae),()=>window.removeEventListener("storage",Ae)},[]);const m=$=>{const oe=H.find(Re=>Re.id===$),Ae=(oe==null?void 0:oe.name)||"this favorite";B({isOpen:!0,itemName:Ae,itemType:"favorite",onConfirm:()=>{const Re=H.filter(Ze=>Ze.id!==$);T(Re),localStorage.setItem("designetica_favorites",JSON.stringify(Re))}})},x=$=>{const oe=ce.find(Re=>Re.id===$),Ae=(oe==null?void 0:oe.name)||"this recent project";B({isOpen:!0,itemName:Ae,itemType:"recent",onConfirm:()=>{const Re=ce.filter(Ze=>Ze.id!==$);ee(Re),localStorage.setItem("designetica_recents",JSON.stringify(Re))}})},R=$=>{Q&&$.htmlContent?Q($.htmlContent,$.description||$.name):console.warn("Cannot open wireframe: missing HTML content or onOpenWireframe handler")},de=($,oe,Ae)=>{const Re={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:$,htmlContent:Ae||"",type:"recent",createdAt:new Date().toISOString()},nt=[...JSON.parse(localStorage.getItem("designetica_favorites")||"[]"),Re];T(nt),localStorage.setItem("designetica_favorites",JSON.stringify(nt)),alert(`"${$}" has been added to your favorites!`)},Ee=f.useCallback(($,oe,Ae)=>{const Re={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:$,description:oe,htmlContent:Ae||"",type:"wireframe",createdAt:new Date().toISOString()},Ze=JSON.parse(localStorage.getItem("designetica_recents")||"[]"),nt=Ze.findIndex(ct=>ct.name===$);nt!==-1&&Ze.splice(nt,1);const Qe=[Re,...Ze].slice(0,10);ee(Qe),localStorage.setItem("designetica_recents",JSON.stringify(Qe))},[]);f.useEffect(()=>{window.addToRecents=Ee;const $=oe=>{const{name:Ae,description:Re,html:Ze}=oe.detail;Ee(Ae,Re,Ze)};return window.addEventListener("wireframeSaved",$),()=>{window.removeEventListener("wireframeSaved",$)}},[Ee]);const Ce=()=>we(null,null,function*(){le($=>({connected:$.connected,login:$.login}));try{const{startGitHubAuth:$}=yield zl(()=>we(null,null,function*(){const{startGitHubAuth:Ae}=yield import("./githubAuth-COUPTBt4.js");return{startGitHubAuth:Ae}}),[]),oe=yield $();oe.status==="success"?(le({connected:!0,login:oe.login||"unknown"}),oe.token&&sessionStorage.setItem("github_token",oe.token)):le({connected:!1,error:oe.error||"Authentication failed"})}catch($){le({connected:!1,error:$.message})}}),ze=f.useRef(null),Be=$=>{const oe=$.trim();return oe.length===0?!1:/^[\d\s.,]+$/.test(oe)?(M("Please provide a descriptive text, not just numbers. For example: 'contact form with name and email fields' instead of just '2'."),!1):(M(null),!0)},Ve=($,oe)=>{$.preventDefault(),Be(oe||d)&&g($,oe)},lt=$=>{const oe=$.target.value;if(u($),G&&oe.trim()){const Ae=oe.trim();/^[\d\s.,]+$/.test(Ae)||M(null)}oe.trim()||M(null)};f.useEffect(()=>{he.current&&he.current.focus()},[]),f.useEffect(()=>{const $=pe.current;if(!$)return;const oe=()=>{const Re=$.scrollHeight>$.clientHeight,Ze=$.scrollTop+$.clientHeight>=$.scrollHeight-5;Re&&!Ze?$.style.setProperty("--scroll-indicator-opacity","1"):$.style.setProperty("--scroll-indicator-opacity","0")};oe(),$.addEventListener("scroll",oe);const Ae=new ResizeObserver(oe);return Ae.observe($),()=>{$.removeEventListener("scroll",oe),Ae.disconnect()}},[H,ce,be]),f.useEffect(()=>{if(I&&d.length>0){const $=d.trim();if(/^[\d\s.,]+$/.test($))return;ze.current&&window.clearTimeout(ze.current);const Ae=d.length<=3?100:200;ze.current=window.setTimeout(()=>{I(d)},Ae)}return()=>{ze.current&&window.clearTimeout(ze.current)}},[d,I]);const D=()=>{ie($=>!$)},ye=($,oe)=>{z&&z($,oe),me(!1)},Y=$=>{V&&V($),me(!1)};return n.jsxs("div",{className:"landing-page",children:[n.jsx("div",{className:"landing-container",children:n.jsxs("div",{className:"landing-content",children:[n.jsx("div",{className:"figma-plugin-announcement",children:n.jsxs("div",{className:"announcement-content",children:[n.jsx("div",{className:"announcement-icon",children:n.jsx(Es,{})}),n.jsxs("div",{className:"announcement-text",children:[n.jsx("h3",{children:" New: Designetica Figma Plugin!"}),n.jsx("p",{children:"Generate AI wireframes directly in Figma."})]}),n.jsx("div",{className:"announcement-action",children:n.jsxs("a",{href:"figma://plugin/1543300122157762658",target:"_blank",rel:"noopener noreferrer",className:"figma-plugin-btn",children:[n.jsx(Es,{}),"Open in Figma"]})})]})}),n.jsxs("h1",{className:"main-heading",children:["What will you ",n.jsx("span",{className:"design-word",children:"design"})," today?"]}),n.jsx("p",{className:"main-subtitle",children:"Sketch your vision, ship your wireframe - Designetica AI does the heavy lifting."}),c&&n.jsx("div",{className:"error error-center",children:c}),G&&n.jsx("div",{className:"input-info-alert",children:G}),s>0&&n.jsx("div",{className:"action-buttons-center",children:n.jsxs("button",{type:"button",onClick:a,className:"secondary-btn-center",children:[n.jsx(cu,{})," Load Previous Work"]})}),n.jsx("form",{onSubmit:Ve,className:"main-form",children:n.jsxs("div",{className:"input-container",children:[n.jsxs("div",{className:"textarea-container",children:[n.jsx("textarea",{ref:he,value:d,onChange:lt,onKeyDown:$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),d.trim()&&!y&&Ve($))},placeholder:"How can Designetica help you today? (e.g., 'Create a Microsoft Learn certification dashboard with Azure exam tracking and study progress')",rows:4,className:"app-textarea main-input"}),n.jsx("button",{type:"submit",disabled:y||!d.trim(),className:"send-btn",title:y?"Generating...":"Generate",children:y?n.jsx(gi,{size:"small",color:"white"}):n.jsx(Sl,{className:"send-icon"})}),y&&n.jsx("button",{type:"button",className:`stop-btn-landing ${y?"generating":""}`,onClick:$=>{console.log(" Stop button clicked!"),console.log(" Current loading state:",y),console.log(" handleStop function:",typeof h),$.preventDefault(),$.stopPropagation();try{console.log(" About to call handleStop..."),h(),console.log(" handleStop called successfully!")}catch(oe){console.error(" Error calling handleStop:",oe)}},title:"Stop generation",children:n.jsx(Nl,{})})]}),b&&!y&&w.length>0&&n.jsxs("div",{className:"ai-suggestions-inline ai-suggestions-dynamic",children:[n.jsxs("div",{className:"ai-suggestions-label",children:[n.jsx(wl,{className:"ai-icon"}),n.jsx("span",{children:"AI Suggestions:"}),O&&n.jsx("span",{className:"loading-dot",children:""})]}),n.jsx("div",{className:"ai-suggestions-buttons",children:w.map(($,oe)=>n.jsxs("button",{type:"button",className:"ai-suggestion-pill ai-suggestion-button",onClick:()=>{E($)},children:[n.jsx("span",{className:"ai-badge",children:"AI"}),$]},oe))})]}),n.jsxs("div",{className:"integration-pills-container",children:[n.jsxs("button",{type:"button",className:"integration-pill figma-pill",onClick:()=>{console.log(" Figma pill clicked on landing page!"),me(!0)},title:"Connect with Figma - Import designs or export wireframes",children:[n.jsx(Es,{className:"pill-icon"}),n.jsx("span",{children:"Figma Integration"})]}),n.jsxs("button",{type:"button",className:"integration-pill image-pill",onClick:D,title:"Upload UI image to analyze",children:[n.jsx(To,{className:"pill-icon"}),n.jsx("span",{children:"Upload Image"})]}),n.jsxs("button",{type:"button",className:"integration-pill github-pill",onClick:()=>{console.log(" GitHub pill clicked on landing page!"),Fe(!0)},title:"Connect to GitHub repository",children:[n.jsx(kl,{className:"pill-icon"}),n.jsx("span",{children:"Connect GitHub"})]})]}),n.jsx("div",{className:"ai-disclaimer",children:n.jsx("p",{children:"Designetica uses AI. Check for mistakes."})}),n.jsxs("div",{className:"recent-favorites-section",children:[n.jsxs("div",{className:"section-tabs github-style",children:[n.jsxs("button",{className:`tab-btn github-tab ${be==="recent"?"active":""}`,onClick:()=>fe("recent"),children:[n.jsx("svg",{className:"tab-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:n.jsx("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"})}),"Recent"]}),n.jsxs("button",{className:`tab-btn github-tab ${be==="favorites"?"active":""}`,onClick:()=>fe("favorites"),children:[n.jsx("svg",{className:"tab-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:n.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})}),"Favorites"]})]}),n.jsx("div",{className:"projects-container github-container",ref:pe,children:be==="recent"?ce.length>0?ce.map($=>n.jsxs("div",{className:"project-item github-item",onClick:()=>R($),children:[n.jsx("div",{className:"project-icon",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:n.jsx("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"})})}),n.jsxs("div",{className:"project-details",children:[n.jsx("div",{className:"project-name",children:$.name}),n.jsx("div",{className:"project-meta",children:$.description||`Created ${new Date($.createdAt).toLocaleDateString()}`})]}),n.jsxs("div",{className:"project-actions",onClick:oe=>oe.stopPropagation(),children:[n.jsx("button",{className:"action-btn star-btn","aria-label":"Favorite this",title:"Favorite this",onClick:()=>de($.name,$.description||`Created ${new Date($.createdAt).toLocaleDateString()}`,$.htmlContent),children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:n.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})})}),n.jsx("button",{className:"action-btn delete-btn","aria-label":"Delete recent",onClick:()=>x($.id),children:n.jsx(El,{size:16})})]})]},$.id)):n.jsx("div",{className:"empty-state",children:n.jsxs("div",{className:"empty-state-content",children:[n.jsx("svg",{className:"empty-icon",width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",children:n.jsx("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"})}),n.jsx("p",{className:"empty-message",children:"No recent projects"}),n.jsx("p",{className:"empty-description",children:"Start creating wireframes to see your recent work here"})]})}):H.length>0?H.map($=>n.jsxs("div",{className:"project-item github-item",onClick:()=>R($),children:[n.jsx("div",{className:"project-icon favorite",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:n.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})})}),n.jsxs("div",{className:"project-details",children:[n.jsx("div",{className:"project-name",children:$.name}),n.jsx("div",{className:"project-meta",children:`Added ${new Date($.createdAt).toLocaleDateString()}`})]}),n.jsx("div",{className:"project-actions",onClick:oe=>oe.stopPropagation(),children:n.jsx("button",{className:"action-btn delete-btn","aria-label":"Delete favorite",onClick:()=>m($.id),children:n.jsx(El,{size:16})})})]},$.id)):n.jsx("div",{className:"empty-state",children:n.jsxs("div",{className:"empty-state-content",children:[n.jsx("svg",{className:"empty-icon",width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",children:n.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})}),n.jsx("p",{className:"empty-message",children:"No favorites"}),n.jsx("p",{className:"empty-description",children:"Star projects to add them to your favorites"})]})})})]})]})}),_&&X&&W&&n.jsx("div",{className:"modal-overlay",onClick:()=>ie(!1),children:n.jsxs("div",{className:"modal-content",onClick:$=>$.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{className:"modal-title",children:[n.jsx(An,{className:"modal-icon"}),n.jsx("h2",{children:"Upload Image to Wireframe"})]}),n.jsx("button",{className:"modal-close-btn",onClick:()=>ie(!1),title:"Close modal",children:n.jsx(Pt,{})})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"upload-content",children:[n.jsx("p",{className:"modal-description",children:"Upload an image of a UI design, wireframe, or website screenshot to generate a wireframe based on its layout."}),n.jsx("div",{className:"upload-zone-container",children:n.jsx(Au,{onImageUpload:X,onAnalyzeImage:W,isAnalyzing:k,className:"upload-zone"})})]})})]})})]})}),n.jsx(Ts,{isOpen:ge,onClose:()=>me(!1),onImport:ye,onExport:Y}),$e&&n.jsx("div",{className:"modal-overlay",onClick:()=>Fe(!1),children:n.jsxs("div",{className:"modal-content github-modal",onClick:$=>$.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:" Connect to GitHub"}),n.jsx("button",{className:"modal-close-btn",onClick:()=>Fe(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"github-benefits",children:[n.jsxs("div",{className:"benefit-item",children:[n.jsx(Al,{className:"benefit-icon"}),n.jsxs("div",{children:[n.jsx("h4",{children:"Import Repositories"}),n.jsx("p",{children:"Import existing projects and wireframes from your GitHub repositories"})]})]}),n.jsxs("div",{className:"benefit-item",children:[n.jsx(cu,{className:"benefit-icon"}),n.jsxs("div",{children:[n.jsx("h4",{children:"Save Wireframes"}),n.jsx("p",{children:"Automatically save your wireframes to GitHub for version control"})]})]}),n.jsxs("div",{className:"benefit-item",children:[n.jsx(Fo,{className:"benefit-icon"}),n.jsxs("div",{children:[n.jsx("h4",{children:"Team Collaboration"}),n.jsx("p",{children:"Share wireframes with your team through GitHub integration"})]})]})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsxs("button",{className:"btn-primary github-connect-btn",type:"button",onClick:()=>{re.connected||Ce()},children:[n.jsx(kl,{}),re.connected?`Connected: ${re.login}`:"Connect with GitHub"]}),re.error&&n.jsx("div",{className:"error github-error",children:re.error}),n.jsx("button",{className:"btn-secondary",onClick:()=>Fe(!1),children:"Maybe Later"})]})]})]})}),n.jsx(Kf,{isOpen:j.isOpen,onClose:()=>B($=>Ge(_e({},$),{isOpen:!1})),onConfirm:j.onConfirm,itemName:j.itemName,itemType:j.itemType}),n.jsx(Qf,{}),n.jsx(Vf,{})]})}const om=({isAI:c,isLoading:s})=>s?n.jsx("span",{className:"suggestion-source-indicator loading",children:n.jsx("span",{className:"loading-dots",children:"..."})}):n.jsx("span",{className:`suggestion-source-indicator ${c?"ai":"local"}`,children:"AI"}),im=({isVisible:c,message:s="Loading...",progress:a})=>c?n.jsxs("div",{className:`loading-overlay ${c?"visible":""}`,children:[n.jsx("div",{className:"loading-spinner",children:n.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}),n.jsx("div",{className:"loading-message",children:s}),a!==void 0&&n.jsxs("div",{className:"loading-progress-container",children:[n.jsx("div",{className:"loading-progress-bar",children:n.jsx("div",{className:"loading-progress-fill",style:{"--progress":`${Math.max(0,Math.min(100,a))}%`}})}),n.jsxs("div",{className:"loading-progress-text",children:[Math.round(a),"%"]})]})]}):null;function sm(c){return we(this,null,function*(){var a;const s=[];for(const d of c)try{if(!d||!d.startsWith("http://")&&!d.startsWith("https://")&&!d.startsWith("/"))continue;let u=d;if(d.startsWith("/")&&(u=(typeof window!="undefined"?window.location.origin:"")+d),!u.startsWith("http"))continue;console.log(` Attempting to fetch CSS from: ${u}`);const g=yield fetch(u,{method:"GET",mode:"cors",headers:{Accept:"text/css,*/*;q=0.1"}});if(g.ok&&((a=g.headers.get("content-type"))!=null&&a.includes("css"))){const y=yield g.text();y.trim()&&(s.push(`/* Inlined from ${u} */
${y}`),console.log(` Successfully inlined CSS from: ${u} (${y.length} chars)`))}else console.warn(` Failed to fetch CSS from ${u}: ${g.status} ${g.statusText}`)}catch(u){console.warn(` Error fetching CSS from ${d}:`,u)}return s.join(`

`)})}function Po(c,s){if(!c)return s?{html:"",styles:"",links:[]}:"";const a=String(c);let d=a;const u=[],g=[];try{const y=[...d.matchAll(/<style[^>]*>([\s\S]*?)<\/style>/gi)].map(b=>b[1].trim()).filter(Boolean);y.length&&u.push(...y);const h=[...d.matchAll(/<link[^>]*rel=["']stylesheet["'][^>]*>/gi)];for(const b of h){const w=b[0].match(/href=["']([^"']+)["']/i);w&&g.push(w[1])}}catch(y){}try{d=d.replace(/\r\n?/g,`
`),d=d.replace(/```(?:html|HTML)?/g,"").replace(/'''(?:html|HTML)?/g,""),d=d.replace(/^['`\s]+|['`\s]+$/g,"").trim();const y=[/here['']?s a complete html document[^<]*?/i,/here is a complete html document[^<]*?/i,/this is a complete html document[^<]*?/i,/below is (?:a|an) complete html document[^<]*?/i,/the following (?:is|shows) (?:a|an) complete html document[^<]*?/i];for(const k of y)if(k.test(d)){const z=d.search(/<(?:div|header|main|section|nav|article|aside|form|table|ul|ol|footer)\b/i);z!==-1&&(d=d.slice(z));break}if(/<!DOCTYPE html>/i.test(d)||/<html[\s>]/i.test(d)){const k=d.match(/<head[^>]*>([\s\S]*?)<\/head>/i);if(k){const V=k[1],Q=[...V.matchAll(/<style[^>]*>([\s\S]*?)<\/style>/gi)].map(pe=>pe[1].trim());Q.length&&u.push(...Q);const he=[...V.matchAll(/<link[^>]*rel=["']stylesheet["'][^>]*>/gi)];for(const pe of he){const _=pe[0].match(/href=["']([^"']+)["']/i);_&&g.push(_[1])}}const z=d.match(/<body[^>]*>([\s\S]*?)<\/body>/i);z?d=z[1]:d=d.replace(/<head>[\s\S]*?<\/head>/gi,"").replace(/<!DOCTYPE[^>]*>/gi,"").replace(/<\/:?html[^>]*>/gi,"").replace(/<body[^>]*>/gi,"").replace(/<\/body>/gi,"")}d=d.replace(/###?\s*Explanation:?[\s\S]*$/i,""),d=d.replace(/^(?:[-*])\s+[^<\n]+$/gim,""),d=d.replace(/<script[\s\S]*?<\/script>/gi,""),d=d.replace(/<!DOCTYPE[^>]*>/gi,"").replace(/<\/?html[^>]*>/gi,"").replace(/<\/?body[^>]*>/gi,""),d=d.trim(),/<(div|header|main|section|article|nav|form|table|ul|ol|footer)\b/i.test(d)||(d=`<div class="generated-page" style="padding:24px;">${d}</div>`);const h=Array.from(new Set(u)),b=Array.from(new Set(g));let w=h.join(`
`);const O=/\.wireframe-content\s/.test(w),E=/class=["']wireframe-content["']/.test(d)||/<div[^>]+wireframe-content/.test(d);let I=!1;if(O&&!E&&(d=`<div class="wireframe-content">${d}</div>`,I=!0),w=w.replace(/\.wireframe-content\s+body\b/g,".wireframe-content"),w=w.replace(/\.wireframe-content\s*\/\*/g,"/*"),w=w.replace(/\.wireframe-content\s*@media/g,"@media"),I)try{w=w.replace(/(^|,)\s*(?:html|body)\b/gi,"$1 .wireframe-content"),w=w.replace(/\b(?:html|body)\b/gi,".wireframe-content")}catch(k){}w.replace(/\/\*[\s\S]*?\*\//g,"").trim()||(w="");const W=d.trim();return s?{html:W,styles:w,links:b}:W}catch(y){return{html:a,styles:"",links:[]}}}function Pl(c,s=!0){return we(this,null,function*(){const a=Po(c,!0);if(s&&a.links&&a.links.length>0)try{const d=yield sm(a.links);return Ge(_e({},a),{inlinedStyles:d,styles:a.styles+(d?`

`+d:"")})}catch(d){return console.warn("Failed to inline external CSS:",d),a}return a})}const am=({page:c,isExistingPage:s})=>{const[a,d]=f.useState({html:"",styles:"",hasContent:!1,isBlankContent:!0}),[u,g]=f.useState(!1);f.useEffect(()=>{we(null,null,function*(){var E,I,X;if(!c.htmlContent){d({html:"",styles:"",hasContent:!1,isBlankContent:!0});return}g(!0);try{const W=yield Pl(c.htmlContent,!0),k=W.html,z=!!(k&&k.trim()),V=!z||k.trim()==="<p>No content available</p>"||k.includes("No content available");console.log(` Preview for ${c.name} (with inlining):`,{id:c.id,hasContent:z,isBlankContent:V,contentLength:(k==null?void 0:k.length)||0,stylesLength:((E=W.styles)==null?void 0:E.length)||0,inlinedLength:((I=W.inlinedStyles)==null?void 0:I.length)||0,hasExternalLinks:(((X=W.links)==null?void 0:X.length)||0)>0,hasInlineStyles:(k==null?void 0:k.includes("style="))||!1}),d({html:k,styles:W.styles||"",hasContent:z,isBlankContent:V})}catch(W){console.warn(`Failed to inline CSS for ${c.name}, using fallback:`,W);const k=Po(c.htmlContent,!0),z=k.html,V=!!(z&&z.trim()),Q=!V||z.trim()==="<p>No content available</p>"||z.includes("No content available");d({html:z,styles:k.styles||"",hasContent:V,isBlankContent:Q})}finally{g(!1)}})},[c.htmlContent,c.name,c.id]);const{html:y,styles:h,hasContent:b,isBlankContent:w}=a;return n.jsxs("div",{className:"page-preview",children:[n.jsxs("div",{className:"preview-label",children:[s?"Current Wireframe:":"Generated Content:",u&&n.jsx("span",{className:"preview-loading",children:" (Loading CSS...)"})]}),n.jsx("div",{className:`preview-container ${w?"empty":""}`,children:b&&!w?n.jsx("iframe",{srcDoc:`<!DOCTYPE html><html><head><meta charset='utf-8'/><base target="_blank"/><style>
html,body{margin:0;padding:0;box-sizing:border-box;width:100%;height:100%;overflow:hidden;}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;line-height:1.1;font-size:8px;padding:2px;}
*{max-width:100% !important;animation:none !important;transition:none !important;}
img{max-width:100%;height:auto;display:block;}
button,a{pointer-events:none !important;}
/* Compact mini preview styling - force tighter spacing */
h1,h2,h3,h4,h5,h6{font-size:12px;margin:1px 0;line-height:1.1;font-weight:600;}
p{font-size:8px;margin:1px 0;line-height:1.1;}
div{margin:0 !important;padding:1px 2px !important;}
section,article,main{margin:0 !important;padding:1px !important;}
/* Force content to fill space */
.container,div[style*="max-width"]{max-width:100% !important;width:100% !important;margin:0 !important;}
div[style*="padding"]{padding:2px 4px !important;}
div[style*="margin"]{margin:1px 0 !important;}
/* Override any large dimensions */
div[style*="height"]{min-height:auto !important;}
/* Compact forms and inputs */
input,textarea,button{font-size:7px;padding:1px 2px;margin:0;}
/* Make headers more compact */
div[style*="background"][style*="padding"]{padding:2px 4px !important;margin:0 !important;}
${h}
</style></head><body>${y}</body></html>`,className:"wireframe-mini-preview",title:`${c.name} Preview`,sandbox:"allow-same-origin"}):n.jsxs("div",{className:"preview-empty-state",children:[n.jsx("div",{className:"preview-empty-icon",children:s?"":""}),n.jsx("div",{children:s?"No content yet":"Content will be generated"})]})})]})},lm=({isOpen:c,onClose:s,onAddPages:a,existingPages:d=[],onGeneratePageContent:u})=>{const[g,y]=f.useState(d),[h,b]=f.useState(""),[w,O]=f.useState(""),[E,I]=f.useState("page"),[X,W]=f.useState(!1),[k,z]=f.useState({}),[V,Q]=f.useState(""),he="addPages_draft";f.useEffect(()=>{if(c){const H=localStorage.getItem(he);if(H)try{const T=JSON.parse(H);b(T.name||""),O(T.description||""),I(T.type||"page")}catch(T){console.warn("Failed to load draft:",T)}}},[c]),f.useEffect(()=>{if(c&&(h||w)){const H={name:h,description:w,type:E,timestamp:Date.now()};localStorage.setItem(he,JSON.stringify(H))}},[h,w,E,c]);const pe=()=>{localStorage.removeItem(he)},_=(H,T,ce)=>{const ee=`
            max-width: 1200px; margin: 0 auto; padding: 40px 20px; 
            font-family: 'Segoe UI', sans-serif; line-height: 1.6;
            background: #ffffff; min-height: 100vh;
        `,j=`
            color: #3C4858; margin: 0 0 24px 0; font-size: 28px; font-weight: 600;
        `,B=`
            background: #8E9AAF; color: white; border: none; padding: 12px 24px; 
            border-radius: 4px; cursor: pointer; font-weight: 600; margin: 8px;
            transition: background-color 0.2s ease;
        `,m=`
            background: #f3f2f1; color: #3C4858; border: 1px solid #e1dfdd; 
            padding: 12px 24px; border-radius: 4px; cursor: pointer; margin: 8px;
            transition: background-color 0.2s ease;
        `,x=`
            background: white; border: 1px solid #e1dfdd; border-radius: 8px; 
            padding: 24px; margin: 16px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        `,R=`
            background: #E9ECEF; 
            padding: 60px 40px; border-radius: 12px; margin: 20px 0;
            text-align: center; border: 1px solid #e1dfdd;
        `;switch(ce){case"modal":return`
                    <div style="${ee}">
                        <div style="background: rgba(0,0,0,0.3); position: fixed; top: 80px; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; z-index: 1000;">
                            <div style="${x} max-width: 500px; position: relative; z-index: 1001;">
                                <button style="position: absolute; top: 16px; right: 16px; background: none; border: none; font-size: 24px; cursor: pointer;"></button>
                                <h2 style="${j} font-size: 24px;">${H}</h2>
                                <p style="color: #68769C; margin: 0 0 24px 0;">${T}</p>
                                <div style="display: flex; gap: 12px; justify-content: flex-end;">
                                    <button style="${m}">Cancel</button>
                                    <button style="${B}">Confirm</button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;case"component":return`
                    <div style="${ee}">
                        <div style="${x}">
                            <h3 style="${j} font-size: 20px; margin-bottom: 16px;">${H} Component</h3>
                            <p style="color: #68769C; margin: 0 0 20px 0;">${T}</p>
                            <div style="border: 2px dashed #e1dfdd; padding: 20px; text-align: center; border-radius: 8px;">
                                <p style="color: #a19f9d; margin: 0;">Component content goes here</p>
                                <p style="color: #a19f9d; margin: 8px 0 0 0; font-size: 14px;">Customize this ${ce} based on your needs</p>
                            </div>
                        </div>
                    </div>
                `;default:const de=T.toLowerCase().includes("form")||T.toLowerCase().includes("input"),Ee=T.toLowerCase().includes("dashboard")||T.toLowerCase().includes("analytics"),Ce=T.toLowerCase().includes("list")||T.toLowerCase().includes("table");return de?`
                        <div style="${ee}">
                            <h1 style="${j}">${H}</h1>
                            <p style="color: #68769C; margin: 0 0 32px 0;">${T}</p>
                            <form style="${x}">
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #3C4858;">Field Name</label>
                                    <input type="text" style="width: 100%; padding: 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-size: 16px;" placeholder="Enter value...">
                                </div>
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #3C4858;">Description</label>
                                    <textarea style="width: 100%; padding: 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-size: 16px; min-height: 100px;" placeholder="Enter description..."></textarea>
                                </div>
                                <button type="submit" style="${B}">Submit</button>
                            </form>
                        </div>
                    `:Ee?`
                        <div style="${ee}">
                            <div style="${R}">
                                <h1 style="${j} margin-bottom: 16px;">${H}</h1>
                                <p style="color: #68769C; margin: 0; font-size: 18px;">${T}</p>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 32px;">
                                <div style="${x}">
                                    <h3 style="margin: 0 0 12px 0; color: #3C4858; font-size: 16px;">Total Users</h3>
                                    <p style="font-size: 32px; font-weight: bold; margin: 0; color: #8E9AAF;">1,234</p>
                                    <p style="font-size: 14px; color: #107c10; margin: 8px 0 0 0;"> +12% vs last month</p>
                                </div>
                                <div style="${x}">
                                    <h3 style="margin: 0 0 12px 0; color: #3C4858; font-size: 16px;">Active Sessions</h3>
                                    <p style="font-size: 32px; font-weight: bold; margin: 0; color: #8E9AAF;">5,678</p>
                                    <p style="font-size: 14px; color: #107c10; margin: 8px 0 0 0;"> +8% vs last month</p>
                                </div>
                                <div style="${x}">
                                    <h3 style="margin: 0 0 12px 0; color: #3C4858; font-size: 16px;">Completion Rate</h3>
                                    <p style="font-size: 32px; font-weight: bold; margin: 0; color: #8E9AAF;">87%</p>
                                    <p style="font-size: 14px; color: #107c10; margin: 8px 0 0 0;"> +5% vs last month</p>
                                </div>
                            </div>
                            <div style="${x}">
                                <h3 style="margin: 0 0 16px 0; color: #3C4858;">Recent Activity</h3>
                                <p style="color: #68769C; margin: 0 0 20px 0;">Monitor real-time dashboard metrics and analytics.</p>
                                <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                                    <button style="${B}">View Details</button>
                                    <button style="${m}">Export Data</button>
                                </div>
                            </div>
                        </div>
                    `:Ce?`
                        <div style="${ee}">
                            <h1 style="${j}">${H}</h1>
                            <p style="color: #68769C; margin: 0 0 32px 0;">${T}</p>
                            <div style="${x}">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <input type="search" style="padding: 12px; border: 1px solid #e1dfdd; border-radius: 4px; width: 300px;" placeholder="Search items...">
                                    <button style="${B}">Add New</button>
                                </div>
                                <div style="overflow-x: auto;">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="border-bottom: 2px solid #e1dfdd;">
                                                <th style="text-align: left; padding: 12px; font-weight: 600;">Item</th>
                                                <th style="text-align: left; padding: 12px; font-weight: 600;">Status</th>
                                                <th style="text-align: left; padding: 12px; font-weight: 600;">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-bottom: 1px solid #e1dfdd;">
                                                <td style="padding: 12px;">Sample Item 1</td>
                                                <td style="padding: 12px;"><span style="background: #d4f4dd; color: #0f5132; padding: 4px 8px; border-radius: 12px; font-size: 14px;">Active</span></td>
                                                <td style="padding: 12px;"><button style="background: none; border: 1px solid #e1dfdd; padding: 6px 12px; border-radius: 4px; cursor: pointer;">Edit</button></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    `:`
                        <div style="${ee}">
                            <div style="${R}">
                                <h1 style="${j} margin-bottom: 16px;">${H}</h1>
                                <p style="color: #68769C; margin: 0; font-size: 18px;">${T}</p>
                            </div>
                            <div style="${x}">
                                <h2 style="color: #3C4858; margin: 0 0 16px 0;">Welcome to ${H}</h2>
                                <p style="color: #68769C; line-height: 1.6;">This page is ready for your content. You can customize it by asking me to generate specific content or modify the layout.</p>
                                <div style="margin: 24px 0;">
                                    <button style="${B}">Get Started</button>
                                    <button style="${m}">Learn More</button>
                                </div>
                            </div>
                        </div>
                    `}};f.useEffect(()=>{y(d)},[d]);const ie=H=>{switch(H){case"page":return'e.g., "A user dashboard with navigation menu, statistics cards, recent activity feed, and action buttons for key features like settings and profile management"';case"modal":return'e.g., "A confirmation dialog with title, message text, cancel and confirm buttons, and a warning icon for delete operations"';case"component":return'e.g., "A reusable navigation bar with logo, menu items, search box, user avatar dropdown, and responsive mobile hamburger menu"';default:return"Describe the purpose, layout, and key elements of this page..."}},G=()=>{const H={};return h.trim()||(H.name="Page name is required"),w.trim()?w.trim().length<10&&(H.description="Please provide a more detailed description (at least 10 characters)"):H.description="Page description is required for AI content generation",z(H),Object.keys(H).length===0},M=()=>we(null,null,function*(){if(G()){W(!0),Q("Preparing content generation...");try{let H="";if(u){console.log(" Starting AI content generation for:",h.trim()),Q(`Generating AI content for "${h.trim()}"...`);const ce=`Create a ${E} called "${h.trim()}". ${w.trim()}`;console.log(" Content description:",ce),H=yield u(ce,E),console.log(" AI content generated:",{pageType:E,pageName:h.trim(),contentLength:(H==null?void 0:H.length)||0,hasContent:!!H}),Q("Content generated successfully!")}else console.warn(" No AI generation callback provided"),Q("Creating smart template..."),H=_(h.trim(),w.trim(),E);const T={id:`page-${Date.now()}`,name:h.trim(),description:w.trim(),type:E,htmlContent:H};y([...g,T]),b(""),O(""),I("page"),z({}),pe(),console.log(" Page Generation Analytics:",{pageType:E,pageName:h.trim(),descriptionLength:w.trim().length,aiGenerated:!!H,contentLength:(H==null?void 0:H.length)||0,generationTime:Date.now(),hasAICallback:!!u}),a([...g,T]),s()}catch(H){console.error("Failed to generate page content:",H),z({ai:"AI content generation failed. Page will be created with basic template."});const T=`
                <div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px; font-family: 'Segoe UI', sans-serif; background: #ffffff; min-height: 100vh;">
                    <div style="background: linear-gradient(135deg, #fff4e6 0%, #fef3c7 100%); padding: 60px 40px; border-radius: 12px; margin: 20px 0; text-align: center; border: 1px solid #e1dfdd;">
                        <h1 style="color: #3C4858; margin: 0 0 16px 0; font-size: 28px; font-weight: 600;"> ${h.trim()}</h1>
                        <p style="color: #68769C; margin: 0 0 16px 0; font-size: 16px;">
                            ${w.trim()}
                        </p>
                        <p style="color: #a19f9d; margin: 0 0 24px 0; font-size: 14px;">
                            AI content generation temporarily unavailable. Ask me to "generate content for ${h.trim()}" to try again.
                        </p>
                        <button style="background: #8E9AAF; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 600; transition: background-color 0.2s ease;">
                            Generate Content
                        </button>
                    </div>
                </div>
            `,ce={id:`page-${Date.now()}`,name:h.trim(),description:w.trim(),type:E,htmlContent:T};y([...g,ce]),b(""),O(""),I("page"),setTimeout(()=>{z({}),a([...g,ce]),s()},2e3)}finally{W(!1),Q("")}}}),ge=H=>{y(g.filter(T=>T.id!==H))},me=H=>{const T=Ge(_e({},H),{id:`page-${Date.now()}`,name:`${H.name} (Copy)`});y([...g,T])},$e=()=>we(null,null,function*(){h.trim()&&w.trim()&&!X?yield M():(a(g),s())}),Fe=new Set(d.map(H=>H.id)),re=g.filter(H=>!Fe.has(H.id)).length,le=h.trim()&&w.trim()&&w.trim().length>=10,be=H=>{H.key==="Enter"&&h.trim()&&M()},fe={page:"Page",modal:"Modal",component:"Component"};return c?n.jsx("div",{className:"modal-overlay",onClick:s,children:n.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:"Add Pages to Wireframe"}),n.jsx("button",{className:"modal-close",onClick:s,title:"Close",children:n.jsx(Pt,{})})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"add-page-form",children:[n.jsx("h3",{className:"form-title",children:"Add New Page"}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pageName",children:"Page Name *"}),n.jsx("input",{id:"pageName",type:"text",value:h,onChange:H=>{b(H.target.value),k.name&&z(T=>Ge(_e({},T),{name:""}))},onKeyPress:be,placeholder:"e.g., Login Page, Dashboard, Profile",className:`form-input ${k.name?"error":""}`}),k.name&&n.jsx("span",{className:"error-message",children:k.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pageType",children:"Type"}),n.jsxs("select",{id:"pageType",value:E,onChange:H=>I(H.target.value),className:"form-select",children:[n.jsx("option",{value:"page",children:"Page"}),n.jsx("option",{value:"modal",children:"Modal"}),n.jsx("option",{value:"component",children:"Component"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pageDescription",children:"Description * (Used for AI Content Generation)"}),n.jsx("textarea",{id:"pageDescription",value:w,onChange:H=>{O(H.target.value),k.description&&z(T=>Ge(_e({},T),{description:""}))},placeholder:ie(E),className:`form-textarea ${k.description?"error":""}`,rows:4}),k.description&&n.jsx("span",{className:"error-message",children:k.description}),k.ai&&n.jsx("span",{className:"warning-message",children:k.ai}),n.jsx("div",{className:"description-help",children:" Be specific about components, layout, and functionality for better AI-generated content"})]})]}),g.length>0&&n.jsxs("div",{className:"pages-list",children:[n.jsx("h3",{className:"list-title",children:re>0?n.jsxs(n.Fragment,{children:["All Pages (",g.length,")",n.jsxs("span",{className:"new-pages-indicator",children:[" ",re," new"]})]}):g.length>0?`Existing Pages (${g.length})`:"No pages yet - fill form above to add first page"}),"                            ",n.jsx("div",{className:"pages-grid",children:g.map(H=>{const T=Fe.has(H.id);return n.jsxs("div",{className:`page-card ${T?"existing-page":"new-page"}`,children:[n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{className:"page-info",children:[n.jsxs("h4",{className:"page-name",children:[H.name,!T&&n.jsx("span",{className:"new-badge",children:"NEW"})]}),!T&&n.jsx("span",{className:`page-type-badge page-type-${H.type}`,children:fe[H.type]})]}),n.jsxs("div",{className:"page-actions",children:[n.jsx("button",{className:"action-btn",onClick:()=>me(H),title:"Duplicate",children:n.jsx(Ll,{})}),n.jsx("button",{className:"action-btn delete",onClick:()=>ge(H.id),title:"Delete",children:n.jsx(Gf,{})})]})]}),H.description&&n.jsx("p",{className:"page-description",children:H.description}),n.jsx(am,{page:H,isExistingPage:T})]},H.id)})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn-secondary",onClick:s,children:"Cancel"}),n.jsx("button",{className:"btn-primary",onClick:$e,disabled:!le&&re===0,children:X?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"spinner"}),V||"Generating..."]}):le?`Add "${h.trim()}" Page`:re>0?`Add ${re} New Page${re!==1?"s":""}`:"Fill Form to Add Page"})]})]})}):null},cm=({isOpen:c,onClose:s,onSave:a,currentHtml:d,currentCss:u,designTheme:g,colorScheme:y,initialName:h="",isUpdating:b=!1,existingWireframe:w})=>{const[O,E]=f.useState(h||(w==null?void 0:w.name)||""),[I,X]=f.useState((w==null?void 0:w.description)||""),[W,k]=f.useState((w==null?void 0:w.tags)||[]),[z,V]=f.useState(""),[Q,he]=f.useState({format:"html",includeCSS:!0,minifyCode:!1,generateThumbnail:!0}),[pe,_]=f.useState(!1),[ie,G]=f.useState(!1);f.useEffect(()=>{h&&!b&&E(h)},[h,b]);const M=f.useCallback(()=>{z.trim()&&!W.includes(z.trim())&&(k(le=>[...le,z.trim()]),V(""))},[z,W]),ge=f.useCallback(le=>{k(be=>be.filter(fe=>fe!==le))},[]),me=f.useCallback(le=>{le.key==="Enter"&&le.target===le.currentTarget&&M()},[M]),$e=f.useCallback(le=>{const be=["button","input","select","textarea",".card",".component","[data-component]","nav","header","footer","section","article"],fe=document.createElement("div");fe.innerHTML=le;let H=0;return be.forEach(T=>{H+=fe.querySelectorAll(T).length}),H},[]),Fe=f.useCallback(()=>we(null,null,function*(){return new Promise(le=>{setTimeout(()=>{le("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmNmZmIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPldpcmVmcmFtZTwvdGV4dD48L3N2Zz4=")},500)})}),[]),re=f.useCallback(()=>we(null,null,function*(){if(O.trim()){_(!0);try{const le=Q.generateThumbnail?yield Fe():void 0,be={name:O.trim(),description:I.trim(),tags:W,html:d,css:u,thumbnail:le,metadata:{componentCount:$e(d),layoutType:"responsive",designTheme:g,colorScheme:y}};yield a(be,Q),G(!0),setTimeout(()=>{G(!1),s()},1500)}catch(le){console.error("Save failed:",le)}finally{_(!1)}}}),[O,I,W,d,u,Q,g,y,$e,Fe,a,s]);return c?ie?n.jsx("div",{className:"fluent-modal-backdrop",children:n.jsx("div",{className:"fluent-dialog fluent-success-dialog",children:n.jsxs("div",{className:"fluent-dialog-content",children:[n.jsx("div",{className:"fluent-success-icon",children:n.jsx(Ft,{})}),n.jsx("h2",{className:"fluent-dialog-title",children:"Wireframe Saved Successfully!"}),n.jsxs("p",{className:"fluent-dialog-description",children:['"',O,'" has been saved to your library.']})]})})}):n.jsx("div",{className:"fluent-modal-backdrop",children:n.jsxs("div",{className:"fluent-dialog fluent-save-dialog",role:"dialog","aria-labelledby":"save-dialog-title",children:[n.jsxs("div",{className:"fluent-dialog-header",children:[n.jsxs("h2",{id:"save-dialog-title",className:"fluent-dialog-title",children:[n.jsx(jl,{className:"fluent-icon"}),b?"Update Wireframe":"Save Wireframe"]}),n.jsx("button",{className:"fluent-button fluent-button-ghost fluent-close-button",onClick:s,"aria-label":"Close dialog",children:n.jsx(Pt,{})})]}),n.jsxs("div",{className:"fluent-dialog-body",children:[n.jsxs("div",{className:"fluent-field-group",children:[n.jsxs("div",{className:"fluent-field",children:[n.jsxs("label",{className:"fluent-label",htmlFor:"wireframe-name",children:[n.jsx(Tf,{className:"fluent-icon"}),"Wireframe Name"]}),n.jsx("input",{id:"wireframe-name",type:"text",value:O,onChange:le=>E(le.target.value),placeholder:"Enter a name for your wireframe",className:"fluent-input",autoFocus:!0,required:!0})]}),n.jsxs("div",{className:"fluent-field",children:[n.jsxs("label",{className:"fluent-label",htmlFor:"wireframe-description",children:[n.jsx(Tl,{className:"fluent-icon"}),"Description (Optional)"]}),n.jsx("textarea",{id:"wireframe-description",value:I,onChange:le=>X(le.target.value),placeholder:"Describe your wireframe design and purpose",className:"fluent-textarea",rows:3})]})]}),n.jsx("div",{className:"fluent-field-group",children:n.jsxs("div",{className:"fluent-field",children:[n.jsxs("label",{className:"fluent-label",children:[n.jsx(Hf,{className:"fluent-icon"}),"Tags"]}),n.jsxs("div",{className:"fluent-tag-field",children:[n.jsxs("div",{className:"fluent-input-group",children:[n.jsx("input",{type:"text",value:z,onChange:le=>V(le.target.value),onKeyDown:me,placeholder:"Add tags (press Enter)",className:"fluent-input"}),n.jsx("button",{type:"button",onClick:M,className:"fluent-button fluent-button-primary",disabled:!z.trim(),children:"Add"})]}),W.length>0&&n.jsx("div",{className:"fluent-tag-list",children:W.map((le,be)=>n.jsxs("div",{className:"fluent-tag",children:[n.jsx("span",{className:"fluent-tag-text",children:le}),n.jsx("button",{onClick:()=>ge(le),className:"fluent-tag-remove","aria-label":`Remove ${le} tag`,children:n.jsx(Pt,{})})]},be))})]})]})}),n.jsxs("div",{className:"fluent-field-group",children:[n.jsx("h3",{className:"fluent-section-title",children:"Save Options"}),n.jsxs("div",{className:"fluent-field",children:[n.jsxs("label",{className:"fluent-label",children:[n.jsx(yi,{className:"fluent-icon"}),"Export Format"]}),n.jsxs("div",{className:"fluent-radio-group",children:[n.jsxs("label",{className:"fluent-radio-option",children:[n.jsx("input",{type:"radio",name:"format",value:"html",checked:Q.format==="html",onChange:le=>he(be=>Ge(_e({},be),{format:le.target.value})),className:"fluent-radio"}),n.jsx("span",{className:"fluent-radio-indicator"}),n.jsx("span",{className:"fluent-radio-label",children:"HTML + CSS"})]}),n.jsxs("label",{className:"fluent-radio-option",children:[n.jsx("input",{type:"radio",name:"format",value:"react",checked:Q.format==="react",onChange:le=>he(be=>Ge(_e({},be),{format:le.target.value})),className:"fluent-radio"}),n.jsx("span",{className:"fluent-radio-indicator"}),n.jsx("span",{className:"fluent-radio-label",children:"React Components"})]}),n.jsxs("label",{className:"fluent-radio-option",children:[n.jsx("input",{type:"radio",name:"format",value:"figma",checked:Q.format==="figma",onChange:le=>he(be=>Ge(_e({},be),{format:le.target.value})),className:"fluent-radio"}),n.jsx("span",{className:"fluent-radio-indicator"}),n.jsx("span",{className:"fluent-radio-label",children:"Figma Export"})]})]})]}),n.jsx("div",{className:"fluent-field",children:n.jsxs("div",{className:"fluent-checkbox-group",children:[n.jsxs("label",{className:"fluent-checkbox-option",children:[n.jsx("input",{type:"checkbox",checked:Q.includeCSS,onChange:le=>he(be=>Ge(_e({},be),{includeCSS:le.target.checked})),className:"fluent-checkbox"}),n.jsx("span",{className:"fluent-checkbox-indicator",children:n.jsx(Ft,{className:"fluent-checkbox-check"})}),n.jsx("span",{className:"fluent-checkbox-label",children:"Include CSS styles"})]}),n.jsxs("label",{className:"fluent-checkbox-option",children:[n.jsx("input",{type:"checkbox",checked:Q.minifyCode,onChange:le=>he(be=>Ge(_e({},be),{minifyCode:le.target.checked})),className:"fluent-checkbox"}),n.jsx("span",{className:"fluent-checkbox-indicator",children:n.jsx(Ft,{className:"fluent-checkbox-check"})}),n.jsx("span",{className:"fluent-checkbox-label",children:"Minify code for production"})]}),n.jsxs("label",{className:"fluent-checkbox-option",children:[n.jsx("input",{type:"checkbox",checked:Q.generateThumbnail,onChange:le=>he(be=>Ge(_e({},be),{generateThumbnail:le.target.checked})),className:"fluent-checkbox"}),n.jsx("span",{className:"fluent-checkbox-indicator",children:n.jsx(Ft,{className:"fluent-checkbox-check"})}),n.jsxs("span",{className:"fluent-checkbox-label",children:[n.jsx(To,{className:"fluent-icon"}),"Generate preview thumbnail"]})]})]})})]}),n.jsxs("div",{className:"fluent-field-group",children:[n.jsx("h3",{className:"fluent-section-title",children:"Wireframe Info"}),n.jsxs("div",{className:"fluent-info-grid",children:[n.jsxs("div",{className:"fluent-info-card",children:[n.jsx("span",{className:"fluent-info-label",children:"Components"}),n.jsx("span",{className:"fluent-info-value",children:$e(d)||"None"})]}),n.jsxs("div",{className:"fluent-info-card",children:[n.jsx("span",{className:"fluent-info-label",children:"Theme"}),n.jsx("span",{className:"fluent-info-value",children:g})]}),n.jsxs("div",{className:"fluent-info-card",children:[n.jsx("span",{className:"fluent-info-label",children:"Color Scheme"}),n.jsx("span",{className:"fluent-info-value",children:y})]}),n.jsxs("div",{className:"fluent-info-card",children:[n.jsx("span",{className:"fluent-info-label",children:"Code Size"}),n.jsxs("span",{className:"fluent-info-value",children:[((d.length+u.length)/1024).toFixed(1),"KB"]})]})]})]})]}),n.jsxs("div",{className:"fluent-dialog-footer",children:[n.jsx("button",{onClick:s,className:"fluent-button fluent-button-secondary",disabled:pe,children:"Cancel"}),n.jsx("button",{onClick:re,className:"fluent-button fluent-button-primary",disabled:!O.trim()||pe,children:pe?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fluent-spinner"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Vr,{className:"fluent-icon"}),b?"Update":"Save"," Wireframe"]})})]})]})}):null},dm=({isOpen:c,onClose:s,onDownload:a,wireframeTitle:d="Wireframe"})=>{const[u,g]=f.useState("html"),y=()=>{a(u),s()};return c?n.jsx("div",{className:"download-modal-overlay",children:n.jsxs("div",{className:"download-modal",children:[n.jsxs("div",{className:"download-modal-header",children:[n.jsxs("div",{className:"download-modal-title",children:[n.jsx(Vr,{className:"download-icon"}),n.jsx("h2",{children:"Download Wireframe"})]}),n.jsx("button",{className:"download-modal-close",onClick:s,"aria-label":"Close download modal",children:n.jsx(Pt,{})})]}),n.jsxs("div",{className:"download-modal-content",children:[n.jsx("div",{className:"download-description",children:n.jsxs("p",{children:["Choose how you'd like to download your wireframe: ",n.jsxs("strong",{children:['"',d,'"']})]})}),n.jsxs("div",{className:"download-format-selection",children:[n.jsxs("label",{className:"download-format-option",children:[n.jsx("input",{type:"radio",name:"downloadFormat",value:"html",checked:u==="html",onChange:h=>g(h.target.value)}),n.jsxs("div",{className:"format-card",children:[n.jsx(Tl,{className:"format-icon"}),n.jsxs("div",{className:"format-details",children:[n.jsx("h3",{children:" Complete HTML File"}),n.jsx("p",{children:"Self-contained webpage ready for sharing or hosting"}),n.jsxs("ul",{children:[n.jsx("li",{children:" Open in any web browser"}),n.jsx("li",{children:" Share with clients or stakeholders"}),n.jsx("li",{children:" Perfect for presentations"}),n.jsx("li",{children:" Host on websites or servers"})]})]})]})]}),n.jsxs("label",{className:"download-format-option",children:[n.jsx("input",{type:"radio",name:"downloadFormat",value:"json",checked:u==="json",onChange:h=>g(h.target.value)}),n.jsxs("div",{className:"format-card",children:[n.jsx(yi,{className:"format-icon"}),n.jsxs("div",{className:"format-details",children:[n.jsx("h3",{children:" JSON Data File"}),n.jsx("p",{children:"Raw wireframe data for developers or backup purposes"}),n.jsxs("ul",{children:[n.jsx("li",{children:" Complete HTML structure"}),n.jsx("li",{children:" Design metadata and settings"}),n.jsx("li",{children:" Export timestamp"}),n.jsx("li",{children:" Project description and details"})]})]})]})]})]}),n.jsxs("div",{className:"download-actions",children:[n.jsx("button",{className:"download-btn download-btn-secondary",onClick:s,children:"Cancel"}),n.jsxs("button",{className:"download-btn download-btn-primary",onClick:y,children:[n.jsx(Vr,{}),"Download ",u==="html"?"HTML":"JSON"," File"]})]})]})]})}):null},Il=({isOpen:c,onClose:s,onAddComponent:a,onGenerateWithAI:d,currentDescription:u,libraryType:g})=>{const h=g==="dev-playbooks"?["Fluent Dev Playbook","Atlas Dev Playbook","Azure Dev Playbook"]:g==="figma-components"?["Figma Fluent Library","Figma Atlas Library","Figma Azure Library"]:["Fluent Dev Playbook","Atlas Dev Playbook","Azure Dev Playbook","Figma Fluent Library","Figma Atlas Library","Figma Azure Library"],b=h[0],[w,O]=f.useState(b),[E,I]=f.useState("all"),[X,W]=f.useState("All"),[k,z]=f.useState(""),[V,Q]=f.useState([]),[he,pe]=f.useState(!1),[_,ie]=f.useState(new Set);f.useEffect(()=>{c&&(I("all"),G())},[c,w]);const G=()=>we(null,null,function*(){pe(!0);try{let m=[];switch(w){case"Fluent Dev Playbook":m=yield M();break;case"Atlas Dev Playbook":m=yield ge();break;case"Azure Dev Playbook":console.log(" Loading Azure Dev Playbook"),m=yield fe(),console.log(" Azure components loaded:",m.length);break;case"Figma Fluent Library":m=yield re();break;case"Figma Atlas Library":m=yield le();break;case"Figma Azure Library":m=yield be();break}Q(m),console.log(" Components set to state:",m.length)}catch(m){console.error("Error loading components:",m)}finally{pe(!1)}}),M=()=>we(null,null,function*(){try{const m=yield fetch("/fluent-library.json");if(!m.ok)throw new Error("Failed to load Fluent UI components");return(yield m.json()).components.map(R=>({id:R.id,name:R.name,description:R.description,category:R.category,htmlCode:R.htmlCode,source:"fluent-github",sourceUrl:R.githubPath?`https://github.com/microsoft/fluentui/tree/master/packages/${R.githubPath}`:void 0,playbook:"Fluent Dev Playbook"}))}catch(m){return console.error("Error loading Fluent components:",m),[]}}),ge=()=>we(null,null,function*(){try{const m=yield fetch("/atlas-library.json");if(!m.ok)throw new Error("Failed to load Atlas components");return(yield m.json()).components.map(R=>({id:R.id,name:R.name,description:R.description,category:R.category,htmlCode:R.htmlCode,source:"atlas-github",sourceUrl:R.atlasUrl||`https://design.learn.microsoft.com/atomics/${R.category.toLowerCase()}`,playbook:"Atlas Dev Playbook"}))}catch(m){return console.error("Error loading Atlas components:",m),[]}}),me=m=>{const x=m.toLowerCase();return x.includes("button")||x.includes("btn")?"button":x.includes("toggle")||x.includes("switch")?"toggle":x.includes("slider")||x.includes("range")?"slider":x.includes("checkbox")||x.includes("check")?"checkbox":x.includes("radio")?"radio":x.includes("menu")||x.includes("dropdown")?"menu":x.includes("tooltip")||x.includes("popover")?"tooltip":x.includes("card")?"card":x.includes("panel")||x.includes("container")?"panel":x.includes("sidebar")||x.includes("drawer")?"sidebar":x.includes("nav")||x.includes("navigation")?"navigation":x.includes("tab")?"tabs":x.includes("accordion")||x.includes("collapse")?"accordion":x.includes("divider")||x.includes("separator")?"divider":x.includes("table")||x.includes("data")||x.includes("grid")?"table":x.includes("list")||x.includes("item")?"list":x.includes("chart")||x.includes("graph")?"chart":x.includes("calendar")||x.includes("date")?"calendar":x.includes("timeline")||x.includes("step")?"timeline":x.includes("avatar")||x.includes("profile")?"avatar":x.includes("form")||x.includes("input")?"form":x.includes("field")||x.includes("text")?"input":x.includes("select")||x.includes("picker")?"select":x.includes("upload")||x.includes("file")?"upload":x.includes("search")||x.includes("filter")?"search":x.includes("modal")||x.includes("dialog")?"modal":x.includes("alert")||x.includes("notification")?"alert":x.includes("badge")||x.includes("tag")||x.includes("label")?"badge":x.includes("progress")||x.includes("loading")||x.includes("spinner")?"progress":x.includes("skeleton")||x.includes("placeholder")?"skeleton":x.includes("toast")||x.includes("snackbar")?"toast":x.includes("image")||x.includes("photo")||x.includes("picture")?"image":x.includes("video")||x.includes("player")?"video":x.includes("carousel")||x.includes("gallery")||x.includes("slideshow")?"carousel":x.includes("tree")||x.includes("hierarchy")?"tree":x.includes("editor")||x.includes("rich")?"editor":x.includes("code")||x.includes("syntax")?"code":x.includes("breadcrumb")||x.includes("path")?"breadcrumb":x.includes("pagination")?"pagination":"general"},$e=(m,x)=>{const R={button:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 20px; font-family: 'Segoe UI', sans-serif; width: 280px;">
                    <div style="margin-bottom: 16px;">
                        <div style="font-weight: 600; color: #3C4858; font-size: 14px; margin-bottom: 12px;">${m}</div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 14px; font-weight: 500; cursor: pointer;">Primary</button>
                            <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 8px 16px; border-radius: 4px; font-size: 14px; font-weight: 500; cursor: pointer;">Secondary</button>
                        </div>
                    </div>
                    <div style="font-size: 11px; color: #68769C; opacity: 0.8;">From Figma Fluent Library</div>
                </div>`,card:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 16px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="background: #f3f2f1; border-radius: 6px; height: 80px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; color: #68769C;">
                        <div style="font-size: 24px;"></div>
                    </div>
                    <div style="font-weight: 600; color: #3C4858; font-size: 14px; margin-bottom: 4px;">${m}</div>
                    <div style="color: #68769C; font-size: 12px; line-height: 1.4; margin-bottom: 12px;">Interactive card component with Fluent Design styling</div>
                    <div style="font-size: 11px; color: #68769C; opacity: 0.8;">From Figma Fluent Library</div>
                </div>`,navigation:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; overflow: hidden; font-family: 'Segoe UI', sans-serif; width: 320px;">
                    <div style="background: #f3f2f1; padding: 12px 16px; border-bottom: 1px solid #e1dfdd; display: flex; align-items: center; gap: 12px;">
                        <div style="width: 24px; height: 24px; background: #8E9AAF; border-radius: 4px;"></div>
                        <div style="font-weight: 600; color: #3C4858; font-size: 14px;">${m}</div>
                    </div>
                    <div style="padding: 8px;">
                        <div style="display: flex; flex-direction: column; gap: 2px;">
                            <div style="padding: 8px 12px; color: #8E9AAF; background: #f3f9fd; border-radius: 4px; font-size: 13px;">Home</div>
                            <div style="padding: 8px 12px; color: #68769C; font-size: 13px;">Products</div>
                            <div style="padding: 8px 12px; color: #68769C; font-size: 13px;">About</div>
                        </div>
                    </div>
                    <div style="padding: 12px 16px; font-size: 11px; color: #68769C; opacity: 0.8; border-top: 1px solid #e1dfdd;">From Figma Fluent Library</div>
                </div>`,form:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 20px; font-family: 'Segoe UI', sans-serif; width: 280px;">
                    <div style="font-weight: 600; color: #3C4858; font-size: 14px; margin-bottom: 16px;">${m}</div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 12px; color: #68769C; margin-bottom: 4px;">Email address</label>
                        <input style="width: 100%; padding: 8px 12px; border: 1px solid #d2d0ce; border-radius: 4px; font-size: 14px; box-sizing: border-box;" type="email" placeholder="name@example.com" disabled>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 12px; color: #68769C; margin-bottom: 4px;">Message</label>
                        <textarea style="width: 100%; padding: 8px 12px; border: 1px solid #d2d0ce; border-radius: 4px; font-size: 14px; height: 60px; resize: none; box-sizing: border-box;" placeholder="Your message..." disabled></textarea>
                    </div>
                    <div style="font-size: 11px; color: #68769C; opacity: 0.8;">From Figma Fluent Library</div>
                </div>`,general:`
                <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 16px; font-family: 'Segoe UI', sans-serif; width: 280px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #8E9AAF, #68769C); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 20px;">
                            ${m.charAt(0).toUpperCase()}
                        </div>
                        <div>
                            <div style="font-weight: 600; color: #3C4858; font-size: 14px;">${m}</div>
                            <div style="color: #68769C; font-size: 12px;">Fluent UI Component</div>
                        </div>
                    </div>
                    <div style="font-size: 11px; color: #68769C; opacity: 0.8;">From Figma Fluent Library</div>
                </div>`};return R[x]||R.general},Fe=(m,x)=>{const R={button:`
                <div style="background: white; border: 1px solid #e1e5e9; border-radius: 12px; padding: 20px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
                    <div style="margin-bottom: 16px;">
                        <div style="font-weight: 600; color: #1a1a1a; font-size: 14px; margin-bottom: 12px;">${m}</div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <button style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; box-shadow: 0 2px 8px rgba(102,126,234,0.3);">Primary</button>
                            <button style="background: transparent; color: #667eea; border: 2px solid #667eea; padding: 8px 18px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer;">Secondary</button>
                        </div>
                    </div>
                    <div style="font-size: 11px; color: #6b7280; opacity: 0.8;">From Figma Atlas Library</div>
                </div>`,card:`
                <div style="background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%); border: 1px solid #e1e5e9; border-radius: 16px; padding: 16px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; height: 80px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; color: white;">
                        <div style="font-size: 28px;"></div>
                    </div>
                    <div style="font-weight: 600; color: #1a1a1a; font-size: 14px; margin-bottom: 4px;">${m}</div>
                    <div style="color: #6b7280; font-size: 12px; line-height: 1.4; margin-bottom: 12px;">Atlas Design System card with gradient styling and modern aesthetics</div>
                    <div style="font-size: 11px; color: #6b7280; opacity: 0.8;">From Figma Atlas Library</div>
                </div>`,navigation:`
                <div style="background: white; border: 1px solid #e1e5e9; border-radius: 12px; overflow: hidden; font-family: 'Segoe UI', sans-serif; width: 320px; box-shadow: 0 4px 16px rgba(0,0,0,0.08);">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 16px; color: white;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="width: 28px; height: 28px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                <div style="width: 16px; height: 16px; background: white; border-radius: 4px;"></div>
                            </div>
                            <div style="font-weight: 600; font-size: 14px;">${m}</div>
                        </div>
                    </div>
                    <div style="padding: 12px;">
                        <div style="display: flex; flex-direction: column; gap: 4px;">
                            <div style="padding: 10px 16px; color: #667eea; background: linear-gradient(135deg, #f0f2ff 0%, #e6e9ff 100%); border-radius: 8px; font-size: 13px; font-weight: 500;">Dashboard</div>
                            <div style="padding: 10px 16px; color: #6b7280; font-size: 13px;">Analytics</div>
                            <div style="padding: 10px 16px; color: #6b7280; font-size: 13px;">Settings</div>
                        </div>
                    </div>
                    <div style="padding: 12px 16px; font-size: 11px; color: #6b7280; opacity: 0.8; border-top: 1px solid #e1e5e9;">From Figma Atlas Library</div>
                </div>`,form:`
                <div style="background: white; border: 1px solid #e1e5e9; border-radius: 12px; padding: 20px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 4px 16px rgba(0,0,0,0.08);">
                    <div style="font-weight: 600; color: #1a1a1a; font-size: 14px; margin-bottom: 16px;">${m}</div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 12px; color: #6b7280; margin-bottom: 6px; font-weight: 500;">Email address</label>
                        <input style="width: 100%; padding: 12px 16px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; box-sizing: border-box; transition: border-color 0.2s;" type="email" placeholder="name@example.com" disabled>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 12px; color: #6b7280; margin-bottom: 6px; font-weight: 500;">Message</label>
                        <textarea style="width: 100%; padding: 12px 16px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; height: 60px; resize: none; box-sizing: border-box;" placeholder="Your message..." disabled></textarea>
                    </div>
                    <div style="font-size: 11px; color: #6b7280; opacity: 0.8;">From Figma Atlas Library</div>
                </div>`,general:`
                <div style="background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%); border: 1px solid #e1e5e9; border-radius: 12px; padding: 16px; font-family: 'Segoe UI', sans-serif; width: 280px; box-shadow: 0 4px 16px rgba(0,0,0,0.08);">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 20px; box-shadow: 0 4px 12px rgba(102,126,234,0.3);">
                            ${m.charAt(0).toUpperCase()}
                        </div>
                        <div>
                            <div style="font-weight: 600; color: #1a1a1a; font-size: 14px;">${m}</div>
                            <div style="color: #6b7280; font-size: 12px;">Atlas Design Component</div>
                        </div>
                    </div>
                    <div style="font-size: 11px; color: #6b7280; opacity: 0.8;">From Figma Atlas Library</div>
                </div>`};return R[x]||R.general},re=()=>we(null,null,function*(){try{const m=yield fetch("/figma-fluent-library.json");if(m.ok){const R=(yield m.json()).components.map(de=>{const Ee=me(de.name),Ce=$e(de.name,Ee);return{id:de.id,name:de.name,description:de.description,category:de.category,htmlCode:Ce,source:"figma-fluent",sourceUrl:de.sourceUrl,playbook:"Figma Fluent Library"}});return console.log(` Loaded ${R.length} enhanced Fluent Figma components`),R}}catch(m){console.warn("Could not load Fluent Figma library:",m)}return[{id:"figma-fluent-button-set",name:"Fluent Button Set",description:"Complete button component set from Fluent 2 Figma library",category:"Buttons",source:"figma-fluent",sourceUrl:"https://www.figma.com/design/GvIcCw0tWaJVDSWD4f1OIW/Fluent-2-web?node-id=0-1&p=f&t=0UVE7Ann6oVPNlGW-0",playbook:"Figma Fluent Library",htmlCode:`
            <div style="padding: 24px; background: #f8f9fa; border-radius: 8px; font-family: 'Segoe UI', sans-serif;">
                <h3 style="margin: 0 0 16px 0; color: #3C4858;">Fluent Button Components</h3>
                <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
                    <button style="background: #8E9AAF; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: 600;">Primary</button>
                    <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: 600;">Secondary</button>
                    <button style="background: transparent; color: #3C4858; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: 600;">Subtle</button>
                    <button style="background: #f3f2f1; color: #a19f9d; border: none; padding: 10px 20px; border-radius: 4px; cursor: not-allowed; font-weight: 600;" disabled>Disabled</button>
                </div>
                <p style="margin: 16px 0 0 0; font-size: 12px; color: #68769C;">From Fluent 2 Figma Design System (Fallback)</p>
            </div>`}]}),le=()=>we(null,null,function*(){try{const m=yield fetch("/figma-atlas-library.json");if(m.ok){const R=(yield m.json()).components.map(de=>{const Ee=me(de.name),Ce=Fe(de.name,Ee);return{id:de.id,name:de.name,description:de.description,category:de.category,htmlCode:Ce,source:"figma-atlas",sourceUrl:de.sourceUrl,playbook:"Figma Atlas Library"}});return console.log(` Loaded ${R.length} enhanced Atlas Figma components`),R}}catch(m){console.warn("Could not load Atlas Figma library:",m)}return[{id:"figma-atlas-navigation",name:"Atlas Navigation",description:"Navigation component from Atlas Figma library",category:"Navigation",source:"figma-atlas",sourceUrl:"https://www.figma.com/design/PuWj05uKXhfbqrhmJLtCij/Atlas-library-for-designetica?node-id=1-4688",playbook:"Figma Atlas Library",htmlCode:`
            <div style="background: white; border: 1px solid #e1e5e9; border-radius: 8px; overflow: hidden; font-family: 'Segoe UI', sans-serif;">
                <div style="background: #8E9AAF; color: white; padding: 16px 24px;">
                    <h3 style="margin: 0; font-size: 18px;">Atlas Navigation</h3>
                </div>
                <nav style="padding: 16px 0;">
                    <a href="#" style="display: block; padding: 12px 24px; color: #3C4858; text-decoration: none; border-left: 3px solid #8E9AAF; background: #f3f9ff;">Dashboard</a>
                    <a href="#" style="display: block; padding: 12px 24px; color: #68769C; text-decoration: none; border-left: 3px solid transparent;">Analytics</a>
                    <a href="#" style="display: block; padding: 12px 24px; color: #68769C; text-decoration: none; border-left: 3px solid transparent;">Projects</a>
                    <a href="#" style="display: block; padding: 12px 24px; color: #68769C; text-decoration: none; border-left: 3px solid transparent;">Settings</a>
                </nav>
                <p style="margin: 0; padding: 16px 24px; font-size: 12px; color: #68769C; border-top: 1px solid #f3f2f1;">From Atlas Figma Library (Fallback)</p>
            </div>`}]}),be=()=>we(null,null,function*(){try{const m=yield fetch("/figma-azure-library.json");if(m.ok){const R=(yield m.json()).components.map(de=>({id:de.id,name:de.name,description:de.description,category:de.category,htmlCode:de.htmlCode,source:"figma-azure",sourceUrl:de.sourceUrl,playbook:"Figma Azure Library"}));return console.log(` Loaded ${R.length} Azure Figma components`),R}}catch(m){console.warn("Could not load Azure Figma library:",m)}return[{id:"figma-azure-dashboard",name:"Azure Resource Dashboard",description:"Azure resource management dashboard from Figma Azure library",category:"Dashboards",source:"figma-azure",sourceUrl:"https://www.figma.com/design/Bwn8rmUOYtnPRwA3JoQTBn/Web-UI-kit---Azure-Fluent-extension?node-id=3002-373291&p=f&t=D0O7CJYPRwQGcynA-0",playbook:"Figma Azure Library",htmlCode:`
            <div style="background: white; border: 1px solid #e1dfdd; border-radius: 12px; overflow: hidden; font-family: 'Segoe UI', sans-serif; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 480px;">
                <div style="background: linear-gradient(135deg, #8E9AAF 0%, #68769C 100%); color: white; padding: 24px;">
                    <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                        <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <div style="width: 24px; height: 24px; background: white; border-radius: 4px;"></div>
                        </div>
                        <div>
                            <h2 style="margin: 0; font-size: 24px; font-weight: 600;">Azure Portal</h2>
                            <p style="margin: 4px 0 0 0; opacity: 0.9; font-size: 14px;">Resource Management Dashboard</p>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px;">
                        <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">47</div>
                            <div style="font-size: 12px; opacity: 0.9;">Resources</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">12</div>
                            <div style="font-size: 12px; opacity: 0.9;">Services</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">3</div>
                            <div style="font-size: 12px; opacity: 0.9;">Regions</div>
                        </div>
                    </div>
                </div>
                <div style="padding: 24px;">
                    <div style="margin-bottom: 20px;">
                        <h3 style="margin: 0 0 12px 0; color: #3C4858; font-size: 16px; font-weight: 600;">Recent Activity</h3>
                        <div style="space-y: 8px;">
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 0; border-bottom: 1px solid #f3f2f1;">
                                <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                <span style="flex: 1; font-size: 14px; color: #3C4858;">App Service deployed successfully</span>
                                <span style="font-size: 12px; color: #68769C;">2m ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 0; border-bottom: 1px solid #f3f2f1;">
                                <div style="width: 8px; height: 8px; background: #8E9AAF; border-radius: 50%;"></div>
                                <span style="flex: 1; font-size: 14px; color: #3C4858;">SQL Database backup completed</span>
                                <span style="font-size: 12px; color: #68769C;">15m ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 0;">
                                <div style="width: 8px; height: 8px; background: #d83b01; border-radius: 50%;"></div>
                                <span style="flex: 1; font-size: 14px; color: #3C4858;">Function app scaling event</span>
                                <span style="font-size: 12px; color: #68769C;">1h ago</span>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button style="background: #8E9AAF; color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; flex: 1;">Manage Resources</button>
                        <button style="background: transparent; color: #8E9AAF; border: 2px solid #8E9AAF; padding: 12px 24px; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; flex: 1;">View Metrics</button>
                    </div>
                </div>
                <div style="background: #f8f9fa; padding: 12px 24px; font-size: 12px; color: #68769C; text-align: center;">
                    From Azure Figma Design System (Fallback)
                </div>
            </div>`}]}),fe=()=>we(null,null,function*(){console.log(" Loading Azure Service components!");const m=[{id:"azure-resource-group",name:"Resource Group Card",description:"Azure Resource Group management card with resource overview and quick actions",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/overview",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; padding: 20px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">RG</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">my-app-resources</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">East US  Active</p>
                                </div>
                            </div>
                            <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 12px; cursor: pointer;">Manage</button>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                            <div style="text-align: center;">
                                <div style="font-size: 20px; font-weight: 600; color: #3C4858;">12</div>
                                <div style="font-size: 12px; color: #68769C;">Resources</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 20px; font-weight: 600; color: #107c10;">$47.82</div>
                                <div style="font-size: 12px; color: #68769C;">Monthly Cost</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 20px; font-weight: 600; color: #8E9AAF;">3</div>
                                <div style="font-size: 12px; color: #68769C;">Deployments</div>
                            </div>
                        </div>
                        <div style="border-top: 1px solid #e1dfdd; padding-top: 12px;">
                            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 11px;">App Service</span>
                                <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 11px;">SQL Database</span>
                                <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 11px;">Storage Account</span>
                            </div>
                        </div>
                    </div>`},{id:"azure-app-service",name:"App Service Dashboard",description:"Azure App Service monitoring dashboard with deployment status and performance metrics",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/app-service/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 450px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">AS</div>
                                    <div>
                                        <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">my-web-app</h3>
                                        <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">https://my-web-app.azurewebsites.net</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #107c10; font-weight: 600;">Running</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">CPU Usage</div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="background: #f3f2f1; height: 8px; border-radius: 4px; flex: 1; position: relative;">
                                            <div style="background: #107c10; height: 100%; width: 35%; border-radius: 4px;"></div>
                                        </div>
                                        <span style="font-size: 14px; font-weight: 600; color: #3C4858;">35%</span>
                                    </div>
                                </div>
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">Memory Usage</div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="background: #f3f2f1; height: 8px; border-radius: 4px; flex: 1; position: relative;">
                                            <div style="background: #8E9AAF; height: 100%; width: 67%; border-radius: 4px;"></div>
                                        </div>
                                        <span style="font-size: 14px; font-weight: 600; color: #3C4858;">67%</span>
                                    </div>
                                </div>
                            </div>
                            <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; flex: 1;">Deploy</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; flex: 1;">Logs</button>
                            </div>
                            <div style="border-top: 1px solid #e1dfdd; padding-top: 12px; font-size: 12px; color: #68769C;">
                                Last deployment: 2 hours ago  Build #247
                            </div>
                        </div>
                    </div>`},{id:"azure-sql-database",name:"SQL Database Panel",description:"Azure SQL Database management panel with connection strings and performance monitoring",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-sql/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 380px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">DB</div>
                                    <div>
                                        <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-database</h3>
                                        <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">SQL Database  Standard S2</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #107c10; font-weight: 600;">Online</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">47</div>
                                    <div style="font-size: 11px; color: #68769C;">DTU Usage</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">23.4 GB</div>
                                    <div style="font-size: 11px; color: #68769C;">Storage Used</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 4px;">Connection String</div>
                                <div style="font-size: 10px; color: #3C4858; font-family: 'Courier New', monospace; word-break: break-all;">Server=tcp:myserver.database.windows.net...</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Query Editor</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Metrics</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-storage-account",name:"Storage Account Widget",description:"Azure Storage Account overview with blob containers, file shares, and usage statistics",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/storage/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 360px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">ST</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myappstorage</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">General Purpose v2  Hot Tier</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">2.3 GB</div>
                                    <div style="font-size: 11px; color: #68769C;">Used Storage</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">$4.12</div>
                                    <div style="font-size: 11px; color: #68769C;">Monthly Cost</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="font-size: 12px; color: #68769C; margin-bottom: 8px;">Services</div>
                                <div style="space-y: 4px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 6px 0;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 16px; height: 16px; background: #8E9AAF; border-radius: 2px;"></div>
                                            <span style="font-size: 12px; color: #3C4858;">Blob Storage</span>
                                        </div>
                                        <span style="font-size: 11px; color: #68769C;">23 containers</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 6px 0;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 16px; height: 16px; background: #107c10; border-radius: 2px;"></div>
                                            <span style="font-size: 12px; color: #3C4858;">File Shares</span>
                                        </div>
                                        <span style="font-size: 11px; color: #68769C;">5 shares</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 6px 0;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 16px; height: 16px; background: #d83b01; border-radius: 2px;"></div>
                                            <span style="font-size: 12px; color: #3C4858;">Queues</span>
                                        </div>
                                        <span style="font-size: 11px; color: #68769C;">12 queues</span>
                                    </div>
                                </div>
                            </div>
                            <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; width: 100%;">Storage Explorer</button>
                        </div>
                    </div>`},{id:"azure-function-app",name:"Function App Monitor",description:"Azure Functions monitoring panel with execution statistics and deployment options",category:"Azure Services",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-functions/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 420px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">FN</div>
                                    <div>
                                        <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">my-function-app</h3>
                                        <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Consumption Plan  Node.js 18</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #107c10; font-weight: 600;">Running</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">247</div>
                                    <div style="font-size: 10px; color: #68769C;">Executions Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">156ms</div>
                                    <div style="font-size: 10px; color: #68769C;">Avg Duration</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #d83b01;">2</div>
                                    <div style="font-size: 10px; color: #68769C;">Errors</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="font-size: 12px; color: #68769C; margin-bottom: 8px;">Functions</div>
                                <div style="background: #f8f9fa; border-radius: 4px; padding: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">HttpTrigger1</span>
                                        <span style="font-size: 10px; color: #107c10;">Active</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">TimerTrigger1</span>
                                        <span style="font-size: 10px; color: #107c10;">Active</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">BlobTrigger1</span>
                                        <span style="font-size: 10px; color: #68769C;">Disabled</span>
                                    </div>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Deploy</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Monitor</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-virtual-machine",name:"Virtual Machine Panel",description:"Azure Virtual Machine management panel with performance metrics and control actions",category:"Compute",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/virtual-machines/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">VM</div>
                                    <div>
                                        <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">web-server-01</h3>
                                        <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard B2s  Ubuntu 20.04</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #107c10; font-weight: 600;">Running</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">CPU</div>
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">23%</div>
                                </div>
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">Memory</div>
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">4.2 GB</div>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Connect</button>
                                <button style="background: transparent; color: #d83b01; border: 1px solid #d83b01; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Stop</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-cosmos-db",name:"Cosmos DB Dashboard",description:"Azure Cosmos DB management dashboard with throughput and performance monitoring",category:"Databases",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/cosmos-db/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 420px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">DB</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-cosmos</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">SQL API  Multi-region</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">400 RU/s</div>
                                    <div style="font-size: 10px; color: #68769C;">Throughput</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">1.2M</div>
                                    <div style="font-size: 10px; color: #68769C;">Documents</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">847 MB</div>
                                    <div style="font-size: 10px; color: #68769C;">Storage</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 4px;">Connection String</div>
                                <div style="font-size: 10px; color: #3C4858; font-family: 'Courier New', monospace;">AccountEndpoint=https://myapp-cosmos.documents.azure.com...</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Data Explorer</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Scale</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-key-vault",name:"Key Vault Panel",description:"Azure Key Vault secrets management panel with access policies and certificates",category:"Security",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/key-vault/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 380px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">KV</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-keyvault</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard  RBAC Enabled</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">12</div>
                                    <div style="font-size: 11px; color: #68769C;">Secrets</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">3</div>
                                    <div style="font-size: 11px; color: #68769C;">Keys</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">2</div>
                                    <div style="font-size: 11px; color: #68769C;">Certificates</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Recent Access</div>
                                <div style="font-size: 12px; color: #3C4858;">database-connection-string</div>
                                <div style="font-size: 12px; color: #3C4858;">api-secret-key</div>
                            </div>
                            <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; width: 100%;">Manage Secrets</button>
                        </div>
                    </div>`},{id:"azure-container-registry",name:"Container Registry",description:"Azure Container Registry management with image repositories and security scanning",category:"Containers",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/container-registry/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">CR</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myappregistry</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Premium  Geo-replication</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">23</div>
                                    <div style="font-size: 11px; color: #68769C;">Repositories</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">4.2 GB</div>
                                    <div style="font-size: 11px; color: #68769C;">Storage Used</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="font-size: 12px; color: #68769C; margin-bottom: 8px;">Recent Images</div>
                                <div style="background: #f8f9fa; border-radius: 4px; padding: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 12px; color: #3C4858;">webapp:latest</span>
                                        <span style="font-size: 10px; color: #107c10;"> Scanned</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 12px; color: #3C4858;">api:v2.1</span>
                                        <span style="font-size: 10px; color: #107c10;"> Scanned</span>
                                    </div>
                                </div>
                            </div>
                            <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; width: 100%;">Browse Images</button>
                        </div>
                    </div>`},{id:"azure-service-bus",name:"Service Bus Queue",description:"Azure Service Bus queue management with message monitoring and throughput metrics",category:"Messaging",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/service-bus-messaging/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 420px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">SB</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">order-processing</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard  Queue</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">127</div>
                                    <div style="font-size: 10px; color: #68769C;">Active Messages</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">2.3K</div>
                                    <div style="font-size: 10px; color: #68769C;">Processed Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #d83b01;">3</div>
                                    <div style="font-size: 10px; color: #68769C;">Dead Letter</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 4px;">Throughput (msgs/sec)</div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="background: #107c10; height: 4px; width: 60%; border-radius: 2px;"></div>
                                    <span style="font-size: 12px; color: #3C4858;">45/sec</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Send Message</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Monitor</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-redis-cache",name:"Redis Cache Dashboard",description:"Azure Cache for Redis performance monitoring with hit ratio and memory usage",category:"Caching",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-cache-for-redis/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 380px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #d83b01; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">RC</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-cache</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard C1  1 GB</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">Hit Ratio</div>
                                    <div style="font-size: 18px; font-weight: 600; color: #107c10;">96.3%</div>
                                </div>
                                <div>
                                    <div style="font-size: 12px; color: #68769C; margin-bottom: 4px;">Memory Used</div>
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">412 MB</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="font-size: 12px; color: #68769C; margin-bottom: 8px;">Operations/sec</div>
                                <div style="background: #f8f9fa; padding: 12px; border-radius: 4px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 12px; color: #3C4858;">Gets</span>
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">1,247</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 12px; color: #3C4858;">Sets</span>
                                        <span style="font-size: 12px; color: #3C4858; font-weight: 600;">89</span>
                                    </div>
                                </div>
                            </div>
                            <button style="background: #d83b01; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-size: 12px; cursor: pointer; width: 100%;">Redis Console</button>
                        </div>
                    </div>`},{id:"azure-monitor",name:"Azure Monitor Dashboard",description:"Azure Monitor application insights dashboard with alerts and metrics overview",category:"Monitoring",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/azure-monitor/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 450px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">AM</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">Application Insights</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">myapp-insights</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">1.2K</div>
                                    <div style="font-size: 10px; color: #68769C;">Requests/min</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">156ms</div>
                                    <div style="font-size: 10px; color: #68769C;">Avg Response</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #d83b01;">2</div>
                                    <div style="font-size: 10px; color: #68769C;">Active Alerts</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Recent Alerts</div>
                                <div style="font-size: 12px; color: #d83b01; margin-bottom: 4px;"> High CPU usage on VM-01</div>
                                <div style="font-size: 12px; color: #d83b01;"> Database connection timeout</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">View Logs</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Metrics</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-api-management",name:"API Management Gateway",description:"Azure API Management gateway with API policies, analytics, and developer portal",category:"Integration",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/api-management/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 440px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">API</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-apim</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Developer Tier  Gateway</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">12</div>
                                    <div style="font-size: 10px; color: #68769C;">APIs</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">2.4K</div>
                                    <div style="font-size: 10px; color: #68769C;">Calls/hour</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #107c10;">99.8%</div>
                                    <div style="font-size: 10px; color: #68769C;">Uptime</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Top APIs</div>
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                    <span style="font-size: 12px; color: #3C4858;">User Management</span>
                                    <span style="font-size: 11px; color: #68769C;">1.2K calls</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span style="font-size: 12px; color: #3C4858;">Payment Processing</span>
                                    <span style="font-size: 11px; color: #68769C;">890 calls</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">API Portal</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Analytics</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-logic-apps",name:"Logic Apps Workflow",description:"Azure Logic Apps workflow designer with triggers, actions, and execution history",category:"Integration",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/logic-apps/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">LA</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">order-processing</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Standard  Enabled</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">47</div>
                                    <div style="font-size: 11px; color: #68769C;">Runs Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #107c10;">98%</div>
                                    <div style="font-size: 11px; color: #68769C;">Success Rate</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Workflow Steps</div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                                    <div style="width: 16px; height: 16px; background: #107c10; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;">1</div>
                                    <span style="font-size: 12px; color: #3C4858;">HTTP Trigger</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                                    <div style="width: 16px; height: 16px; background: #107c10; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;">2</div>
                                    <span style="font-size: 12px; color: #3C4858;">Parse JSON</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 16px; height: 16px; background: #107c10; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;">3</div>
                                    <span style="font-size: 12px; color: #3C4858;">Send Email</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Designer</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Run History</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-cognitive-services",name:"Cognitive Services API",description:"Azure Cognitive Services with AI models, usage analytics, and endpoint management",category:"AI + ML",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/cognitive-services/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 420px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">AI</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-cognitive</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Multi-service  S0</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">12.4K</div>
                                    <div style="font-size: 11px; color: #68769C;">API Calls Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">127ms</div>
                                    <div style="font-size: 11px; color: #68769C;">Avg Latency</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Active Services</div>
                                <div style="display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 8px;">
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">Text Analytics</span>
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">Computer Vision</span>
                                </div>
                                <div style="display: flex; gap: 6px; flex-wrap: wrap;">
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">Speech Services</span>
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">Language</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Test APIs</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Usage</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-devops",name:"Azure DevOps Pipeline",description:"Azure DevOps CI/CD pipeline status with build history and deployment tracking",category:"DevOps",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/devops/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 440px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">DO</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">myapp-ci-cd</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Build Pipeline  main branch</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #107c10;"></div>
                                    <div style="font-size: 10px; color: #68769C;">Last Build</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">4m 23s</div>
                                    <div style="font-size: 10px; color: #68769C;">Duration</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #3C4858;">#247</div>
                                    <div style="font-size: 10px; color: #68769C;">Build Number</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Pipeline Stages</div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
                                    <div style="width: 12px; height: 12px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #3C4858;">Build</span>
                                    <span style="font-size: 10px; color: #68769C; margin-left: auto;">2m 14s</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
                                    <div style="width: 12px; height: 12px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #3C4858;">Test</span>
                                    <span style="font-size: 10px; color: #68769C; margin-left: auto;">1m 32s</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: #107c10; border-radius: 50%;"></div>
                                    <span style="font-size: 12px; color: #3C4858;">Deploy</span>
                                    <span style="font-size: 10px; color: #68769C; margin-left: auto;">37s</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Run Pipeline</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">History</button>
                            </div>
                        </div>
                    </div>`},{id:"azure-event-grid",name:"Event Grid Topic",description:"Azure Event Grid topic management with event routing and subscription monitoring",category:"Messaging",source:"azure-services",sourceUrl:"https://docs.microsoft.com/en-us/azure/event-grid/",playbook:"Azure Dev Playbook",htmlCode:`
                    <div style="background: white; border: 1px solid #e1dfdd; border-radius: 8px; width: 400px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="background: #f8f9fa; padding: 16px; border-bottom: 1px solid #e1dfdd; border-radius: 8px 8px 0 0;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 32px; height: 32px; background: #8E9AAF; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">EG</div>
                                <div>
                                    <h3 style="margin: 0; color: #3C4858; font-size: 16px; font-weight: 600;">user-events</h3>
                                    <p style="margin: 2px 0 0 0; color: #68769C; font-size: 12px;">Custom Topic  Standard</p>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 16px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">1.8K</div>
                                    <div style="font-size: 11px; color: #68769C;">Events Today</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">5</div>
                                    <div style="font-size: 11px; color: #68769C;">Subscriptions</div>
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #68769C; margin-bottom: 8px;">Event Types</div>
                                <div style="display: flex; gap: 6px; flex-wrap: wrap;">
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">UserCreated</span>
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">UserUpdated</span>
                                    <span style="background: #deecf9; color: #8E9AAF; padding: 4px 8px; border-radius: 12px; font-size: 10px;">UserDeleted</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button style="background: #8E9AAF; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Send Event</button>
                                <button style="background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; flex: 1;">Metrics</button>
                            </div>
                        </div>
                    </div>`}];return console.log(" Azure Service components loaded:",m.length),m}),H=f.useMemo(()=>{let m=V;if(E!=="all"&&(m=m.filter(x=>x.source===E)),X!=="All"&&(m=m.filter(x=>x.category===X)),k.trim()){const x=k.toLowerCase();m=m.filter(R=>R.name.toLowerCase().includes(x)||R.description.toLowerCase().includes(x)||R.category.toLowerCase().includes(x))}return m},[V,E,X,k]),T=f.useMemo(()=>{const m=new Set(["All"]);return V.forEach(x=>m.add(x.category)),Array.from(m)},[V]),ce=f.useMemo(()=>{const m={"fluent-github":0,"atlas-github":0,"azure-services":0,"figma-fluent":0,"figma-atlas":0,"figma-azure":0};return V.forEach(x=>{m[x.source]++}),console.log(" Source counts:",m),console.log(" Loaded components:",V.length),m},[V]),ee=m=>{const x=new Set(_);x.has(m)?x.delete(m):x.add(m),ie(x)},j=()=>{V.filter(x=>_.has(x.id)).forEach(x=>{a(x)}),ie(new Set)},B=()=>{ie(new Set)};return c?n.jsx("div",{className:"enhanced-component-library-overlay",children:n.jsxs("div",{className:"enhanced-component-library-modal",children:[n.jsxs("div",{className:"library-header",children:[n.jsxs("div",{className:"header-content",children:[n.jsx("h2",{children:g==="dev-playbooks"?"Dev Playbooks":g==="figma-components"?"Figma Components":"Component Library"}),n.jsx("p",{children:g==="dev-playbooks"?"Development components from GitHub repositories and Azure services":g==="figma-components"?"Design components from Figma libraries":"Browse components from Fluent Dev Playbook, Atlas Dev Playbook, Azure Dev Playbook, Figma Fluent Library, and Figma Atlas Library"})]}),n.jsx("button",{onClick:s,className:"close-button",children:""})]}),n.jsx("div",{className:"playbook-selector",children:n.jsx("div",{className:"playbook-tabs",children:h.map(m=>n.jsxs("button",{className:`playbook-tab ${w===m?"active":""}`,onClick:()=>O(m),children:[m,m==="Fluent Dev Playbook"&&n.jsxs("span",{className:"source-badge github",children:[w==="Fluent Dev Playbook"?ce["fluent-github"]||0:"5"," Components"]}),m==="Atlas Dev Playbook"&&n.jsxs("span",{className:"source-badge github",children:[w==="Atlas Dev Playbook"?ce["atlas-github"]||0:"5"," Components"]}),m==="Azure Dev Playbook"&&n.jsxs("span",{className:"source-badge github",children:[w==="Azure Dev Playbook"?ce["azure-services"]||0:"20"," Components"]}),m==="Figma Fluent Library"&&n.jsxs("span",{className:"source-badge github",children:[w==="Figma Fluent Library"?ce["figma-fluent"]||0:"8"," Components"]}),m==="Figma Atlas Library"&&n.jsxs("span",{className:"source-badge github",children:[w==="Figma Atlas Library"?ce["figma-atlas"]||0:"6"," Components"]}),m==="Figma Azure Library"&&n.jsxs("span",{className:"source-badge github",children:[w==="Figma Azure Library"?ce["figma-azure"]||0:"1"," Components"]})]},m))})}),n.jsxs("div",{className:"filters-section",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"source-select",children:"Source:"}),n.jsxs("select",{id:"source-select",value:E,onChange:m=>I(m.target.value),"aria-label":"Select component source",children:[n.jsx("option",{value:"all",children:"All Sources"}),w==="Fluent Dev Playbook"&&n.jsxs("option",{value:"fluent-github",children:[ce["fluent-github"]||0," Components (Fluent)"]}),w==="Atlas Dev Playbook"&&n.jsxs("option",{value:"atlas-github",children:[ce["atlas-github"]||0," Components (Atlas)"]}),w==="Azure Dev Playbook"&&n.jsxs("option",{value:"azure-services",children:[ce["azure-services"]||0," Components (Azure)"]}),w==="Figma Fluent Library"&&n.jsxs("option",{value:"figma-fluent",children:[ce["figma-fluent"]||0," Components (Figma Fluent)"]}),w==="Figma Atlas Library"&&n.jsxs("option",{value:"figma-atlas",children:[ce["figma-atlas"]||0," Components (Figma Atlas)"]}),w==="Figma Azure Library"&&n.jsxs("option",{value:"figma-azure",children:[ce["figma-azure"]||0," Components (Figma Azure)"]})]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"category-select",children:"Category:"}),n.jsx("select",{id:"category-select",value:X,onChange:m=>W(m.target.value),"aria-label":"Select component category",children:T.map(m=>n.jsx("option",{value:m,children:m},m))})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{children:"Search:"}),n.jsx("input",{type:"text",value:k,onChange:m=>z(m.target.value),placeholder:"Search components...",className:"search-input"})]})]}),_.size>0&&n.jsxs("div",{className:"selection-controls",children:[n.jsx("div",{className:"selection-info",children:n.jsxs("span",{className:"selection-count",children:[_.size," component",_.size!==1?"s":""," selected"]})}),n.jsxs("div",{className:"selection-actions",children:[n.jsx("button",{onClick:j,className:"add-selected-btn primary",children:"Add Selected to Wireframe"}),n.jsx("button",{onClick:B,className:"clear-selection-btn",children:"Clear Selection"})]})]}),he&&n.jsxs("div",{className:"loading-state",children:[n.jsx("div",{className:"spinner"}),n.jsxs("p",{children:["Loading ",w," components..."]})]}),!he&&n.jsxs(n.Fragment,{children:[w==="Figma Fluent Library"&&n.jsxs("div",{className:"components-grid-header",children:[n.jsxs("div",{className:"grid-header-info",children:[n.jsx("h3",{children:"Fluent 2 Design System Components"}),n.jsxs("p",{children:[H.length," components available"]})]}),n.jsx("div",{className:"grid-header-actions",children:n.jsxs("a",{href:"https://www.figma.com/design/GvIcCw0tWaJVDSWD4f1OIW/Fluent-2-web?node-id=0-1&p=f&t=0UVE7Ann6oVPNlGW-0",target:"_blank",rel:"noopener noreferrer",className:"figma-library-link",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"figma-icon",children:[n.jsx("path",{d:"M8 24c2.208 0 4-1.792 4-4v-4H8c-2.208 0-4 1.792-4 4s1.792 4 4 4z"}),n.jsx("path",{d:"M4 12c0-2.208 1.792-4 4-4h4v8H8c-2.208 0-4-1.792-4-4z"}),n.jsx("path",{d:"M4 4c0-2.208 1.792-4 4-4h4v8H8C5.792 8 4 6.208 4 4z"}),n.jsx("path",{d:"M12 0h4c2.208 0 4 1.792 4 4s-1.792 4-4 4h-4V0z"}),n.jsx("path",{d:"M20 12c0 2.208-1.792 4-4 4s-4-1.792-4-4 1.792-4 4-4 4 1.792 4 4z"})]}),n.jsx("span",{children:"Open in Figma"}),n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"external-link-icon",children:n.jsx("path",{d:"M3 3L9 9M9 3L9 9L3 9",stroke:"currentColor",strokeWidth:"1",fill:"none"})})]})})]}),w==="Figma Atlas Library"&&n.jsxs("div",{className:"components-grid-header",children:[n.jsxs("div",{className:"grid-header-info",children:[n.jsx("h3",{children:"Atlas Design System Components"}),n.jsxs("p",{children:[H.length," components available"]})]}),n.jsx("div",{className:"grid-header-actions",children:n.jsxs("a",{href:"https://www.figma.com/design/GvIcCw0tWaJVDSWD4f1OIW/Fluent-2-web?node-id=0-1&p=f&t=0UVE7Ann6oVPNlGW-0",target:"_blank",rel:"noopener noreferrer",className:"figma-library-link",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"figma-icon",children:[n.jsx("path",{d:"M8 24c2.208 0 4-1.792 4-4v-4H8c-2.208 0-4 1.792-4 4s1.792 4 4 4z"}),n.jsx("path",{d:"M4 12c0-2.208 1.792-4 4-4h4v8H8c-2.208 0-4-1.792-4-4z"}),n.jsx("path",{d:"M4 4c0-2.208 1.792-4 4-4h4v8H8C5.792 8 4 6.208 4 4z"}),n.jsx("path",{d:"M12 0h4c2.208 0 4 1.792 4 4s-1.792 4-4 4h-4V0z"}),n.jsx("path",{d:"M20 12c0 2.208-1.792 4-4 4s-4-1.792-4-4 1.792-4 4-4 4 1.792 4 4z"})]}),n.jsx("span",{children:"Open in Figma"}),n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"external-link-icon",children:n.jsx("path",{d:"M3 3L9 9M9 3L9 9L3 9",stroke:"currentColor",strokeWidth:"1",fill:"none"})})]})})]}),n.jsx("div",{className:"components-grid",children:H.map(m=>{const x=_.has(m.id);return n.jsxs("div",{className:`component-card ${x?"selected":""}`,onClick:()=>ee(m.id),children:[n.jsx("div",{className:"component-selection-indicator",children:n.jsx("div",{className:`selection-checkbox ${x?"checked":""}`,children:x&&n.jsx("span",{className:"checkmark",children:""})})}),n.jsx("div",{className:"component-preview",children:n.jsx("div",{dangerouslySetInnerHTML:{__html:m.htmlCode},className:"component-preview-scaled"})}),n.jsxs("div",{className:"component-info",children:[n.jsxs("div",{className:"component-header",children:[n.jsx("h3",{children:m.name}),n.jsxs("div",{className:"source-indicators",children:[n.jsx("span",{className:`source-tag ${m.source}`,children:m.source.includes("github")?"GitHub":"Figma"}),n.jsx("span",{className:"playbook-tag",children:m.playbook})]})]}),n.jsx("p",{className:"component-description",children:m.description}),n.jsxs("div",{className:"component-meta",children:[n.jsx("span",{className:"category-tag",children:m.category}),m.sourceUrl&&n.jsx("a",{href:m.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"source-link",onClick:R=>R.stopPropagation(),children:"View Source"})]}),n.jsx("button",{onClick:R=>{R.stopPropagation(),a(m)},className:"add-component-btn individual",children:"Add to Wireframe"})]})]},m.id)})})]}),!he&&H.length===0&&n.jsxs("div",{className:"empty-state",children:[n.jsx("p",{children:"No components found matching your criteria."}),n.jsx("button",{onClick:()=>{z(""),W("All"),I("all"),ie(new Set)},children:"Clear Filters"})]}),n.jsx("div",{className:"library-footer",children:n.jsxs("div",{className:"stats",children:["Showing ",H.length," of ",V.length," components from ",w]})})]})}):null},um=c=>n.jsx(Il,Ge(_e({},c),{libraryType:"dev-playbooks"})),pm=c=>n.jsx(Il,Ge(_e({},c),{libraryType:"figma-components"})),fm=({html:c,className:s="",isEditMode:a=!1,onUpdateContent:d,onShowFormattingToolbar:u,onFormatCommand:g,onSetCurrentEditingElement:y,isPlacementMode:h=!1,pendingComponent:b,onComponentPlacement:w,onCancelPlacementMode:O})=>{const[E,I]=f.useState(""),X=f.useRef(null),[W,k]=f.useState({x:0,y:0}),[z,V]=f.useState(null);f.useEffect(()=>{if(c){const G=ie(c);I(G)}},[c]),f.useEffect(()=>{if(!X.current)return;X.current.querySelectorAll("h1, h2, h3, h4, h5, h6, p, span, div, button, a, li").forEach(ge=>{const me=ge;a?(me.contentEditable="true",me.style.outline="1px dashed #007acc",me.style.cursor="text"):(me.contentEditable="false",me.style.outline="none",me.style.cursor="default")})},[a,E]);const Q=f.useCallback(G=>{if(!a)return;const M=G.target;if(M.contentEditable==="true"){if(G.stopPropagation(),y&&y(M),u){const ge=M.getBoundingClientRect();u(!0,{top:ge.top-10,left:ge.left})}M.focus()}},[a,y,u]),he=f.useCallback(G=>{if(!a||!d||!X.current)return;const M=X.current.innerHTML;d(M)},[a,d]),pe=f.useCallback(G=>{var Fe;if(!h||!w)return;G.preventDefault(),G.stopPropagation();const M=(Fe=X.current)==null?void 0:Fe.getBoundingClientRect();if(!M)return;const ge=G.clientX-M.left,me=G.clientY-M.top,$e=G.target;console.log(" Component placement clicked at:",{x:ge,y:me},"Target:",$e),w(ge,me,$e)},[h,w]),_=f.useCallback(G=>{var me,$e;if(!h)return;const M=(me=X.current)==null?void 0:me.getBoundingClientRect();if(!M)return;k({x:G.clientX-M.left,y:G.clientY-M.top});const ge=G.target;ge&&(($e=ge.className)!=null&&$e.includes("col-")||ge.tagName==="DIV")?V(ge):V(null)},[h]);f.useEffect(()=>{const G=M=>{M.key==="Escape"&&h&&O&&O()};if(h)return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[h,O]);const ie=G=>{var M;try{const me=new DOMParser().parseFromString(G,"text/html"),$e=me.querySelectorAll('style, link[rel="stylesheet"]');let Fe="";$e.forEach(be=>{be.tagName==="STYLE"&&(Fe+=be.innerHTML+`
`)});const re=((M=me.body)==null?void 0:M.innerHTML)||G;return`
        <style>
          /* Reset and base styles for clean wireframe display */
          .static-wireframe-content * {
            box-sizing: border-box;
          }
          
          /* Preserve AI-generated styles */
          ${Fe}
          
          /* Override any conflicting styles */
          .static-wireframe-content .main-container {
            display: flex !important;
            flex-direction: row !important;
            min-height: 100vh !important;
            width: 100% !important;
          }
          
          .static-wireframe-content .sidebar-left {
            order: 1 !important;
          }
          
          .static-wireframe-content .content-area {
            order: 2 !important;
            flex: 1 !important;
          }
          
          .static-wireframe-content .sidebar-right {
            order: 3 !important;
          }
        </style>
        <div class="static-wireframe-content">
          ${re}
        </div>
      `}catch(ge){return console.error("Error sanitizing HTML:",ge),`<div class="wireframe-error">Error rendering wireframe: ${ge}</div>`}};return c?n.jsxs("div",{className:`static-wireframe ${s} ${h?"placement-mode":""}`,children:[h&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"placement-overlay",children:n.jsxs("div",{className:"placement-instructions",children:[n.jsx("h4",{children:" Component Placement Mode"}),n.jsxs("p",{children:["Click anywhere on the wireframe to place: ",n.jsx("strong",{children:b==null?void 0:b.name})]}),n.jsxs("p",{children:[n.jsx("kbd",{children:"ESC"})," to cancel"]})]})}),n.jsx("div",{className:"placement-cursor",ref:G=>{G&&(G.style.left=`${W.x-10}px`,G.style.top=`${W.y-10}px`)},children:""})]}),n.jsx("div",{ref:X,className:`wireframe-content ${a?"edit-mode":""} ${h?"placement-mode":""}`,dangerouslySetInnerHTML:{__html:E},onClick:h?pe:Q,onMouseMove:h?_:void 0,onInput:he})]}):n.jsx("div",{className:`static-wireframe ${s}`,children:n.jsxs("div",{className:"wireframe-placeholder",children:[n.jsx("h3",{children:"No wireframe content"}),n.jsx("p",{children:"Generate a wireframe to see it displayed here."})]})})},hl=({message:c,onReact:s,reactions:a=[],onCopy:d,onEdit:u})=>{const g=()=>{switch(c.status){case"sending":return n.jsx(Nu,{className:"status-icon sending"});case"sent":return n.jsx(Ft,{className:"status-icon sent"});case"delivered":return n.jsxs("div",{className:"status-icon delivered",children:[n.jsx(Ft,{}),n.jsx(Ft,{})]});case"read":return n.jsxs("div",{className:"status-icon read",children:[n.jsx(Ft,{}),n.jsx(Ft,{})]});default:return null}};return n.jsx("div",{className:`enhanced-message ${c.type}-message microsoft-chat-style`,children:n.jsxs("div",{className:"message-container",children:[n.jsx("div",{className:"message-header",children:n.jsxs("div",{className:"message-meta",children:[n.jsx("span",{className:"message-time",children:c.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),g()]})}),n.jsx("div",{className:"message-response",children:n.jsx("div",{className:"message-body",children:c.content})}),a.length>0&&n.jsx("div",{className:"message-reactions",children:a.map((y,h)=>n.jsxs("button",{className:`reaction-btn ${y.userReacted?"user-reacted":""}`,onClick:()=>s==null?void 0:s(c.id,y.emoji),children:[n.jsx("span",{className:"reaction-emoji",children:y.emoji}),n.jsx("span",{className:"reaction-count",children:y.count})]},h))})]})})},fu=[{id:"hero-landing",name:"Hero Landing Page",url:"/demo-images/hero-landing.png",description:"Clean landing page with hero section, navigation, and call-to-action buttons",category:"landing-page",accuracy:97,components:8,complexity:"simple",features:["High Contrast","Clear Typography","Minimal Layout"],mockResults:{detectedComponents:["Navigation Bar","Hero Section","CTA Button","Feature Cards","Footer"],colorsPalette:["#0078D4","#FFFFFF","#323130","#107C10"],layoutType:"Single Column with Grid",confidenceScore:.97,processingTime:"2.3s"}},{id:"admin-dashboard",name:"Admin Dashboard",url:"/demo-images/admin-dashboard.png",description:"Complex dashboard with charts, tables, sidebar navigation, and data visualization",category:"dashboard",accuracy:94,components:15,complexity:"complex",features:["Data Tables","Charts","Sidebar Nav","Multi-column"],mockResults:{detectedComponents:["Sidebar Nav","Header Bar","Data Cards","Chart Container","Data Table","Action Buttons"],colorsPalette:["#0078D4","#F3F2F1","#323130","#D83B01","#107C10"],layoutType:"Multi-column with Sidebar",confidenceScore:.94,processingTime:"4.1s"}},{id:"mobile-shopping",name:"Mobile Shopping App",url:"/demo-images/mobile-shopping.png",description:"Mobile e-commerce interface with product grid, search, and bottom navigation",category:"mobile-app",accuracy:96,components:12,complexity:"medium",features:["Mobile Optimized","Touch Targets","Bottom Nav","Product Grid"],mockResults:{detectedComponents:["Search Bar","Product Grid","Product Cards","Bottom Navigation","Filter Buttons"],colorsPalette:["#0078D4","#FFFFFF","#323130","#E74C3C"],layoutType:"Mobile Grid Layout",confidenceScore:.96,processingTime:"3.2s"}},{id:"contact-form",name:"Contact Form",url:"/demo-images/contact-form.png",description:"Simple contact form with validation, inputs, and submit button",category:"form",accuracy:99,components:6,complexity:"simple",features:["Form Validation","Input Fields","Clear Labels","Submit Button"],mockResults:{detectedComponents:["Form Container","Text Inputs","Textarea","Submit Button","Validation Messages"],colorsPalette:["#0078D4","#FFFFFF","#323130","#D83B01"],layoutType:"Centered Form Layout",confidenceScore:.99,processingTime:"1.8s"}},{id:"ecommerce-product",name:"Product Detail Page",url:"/demo-images/ecommerce-product.png",description:"E-commerce product page with image gallery, specifications, and purchase options",category:"ecommerce",accuracy:95,components:11,complexity:"medium",features:["Image Gallery","Product Info","Price Display","Add to Cart"],mockResults:{detectedComponents:["Product Images","Product Title","Price Display","Add to Cart Button","Product Details","Reviews Section"],colorsPalette:["#0078D4","#FFFFFF","#323130","#107C10","#FF8C00"],layoutType:"Two-column Product Layout",confidenceScore:.95,processingTime:"3.7s"}}],mm=({onSelectDemo:c,selectedDemo:s})=>{const[a,d]=f.useState("all"),[u,g]=f.useState(null),y=[{id:"all",label:"All Examples",icon:""},{id:"landing-page",label:"Landing Pages",icon:""},{id:"dashboard",label:"Dashboards",icon:""},{id:"mobile-app",label:"Mobile Apps",icon:""},{id:"form",label:"Forms",icon:""},{id:"ecommerce",label:"E-commerce",icon:""}],h=a==="all"?fu:fu.filter(E=>E.category===a),b=E=>E>=95?"#107C10":E>=90?"#FF8C00":"#D83B01",w=E=>{const I={simple:{label:"Simple",color:"#107C10"},medium:{label:"Medium",color:"#FF8C00"},complex:{label:"Complex",color:"#D83B01"}};return I[E]||I.simple},O=f.useCallback(E=>{c(E)},[c]);return n.jsxs("div",{className:"demo-gallery",children:[n.jsxs("div",{className:"demo-gallery-header",children:[n.jsxs("div",{className:"demo-title",children:[n.jsx(zs,{className:"demo-icon"}),n.jsx("h3",{children:"Demo Gallery - Curated Examples"})]}),n.jsx("p",{className:"demo-description",children:"Select a pre-analyzed example to see our accuracy capabilities in action"})]}),n.jsx("div",{className:"category-filters",children:y.map(E=>n.jsxs("button",{className:`category-filter ${a===E.id?"active":""}`,onClick:()=>d(E.id),children:[n.jsx("span",{className:"category-emoji",children:E.icon}),E.label]},E.id))}),n.jsx("div",{className:"demo-images-grid",children:h.map(E=>{const I=w(E.complexity),X=s===E.id,W=u===E.id;return n.jsxs("div",{className:`demo-image-card ${X?"selected":""}`,onMouseEnter:()=>g(E.id),onMouseLeave:()=>g(null),onClick:()=>O(E),children:[n.jsxs("div",{className:"demo-image-preview",children:[n.jsxs("div",{className:`demo-image-placeholder ${E.category}`,children:[E.category==="landing-page"&&n.jsxs("div",{className:"landing-page-mockup",children:[n.jsx("div",{className:"mockup-nav"}),n.jsx("div",{className:"mockup-content"}),n.jsx("div",{className:"mockup-footer"})]}),E.category==="dashboard"&&n.jsxs("div",{className:"dashboard-mockup",children:[n.jsx("div",{className:"mockup-sidebar"}),n.jsxs("div",{className:"mockup-main",children:[n.jsx("div",{className:"mockup-charts"}),n.jsx("div",{className:"mockup-stats"})]})]}),E.category==="mobile-app"&&n.jsxs("div",{className:"mobile-app-mockup",children:[n.jsx("div",{className:"mockup-status"}),n.jsx("div",{className:"mockup-header"}),n.jsxs("div",{className:"mockup-body",children:[n.jsx("div",{className:"mockup-item"}),n.jsx("div",{className:"mockup-item"}),n.jsx("div",{className:"mockup-item"}),n.jsx("div",{className:"mockup-item"})]}),n.jsx("div",{className:"mockup-tabs"})]}),E.category==="form"&&n.jsxs("div",{className:"form-mockup",children:[n.jsx("div",{className:"mockup-title"}),n.jsx("div",{className:"mockup-field"}),n.jsx("div",{className:"mockup-field"}),n.jsx("div",{className:"mockup-textarea"}),n.jsx("div",{className:"mockup-button"})]}),E.category==="ecommerce"&&n.jsxs("div",{className:"ecommerce-mockup",children:[n.jsx("div",{className:"mockup-image"}),n.jsxs("div",{className:"mockup-info",children:[n.jsx("div",{className:"mockup-name"}),n.jsx("div",{className:"mockup-price"}),n.jsxs("div",{className:"mockup-actions",children:[n.jsx("div",{className:"mockup-cart"}),n.jsx("div",{className:"mockup-buy"})]})]})]})]}),X&&n.jsx("div",{className:"selected-overlay",children:n.jsx(Ft,{className:"check-icon"})})]}),n.jsxs("div",{className:"demo-image-info",children:[n.jsxs("div",{className:"demo-image-header",children:[n.jsx("h4",{className:"demo-image-title",children:E.name}),n.jsxs("div",{className:"demo-badges",children:[n.jsxs("span",{className:"accuracy-badge",style:{"--accuracy-color":b(E.accuracy)},children:[n.jsx(Wf,{className:"badge-icon"}),E.accuracy,"%"]}),n.jsx("span",{className:"complexity-badge",style:{"--complexity-color":I.color},children:I.label})]})]}),n.jsx("p",{className:"demo-image-description",children:E.description}),n.jsxs("div",{className:"demo-stats",children:[n.jsxs("div",{className:"stat",children:[n.jsx("span",{className:"stat-value",children:E.components}),n.jsx("span",{className:"stat-label",children:"Components"})]}),n.jsxs("div",{className:"stat",children:[n.jsx("span",{className:"stat-value",children:E.mockResults.processingTime}),n.jsx("span",{className:"stat-label",children:"Process Time"})]}),n.jsxs("div",{className:"stat",children:[n.jsx("span",{className:"stat-value",children:E.mockResults.layoutType}),n.jsx("span",{className:"stat-label",children:"Layout"})]})]}),n.jsx("div",{className:"demo-features",children:E.features.map(k=>n.jsx("span",{className:"feature-tag",children:k},k))}),W&&n.jsxs("div",{className:"hover-details",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("strong",{children:"Detected Components:"}),n.jsx("div",{className:"component-list",children:E.mockResults.detectedComponents.map(k=>n.jsx("span",{className:"component-chip",children:k},k))})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("strong",{children:"Color Palette:"}),n.jsx("div",{className:"color-palette",children:E.mockResults.colorsPalette.map(k=>n.jsx("div",{className:"color-swatch","data-color":k,title:k},k))})]})]})]})]},E.id)})}),h.length===0&&n.jsx("div",{className:"no-results",children:n.jsx("p",{children:"No demo images found for the selected category."})})]})},gm=({isOpen:c,onClose:s,onImageUpload:a,onAnalyzeImage:d,isAnalyzing:u=!1,demoMode:g=!1})=>{const[y,h]=f.useState("upload"),[b,w]=f.useState(null),O=f.useCallback(I=>{w(I.id),setTimeout(()=>{const X=`${I.name.toLowerCase().replace(/\s+/g,"-")}.png`;d(I.url,X)},500)},[d]);if(!c)return null;const E=g?y:"upload";return n.jsx("div",{className:"fluent-modal-backdrop",onClick:s,children:n.jsxs("div",{className:"fluent-dialog fluent-upload-dialog",onClick:I=>I.stopPropagation(),children:[n.jsxs("div",{className:"fluent-dialog-header",children:[n.jsxs("div",{className:"fluent-dialog-title",children:[n.jsx(An,{className:"fluent-dialog-icon"}),n.jsx("h2",{children:"Upload Image to Wireframe"})]}),n.jsx("button",{className:"fluent-close-btn",onClick:s,title:"Close modal",children:n.jsx(Pt,{})})]}),g&&n.jsxs("div",{className:"upload-mode-switcher",children:[n.jsxs("button",{className:`mode-btn ${E==="upload"?"active":""}`,onClick:()=>h("upload"),children:[n.jsx(An,{className:"mode-icon"}),"Upload Your Image"]}),n.jsxs("button",{className:`mode-btn ${E==="demo"?"active":""}`,onClick:()=>h("demo"),children:[n.jsx(zs,{className:"mode-icon"}),"Demo Gallery"]})]}),n.jsx("div",{className:"fluent-dialog-body",children:E==="upload"?n.jsxs("div",{className:"fluent-upload-content",children:[n.jsx("p",{className:"fluent-dialog-description",children:"Upload an image of a UI design, wireframe, or website screenshot to generate a wireframe based on its layout."}),n.jsx("div",{className:"fluent-upload-zone-container",children:n.jsx(Au,{onImageUpload:a,onAnalyzeImage:d,isAnalyzing:u,className:"fluent-upload-zone"})})]}):n.jsx("div",{className:"demo-gallery-content",children:n.jsx(mm,{onSelectDemo:O,selectedDemo:b})})}),n.jsx("div",{className:"fluent-dialog-footer",children:E==="demo"&&b?n.jsxs("div",{className:"demo-footer-actions",children:[n.jsx("button",{className:"fluent-button fluent-button-primary",onClick:()=>{s()},children:"Generate Wireframe from Demo"}),n.jsx("button",{className:"fluent-button fluent-button-secondary",onClick:s,children:"Cancel"})]}):n.jsx("button",{className:"fluent-button fluent-button-secondary",onClick:s,children:"Cancel"})})]})})};function mu(c){return Me({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z"},child:[]}]})(c)}function hm(c){return Me({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.852 8.981h-4.588V0h4.588c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.491-4.49 4.491zM12.735 7.51h3.117c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-3.117V7.51zm0 1.471H8.148c-2.476 0-4.49-2.014-4.49-4.49S5.672 0 8.148 0h4.588v8.981zm-4.587-7.51c-1.665 0-3.019 1.355-3.019 3.019s1.354 3.02 3.019 3.02h3.117V1.471H8.148zm4.587 15.019H8.148c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h4.588v8.98zM8.148 8.981c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h3.117V8.981H8.148zM8.172 24c-2.489 0-4.515-2.014-4.515-4.49s2.014-4.49 4.49-4.49h4.588v4.441c0 2.503-2.047 4.539-4.563 4.539zm-.024-7.51a3.023 3.023 0 0 0-3.019 3.019c0 1.665 1.365 3.019 3.044 3.019 1.705 0 3.093-1.376 3.093-3.068v-2.97H8.148zm7.704 0h-.098c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h.098c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.49-4.49 4.49zm-.097-7.509c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h.098c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-.098z"},child:[]}]})(c)}const xm=({pages:c,currentPageId:s,onPageSwitch:a,onAddPage:d,onOpenLibrary:u,onOpenDevPlaybooks:g,onOpenFigmaComponents:y,onSave:h,onAddToFavorites:b,onImageUpload:w,onOpenAnalyzeDesignModal:O,onOpenQuickTipsModal:E,isEditMode:I=!1,onToggleEditMode:X,showFormattingToolbar:W=!1,onFormatBold:k,onFormatItalic:z,onFormatUnderline:V,onRemoveFormat:Q})=>{const[he,pe]=f.useState(null),_=(M,ge)=>{const me=M.currentTarget.getBoundingClientRect();pe({text:ge,x:me.left+me.width/2,y:me.bottom+8})},ie=()=>{pe(null)};console.log(" PageNavigation render with:",{pages:c.map(M=>({id:M.id,name:M.name})),currentPageId:s});const G=M=>["First Page","Second Page","Third Page","Fourth Page","Fifth Page","Sixth Page","Seventh Page","Eighth Page","Ninth Page","Tenth Page"][M]||`Page ${M+1}`;return!c||c.length===0?n.jsx("div",{className:"page-navigation breadcrumb-style",children:n.jsxs("div",{className:"breadcrumb-bar",children:[n.jsx("div",{className:"breadcrumb-left",children:n.jsx("span",{className:"no-pages-message",children:"No pages yet"})}),n.jsxs("div",{className:"page-toolbar",children:[n.jsx("button",{className:"toolbar-btn",onClick:d,onMouseEnter:M=>_(M,"Add new page"),onMouseLeave:ie,"aria-label":"Add Page",children:n.jsx(du,{})}),n.jsx("button",{className:"icon-btn",title:"Dev Playbooks",onClick:()=>{console.log(" Dev Playbooks button clicked!"),g&&g()},children:n.jsx(yi,{})}),n.jsx("button",{className:"icon-btn",title:"Figma Components",onClick:()=>{console.log(" Figma Components button clicked!"),y&&y()},children:n.jsx(Cl,{})}),n.jsx("button",{className:"icon-btn",title:"Component Library (Legacy)",onClick:()=>{console.log(" Component Library button clicked!"),u&&u()},children:n.jsx(Of,{})}),X&&n.jsx("button",{className:`toolbar-btn ${I?"edit-mode-active":""}`,onClick:X,onMouseEnter:M=>_(M,I?"Disable Edit Mode":"Enable Edit Mode"),onMouseLeave:ie,"aria-label":I?"Disable wireframe editing":"Enable wireframe editing",children:n.jsx(lu,{})}),W&&n.jsxs("div",{className:"formatting-toolbar-group",children:[n.jsx("div",{className:"toolbar-divider"}),n.jsx("button",{className:"toolbar-btn format-btn format-bold",onClick:k,onMouseEnter:M=>_(M,"Bold (Ctrl+B)"),onMouseLeave:ie,"aria-label":"Bold",title:"Bold",children:n.jsx("strong",{children:"B"})}),n.jsx("button",{className:"toolbar-btn format-btn format-italic",onClick:z,onMouseEnter:M=>_(M,"Italic (Ctrl+I)"),onMouseLeave:ie,"aria-label":"Italic",title:"Italic",children:n.jsx("em",{children:"I"})}),n.jsx("button",{className:"toolbar-btn format-btn format-underline",onClick:V,onMouseEnter:M=>_(M,"Underline (Ctrl+U)"),onMouseLeave:ie,"aria-label":"Underline",title:"Underline",children:n.jsx("u",{children:"U"})}),n.jsx("button",{className:"toolbar-btn format-btn format-clear",onClick:Q,onMouseEnter:M=>_(M,"Remove Formatting"),onMouseLeave:ie,"aria-label":"Remove Formatting",title:"Remove Formatting",children:""})]}),n.jsxs("div",{className:"ai-assistant-group",children:[n.jsx("button",{className:"toolbar-btn ai-btn",onClick:O,onMouseEnter:M=>_(M,"Analyze Design"),onMouseLeave:ie,"aria-label":"Analyze Design",title:"AI Design Analysis",children:n.jsx(Al,{})}),n.jsx("button",{className:"toolbar-btn ai-btn",onClick:E,onMouseEnter:M=>_(M,"Quick Tips"),onMouseLeave:ie,"aria-label":"Quick Tips",title:"AI Design Tips",children:n.jsx(mu,{})})]}),n.jsx("button",{className:"toolbar-btn",onClick:b,onMouseEnter:M=>_(M,"Add to favorites"),onMouseLeave:ie,"aria-label":"Add to Favorites",children:n.jsx(zs,{})}),n.jsx("button",{className:"toolbar-btn",onClick:h,onMouseEnter:M=>_(M,"Save wireframe"),onMouseLeave:ie,"aria-label":"Save",children:n.jsx(jl,{})})]})]})}):n.jsxs("div",{className:"page-navigation breadcrumb-style",children:[n.jsxs("div",{className:"breadcrumb-bar",children:[n.jsx("div",{className:"breadcrumb-left",children:n.jsx("div",{className:"breadcrumb-container",children:c.map((M,ge)=>n.jsxs(Zn.Fragment,{children:[n.jsx("button",{className:`breadcrumb-item ${s===M.id?"active":""}`,onClick:()=>a(M.id),title:`${M.name} - ${M.description}`,children:G(ge)}),ge<c.length-1&&n.jsx("span",{className:"breadcrumb-separator",children:"/"})]},M.id))})}),n.jsxs("div",{className:"page-toolbar",children:[n.jsx("button",{className:"toolbar-btn",onClick:d,onMouseEnter:M=>_(M,"Add new page"),onMouseLeave:ie,"aria-label":"Add Page",children:n.jsx(du,{})}),n.jsx("button",{className:"toolbar-btn",onClick:g,onMouseEnter:M=>_(M,"Dev Playbooks"),onMouseLeave:ie,"aria-label":"Dev Playbooks",children:n.jsx(kl,{})}),n.jsx("button",{className:"toolbar-btn",onClick:y,onMouseEnter:M=>_(M,"Figma Components"),onMouseLeave:ie,"aria-label":"Figma Components",children:n.jsx(hm,{})}),X&&n.jsx("button",{className:`toolbar-btn ${I?"edit-mode-active":""}`,onClick:X,onMouseEnter:M=>_(M,I?"Disable Edit Mode":"Enable Edit Mode"),onMouseLeave:ie,"aria-label":I?"Disable wireframe editing":"Enable wireframe editing",children:n.jsx(lu,{})}),W&&n.jsxs("div",{className:"formatting-toolbar-group",children:[n.jsx("div",{className:"toolbar-divider"}),n.jsx("button",{className:"toolbar-btn format-btn format-bold",onClick:k,onMouseEnter:M=>_(M,"Bold (Ctrl+B)"),onMouseLeave:ie,"aria-label":"Bold",title:"Bold",children:n.jsx("strong",{children:"B"})}),n.jsx("button",{className:"toolbar-btn format-btn format-italic",onClick:z,onMouseEnter:M=>_(M,"Italic (Ctrl+I)"),onMouseLeave:ie,"aria-label":"Italic",title:"Italic",children:n.jsx("em",{children:"I"})}),n.jsx("button",{className:"toolbar-btn format-btn format-underline",onClick:V,onMouseEnter:M=>_(M,"Underline (Ctrl+U)"),onMouseLeave:ie,"aria-label":"Underline",title:"Underline",children:n.jsx("u",{children:"U"})}),n.jsx("button",{className:"toolbar-btn format-btn format-clear",onClick:Q,onMouseEnter:M=>_(M,"Remove Formatting"),onMouseLeave:ie,"aria-label":"Remove Formatting",title:"Remove Formatting",children:""})]}),n.jsxs("div",{className:"ai-assistant-group",children:[n.jsx("button",{className:"toolbar-btn ai-btn",onClick:O,onMouseEnter:M=>_(M,"Analyze Design"),onMouseLeave:ie,"aria-label":"Analyze Design",title:"AI Design Analysis",children:n.jsx(Al,{})}),n.jsx("button",{className:"toolbar-btn ai-btn",onClick:E,onMouseEnter:M=>_(M,"Quick Tips"),onMouseLeave:ie,"aria-label":"Quick Tips",title:"AI Design Tips",children:n.jsx(mu,{})})]}),n.jsx("button",{className:"toolbar-btn",onClick:b,onMouseEnter:M=>_(M,"Add to favorites"),onMouseLeave:ie,"aria-label":"Add to Favorites",children:n.jsx(zs,{})}),n.jsx("button",{className:"toolbar-btn",onClick:h,onMouseEnter:M=>_(M,"Save wireframe"),onMouseLeave:ie,"aria-label":"Save",children:n.jsx(jl,{})})]})]}),he&&n.jsx("div",{className:"black-tooltip-container",children:n.jsx("div",{className:"black-tooltip",ref:M=>{M&&(M.style.left=`${he.x}px`,M.style.top=`${he.y}px`)},children:he.text})})]})},ym=({isOpen:c,onClose:s,htmlContent:a,title:d="HTML Code",onImportHtml:u})=>{const[g,y]=f.useState(!1),[h,b]=f.useState(!1),w=f.useRef(null);if(!c)return null;const O=()=>we(null,null,function*(){try{yield navigator.clipboard.writeText(a),y(!0),setTimeout(()=>y(!1),2e3)}catch(k){console.error("Failed to copy text: ",k)}}),E=()=>{const k=new Blob([a],{type:"text/html"}),z=URL.createObjectURL(k),V=document.createElement("a");V.href=z,V.download="wireframe.html",document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(z)},I=k=>we(null,null,function*(){var V;const z=(V=k.target.files)==null?void 0:V[0];if(z){b(!0);try{const Q=yield z.text();u==null||u(Q)}catch(Q){console.error("Failed to read file",Q)}finally{b(!1),w.current&&(w.current.value="")}}}),X=()=>{var k;(k=w.current)==null||k.click()},W=k=>k.replace(/></g,`>
<`).replace(/^\s*\n/gm,"").split(`
`).map(z=>z.trim()).filter(z=>z.length>0).join(`
`);return n.jsx("div",{className:"html-code-overlay",children:n.jsxs("div",{className:"html-code-modal",children:[n.jsxs("div",{className:"html-code-header",children:[n.jsxs("div",{className:"header-left",children:[n.jsx("h2",{children:d}),n.jsx("p",{children:"View, copy, import, or download the HTML for your wireframe"})]}),n.jsxs("div",{className:"header-right",children:[u&&n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:w,type:"file",accept:".html,.htm,text/html",className:"visually-hidden-file-input","aria-label":"Import HTML file",onChange:I}),n.jsxs("button",{className:"code-action-btn",onClick:X,title:"Import HTML File",disabled:h,children:[n.jsx(An,{}),h?"Importing...":"Import"]})]}),n.jsxs("button",{className:"code-action-btn",onClick:O,title:"Copy to Clipboard",children:[g?n.jsx(Ft,{}):n.jsx(Ll,{}),g?"Copied!":"Copy"]}),n.jsxs("button",{className:"code-action-btn",onClick:E,title:"Download HTML File",children:[n.jsx(Vr,{}),"Download"]}),n.jsx("button",{className:"close-btn",onClick:s,title:"Close Code Viewer",children:n.jsx(Pt,{})})]})]}),n.jsx("div",{className:"html-code-content",children:n.jsx("pre",{className:"html-code-block",children:n.jsx("code",{children:W(a)})})}),n.jsxs("div",{className:"html-code-footer",children:[n.jsx("div",{className:"footer-info",children:n.jsxs("small",{children:[a.length," characters  Ready to use HTML code"]})}),n.jsx("button",{className:"btn-secondary",onClick:s,children:"Close"})]})]})})},vm=({content:c,styleMode:s})=>{const[a,d]=f.useState(""),[u,g]=f.useState(!0);return f.useEffect(()=>{we(null,null,function*(){g(!0);try{const h=yield Pl(c,!0),b="body{margin:0;padding:16px;box-sizing:border-box;}*{box-sizing:border-box;}img{max-width:100%;height:auto;}",w=`
                .presentation-base{--primary:#8E9AAF;--secondary:#68769C;--accent:#3C4858;--background:#E9ECEF;--text-primary:#3C4858;--text-secondary:#68769C;--border-color:#CBC2C2;--highlight:#8E9AAF;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;line-height:1.6;color:var(--text-primary);} 
                .presentation-base h1,.presentation-base h2,.presentation-base h3,.presentation-base h4,.presentation-base h5,.presentation-base h6{margin-top:0;margin-bottom:.75rem;color:var(--text-primary);} 
                .presentation-base .container,.presentation-base .section,.presentation-base .card{border:1px solid var(--border-color);border-radius:6px;padding:16px;margin-bottom:16px;background:#fff;} 
                .presentation-base button{background:var(--primary);color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-family:inherit;} 
                .presentation-base button:hover{background:var(--secondary);} 
                .presentation-base input,.presentation-base textarea,.presentation-base select{border:1px solid var(--border-color);border-radius:4px;padding:8px 12px;font-family:inherit;font-size:14px;color:var(--text-primary);} 
                .presentation-base input:focus,.presentation-base textarea:focus,.presentation-base select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px rgba(142,154,175,.2);} 
                .presentation-base a{color:var(--primary);text-decoration:none;} 
                .presentation-base a:hover{color:var(--secondary);text-decoration:underline;} 
                .presentation-base .nav,.presentation-base .navigation{background:var(--background);border:1px solid var(--border-color);padding:12px;border-radius:6px;margin-bottom:16px;} 
                .presentation-base .hero,.presentation-base .header{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;padding:24px;border-radius:8px;margin-bottom:20px;} 
                .presentation-base .hero h1,.presentation-base .hero h2,.presentation-base .hero h3,.presentation-base .header h1,.presentation-base .header h2,.presentation-base .header h3{color:#fff;} 
                .presentation-base .sidebar{background:var(--background);border:1px solid var(--border-color);padding:16px;border-radius:6px;} 
                .presentation-base table{width:100%;border-collapse:collapse;margin-bottom:16px;} 
                .presentation-base th,.presentation-base td{border:1px solid var(--border-color);padding:8px 12px;text-align:left;} 
                .presentation-base th{background:var(--background);font-weight:600;color:var(--text-primary);} 
                @media (max-width:768px){.presentation-base{padding:12px;}.presentation-base .container,.presentation-base .section,.presentation-base .card{padding:12px;margin-bottom:12px;}}
                `,O=s==="neutral"?'<div class="presentation-base">':'<div class="presentation-raw">',I=`<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>${h.styles?`<style>${h.styles}</style>`:""}<style>${b}${s==="neutral"?w:""}</style></head><body>${O}${h.html}</div></body></html>`;d(I)}catch(h){console.warn("Failed to inline CSS in presentation, using fallback:",h);const b=Po(c,!0),w="body{margin:0;padding:16px;box-sizing:border-box;}*{box-sizing:border-box;}img{max-width:100%;height:auto;}",O=`
                .presentation-base{--primary:#8E9AAF;--secondary:#68769C;--accent:#3C4858;--background:#E9ECEF;--text-primary:#3C4858;--text-secondary:#68769C;--border-color:#CBC2C2;--highlight:#8E9AAF;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;line-height:1.6;color:var(--text-primary);} 
                .presentation-base h1,.presentation-base h2,.presentation-base h3,.presentation-base h4,.presentation-base h5,.presentation-base h6{margin-top:0;margin-bottom:.75rem;color:var(--text-primary);} 
                .presentation-base .container,.presentation-base .section,.presentation-base .card{border:1px solid var(--border-color);border-radius:6px;padding:16px;margin-bottom:16px;background:#fff;} 
                .presentation-base button{background:var(--primary);color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-family:inherit;} 
                .presentation-base button:hover{background:var(--secondary);} 
                .presentation-base input,.presentation-base textarea,.presentation-base select{border:1px solid var(--border-color);border-radius:4px;padding:8px 12px;font-family:inherit;font-size:14px;color:var(--text-primary);} 
                .presentation-base input:focus,.presentation-base textarea:focus,.presentation-base select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px rgba(142,154,175,.2);} 
                .presentation-base a{color:var(--primary);text-decoration:none;} 
                .presentation-base a:hover{color:var(--secondary);text-decoration:underline;} 
                .presentation-base .nav,.presentation-base .navigation{background:var(--background);border:1px solid var(--border-color);padding:12px;border-radius:6px;margin-bottom:16px;} 
                .presentation-base .hero,.presentation-base .header{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;padding:24px;border-radius:8px;margin-bottom:20px;} 
                .presentation-base .hero h1,.presentation-base .hero h2,.presentation-base .hero h3,.presentation-base .header h1,.presentation-base .header h2,.presentation-base .header h3{color:#fff;} 
                .presentation-base .sidebar{background:var(--background);border:1px solid var(--border-color);padding:16px;border-radius:6px;} 
                .presentation-base table{width:100%;border-collapse:collapse;margin-bottom:16px;} 
                .presentation-base th,.presentation-base td{border:1px solid var(--border-color);padding:8px 12px;text-align:left;} 
                .presentation-base th{background:var(--background);font-weight:600;color:var(--text-primary);} 
                @media (max-width:768px){.presentation-base{padding:12px;}.presentation-base .container,.presentation-base .section,.presentation-base .card{padding:12px;margin-bottom:12px;}}
                `,E=s==="neutral"?'<div class="presentation-base">':'<div class="presentation-raw">',X=`<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>${(b.links||[]).map(W=>`<link rel="stylesheet" href="${W}"/>`).join("")}${b.styles?`<style>${b.styles}</style>`:""}<style>${w}${s==="neutral"?O:""}</style></head><body>${E}${b.html}</div></body></html>`;d(X)}finally{g(!1)}})},[c,s]),u?n.jsx("div",{className:"wireframe-iframe loading-placeholder",children:n.jsx("div",{children:"Loading presentation..."})}):n.jsx("iframe",{srcDoc:a,className:"wireframe-iframe",title:"Page Preview",sandbox:"allow-same-origin"})},bm=({content:c,title:s})=>{const[a,d]=f.useState("");return f.useEffect(()=>{we(null,null,function*(){try{const g=yield Pl(c,!0),y=`<!DOCTYPE html><html><head><meta charset='utf-8'/><base target="_blank"/><style>
html,body{margin:0;padding:0;box-sizing:border-box;width:100%;height:100%;overflow:hidden;}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;line-height:1.1;font-size:8px;padding:2px;}
*{max-width:100% !important;animation:none !important;transition:none !important;}
img{max-width:100%;height:auto;display:block;}
button,a{pointer-events:none !important;}
/* Compact mini preview styling - force tighter spacing */
h1,h2,h3,h4,h5,h6{font-size:12px;margin:1px 0;line-height:1.1;font-weight:600;}
p{font-size:8px;margin:1px 0;line-height:1.1;}
div{margin:0 !important;padding:1px 2px !important;}
section,article,main{margin:0 !important;padding:1px !important;}
/* Force content to fill space */
.container,div[style*="max-width"]{max-width:100% !important;width:100% !important;margin:0 !important;}
div[style*="padding"]{padding:2px 4px !important;}
div[style*="margin"]{margin:1px 0 !important;}
/* Override any large dimensions */
div[style*="height"]{min-height:auto !important;}
/* Compact forms and inputs */
input,textarea,button{font-size:7px;padding:1px 2px;margin:0;}
/* Make headers more compact */
div[style*="background"][style*="padding"]{padding:2px 4px !important;margin:0 !important;}
${g.styles||""}
</style></head><body>${g.html}</body></html>`;d(y)}catch(g){console.warn("Failed to inline CSS in thumbnail, using fallback:",g);const y=Po(c,!0),h=`<!DOCTYPE html><html><head><meta charset='utf-8'/><style>
html,body{margin:0;padding:0;box-sizing:border-box;width:100%;height:100%;overflow:hidden;}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;line-height:1.1;font-size:8px;padding:2px;}
*{max-width:100% !important;animation:none !important;transition:none !important;}
img{max-width:100%;height:auto;display:block;}
button,a{pointer-events:none !important;}
h1,h2,h3,h4,h5,h6{font-size:12px;margin:1px 0;line-height:1.1;font-weight:600;}
p{font-size:8px;margin:1px 0;line-height:1.1;}
div{margin:0 !important;padding:1px 2px !important;}
${y.styles||""}
</style></head><body>${y.html}</body></html>`;d(h)}})},[c]),n.jsx("iframe",{srcDoc:a,className:"thumbnail-iframe",title:s,sandbox:"allow-same-origin"})},wm=({isOpen:c,onClose:s,wireframeName:a,wireframeDescription:d,pages:u})=>{const[g,y]=f.useState(0),[h,b]=f.useState(!1),[w,O]=f.useState(!0),[E,I]=f.useState("raw"),X=f.useRef(null),W=f.useRef(null),k=`presentation_last_index_${a}`,z=new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"});f.useEffect(()=>{if(!c)return;const _=ie=>{switch(ie.key){case"ArrowLeft":Q();break;case"ArrowRight":V();break;case"Escape":s();break;case"f":case"F":he();break;case" ":ie.preventDefault(),V();break;case"Home":y(0);break;case"End":y(u.length-1);break}};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[c,g,u.length]),f.useEffect(()=>{if(c){const _=sessionStorage.getItem(k),ie=_?parseInt(_,10):0,G=isNaN(ie)?0:Math.min(Math.max(0,ie),Math.max(0,u.length-1));y(G)}},[c]),f.useEffect(()=>{c&&sessionStorage.setItem(k,String(g))},[c,g]);const V=f.useCallback(()=>{g<u.length-1&&y(_=>_+1)},[g,u.length]),Q=f.useCallback(()=>{g>0&&y(_=>_-1)},[g]),he=f.useCallback(()=>{var _,ie,G;!document.fullscreenElement&&W.current?(ie=(_=W.current).requestFullscreen)==null||ie.call(_).catch(()=>{b(!0)}):(G=document.exitFullscreen)==null||G.call(document).catch(()=>{b(!1)})},[]);if(f.useEffect(()=>{const _=()=>{const ie=!!document.fullscreenElement;b(ie),O(!0)};return document.addEventListener("fullscreenchange",_),()=>document.removeEventListener("fullscreenchange",_)},[]),f.useEffect(()=>{if(!c)return;const _=W.current;if(!_)return;const ie=()=>{O(!0),X.current&&window.clearTimeout(X.current),h&&(X.current=window.setTimeout(()=>{O(!1)},2500))},G=["mousemove","mousedown","keydown","touchstart"];return G.forEach(M=>_.addEventListener(M,ie)),ie(),()=>{G.forEach(M=>_.removeEventListener(M,ie)),X.current&&window.clearTimeout(X.current)}},[c,h]),!c||u.length===0)return null;const pe=u[g];return n.jsxs("div",{ref:W,className:`presentation-mode ${h?"fullscreen":""} ${h&&!w?"chrome-hidden":""}`,children:[n.jsx("div",{className:"presentation-overlay",onClick:s}),n.jsxs("div",{className:"presentation-container",children:[n.jsxs("div",{className:`presentation-toolbar ${h&&!w?"hidden":""}`,children:[n.jsxs("div",{className:"toolbar-left",children:[n.jsx("div",{className:"toolbar-title",children:a}),n.jsx("div",{className:"toolbar-date",children:z})]}),n.jsxs("div",{className:"toolbar-right",children:[n.jsx("button",{className:"presentation-btn",onClick:he,title:h?"Exit Fullscreen (F)":"Fullscreen (F)",children:h?n.jsx(Mf,{}):n.jsx(Df,{})}),n.jsx("button",{className:"presentation-btn presentation-close",onClick:s,title:"Close Presentation (Esc)",children:n.jsx(Pt,{})})]})]}),u.length>1&&!h&&n.jsxs("div",{className:"presentation-nav",children:[n.jsx("button",{className:"nav-btn prev",onClick:Q,disabled:g===0,title:"Previous Page ()",children:n.jsx(ju,{})}),n.jsxs("div",{className:"page-indicator",children:[n.jsx("span",{className:"current-page",children:g+1}),n.jsx("span",{className:"page-separator",children:"/"}),n.jsx("span",{className:"total-pages",children:u.length})]}),n.jsx("button",{className:"nav-btn next",onClick:V,disabled:g===u.length-1,title:"Next Page ()",children:n.jsx(Su,{})})]}),n.jsxs("div",{className:"presentation-content",children:[!h&&n.jsxs("div",{className:"page-header",children:[n.jsx("h3",{className:"page-title",children:pe.name}),pe.description&&n.jsx("p",{className:"page-description",children:pe.description})]}),n.jsxs("div",{className:"wireframe-display",children:[n.jsx(vm,{content:pe.content,styleMode:E}),h&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"click-zone left","aria-label":"Previous page",onClick:Q}),n.jsx("button",{className:"click-zone right","aria-label":"Next page",onClick:V})]})]})]}),u.length>1&&n.jsx("div",{className:"page-thumbnails",children:u.map((_,ie)=>n.jsxs("button",{className:`thumbnail ${ie===g?"active":""}`,onClick:()=>y(ie),title:_.name,children:[n.jsx("div",{className:"thumbnail-preview",children:n.jsx(bm,{content:_.content,title:`${_.name} Thumbnail`})}),n.jsx("span",{className:"thumbnail-label",children:_.name})]},_.id))}),n.jsx("div",{className:"presentation-help",children:n.jsx("small",{children:"Use   arrows to navigate  Press F for fullscreen  Press Esc to exit"})})]})]})},km=({componentCode:c})=>n.jsx("div",{dangerouslySetInnerHTML:{__html:c}});class Cm{constructor(){kr(this,"baseUrl");kr(this,"apiKey");this.baseUrl="https://func-original-app-pgno4orkguix6.azurewebsites.net/api",this.apiKey="dev-key-2025"}analyzeWireframe(s,a=""){return we(this,null,function*(){try{const d=yield fetch(`${this.baseUrl}/designconsultant`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey},body:JSON.stringify({action:"analyze",wireframeHtml:s,userContext:a})});if(!d.ok)throw new Error(`HTTP ${d.status}: ${d.statusText}`);const u=yield d.json();return{success:u.success,analysis:u.analysis,model:u.model,timestamp:new Date().toISOString(),error:u.error,fallback:u.success?void 0:"Unable to analyze wireframe at this time."}}catch(d){return console.error("Design Consultant Analysis Error:",d),{success:!1,error:d instanceof Error?d.message:"Unknown error",fallback:" I'm having trouble connecting right now. Please try again in a moment."}}})}getQuickTips(s="landing page",a="desktop"){return we(this,null,function*(){try{const d=yield fetch(`${this.baseUrl}/designconsultant`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey},body:JSON.stringify({action:"quickTips",wireframeType:s,deviceType:a})});if(!d.ok)throw new Error(`HTTP ${d.status}: ${d.statusText}`);const u=yield d.json();return{success:u.success,tips:u.tips,type:s,device:a,error:u.error}}catch(d){return console.error("Design Consultant Quick Tips Error:",d),{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}formatAnalysisMessage(s){return s.success?` **Design Consultant Analysis** (Powered by Azure AI Foundry)

${s.analysis}

---
*Analysis powered by ${s.model||"Azure AI"}  ${new Date().toLocaleTimeString()}*`:` **Design Consultant** (Powered by Azure AI Foundry)

${s.fallback||s.error||"Sorry, I encountered an issue analyzing your wireframe."}

 Try again in a moment, or ask me for quick design tips instead!`}formatTipsMessage(s){return s.success?` **Quick Design Tips** (${s.type}  ${s.device})

${s.tips}

---
*Tips powered by Azure AI Foundry  Ask me to analyze your current wireframe for detailed feedback!*`:` **Design Consultant** (Powered by Azure AI Foundry)

Sorry, I couldn't generate tips right now. ${s.error}`}healthCheck(){return we(this,null,function*(){try{return(yield fetch(`${this.baseUrl}/health`,{method:"GET",headers:{"x-api-key":this.apiKey}})).ok}catch(s){return!1}})}}const Lo=new Cm,gu=({isOpen:c,onClose:s,mode:a,wireframeHtml:d})=>{const[u,g]=f.useState(!1),[y,h]=f.useState(""),[b,w]=f.useState(""),[O,E]=f.useState(!1);f.useEffect(()=>{c&&a==="tips"&&X(),c||(h(""),w(""),g(!1),E(!1))},[c,a]);const I=()=>we(null,null,function*(){if(y)try{const k=new Date().toLocaleString(),V=`${a==="analyze"?"Design Analysis Results":"Quick Design Tips"}
Generated on: ${k}
Powered by: Azure AI Foundry (GPT-4)

${y}

---
Generated by Designetica AI Design Assistant
`;yield navigator.clipboard.writeText(V),E(!0),setTimeout(()=>E(!1),2e3)}catch(k){console.error("Failed to copy to clipboard:",k);const z=document.createElement("textarea");z.value=y,document.body.appendChild(z),z.select(),document.execCommand("copy"),document.body.removeChild(z),E(!0),setTimeout(()=>E(!1),2e3)}}),X=()=>we(null,null,function*(){g(!0),w("");try{const k=yield Lo.getQuickTips("landing page","desktop");k.success&&k.tips?h(k.tips):w(k.error||"Unable to generate quick tips")}catch(k){w("Failed to connect to AI Design Assistant")}finally{g(!1)}}),W=()=>we(null,null,function*(){if(!d){w("No wireframe content to analyze");return}g(!0),w("");try{const k=yield Lo.analyzeWireframe(d);k.success&&k.analysis?h(k.analysis):w(k.error||k.fallback||"Unable to analyze wireframe")}catch(k){w("Failed to connect to AI Design Assistant")}finally{g(!1)}});return c?n.jsx("div",{className:"ai-design-modal-overlay",onClick:s,children:n.jsxs("div",{className:"ai-design-modal",onClick:k=>k.stopPropagation(),children:[n.jsxs("div",{className:"ai-design-modal-header",children:[n.jsx("h2",{children:a==="analyze"?" Design Analysis":" Quick Design Tips"}),n.jsx("button",{className:"ai-design-modal-close",onClick:s,"aria-label":"Close modal",children:n.jsx(Pt,{})})]}),n.jsxs("div",{className:"ai-design-modal-content",children:[a==="analyze"&&!u&&!y&&!b&&n.jsxs("div",{className:"ai-design-modal-start",children:[n.jsx("p",{children:"Get AI-powered analysis of your current wireframe design with specific improvement recommendations."}),n.jsx("button",{className:"ai-design-btn primary",onClick:W,disabled:!d,children:" Analyze Current Design"}),!d&&n.jsx("p",{className:"ai-design-note",children:"Create a wireframe first to get analysis"})]}),u&&n.jsxs("div",{className:"ai-design-loading",children:[n.jsx(Eu,{className:"spinning"}),n.jsx("p",{children:a==="analyze"?"AI is analyzing your wireframe design...":"AI is generating quick design tips..."}),n.jsx("small",{children:"Powered by Azure AI Foundry"})]}),b&&n.jsxs("div",{className:"ai-design-error",children:[n.jsx(bl,{}),n.jsxs("p",{children:["Error: ",b]}),n.jsx("button",{className:"ai-design-btn secondary",onClick:a==="analyze"?W:X,children:"Try Again"})]}),y&&n.jsxs("div",{className:"ai-design-result",children:[n.jsxs("div",{className:"ai-design-success-header",children:[n.jsx(Lf,{}),n.jsx("span",{children:a==="analyze"?"Design Analysis Complete":"Quick Tips Generated"})]}),n.jsx("div",{className:"ai-design-result-content",children:y.split(`
`).map((k,z)=>n.jsx("p",{children:k},z))}),n.jsx("div",{className:"ai-design-footer",children:n.jsx("small",{children:" Powered by Azure AI Foundry (GPT-4)"})})]})]}),y&&n.jsxs("div",{className:"ai-design-modal-actions",children:[n.jsxs("button",{className:"ai-design-btn secondary",onClick:a==="analyze"?W:X,children:["Generate New ",a==="analyze"?"Analysis":"Tips"]}),n.jsxs("button",{className:`ai-design-btn ${O?"success":"copy"}`,onClick:I,disabled:O,title:"Copy results to clipboard for later review",children:[n.jsx(Ll,{}),O?"Copied!":"Copy Results"]}),n.jsx("button",{className:"ai-design-btn primary",onClick:s,children:"Close"})]})]})}):null};function hu(c,s){if(c&&c.trim()){const a=Nm(c);if(a)return Fu(a+" Wireframe")}if(!c||c.trim().length<10){const a=Em(c||"");return jm(a,c)}return"Custom Wireframe"}function jm(c,s){const a=[];c.industry&&Sm(c.industry,s)&&a.push(c.industry),c.purpose&&a.push(c.purpose),c.layout&&c.layout!=="standard"&&c.layout!=="grid"&&a.push(c.layout),a.length===0&&a.push(Tm(s||"Custom"));let d=a.join(" ");return!d.toLowerCase().includes("wireframe")&&!d.toLowerCase().includes("mockup")&&!d.toLowerCase().includes("design")&&(d+=" Wireframe"),Fu(d)}function Sm(c,s){const a=s.toLowerCase();switch(c){case"ecommerce":return a.includes("ecommerce")||a.includes("e-commerce")||a.includes("shop")&&a.includes("product");case"education":return a.includes("education")||a.includes("learn")||a.includes("course");case"healthcare":return a.includes("health")||a.includes("medical")||a.includes("doctor");default:return!1}}function Nm(c){const s=c.toLowerCase().trim();if(s.includes("microsoft learning plan")||s.includes("ms learning plan"))return"Microsoft Learning Plan";if(s.includes("azure learning path"))return"Azure Learning Path";if(s.includes("certification progress tracker")||s.includes("certification tracker"))return"Certification Progress Tracker";if(s.includes("microsoft docs")||s.includes("microsoft documentation"))return"Microsoft Docs";if(s.includes("learn home page")||s.includes("microsoft learn landing"))return"Microsoft Learn Home";if(s.includes("dashboard"))return"Dashboard";if(s.includes("landing")||s.includes("homepage"))return"Landing Page";if(s.includes("login")||s.includes("sign in"))return"Login Page";if(s.includes("contact"))return"Contact Form";if(s.includes("profile"))return"Profile Page";if(s.includes("search"))return"Search Page";if(s.includes("checkout"))return"Checkout Page";if(s.includes("product"))return"Product Page";if(s.includes("about"))return"About Page";if(s.includes("blog"))return"Blog Page";if(s.includes("portfolio"))return"Portfolio";const a=s.replace(/[^\w\s]/g," ").split(/\s+/).filter(d=>d.length>2&&!["the","and","for","with","create","make","build","design","wireframe"].includes(d));return a.length>0?a.slice(0,2).join(" "):"Custom"}function Em(c,s){const a=c.toLowerCase(),d="",u=Am(a),g=Fm(a,d),y=zm(a,d);return{components:Lm(a,d),purpose:g,industry:u,layout:y}}function Am(c){const s={healthcare:["health","medical","doctor","patient","hospital","clinic"],ecommerce:["shop","store","product","cart","checkout","payment","order"],education:["learn","course","student","teacher","school","university","education"],finance:["bank","finance","payment","money","investment","trading"],"real estate":["property","house","apartment","real estate","listing"],travel:["travel","hotel","booking","flight","vacation","trip"],food:["restaurant","food","menu","recipe","cooking","delivery"],fitness:["fitness","gym","workout","exercise","health","training"],social:["social","chat","message","friend","community","profile"],business:["business","corporate","company","professional","enterprise"],tech:["software","app","technology","digital","platform","system"]};for(const[a,d]of Object.entries(s))if(d.some(u=>c.includes(u)))return a;return""}function Fm(c,s){const a={Dashboard:["dashboard","analytics","metrics","overview","summary"],"Landing Page":["landing","homepage","welcome","intro","main page"],"Login Page":["login","sign in","authentication","auth"],Registration:["register","sign up","signup","create account"],"Contact Form":["contact","contact us","get in touch","support"],"Product Page":["product detail","product page","item detail"],"Search Results":["search","results","listing","browse"],"Profile Page":["profile","account","user page","settings"],Checkout:["checkout","payment","purchase","order"],Blog:["blog","article","post","news"],Portfolio:["portfolio","gallery","showcase","work"],"About Page":["about","about us","team","company info"],"Features Page":["features","capabilities","functionality"],"Pricing Page":["pricing","plans","subscription","cost"],FAQ:["faq","frequently asked","questions","help"],Documentation:["docs","documentation","guide","manual"],"Admin Panel":["admin","management","control panel","backend"]};for(const[d,u]of Object.entries(a))if(u.some(g=>c.includes(g)||s.includes(g)))return d;return""}function zm(c,s){const a={responsive:["responsive","mobile","tablet","adaptive"],grid:["grid","cards","gallery","masonry"],sidebar:["sidebar","side nav","navigation"],"header-footer":["header","footer","navigation"],"single-page":["single page","one page","scrolling"],"multi-step":["wizard","steps","multi-step","flow"],modal:["modal","popup","overlay","dialog"]};for(const[d,u]of Object.entries(a))if(u.some(g=>c.includes(g)||s.includes(g)))return d;return"standard"}function Lm(c,s){const a=[],d={form:["form","input","field","submit"],navigation:["nav","menu","navigation","breadcrumb"],search:["search","filter","find"],table:["table","list","data grid"],chart:["chart","graph","analytics","visualization"],card:["card","tile","panel"],button:["button","cta","action"],image:["image","photo","gallery","media"],video:["video","player","streaming"],social:["social","share","like","follow"]};for(const[u,g]of Object.entries(d))g.some(y=>c.includes(y)||s.includes(y))&&a.push(u);return a}function Tm(c){const s=["a","an","the","for","with","and","or","but","create","make","build","design"],a=c.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(d=>d.length>2&&!s.includes(d));return a.length>0?a.slice(0,2).join(" "):"Custom"}function Fu(c){return c.replace(/\w\S*/g,s=>s.charAt(0).toUpperCase()+s.substr(1).toLowerCase())}class Cs{constructor(){kr(this,"baseUrl");this.baseUrl=qn("/api")}analyzeWebsite(d){return we(this,arguments,function*(s,a={}){console.log(` Starting website analysis for: ${s}`);try{const u=new URL(s);if(!["http:","https:"].includes(u.protocol))throw new Error("URL must use HTTP or HTTPS protocol");const g=yield fetch(qn(En.ENDPOINTS.WEBSITE_ANALYZER),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:s})});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const y=yield g.json();if(!y.success)throw new Error(y.error||"Analysis failed");return console.log(` Website analysis completed for: ${s}`),console.log(` Found ${y.analysis.layout.sections.length} sections, ${y.analysis.styling.components.length} components`),y.analysis}catch(u){throw console.error(" Website analysis failed:",u),u}})}static isUrlPresent(s){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g.test(s)}static extractUrls(s){const a=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g;return s.match(a)||[]}static generateEnhancedPrompt(s,a){console.log(" Generating enhanced wireframe prompt with website analysis");let d=`${s}

`;return d+=`=== WEBSITE ANALYSIS DATA ===
`,d+=`Analyzed URL: ${a.url}
`,d+=`Page Title: ${a.pageInfo.title}

`,d+=a.wireframePrompt,d+=`

=== REQUIREMENTS ===
`,d+=`- Match the exact layout structure from the analyzed website
`,d+=`- Use similar navigation patterns and content hierarchy
`,d+=`- Include all major sections and components found in the analysis
`,d+=`- Apply Microsoft Design System styling while maintaining the original layout
`,d+=`- Ensure responsive design that works on desktop and mobile
`,d+=`- Use semantic HTML and proper accessibility attributes
`,d}static createComparisonHtml(s,a){return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Analysis Comparison - ${s.pageInfo.title}</title>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #f5f5f5;
        }
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            height: 100vh;
        }
        .comparison-panel {
            padding: 20px;
            overflow: auto;
        }
        .original-panel {
            background: #ffffff;
            border-right: 2px solid #e5e7eb;
        }
        .wireframe-panel {
            background: #fafafa;
        }
        .panel-header {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e5e7eb;
        }
        .panel-title {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
            margin: 0 0 5px 0;
        }
        .panel-subtitle {
            font-size: 14px;
            color: #6b7280;
            margin: 0;
        }
        .original-screenshot {
            max-width: 100%;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .wireframe-content {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background: white;
            min-height: 500px;
        }
        .analysis-summary {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 20px;
        }
        .analysis-item {
            font-size: 14px;
            margin-bottom: 5px;
        }
        .analysis-label {
            font-weight: 600;
            color: #0369a1;
        }
        @media (max-width: 768px) {
            .comparison-container {
                grid-template-columns: 1fr;
                grid-template-rows: 50vh 50vh;
            }
        }
    </style>
</head>
<body>
    <div class="comparison-container">
        <div class="comparison-panel original-panel">
            <div class="panel-header">
                <h2 class="panel-title">Original Website</h2>
                <p class="panel-subtitle">${s.url}</p>
            </div>
            
            <div class="analysis-summary">
                <div class="analysis-item">
                    <span class="analysis-label">Title:</span> ${s.pageInfo.title}
                </div>
                <div class="analysis-item">
                    <span class="analysis-label">Sections Found:</span> ${s.layout.sections.length}
                </div>
                <div class="analysis-item">
                    <span class="analysis-label">Components:</span> ${s.styling.components.map(d=>d.name).join(", ")}
                </div>
                <div class="analysis-item">
                    <span class="analysis-label">Layout Type:</span> ${s.styling.layout}
                </div>
            </div>
            
            <img src="${s.screenshot}" alt="Original website screenshot" class="original-screenshot" />
        </div>
        
        <div class="comparison-panel wireframe-panel">
            <div class="panel-header">
                <h2 class="panel-title">Generated Wireframe</h2>
                <p class="panel-subtitle">Based on website analysis</p>
            </div>
            
            <div class="wireframe-content">
                ${a}
            </div>
        </div>
    </div>
</body>
</html>`}}const Pm=({description:c,setDescription:s,handleSubmit:a,loading:d,loadingStage:u,fallback:g,processingTime:y,handleStop:h,showAiSuggestions:b,aiSuggestions:w,suggestionLoading:O,isAiSourced:E=!1,setShowAiSuggestions:I,onGenerateAiSuggestions:X,error:W,htmlWireframe:k,setHtmlWireframe:z,reactComponent:V,setReactComponent:Q,onAiSuggestionClick:he,designTheme:pe,colorScheme:_,onSave:ie,onEnhancedSave:G,onAddComponent:M,onGeneratePageContent:ge,onImageUpload:me,onAnalyzeImage:$e,isAnalyzingImage:Fe=!1,onFigmaExport:re,onFigmaIntegration:le,onComponentLibrary:be,onDevPlaybooks:fe,onFigmaComponents:H,onViewHtmlCode:T,onDownloadWireframe:ce,onPresentationMode:ee,editingMode:j="drag",onEditingModeChange:B})=>{var Oo;const m=f.useRef(null),x=f.useRef(null),R=f.useRef(!1),de=f.useRef(null),[Ee,Ce]=f.useState(!1),[ze,Be]=f.useState([]),[Ve,lt]=f.useState(!1),[D,ye]=f.useState([]),[Y,$]=f.useState(null),[oe,Ae]=f.useState({}),[Re,Ze]=f.useState(!1),[nt,Qe]=f.useState(!1),[ct,Fn]=f.useState(!1),[Cr,jr]=f.useState([]),[Xn,qe]=f.useState(!1),[xn,zn]=f.useState(),[yn,er]=f.useState(null),[Qr,Kr]=f.useState(!1),[Io,It]=f.useState({top:0,left:0}),an=f.useRef(null),[tr,nr]=f.useState({}),[Sr,ln]=f.useState(!1),[cn,rr]=f.useState(!1),[Yr,Ln]=f.useState(!1),[Jr,or]=f.useState(!1),[Nr,Tn]=f.useState(!1),[Pn,vn]=f.useState(!1),[dn,Er]=f.useState(!1),[In,$n]=f.useState(!1),[Dn,Mn]=f.useState(!1),[U,se]=f.useState(!1),[J,P]=f.useState(null),[xe,Ie]=f.useState(!1),[dt,ut]=f.useState(null),[ft,zt]=f.useState(!1),[Jt,ir]=f.useState(!1),[Zr,rt]=f.useState(null),[$l,$o]=f.useState(null),vi=f.useCallback(S=>{Y?Ae(Z=>Ge(_e({},Z),{[Y]:S})):z(S)},[Y,Ae,z]),Ar=S=>{const Z=S.trim();return/^[\d\s.,]+$/.test(Z)&&Z.length>0?(er("Please provide a descriptive text, not just numbers. For example: 'contact form with name and email fields' instead of just '2'."),!1):(er(null),!0)};f.useEffect(()=>{console.log(" SplitLayout mounted - clearing AI suggestions"),I(!1)},[I]),f.useEffect(()=>{if(X){if(de.current&&window.clearTimeout(de.current),c.length>0){const S=c.trim();if(!/^[\d\s.,]+$/.test(S)){const ne=c.length<=3?100:200;de.current=window.setTimeout(()=>{X(c)},ne)}}return()=>{de.current&&window.clearTimeout(de.current)}}},[c,X,I]);const Le=f.useCallback((S,Z)=>{const ne={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:S,content:Z,timestamp:new Date};Be(te=>[...te,ne])},[]);f.useEffect(()=>{if(console.log(" useEffect for First Page:",{hasWireframe:!!k,wireframePagesLength:D.length}),k&&D.length===0){console.log(" Creating First Page automatically");const S={id:"home-page",name:"First Page",description:"First Page",type:"page"};ye([S]),$(S.id),Ae(Z=>Ge(_e({},Z),{[S.id]:k}))}},[k,D.length]),f.useEffect(()=>{var S;Y&&k&&(console.log(" Updating current page content:",{currentPageId:Y,htmlWireframeLength:k.length,previousContent:((S=oe[Y])==null?void 0:S.length)||0}),Ae(Z=>Ge(_e({},Z),{[Y]:k})))},[k,Y]);const bi=f.useCallback(S=>{console.log(" handleAddPagesToWireframe called with pages:",S),console.log(" Current wireframePages:",D);const Z=new Set(D.map(te=>te.id)),ne=S.filter(te=>!Z.has(te.id));if(console.log(" New pages found:",ne),console.log(" New pages with content:",ne.map(te=>{var Oe;return{id:te.id,name:te.name,hasContent:!!(te.htmlContent&&te.htmlContent.trim()),contentLength:((Oe=te.htmlContent)==null?void 0:Oe.length)||0}})),console.log(" Setting wireframePages to:",S),ye(S),ne.length>0){const te=ne[0];console.log(" Switching to first new page:",te),Y&&k?Ae(He=>Ge(_e({},He),{[Y]:k})):k&&!Y&&Ae(He=>Ge(_e({},He),{[te.id]:k}));const Oe={};ne.forEach(He=>{He.htmlContent&&He.htmlContent.trim()&&(console.log(` Storing AI-generated content for page ${He.id}:`,He.htmlContent.substring(0,100)+"..."),Oe[He.id]=He.htmlContent)}),Object.keys(Oe).length>0&&Ae(He=>_e(_e({},He),Oe)),console.log(" Setting currentPageId to:",te.id),$(te.id),te.htmlContent&&te.htmlContent.trim()?(console.log(" Loading AI-generated content for first new page"),z(te.htmlContent),ne.length===1?Le("ai",` Added "${te.name}" page with AI-generated content! You can switch between pages using the navigation above.`):Le("ai",` Added "${te.name}" page with AI-generated content! Plus ${ne.length-1} other new page(s). You can switch between pages using the navigation above.`)):ne.length===1?Le("ai",` Added "${te.name}" page and switched to it. You can now click on buttons and links in your wireframe to set up navigation between pages!`):Le("ai",` Added ${ne.length} new pages and switched to "${te.name}". You can now click on buttons and links in your wireframe to set up navigation between pages!`)}console.log(" Closing modal"),lt(!1)},[Y,k,Le]),qr=f.useCallback(S=>we(null,null,function*(){if(console.log(" handlePageSwitch called with pageId:",S),Y===S){console.log(" Already on this page, skipping switch");return}if(Y){const te=oe[Y]||k;console.log(" Saving current page content for:",Y),Ae(Oe=>Ge(_e({},Oe),{[Y]:te}))}$(S);const Z=oe[S],ne=D.find(te=>te.id===S);if(Z)console.log(" Loading existing content for page:",S),z(Z),ne&&Le("ai",` Switched to "${ne.name}" page. Content loaded! You can click on buttons and links to set up navigation between pages.`);else if(ne&&ne.htmlContent&&ne.htmlContent.trim())console.log(" Loading AI-generated content from page object for:",S),z(ne.htmlContent),Ae(te=>Ge(_e({},te),{[S]:ne.htmlContent})),Le("ai",` Switched to "${ne.name}" page with AI-generated content! You can click on buttons and links to set up navigation between pages.`);else if(console.log(" New empty page detected:",S),ne){const te=`
          <div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px; font-family: 'Segoe UI', sans-serif; background: #ffffff; min-height: 100vh;">
            <div style="background: #E9ECEF; padding: 60px 40px; border-radius: 12px; margin: 20px 0; text-align: center; border: 1px solid #e1dfdd;">
              <h1 style="color: #3C4858; margin: 0 0 16px 0; font-size: 28px; font-weight: 600;"> ${ne.name}</h1>
              <p style="color: #68769C; margin: 0 0 24px 0; font-size: 16px;">
                This is a new ${ne.type||"page"}. Click the buttons below or ask me to generate content for this page.
              </p>
              <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                <button style="background: #8E9AAF; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 600; transition: background-color 0.2s ease;">
                  Generate Content
                </button>
                <button style="background: #f3f2f1; color: #3C4858; border: 1px solid #e1dfdd; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 600; transition: background-color 0.2s ease;">
                  Copy from First Page
                </button>
              </div>
            </div>
          </div>
        `;z(te),Ae(Oe=>Ge(_e({},Oe),{[S]:te})),Le("ai",` Switched to "${ne.name}" page. This is a new ${ne.type||"page"} ready for content! You can ask me to "generate content for ${ne.name}" or "create a ${ne.type} layout" and I'll customize it for you.`)}}),[Y,k,oe,D,Le]),Zt=f.useCallback(()=>{lt(!0)},[]),Is=f.useCallback(()=>{if(!Y)return;const S=D.find(Oe=>Oe.id===Y);if(!S)return;const Z=oe[Y]||k,ne={id:`favorite-${Date.now()}`,name:S.name,htmlContent:Z,type:S.type,createdAt:new Date().toISOString()},te=JSON.parse(localStorage.getItem("designetica_favorites")||"[]");te.push(ne),localStorage.setItem("designetica_favorites",JSON.stringify(te)),Le("ai",` Added "${S.name}" to favorites! You can find it in the favorites tab on the landing page.`)},[Y,D,oe,k,Le]),Ht=f.useCallback((S,Z)=>{nr(ne=>{const te=ne[S]||[];return te.find(He=>He.emoji===Z)?Ge(_e({},ne),{[S]:te.map(He=>He.emoji===Z?Ge(_e({},He),{count:He.userReacted?He.count-1:He.count+1,userReacted:!He.userReacted}):He).filter(He=>He.count>0)}):Ge(_e({},ne),{[S]:[...te,{emoji:Z,count:1,userReacted:!0}]})})},[]),wi=f.useCallback(()=>{console.log(" SplitLayout: handleFigmaIntegration - Opening enhanced Figma Integration Modal"),Ze(!0)},[]),ki=f.useCallback((S,Z,ne)=>{var te,Oe;console.log("Importing Figma file:",Z),ne&&(console.log(" Design tokens extracted:",ne),Le("ai",` Extracted ${((te=ne.colors)==null?void 0:te.length)||0} color tokens, ${((Oe=ne.typography)==null?void 0:Oe.length)||0} typography tokens from "${Z}".`)),z&&z(S),Le("ai",` Successfully imported "${Z}" from Figma! The wireframe has been converted and is ready for editing.`),Ze(!1)},[z,Le]),$s=f.useCallback(S=>{var Z,ne,te;console.log(" Design tokens extracted in SplitLayout:",S),S&&Le("ai",` Design tokens extracted: ${((Z=S.colors)==null?void 0:Z.length)||0} colors, ${((ne=S.typography)==null?void 0:ne.length)||0} fonts, ${((te=S.spacing)==null?void 0:te.length)||0} spacing values.`)},[Le]),Xr=f.useCallback((S,Z)=>{console.log(" File processed in SplitLayout:",S.name,Z)},[]);f.useCallback(()=>{const S=document.createElement("input");S.type="file",S.accept=".html,.htm",S.onchange=Z=>{var te;const ne=(te=Z.target.files)==null?void 0:te[0];if(ne){const Oe=new FileReader;Oe.onload=He=>{var it;const gt=(it=He.target)==null?void 0:it.result;gt&&z&&(z(gt),Le("ai",` Successfully imported "${ne.name}"! The HTML wireframe is ready for editing.`))},Oe.readAsText(ne)}},S.click()},[z,Le]);const Fr=f.useCallback(S=>{console.log("Exporting to Figma as:",S),Le("ai",`Wireframe exported to Figma as ${S} successfully! You can now access it in your Figma workspace.`),Ze(!1)},[Le]),sr=f.useCallback(()=>{Er(!0)},[]),eo=f.useCallback(S=>{const Z=S==="html"?"figma-file":"figma-components";re==null||re(Z),Le("ai",` ${S.toUpperCase()} download started! Check your browser's Downloads folder.`)},[re,Le]),Ds=f.useCallback(S=>{S&&z&&(z(S),Le("ai"," Successfully imported HTML content! The wireframe is ready for editing."))},[z,Le]),Ci=f.useCallback(()=>{ln(!0)},[]),to=f.useRef(Fe),Do=f.useCallback(()=>{Qe(S=>!S)},[]),Mo=f.useCallback(()=>{rr(S=>!S)},[]),zr=f.useCallback((S,Z)=>{Kr(S),Z&&It(Z)},[]),Ms=f.useCallback(S=>{an.current=S},[]),Rn=f.useCallback((S,Z)=>{if(!an.current){console.warn(" No element currently being edited");return}const ne=an.current;ne.focus(),setTimeout(()=>{const te=window.getSelection();if(!te){console.warn(" No selection API available");return}let Oe;te.rangeCount===0?(Oe=document.createRange(),Oe.selectNodeContents(ne),te.addRange(Oe)):Oe=te.getRangeAt(0),Oe.toString().length===0&&(Oe.selectNodeContents(ne),te.removeAllRanges(),te.addRange(Oe));try{switch(S){case"bold":Ke(Oe,"strong",te);break;case"italic":Ke(Oe,"em",te);break;case"underline":Ke(Oe,"u",te);break;case"removeFormat":ji(Oe,te);break;default:document.execCommand(S,!1,Z)}}catch(gt){console.error(" Formatting error:",gt);try{document.execCommand(S,!1,Z)}catch(it){console.error(" Fallback formatting also failed:",it)}}ne&&ne.focus()},10)},[]),Ke=(S,Z,ne)=>{var Gt,io,so;const te=S.startContainer,Oe=S.startOffset;S.endContainer;const He=S.endOffset,gt=S.extractContents(),it=te.nodeType===Node.TEXT_NODE?te.parentElement:te,kt=(it==null?void 0:it.closest(Z))||(((Gt=it==null?void 0:it.tagName)==null?void 0:Gt.toLowerCase())===Z.toLowerCase()?it:null);if(kt&&((io=an.current)!=null&&io.contains(kt))){const wn=kt.textContent||"",$t=document.createTextNode(wn);(so=kt.parentNode)==null||so.replaceChild($t,kt);try{const _n=document.createRange(),ar=wn.length,kn=Math.min(Oe,ar),_o=Math.min(He,ar);_n.setStart($t,kn),_n.setEnd($t,_o),ne.removeAllRanges(),ne.addRange(_n)}catch(_n){console.warn("Could not restore selection after removing formatting:",_n);const ar=document.createRange();ar.selectNodeContents($t),ne.removeAllRanges(),ne.addRange(ar)}}else{const wn=document.createElement(Z);wn.appendChild(gt),S.insertNode(wn);try{const $t=document.createRange();$t.selectNodeContents(wn),ne.removeAllRanges(),ne.addRange($t)}catch($t){console.warn("Could not restore selection after formatting:",$t)}}},ji=(S,Z)=>{const ne=S.startOffset,te=S.endOffset,gt=(S.extractContents().textContent||"").replace(/<[^>]*>/g,""),it=document.createTextNode(gt);S.insertNode(it);try{const kt=document.createRange(),Gt=gt.length,io=Math.min(ne,Gt),so=Math.min(te,Gt);kt.setStart(it,io),kt.setEnd(it,so),Z.removeAllRanges(),Z.addRange(kt)}catch(kt){const Gt=document.createRange();Gt.selectNodeContents(it),Z.removeAllRanges(),Z.addRange(Gt)}};f.useEffect(()=>{if(to.current&&!Fe&&nt){const ne=setTimeout(()=>{Qe(!1)},1e3);return()=>clearTimeout(ne)}to.current=Fe},[Fe,nt]);const Ro=f.useCallback(()=>{Fn(!0),qe(!1),zn(void 0)},[]),no=f.useCallback(()=>{const S=Y&&oe[Y]?oe[Y]:k;if(S){const Z=hu(S);if(P(Z),console.log(" Generated intelligent wireframe name:",Z),!xe){const ne=window.addToRecents;ne&&typeof ne=="function"?(ne(Z,"Auto-generated wireframe",S),console.log(` Auto-added "${Z}" to recents`),Ie(!0),window.dispatchEvent(new CustomEvent("wireframeSaved",{detail:{name:Z,description:"Auto-generated wireframe",html:S}}))):console.warn("addToRecents function not available for auto-add")}}},[Y,oe,k,xe]),Si=f.useCallback(S=>we(null,null,function*(){const Z=new Date().toISOString();if(Xn&&xn){const ne=Ge(_e(_e({},xn),S),{updatedAt:Z});jr(te=>te.map(Oe=>Oe.id===xn.id?ne:Oe)),Le("ai",` Wireframe "${S.name}" updated successfully!`)}else{const ne=Ge(_e({},S),{id:`wireframe_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Z,updatedAt:Z});jr(Oe=>[...Oe,ne]),Le("ai",` Wireframe "${S.name}" saved successfully! You can access it from the library.`);const te=window.addToRecents;te&&typeof te=="function"?(te(S.name,S.description||"Saved wireframe",S.html),console.log(` Added "${S.name}" to recents`),window.dispatchEvent(new CustomEvent("wireframeSaved",{detail:{name:S.name,description:S.description||"Saved wireframe",html:S.html}}))):console.warn("addToRecents function not available on window object")}Fn(!1)}),[Xn,xn,Cr,Le]);f.useEffect(()=>{localStorage.setItem("designetica_saved_wireframes",JSON.stringify(Cr))},[Cr]),f.useEffect(()=>{k&&k.trim()&&!J&&no()},[k,J,no]),f.useEffect(()=>{if((k||Y&&oe[Y])&&J){const S=Y&&oe[Y]?oe[Y]:k;if(S&&S.length>500){const Z=hu(S);Z!==J&&(P(Z),console.log(" Updated wireframe name to:",Z))}}},[Y,oe,k,J]),f.useEffect(()=>{(!k||k.trim()==="")&&(Ie(!1),P(null))},[k]);const ro=f.useCallback(()=>{console.log(" Opening Component Library Modal"),or(!0)},[]),oo=f.useCallback(()=>{console.log(" Opening Dev Playbooks Library"),Tn(!0)},[]),Lr=f.useCallback(()=>{console.log(" Opening Figma Components Library"),vn(!0)},[]),Tr=f.useCallback(()=>{Ln(!0)},[]),qt=f.useCallback(S=>{console.log(" Entering placement mode for component:",S.name),rt(S),ir(!0),Tn(!1),vn(!1),or(!1)},[]),Xt=f.useCallback(()=>{console.log(" Cancelling placement mode"),ir(!1),rt(null),$o(null)},[]),bn=f.useCallback((S,Z,ne)=>{Zr&&(console.log(" Placing component at:",{x:S,y:Z},"Target:",ne),M&&M(Ge(_e({},Zr),{placementInfo:{x:S,y:Z,targetElement:ne}})),Xt())},[Zr,M,Xt]);f.useEffect(()=>{le&&(le.current=wi)},[le,wi]),f.useEffect(()=>{be&&(be.current=ro)},[be,ro]),f.useEffect(()=>{fe&&(fe.current=oo)},[fe,oo]),f.useEffect(()=>{H&&(H.current=Lr)},[H,Lr]),f.useEffect(()=>{T&&(T.current=Ci)},[T,Ci]),f.useEffect(()=>{ce&&(ce.current=sr)},[ce,sr]),f.useEffect(()=>{ee&&(ee.current=Tr)},[ee,Tr]);const Pr=f.useCallback(()=>{se(S=>!S)},[]);f.useEffect(()=>{const S=localStorage.getItem("designetica_saved_wireframes");if(S)try{const Z=JSON.parse(S);jr(Z)}catch(Z){console.error("Failed to load saved wireframes:",Z)}},[]);const On=f.useCallback(()=>{Ro()},[Ro]);f.useEffect(()=>{G&&(G.current=On)},[G,On]);const Wt=f.useCallback(S=>we(null,null,function*(){if(S.preventDefault(),console.log(" Enhanced AI generation called!",{description:c.trim(),loading:d}),!!Ar(c))if(c.trim()&&!d){nt&&Qe(!1);const Z=Cs.isUrlPresent(c);let ne=c,te=null;if(Z){const He=Cs.extractUrls(c)[0];console.log(` URL detected: ${He} - Starting website analysis`),zt(!0),Le("user",c),Le("ai",` **Website Analysis Started**

I found a URL in your request: ${He}

Analyzing the website structure, layout, and components to create an accurate wireframe...`);try{te=yield new Cs().analyzeWebsite(He),console.log(" Website analysis completed:",{title:te.pageInfo.title,sections:te.layout.sections.length,components:te.styling.components.length}),ut(te),ne=Cs.generateEnhancedPrompt(c,te),Le("ai",` **Website Analysis Complete**

 **Found:**
- Page: ${te.pageInfo.title}
- ${te.layout.sections.length} content sections
- ${te.styling.components.length} UI components
- Layout type: ${te.styling.layout}

Now generating a matching wireframe...`)}catch(gt){console.error(" Website analysis failed:",gt),Le("ai",` **Website Analysis Failed**

Couldn't analyze the website: ${gt instanceof Error?gt.message:"Unknown error"}

Proceeding with standard wireframe generation...`),te=null}finally{zt(!1)}}else(R.current||ze.length>0)&&(Le("user",c),Le("ai"," Generating wireframe with Microsoft components..."));te&&ne!==c&&(console.log(" Using enhanced description with website analysis"),s(ne)),te?a(S,ne,te):a(S)}else console.log(" enhancedHandleSubmit: Conditions not met",{descriptionTrimmed:c.trim(),descriptionLength:c.trim().length,loading:d})}),[c,d,ze.length,nt,Qe,Le,Ar,a,s,dt]),Rs=()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)};return f.useEffect(()=>{Rs()},[ze,d]),f.useEffect(()=>{m.current&&m.current.focus()},[]),f.useCallback(S=>we(null,null,function*(){var ne;S&&S.preventDefault();const Z=Y&&oe[Y]||k;if(!Z||Z.trim()===""){Le("ai"," Please generate a wireframe first, then I can provide design analysis!");return}Le("ai",` **Design Consultant** is analyzing your wireframe...

*Powered by Azure AI Foundry*`);try{const te=yield Lo.analyzeWireframe(Z,`Page: ${Y?(ne=D.find(He=>He.id===Y))==null?void 0:ne.name:"Main Wireframe"}`),Oe=Lo.formatAnalysisMessage(te);Le("ai",Oe)}catch(te){console.error("Design Analysis Error:",te),Le("ai"," I encountered an issue while analyzing your wireframe. Please try again!")}}),[Y,oe,k,D,Le]),f.useCallback((S,Z="landing page")=>we(null,null,function*(){S&&S.preventDefault(),Le("ai",` **Design Consultant** is preparing quick tips for ${Z} design...

*Powered by Azure AI Foundry*`);try{const ne=yield Lo.getQuickTips(Z,"desktop"),te=Lo.formatTipsMessage(ne);Le("ai",te)}catch(ne){console.error("Quick Tips Error:",ne),Le("ai"," I encountered an issue while generating design tips. Please try again!")}}),[Le]),f.useEffect(()=>{if(k&&!d&&ze.length>0){const S=ze[ze.length-1];S&&S.type==="user"&&Le("ai"," Wireframe created successfully! Check the preview on the right.")}},[k,d,ze,Le]),f.useEffect(()=>{!R.current&&c&&c.trim()&&(Le("user",c),s(""),R.current=!0)},[c,Le,s]),n.jsxs("div",{className:`split-layout ${U?"left-panel-collapsed":""}`,children:[n.jsx("button",{className:"panel-toggle-btn",onClick:Pr,title:U?"Expand panel":"Collapse panel",children:U?n.jsx(Su,{}):n.jsx(ju,{})}),n.jsxs("div",{className:`left-pane ${U?"collapsed":""}`,children:[n.jsxs("div",{className:"chat-messages",ref:x,children:[ze.length===0&&!d&&n.jsx(hl,{message:{id:"welcome",type:"ai",content:" Hello! I'm your AI wireframe assistant. Describe what you'd like to create and I'll generate a wireframe for you. Add [strict] to force an exact structural scaffold from an analyzed URL.",timestamp:new Date,status:"sent"}}),ze.map(S=>n.jsx(hl,{message:S,onReact:Ht,reactions:tr[S.id]||[]},S.id)),d&&n.jsx(hl,{message:{id:"loading",type:"ai",content:"Creating your wireframe...",timestamp:new Date,status:"sending"}})]}),n.jsxs("div",{className:"chat-input-container",children:[W&&n.jsx("div",{className:"error error-margin",children:W}),yn&&n.jsx("div",{className:"input-info-alert",children:yn}),n.jsx("form",{onSubmit:Wt,className:"chat-form",children:n.jsxs("div",{className:"chat-input-wrapper",children:[n.jsx("textarea",{ref:m,value:c,onChange:S=>{const Z=S.target.value;if(s(Z),Z.trim()){const ne=Z.trim();/^[\d\s.,]+$/.test(ne)||er(null)}else er(null);if(Z.length<=2)I(!1);else{const ne=Z.trim();/^[\d\s.,]+$/.test(ne)&&I(!1)}},onFocus:()=>Ce(!0),onBlur:()=>Ce(!1),onClick:()=>{if(c.length>2){const S=c.trim();/^[\d\s.,]+$/.test(S)||(X&&X(c),I(!0))}},onKeyDown:S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),Wt(S))},placeholder:"Describe your wireframe idea...",className:"chat-input",rows:3}),n.jsx("button",{type:"button",className:"input-icon-button",onClick:Do,title:"Upload an image to generate wireframe","aria-label":"Upload image",children:n.jsx(To,{})}),n.jsx("button",{type:"submit",disabled:d||!c.trim(),className:"chat-send-btn",children:d?n.jsx(gi,{size:"small",color:"white"}):n.jsx(Sl,{})}),d&&n.jsx("button",{type:"button",className:"chat-stop-btn",onClick:S=>{console.log(" SplitLayout Stop button clicked!"),S.preventDefault(),S.stopPropagation(),h()},title:"Stop generation",children:n.jsx(Nl,{})})]})}),!1]})]}),n.jsx("div",{className:`right-pane ${U?"expanded":""}`,children:k||D.length>0?n.jsxs("div",{className:"wireframe-panel",children:[J&&n.jsx("div",{className:"wireframe-name-header",children:n.jsx("h3",{className:"wireframe-title",children:J})}),n.jsx(xm,{pages:D,currentPageId:Y,onPageSwitch:qr,onAddPage:Zt,onOpenLibrary:ro,onOpenDevPlaybooks:oo,onOpenFigmaComponents:Lr,onSave:On,onAddToFavorites:Is,onImageUpload:Do,onOpenAnalyzeDesignModal:()=>$n(!0),onOpenQuickTipsModal:()=>Mn(!0),isEditMode:cn,onToggleEditMode:Mo,showFormattingToolbar:Qr,onFormatBold:()=>Rn("bold"),onFormatItalic:()=>Rn("italic"),onFormatUnderline:()=>Rn("underline"),onRemoveFormat:()=>Rn("removeFormat")}),n.jsxs("div",{className:"wireframe-container",children:[ft&&n.jsx("div",{className:"wireframe-loading-overlay",children:n.jsxs("div",{className:"wireframe-spinner-container",children:[n.jsx(gi,{size:"large",color:"blue"}),n.jsxs("div",{className:"wireframe-loading-text",children:[n.jsx("div",{className:"wireframe-loading-title",children:"Analyzing Website"}),n.jsx("div",{className:"wireframe-loading-stage",children:"Extracting layout, components, and styling..."})]})]})}),d&&!ft&&n.jsx("div",{className:"wireframe-loading-overlay",children:n.jsxs("div",{className:"wireframe-spinner-container",children:[n.jsx(gi,{size:"large",color:"blue"}),n.jsxs("div",{className:"wireframe-loading-text",children:[n.jsx("div",{className:"wireframe-loading-title",children:"Generating Wireframe"}),n.jsxs("div",{className:"wireframe-loading-stage",children:[u||"Creating your design...",dt?" (Using website analysis)":""]})]})]})}),n.jsx("div",{className:"wireframe-content",children:V?n.jsx("div",{className:"react-component-preview",children:n.jsx(km,{componentCode:V,componentName:"GeneratedComponent"})}):n.jsx(fm,{html:Y&&oe[Y]||k,isEditMode:cn,onUpdateContent:vi,onShowFormattingToolbar:zr,onFormatCommand:Rn,onSetCurrentEditingElement:Ms,isPlacementMode:Jt,pendingComponent:Zr,onComponentPlacement:bn,onCancelPlacementMode:Xt})})]})]}):n.jsxs("div",{className:"ai-assistant-container",children:[n.jsx("h1",{className:"ai-assistant-title",children:"AI Wireframe Assistant"}),n.jsxs("div",{className:"complexity-section",children:[n.jsx("h3",{className:"complexity-title",children:"Choose complexity level"}),n.jsxs("div",{className:"complexity-options",children:[n.jsxs("label",{className:"complexity-option selected",children:[n.jsx("input",{type:"radio",name:"complexity",value:"simple",defaultChecked:!0,className:"complexity-radio"}),n.jsx("div",{className:"complexity-label",children:"Simple"}),n.jsx("p",{className:"complexity-description",children:"Basic components and layouts. Perfect for quick prototypes and simple interfaces."})]}),n.jsxs("label",{className:"complexity-option",children:[n.jsx("input",{type:"radio",name:"complexity",value:"detailed",className:"complexity-radio"}),n.jsx("div",{className:"complexity-label",children:"Detailed"}),n.jsx("p",{className:"complexity-description",children:"Rich interactions and complex layouts. Great for production-ready designs."})]})]})]}),n.jsx("div",{className:"ai-assistant-input-container",children:n.jsx("div",{className:"input-wrapper",children:n.jsx("textarea",{ref:m,value:c,onChange:S=>{const Z=S.target.value;s(Z),Z.length<=2&&I(!1)},onClick:()=>{c.length>2&&(X&&X(c),I(!0))},onKeyDown:S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),c.trim()&&!d&&Wt(S))},placeholder:"Describe your wireframe idea... (e.g., 'Create a modern login form with email, password, and social login options')",className:"ai-assistant-input"})})}),n.jsx("button",{type:"submit",disabled:d||!c.trim(),className:"ai-assistant-submit",onClick:S=>{Wt(S)},children:d?n.jsxs(n.Fragment,{children:[n.jsx(gi,{size:"small",color:"white"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Sl,{}),"Create Wireframe"]})}),d&&n.jsxs("button",{type:"button",className:"ai-assistant-submit stop-generating",onClick:h,children:[n.jsx(Nl,{}),"Stop Generation"]}),b&&w.length>0&&n.jsxs("div",{className:"ai-suggestions-inline",children:[n.jsxs("div",{className:"ai-suggestions-label",children:[n.jsx(wl,{className:"ai-icon"}),n.jsx("span",{children:"AI Suggestions:"}),O&&n.jsx("span",{className:"loading-dot",children:""})]}),n.jsx("div",{className:"ai-suggestions-buttons",children:w.map((S,Z)=>n.jsxs("button",{type:"button",className:"ai-suggestion-pill ai-suggestion-button",onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),s(S),he(S)},children:[n.jsx(wl,{})," ",S,n.jsx(om,{isAI:E,isLoading:O})]},Z))})]}),n.jsx(im,{isVisible:d,message:u||(d?"Creating your wireframe...":"")})]})}),n.jsx(lm,{isOpen:Ve,onClose:()=>lt(!1),onAddPages:bi,existingPages:D.map(S=>Ge(_e({},S),{htmlContent:oe[S.id]||S.htmlContent||k})),onGeneratePageContent:ge}),n.jsx(Ts,{isOpen:Re,onClose:()=>Ze(!1),onImport:ki,onExport:Fr,onTokensExtracted:$s,onFileProcessed:Xr}),n.jsx(cm,{isOpen:ct,onClose:()=>Fn(!1),onSave:Si,currentHtml:k,currentCss:"/* Generated CSS styles */",designTheme:pe,colorScheme:_,initialName:J||void 0,isUpdating:Xn,existingWireframe:xn}),n.jsx(gm,{isOpen:nt,onClose:()=>Qe(!1),onImageUpload:me,onAnalyzeImage:$e,isAnalyzing:Fe,demoMode:!0}),n.jsx(Ts,{isOpen:Re,onClose:()=>Ze(!1),onImport:ki,onExport:Fr}),n.jsx(dm,{isOpen:dn,onClose:()=>Er(!1),onDownload:eo,wireframeTitle:c&&!c.startsWith("Create a")&&!c.startsWith("create a")?c:"Interactive Wireframe"}),n.jsx(um,{isOpen:Nr,onClose:()=>{Tn(!1)},onAddComponent:S=>{console.log(" Dev Playbook component selected for placement:",S.name),qt(S)},onGenerateWithAI:S=>{console.log(" AI generation requested for:",S);const Z=new Event("submit");a(Z),Le("ai"," Generating wireframe with AI...")},currentDescription:c}),n.jsx(pm,{isOpen:Pn,onClose:()=>{vn(!1)},onAddComponent:S=>{console.log(" Figma component selected for placement:",S.name),qt(S)},onGenerateWithAI:S=>{console.log(" AI generation requested for:",S);const Z=new Event("submit");a(Z),Le("ai"," Generating wireframe with AI...")},currentDescription:c}),n.jsx(Il,{isOpen:Jr,onClose:()=>{or(!1)},onAddComponent:S=>{console.log(" Component selected for placement:",S.name),qt(S)},onGenerateWithAI:S=>{console.log(" AI generation requested for:",S);const Z=new Event("submit");a(Z),Le("ai"," Generating wireframe with AI...")},currentDescription:c,libraryType:"dev-playbooks"}),n.jsx(ym,{isOpen:Sr,onClose:()=>ln(!1),htmlContent:Y&&oe[Y]||k,title:Y?`HTML Code - ${((Oo=D.find(S=>S.id===Y))==null?void 0:Oo.name)||"Unknown Page"}`:"HTML Code - Main Wireframe",onImportHtml:Ds}),n.jsx(wm,{isOpen:Yr,onClose:()=>Ln(!1),wireframeName:`Wireframe ${new Date().toLocaleDateString()}`,wireframeDescription:"Generated wireframe design",pages:D.length>0?D.map(S=>({id:S.id,name:S.name,description:S.description,content:oe[S.id]||S.htmlContent||k||"<p>No content available</p>"})):k?[{id:"main",name:"Main Wireframe",description:"Primary wireframe content",content:k}]:[]}),n.jsx(gu,{isOpen:In,onClose:()=>$n(!1),mode:"analyze",wireframeHtml:k}),n.jsx(gu,{isOpen:Dn,onClose:()=>Mn(!1),mode:"tips",wireframeHtml:k})]})},Im=({onLogoClick:c,onLogout:s,onFigmaIntegration:a,onViewHtmlCode:d,onPresentationMode:u,onDownloadWireframe:g})=>{const[y,h]=f.useState(null),b=(O,E)=>{const I=O.currentTarget.getBoundingClientRect();h({text:E,x:I.left+I.width/2,y:I.bottom+8})},w=()=>{h(null)};return n.jsxs(n.Fragment,{children:[n.jsxs("nav",{className:"top-nav-app",children:[n.jsxs("div",{className:"navbar-left",children:[n.jsxs("button",{onClick:c,className:"navbar-logo-button",title:"Designetica",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M11.5216 0.5H0V11.9067H11.5216V0.5Z",fill:"#F26522"}),n.jsx("path",{d:"M24.2418 0.5H12.7202V11.9067H24.2418V0.5Z",fill:"#8DC63F"}),n.jsx("path",{d:"M11.5216 13.0933H0V24.5H11.5216V13.0933Z",fill:"#00AEEF"}),n.jsx("path",{d:"M24.2418 13.0933H12.7202V24.5H24.2418V13.0933Z",fill:"#FFC20E"})]}),n.jsx("span",{className:"navbar-logo-text",children:"Designetica"})]}),n.jsx("div",{className:"separator-bar"}),n.jsx("img",{src:"/cxsLogo.png",alt:"CXS",className:"navbar-cxs-logo"})]}),n.jsx("div",{className:"navbar-right",children:n.jsxs("div",{className:"navbar-toolbar",children:[n.jsx("button",{className:"navbar-toolbar-btn",onClick:a,onMouseEnter:O=>b(O,"Figma Integration"),onMouseLeave:w,"aria-label":"Figma Integration",children:n.jsx(Es,{})}),n.jsx("button",{className:"navbar-toolbar-btn",onClick:d,onMouseEnter:O=>b(O,"View & Import HTML"),onMouseLeave:w,"aria-label":"View & Import HTML",children:n.jsx(yi,{})}),n.jsx("button",{className:"navbar-toolbar-btn",onClick:u,onMouseEnter:O=>b(O,"Presentation Mode"),onMouseLeave:w,"aria-label":"Presentation Mode",children:n.jsx(Rf,{})}),n.jsx("button",{className:"navbar-toolbar-btn",onClick:g,onMouseEnter:O=>b(O,"Download Wireframe"),onMouseLeave:w,"aria-label":"Download Wireframe",children:n.jsx(Vr,{})})]})})]}),y&&n.jsx("div",{className:"black-tooltip-container",children:n.jsx("div",{className:"black-tooltip",ref:O=>{O&&(O.style.left=`${y.x}px`,O.style.top=`${y.y}px`)},children:y.text})})]})},$m=({onLogoClick:c,onLogout:s})=>n.jsx("nav",{className:"top-nav-landing",children:n.jsxs("div",{className:"navbar-left",children:[n.jsxs("button",{onClick:c,className:"navbar-logo-button",title:"Designetica",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M11.5216 0.5H0V11.9067H11.5216V0.5Z",fill:"#F26522"}),n.jsx("path",{d:"M24.2418 0.5H12.7202V11.9067H24.2418V0.5Z",fill:"#8DC63F"}),n.jsx("path",{d:"M11.5216 13.0933H0V24.5H11.5216V13.0933Z",fill:"#00AEEF"}),n.jsx("path",{d:"M24.2418 13.0933H12.7202V24.5H24.2418V13.0933Z",fill:"#FFC20E"})]}),n.jsx("span",{className:"navbar-logo-text",children:"Designetica"})]}),n.jsx("div",{className:"separator-bar"}),n.jsx("img",{src:"/cxsLogo.png",alt:"CXS",className:"navbar-cxs-logo"})]})}),Dm=({saveTitle:c,setSaveTitle:s,onSave:a,onCancel:d})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsx("h3",{children:"Save Wireframe"}),n.jsx("input",{type:"text",value:c,onChange:u=>s(u.target.value),placeholder:"Enter a name for this wireframe",autoFocus:!0}),n.jsxs("div",{className:"modal-buttons",children:[n.jsx("button",{onClick:a,disabled:!c.trim(),children:"Save"}),n.jsx("button",{onClick:d,children:"Cancel"})]})]})}),Mm=({savedWireframes:c,onLoad:s,onDelete:a,onClose:d})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsx("h3",{children:"Load Wireframe"}),c.length===0?n.jsx("p",{children:"No saved wireframes found."}):n.jsx("div",{className:"saved-list",children:c.map(u=>n.jsxs("div",{className:"saved-item",children:[n.jsxs("div",{className:"saved-info",children:[n.jsx("strong",{children:u.name}),n.jsx("small",{children:new Date(u.createdAt).toLocaleDateString()}),n.jsx("div",{className:"saved-description",children:u.description})]}),n.jsxs("div",{className:"saved-actions",children:[n.jsx("button",{onClick:()=>s(u),children:"Load"}),n.jsx("button",{onClick:()=>a(u.id),className:"delete-btn",title:"Delete wireframe","aria-label":"Delete wireframe",children:n.jsx(Pt,{})})]})]},u.id))}),n.jsx("div",{className:"modal-buttons",children:n.jsx("button",{onClick:d,children:"Close"})})]})}),Rm=({message:c,type:s="success",duration:a=3e3,onClose:d})=>{const[u,g]=f.useState(!0);return f.useEffect(()=>{const y=setTimeout(()=>{g(!1),setTimeout(()=>{d==null||d()},300)},a);return()=>clearTimeout(y)},[a,d]),u?n.jsxs("div",{className:`toast toast-${s} ${u?"toast-visible":"toast-hidden"}`,children:[n.jsxs("div",{className:"toast-content",children:[n.jsxs("span",{className:"toast-icon",children:[s==="success"&&"",s==="info"&&"",s==="warning"&&"",s==="error"&&""]}),n.jsx("span",{className:"toast-message",children:c})]}),n.jsx("button",{className:"toast-close",onClick:()=>{g(!1),setTimeout(()=>d==null?void 0:d(),300)},children:""})]}):null},Om=({onAuthSuccess:c})=>{const[s,a]=f.useState(null),[d,u]=f.useState(!0);return f.useEffect(()=>{console.log(" Checking Azure Static Web Apps authentication for Microsoft employees"),fetch("/.auth/me").then(g=>g.json()).then(g=>{console.log(" Azure auth data:",g);const y=g.clientPrincipal;y?(a(y),c()):(console.log(" No authentication found, redirecting to Microsoft login..."),window.location.href="/.auth/login/aad"),u(!1)}).catch(g=>{console.log(" Azure auth failed, redirecting to Microsoft login:",g),window.location.href="/.auth/login/aad",u(!1)})},[c]),d?n.jsx("div",{className:"azure-auth",children:n.jsxs("div",{className:"auth-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Authenticating with Microsoft..."})]})}):null},_m=({onComponentImported:c,onClose:s})=>{var X,W,k,z,V;const[a,d]=f.useState(""),[u,g]=f.useState(!1),[y,h]=f.useState(""),[b,w]=f.useState(null),O=()=>we(null,null,function*(){if(!a.trim()){h("Please enter a Figma URL");return}if(!a.includes("figma.com")){h("Please enter a valid Figma URL");return}g(!0),h("");try{console.log(" Importing from Figma URL:",a);const Q=yield fetch(qn("/api/figmaNodeImporter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({figmaUrl:a.trim()})});if(!Q.ok){const _=yield Q.json();throw new Error(_.error||"Failed to import component")}const he=yield Q.json();console.log(" Component imported successfully:",he);const pe=he.component;w(pe)}catch(Q){console.error(" Import failed:",Q.message),h(Q.message||"Failed to import component")}finally{g(!1)}}),E=()=>{if(b){const Q=Ge(_e({},b),{content:`
          <style>
            ${b.css}
          </style>
          ${b.html}
        `});c(Q),s()}},I=Q=>{d(Q.target.value),h(""),w(null)};return n.jsx("div",{className:"figma-url-importer-overlay",children:n.jsxs("div",{className:"figma-url-importer-modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:" Import from Figma URL"}),n.jsx("button",{className:"close-btn",onClick:s,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"url-input-section",children:[n.jsx("label",{htmlFor:"figma-url",children:"Figma Component URL:"}),n.jsx("input",{id:"figma-url",type:"url",value:a,onChange:I,placeholder:"https://www.figma.com/design/FILE_ID/TITLE?node-id=NODE_ID...",className:"figma-url-input",disabled:u}),n.jsx("p",{className:"url-help",children:' Right-click on a component in Figma  "Copy link"  Paste here'})]}),y&&n.jsxs("div",{className:"error-message",children:[" ",y]}),n.jsx("div",{className:"action-buttons",children:n.jsx("button",{onClick:O,disabled:u||!a.trim(),className:"import-btn",children:u?" Importing...":" Import Component"})}),b&&n.jsxs("div",{className:"imported-component-preview",children:[n.jsxs("div",{className:"preview-header",children:[n.jsx("h4",{children:" Component Imported Successfully!"}),n.jsxs("div",{className:"component-info",children:[n.jsx("span",{className:"component-name",children:b.name}),n.jsx("span",{className:"component-category",children:b.category})]})]}),n.jsxs("div",{className:"preview-content",children:[n.jsxs("div",{className:"preview-html",children:[n.jsx("h5",{children:" Preview:"}),n.jsx("div",{className:"component-preview",dangerouslySetInnerHTML:{__html:`
                        <style>${b.css}</style>
                        ${b.html}
                      `}})]}),n.jsxs("div",{className:"design-tokens",children:[n.jsx("h5",{children:" Design Properties:"}),n.jsxs("div",{className:"tokens-grid",children:[((W=(X=b.designTokens)==null?void 0:X.fills)==null?void 0:W.length)>0&&n.jsxs("div",{className:"token-item",children:[n.jsx("span",{className:"token-label",children:"Background:"}),n.jsx("span",{className:"color-swatch","data-color":b.designTokens.fills[0].color}),n.jsx("span",{className:"token-value",children:b.designTokens.fills[0].color})]}),((k=b.designTokens)==null?void 0:k.cornerRadius)>0&&n.jsxs("div",{className:"token-item",children:[n.jsx("span",{className:"token-label",children:"Border Radius:"}),n.jsxs("span",{className:"token-value",children:[b.designTokens.cornerRadius,"px"]})]}),((V=(z=b.designTokens)==null?void 0:z.typography)==null?void 0:V.fontSize)&&n.jsxs("div",{className:"token-item",children:[n.jsx("span",{className:"token-label",children:"Font Size:"}),n.jsxs("span",{className:"token-value",children:[b.designTokens.typography.fontSize,"px"]})]})]})]})]}),n.jsx("div",{className:"preview-actions",children:n.jsx("button",{onClick:E,className:"add-to-wireframe-btn",children:" Add to Wireframe"})})]})]})]})})},Um=({onImportComponents:c,onAddToWireframe:s,onClose:a,mode:d="add-to-wireframe"})=>{var B;const[u,g]=f.useState([]),[y,h]=f.useState([]),[b,w]=f.useState("All"),[O,E]=f.useState("All"),[I,X]=f.useState(""),[W,k]=f.useState(new Set),[z,V]=f.useState(!0),[Q,he]=f.useState("grid"),[pe,_]=f.useState([]),[ie,G]=f.useState(null),[M,ge]=f.useState(!1),me="figma_components_cache",$e=2;f.useEffect(()=>{Fe()},[]);const Fe=(m=!1)=>we(null,null,function*(){var x,R,de,Ee,Ce;try{if(V(!0),!m){const Ve=re();if(Ve){console.log(" Loading components from cache"),console.log(" CACHED Components count:",(x=Ve.components)==null?void 0:x.length),g(Ve.components||[]),h(["All",...(Ve.categories||[]).filter(lt=>lt!=="All")]),_(Ve.popular||[]),G(Ve.statistics||null),V(!1);return}}console.log(m?" Force refreshing components from API":" Fetching fresh components from API");const Be=yield(yield fetch(qn("/api/figma/components"))).json();console.log(" API Response received:",{componentCount:((R=Be.components)==null?void 0:R.length)||0,firstComponent:(de=Be.components)!=null&&de[0]?{name:Be.components[0].name,hasHtmlCode:!!Be.components[0].htmlCode,hasCSS:!!Be.components[0].css,htmlCodeLength:((Ee=Be.components[0].htmlCode)==null?void 0:Ee.length)||0}:null}),console.log(" DEBUG: First 3 components:"),(Ce=Be.components)==null||Ce.slice(0,3).forEach((Ve,lt)=>{var D;console.log(`${lt+1}. Name: "${Ve.name}"`,{library:Ve.library,preview:Ve.preview?`${Ve.preview.substring(0,50)}...`:"NO_PREVIEW",description:((D=Ve.description)==null?void 0:D.substring(0,30))||"NO_DESC",id:Ve.id})}),le(Be),g(Be.components||[]),h(["All",...(Be.categories||[]).filter(Ve=>Ve!=="All")]),_(Be.popular||[]),G(Be.statistics||null)}catch(ze){console.error("Failed to load component data:",ze)}finally{V(!1)}}),re=()=>{try{const m=localStorage.getItem(me);if(!m)return null;const x=JSON.parse(m),R=new Date(x.timestamp);return(new Date().getTime()-R.getTime())/(1e3*60*60)>$e?(localStorage.removeItem(me),null):x.data}catch(m){return console.error("Cache read error:",m),localStorage.removeItem(me),null}},le=m=>{try{const x={data:m,timestamp:new Date().toISOString()};localStorage.setItem(me,JSON.stringify(x))}catch(x){console.error("Cache write error:",x)}},be=()=>{try{localStorage.removeItem(me),console.log(" Cache cleared successfully"),console.log(" Forcing fresh API call..."),Fe(!0)}catch(m){console.error("Error clearing cache:",m)}},fe=f.useCallback(()=>{let m=u;return I&&(m=m.filter(x=>{var R,de;return x.name.toLowerCase().includes(I.toLowerCase())||((R=x.description)==null?void 0:R.toLowerCase().includes(I.toLowerCase()))||((de=x.tags)==null?void 0:de.some(Ee=>Ee.toLowerCase().includes(I.toLowerCase())))})),b!=="All"&&(m=m.filter(x=>x.category===b)),O!=="All"&&(m=m.filter(x=>x.library===O)),m},[u,I,b,O]),H=m=>{const x=new Set(W);x.has(m)?x.delete(m):x.add(m),k(x)},T=m=>{if(console.log(" Generating HTML for component:",m.name,m),m.htmlCode&&m.htmlCode.trim().length>0)return console.log(" Using authentic Figma HTML for:",m.name),m.htmlCode;console.log(" No Figma HTML found, using Fluent UI fallback for:",m.name);const x=m.name.toLowerCase(),R=m.category.toLowerCase();if(x.includes("button")||R==="actions"){const de=x.includes("outlined")?"outlined":x.includes("filled")?"filled":x.includes("split")?"split":"primary",Ce=`<button style="${de==="outlined"?"background: transparent; color: #8E9AAF; border: 1px solid #8E9AAF;":"background: #8E9AAF; color: white; border: none;"} padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: 600; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; transition: all 0.2s;" class="fluent-button figma-component" type="button">
                ${m.name}
            </button>`;return console.log(" Generated button HTML:",Ce),Ce}return x.includes("card")||R==="cards"?`<div style="background: white; border: 1px solid #edebe9; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" class="fluent-card figma-component">
                <div style="padding: 16px; border-bottom: 1px solid #f3f2f1;">
                    <h5 style="margin: 0; font-size: 16px; font-weight: 600; color: #3C4858;">${m.name}</h5>
                </div>
                <div style="padding: 16px;">
                    <p style="margin: 0 0 16px 0; font-size: 14px; color: #68769C; line-height: 1.4;">This is a ${m.name} from ${m.library}.</p>
                    <button style="background: #8E9AAF; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: 600;">Learn More</button>
                </div>
            </div>`:x.includes("nav")||x.includes("breadcrumb")||R==="navigation"?x.includes("breadcrumb")?`<nav aria-label="breadcrumb" style="padding: 16px 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" class="fluent-breadcrumb figma-component">
                    <ol style="display: flex; align-items: center; list-style: none; margin: 0; padding: 0; font-size: 14px;">
                        <li style="margin-right: 8px;"><a href="#" style="color: #8E9AAF; text-decoration: none;">Home</a></li>
                        <li style="margin-right: 8px; color: #68769C;">></li>
                        <li style="margin-right: 8px;"><a href="#" style="color: #8E9AAF; text-decoration: none;">Learn</a></li>
                        <li style="margin-right: 8px; color: #68769C;">></li>
                        <li style="color: #3C4858; font-weight: 600;" aria-current="page">Current Page</li>
                    </ol>
                </nav>`:`<nav style="background: #faf9f8; padding: 12px 24px; border-bottom: 1px solid #edebe9; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" class="fluent-navbar figma-component">
                <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center;">
                    <div style="font-size: 18px; font-weight: 600; color: #3C4858;">${m.name}</div>
                    <div style="display: flex; gap: 24px;">
                        <a href="#" style="color: #3C4858; text-decoration: none; font-weight: 500;">Home</a>
                        <a href="#" style="color: #3C4858; text-decoration: none; font-weight: 500;">Products</a>
                        <a href="#" style="color: #3C4858; text-decoration: none; font-weight: 500;">Contact</a>
                    </div>
                </div>
            </nav>`:x.includes("input")||x.includes("form")||R==="forms"?`<div style="margin-bottom: 16px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" class="fluent-form-group figma-component">
                <label for="${m.id}Input" style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 600; color: #3C4858;">${m.name}</label>
                <input type="text" style="width: 100%; max-width: 300px; padding: 8px 12px; border: 1px solid #d1d1d1; border-radius: 4px; font-size: 14px; color: #3C4858; font-family: inherit;" id="${m.id}Input" placeholder="Enter text">
                <small style="display: block; margin-top: 4px; font-size: 12px; color: #68769C;">This is a ${m.name} component.</small>
            </div>`:x.includes("table")||x.includes("list")||R==="data display"?`<div class="table-responsive figma-component">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Column 1</th>
                            <th>Column 2</th>
                            <th>Column 3</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Data 1</td>
                            <td>Data 2</td>
                            <td>Data 3</td>
                        </tr>
                    </tbody>
                </table>
            </div>`:x.includes("hero")||x.includes("banner")||R==="layout"?`<div class="hero-section figma-component bg-primary text-white p-5">
                <div class="container">
                    <h1 class="display-4">${m.name}</h1>
                    <p class="lead">This is a ${m.name} component from ${m.library}.</p>
                    <button style="background: #8E9AAF; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 600; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 16px;">Get Started</button>
                </div>
            </div>`:x.includes("alert")||x.includes("notification")||R==="feedback"?`<div class="alert alert-info figma-component" role="alert">
                <h5 class="alert-heading">${m.name}</h5>
                <p>This is a ${m.name} component for displaying important information.</p>
            </div>`:`<div class="figma-component p-3 border rounded">
            <h6 class="mb-2">${m.name}</h6>
            <p class="text-muted mb-0">A ${m.category} component from ${m.library}</p>
        </div>`},ce=()=>we(null,null,function*(){if(W.size>0)try{V(!0);const m=Array.from(W).map(x=>{const R=u.find(ze=>ze.id===x),de=R.htmlCode,Ee=T(R),Ce=de||Ee;return console.log(" Selected component data for",R==null?void 0:R.name,":",{component:R,hasAuthenticHTML:!!de,hasCSS:!!R.css,usingFallback:!de}),{id:R==null?void 0:R.id,name:R==null?void 0:R.name,htmlCode:Ce,css:R.css||"",type:(R==null?void 0:R.type)||"component",category:R==null?void 0:R.category,library:R==null?void 0:R.library,defaultWidth:4,content:Ce}});if(s){s(m),k(new Set),a();return}}catch(m){console.error("Operation error:",m),alert(`Operation failed: ${m.message}`)}finally{V(!1)}}),ee=({component:m})=>{var x,R;return console.log(" Rendering ComponentCard:",{name:m.name,nameType:typeof m.name,nameLength:(x=m.name)==null?void 0:x.length,firstChar:(R=m.name)==null?void 0:R.charAt(0),preview:m.preview?"HAS_PREVIEW":"NO_PREVIEW",library:m.library}),n.jsxs("div",{className:`component-card ${W.has(m.id)?"selected":""}`,onClick:()=>H(m.id),children:[n.jsxs("div",{className:"component-preview",children:[m.preview?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:m.preview,alt:m.name,onError:de=>{var Ce;const Ee=de.target;Ee.classList.add("hidden"),(Ce=Ee.nextElementSibling)==null||Ce.classList.remove("hidden")}}),n.jsx("div",{className:"preview-placeholder hidden",children:n.jsx("span",{children:m.name.charAt(0)})})]}):n.jsx("div",{className:"preview-placeholder",children:n.jsx("span",{title:`Component name: "${m.name}" | First char: "${m.name.charAt(0)}"`,children:m.name.charAt(0)})}),n.jsx("div",{className:"component-library-badge",children:m.library})]}),n.jsxs("div",{className:"component-info",children:[n.jsx("h4",{className:"component-name",children:m.name}),n.jsx("p",{className:"component-description",children:m.description}),m.htmlCode&&n.jsx("div",{style:{fontSize:"10px",color:"green",fontWeight:"bold",marginTop:"4px"},children:" Authentic Figma HTML Available"}),n.jsxs("div",{className:"component-meta",children:[n.jsx("span",{className:"component-category",children:m.category}),n.jsxs("span",{className:"component-usage",children:["Used ",m.usageCount," times"]})]}),m.variants&&m.variants.length>0&&n.jsx("div",{className:"component-variants",children:n.jsxs("span",{className:"variants-label",children:[m.variants.length," variants"]})})]})]})},j=({component:m})=>{var x;return n.jsxs("div",{className:`component-list-item ${W.has(m.id)?"selected":""}`,onClick:()=>H(m.id),children:[n.jsx("div",{className:"list-item-preview",children:m.preview?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:m.preview,alt:m.name,onError:R=>{var Ee;const de=R.target;de.classList.add("hidden"),(Ee=de.nextElementSibling)==null||Ee.classList.remove("hidden")}}),n.jsx("div",{className:"preview-placeholder hidden",children:n.jsx("span",{children:m.name.charAt(0)})})]}):n.jsx("div",{className:"preview-placeholder",children:n.jsx("span",{children:m.name.charAt(0)})})}),n.jsxs("div",{className:"list-item-content",children:[n.jsxs("div",{className:"list-item-header",children:[n.jsx("h4",{className:"component-name",children:m.name}),n.jsx("span",{className:"component-library",children:m.library})]}),n.jsx("p",{className:"component-description",children:m.description}),n.jsxs("div",{className:"list-item-footer",children:[n.jsx("span",{className:"component-category",children:m.category}),n.jsxs("span",{className:"component-variants",children:[((x=m.variants)==null?void 0:x.length)||0," variants"]}),n.jsxs("span",{className:"component-usage",children:[m.usageCount," uses"]})]})]})]})};return z?n.jsx("div",{className:"figma-browser-loading",children:n.jsxs("div",{className:"loading-modal-content",children:[n.jsxs("div",{className:"figma-brand",children:[n.jsx("div",{className:"figma-logo",children:"F"}),n.jsx("span",{className:"figma-brand-text",children:"Figma"})]}),n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner",children:n.jsx("div",{className:"inner-dot"})}),n.jsxs("div",{className:"loading-text",children:[n.jsx("h2",{children:"Loading Components"}),n.jsx("p",{children:"Fetching your Figma component library..."})]}),n.jsx("div",{className:"loading-progress",children:n.jsx("div",{className:"loading-progress-bar"})}),n.jsxs("div",{className:"loading-dots",children:[n.jsx("div",{className:"loading-dot"}),n.jsx("div",{className:"loading-dot"}),n.jsx("div",{className:"loading-dot"})]})]})]})}):n.jsxs("div",{className:"figma-component-browser",children:[n.jsxs("div",{className:"browser-header",children:[n.jsxs("div",{className:"header-title",children:[n.jsx("h2",{children:"Add Components to Wireframe"}),n.jsx("button",{className:"close-button",onClick:a,children:""})]}),ie&&n.jsxs("div",{className:"browser-stats",children:[n.jsxs("span",{children:[ie.totalComponents," components"]}),n.jsxs("span",{children:[ie.categories.length," categories"]}),n.jsxs("span",{children:[ie.totalUsage," total uses"]}),n.jsx("button",{className:"clear-cache-button",onClick:be,title:"Clear cached components and reload from Figma",children:" Refresh"}),n.jsx("button",{className:"url-import-button",onClick:()=>ge(!0),title:"Import specific component from Figma URL",children:" Import URL"})]})]}),n.jsxs("div",{className:"browser-controls",children:[n.jsx("div",{className:"search-section",children:n.jsx("input",{type:"text",placeholder:"Search components...",value:I,onChange:m=>X(m.target.value),className:"search-input"})}),n.jsxs("div",{className:"filter-section",children:[n.jsx("select",{value:b,onChange:m=>w(m.target.value),className:"filter-select","aria-label":"Filter by category",children:y.map(m=>n.jsx("option",{value:m,children:m},m))}),n.jsxs("select",{value:O,onChange:m=>E(m.target.value),className:"filter-select","aria-label":"Filter by library",children:[n.jsx("option",{value:"All",children:"All Libraries"}),(B=ie==null?void 0:ie.libraries)==null?void 0:B.map(m=>n.jsxs("option",{value:m.name,children:[m.name," (",m.count,")"]},m.name))]}),n.jsxs("div",{className:"view-controls",children:[n.jsx("button",{className:`view-button ${Q==="grid"?"active":""}`,onClick:()=>he("grid"),children:""}),n.jsx("button",{className:`view-button ${Q==="list"?"active":""}`,onClick:()=>he("list"),children:""})]})]})]}),n.jsxs("div",{className:"browser-content",children:[n.jsx("div",{className:`components-${Q}`,children:fe().map(m=>Q==="grid"?n.jsx(ee,{component:m},m.id):n.jsx(j,{component:m},m.id))}),fe().length===0&&n.jsxs("div",{className:"no-results",children:[n.jsx("p",{children:"No components found matching your criteria."}),n.jsx("button",{onClick:()=>{X(""),w("All"),E("All")},children:"Clear filters"})]})]}),n.jsxs("div",{className:"browser-footer",children:[n.jsx("div",{className:"selection-info",children:W.size>0?n.jsxs("span",{children:[W.size," component(s) selected"]}):n.jsx("span",{children:"Select components to add to wireframe"})}),n.jsx("div",{className:"action-buttons",children:n.jsxs("button",{className:"import-button",onClick:ce,disabled:W.size===0,children:["Add to Wireframe (",W.size,")"]})})]}),M&&n.jsx(_m,{onComponentImported:m=>{const x=[{id:m.id,name:m.name,description:m.description,category:m.category,content:m.content,figmaUrl:m.figmaUrl}];s(x)},onClose:()=>ge(!1)})]})},Bm=({onComponentsImported:c,onAddToWireframe:s,onClose:a,designSystem:d="auto",mode:u="component-browser"})=>{console.log(" FigmaIntegration component rendered!");const[g,y]=f.useState(!1),[h,b]=f.useState(null),[w,O]=f.useState("import"),[E,I]=f.useState(""),[X,W]=f.useState(!1),[k,z]=f.useState(!1),[V,Q]=f.useState(null),[he,pe]=f.useState(null),_=ge=>we(null,null,function*(){y(!0),b(null);try{const me=yield fetch(qn("/api/figma/import"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({componentIds:ge,wireframeOptions:{designSystem:d,includeVariants:!0,generateCSS:!0,responsive:!0}})}),$e=yield me.json();if(me.ok)b({type:"success",message:`Successfully imported ${$e.summary.successful} of ${$e.summary.total} components`,results:$e.results}),c&&c($e.results.filter(Fe=>Fe.success));else throw new Error($e.error||"Import failed")}catch(me){b({type:"error",message:`Import failed: ${me.message}`})}finally{y(!1)}}),ie=()=>{b(null),a&&a()},G=()=>we(null,null,function*(){if(!E.trim()){Q("Please enter your Figma access token");return}z(!0),Q(null),pe(null);try{yield new Promise(ge=>setTimeout(ge,1500)),E.toLowerCase().includes("figd_")||E.length>10?(W(!0),pe(" Successfully connected to Figma! You can now import designs."),setTimeout(()=>{O("import")},2e3),window.open("https://www.figma.com/","_blank")):Q('Please enter a valid Figma access token starting with "figd_"')}catch(ge){Q(ge instanceof Error?ge.message:"Failed to connect to Figma")}finally{z(!1)}}),M=()=>{W(!1),I(""),Q(null),pe(" Disconnected from Figma. Your data has been cleared."),setTimeout(()=>{pe(null)},3e3)};return n.jsxs("div",{className:"figma-integration",children:[(console.log(" FigmaIntegration mode:",u),console.log(" Showing component browser?",u==="component-browser"||u==="add-to-wireframe"),null),u==="component-browser"||u==="add-to-wireframe"?n.jsx(Um,{onImportComponents:_,onAddToWireframe:s,onClose:ie}):n.jsxs("div",{className:"figma-design-import",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Import from Figma"}),n.jsx("button",{className:"close-btn",onClick:a,children:""})]}),n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"import-tabs",children:[n.jsx("button",{className:`tab-btn ${w==="import"?"active":""}`,onClick:()=>O("import"),children:"Import Design"}),n.jsx("button",{className:`tab-btn ${w==="connect"?"active":""}`,onClick:()=>O("connect"),children:"Connect Account"})]}),V&&n.jsxs("div",{className:"status-message error",children:[n.jsxs("span",{children:[" ",V]}),n.jsx("button",{onClick:()=>Q(null),children:""})]}),he&&n.jsxs("div",{className:"status-message success",children:[n.jsx("span",{children:he}),n.jsx("button",{onClick:()=>pe(null),children:""})]}),w==="import"?n.jsxs("div",{className:"import-section",children:[n.jsx("h3",{children:"Import Figma Design"}),n.jsx("p",{children:"Import your Figma designs as wireframes. Paste a Figma share link or upload a Figma file."}),n.jsx("div",{className:`connection-status ${X?"connected":"disconnected"}`,children:X?n.jsx("span",{children:" Connected to Figma"}):n.jsxs("span",{children:[" Not connected to Figma - ",n.jsx("button",{className:"link-btn",onClick:()=>O("connect"),children:"Connect now"})]})}),n.jsxs("div",{className:"import-input-group",children:[n.jsx("input",{type:"text",placeholder:"Paste Figma share link here...",className:"figma-url-input",disabled:!X}),n.jsx("button",{className:"import-btn",disabled:g||!X,children:g?"Importing...":"Import Design"})]}),n.jsx("div",{className:"file-upload-section",children:n.jsxs("label",{className:`file-upload-label ${X?"":"disabled"}`,children:[n.jsx("input",{type:"file",accept:".fig,.figma",className:"hidden-file-input",disabled:!X}),n.jsxs("div",{className:"upload-zone",children:[n.jsx("div",{className:"upload-icon",children:""}),n.jsx("div",{children:"Upload Figma File"}),n.jsx("div",{className:"upload-hint",children:X?"Drag & drop or click to browse":"Connect to Figma first"})]})]})})]}):n.jsxs("div",{className:"connect-section",children:[n.jsx("h3",{children:"Connect to Figma"}),n.jsx("p",{children:"Connect your Figma account to import designs directly into the wireframe tool."}),X?n.jsxs("div",{className:"connected-section",children:[n.jsxs("div",{className:"connection-success",children:[n.jsx("div",{className:"success-icon",children:""}),n.jsxs("div",{children:[n.jsx("h4",{children:"Successfully Connected!"}),n.jsx("p",{children:"Your Figma account is connected and ready to use."})]})]}),n.jsxs("div",{className:"connected-actions",children:[n.jsx("button",{className:"primary-btn",onClick:()=>O("import"),children:"Start Importing"}),n.jsx("button",{className:"secondary-btn",onClick:M,children:"Disconnect"})]})]}):n.jsxs("div",{className:"connect-form",children:[n.jsxs("div",{className:"input-group",children:[n.jsx("label",{htmlFor:"figma-token",children:"Figma Access Token"}),n.jsx("input",{id:"figma-token",type:"password",placeholder:"Enter your Figma access token (figd_...)",value:E,onChange:ge=>I(ge.target.value),className:"token-input"}),n.jsx("div",{className:"input-hint",children:n.jsx("a",{href:"https://www.figma.com/developers/api#access-tokens",target:"_blank",rel:"noopener noreferrer",children:"How to get your Figma access token"})})]}),n.jsx("button",{className:"connect-btn",onClick:G,disabled:k||!E.trim(),children:k?"Connecting...":"Connect to Figma"})]})]})]})]})]})},Hm={maxRetries:3,delayMs:1e3,backoffFactor:1.5},Wm=c=>new Promise(s=>setTimeout(s,c));class hi extends Error{constructor(s,a){super(a),this.status=s,this.name="ApiError"}}function Gm(c){return c.message.includes("Failed to fetch")?"Unable to connect to the backend server. Please check your internet connection or try again later.":c.message.includes("NetworkError")?"Network connection error. Please check your internet connection and try again":c.message.includes("timeout")?"Request timed out. The backend may be overloaded, please try again in a moment":c.message}function Vm(d,u){return we(this,arguments,function*(c,s,a=Hm){let g=null,y=a.delayMs;for(let h=0;h<=a.maxRetries;h++)try{const b=yield fetch(c,Ge(_e({},s),{signal:AbortSignal.timeout(3e4)}));if(!b.ok){if(b.status===503)return b;throw new hi(b.status,`HTTP error! status: ${b.status}`)}return b}catch(b){if(g=b,h===a.maxRetries){const w=Gm(g);throw new Error(w)}if(b instanceof TypeError||b instanceof hi&&b.status>=500){console.warn(`Attempt ${h+1} failed, retrying in ${y}ms...`),yield Wm(y),y*=a.backoffFactor;continue}throw b}throw g})}function js(d){return we(this,arguments,function*(c,s={},a){const u=Array.isArray(c)?c:[c];let g=null;const y=[En.BASE_URL];for(const h of y)for(const b of u){const w=`${h}${b}`;console.log(` BULLETPROOF: Trying endpoint: ${w}`);const O=_e({headers:_e({"Content-Type":"application/json"},s.headers)},s);try{const E=yield Vm(w,O,a);if(E.status===503){const I=yield E.json();throw new hi(503,I.message||I.error||"Service temporarily unavailable")}return console.log(` BULLETPROOF: Success with endpoint: ${w}`),window.__DESIGNETICA_LAST_WORKING_BASE__=h,yield E.json()}catch(E){if(g=E,console.log(` BULLETPROOF: Failed with endpoint: ${w}, error:`,E instanceof Error?E.message:E),E instanceof hi&&E.status===404)continue;if(u.length>1){console.log(" BULLETPROOF: Trying next endpoint on same base...");continue}}}if(g instanceof hi)switch(g.status){case 401:throw new Error("Unauthorized: Please check your API credentials");case 403:throw new Error("Forbidden: You don't have permission to access this resource");case 404:throw new Error("Not Found: The requested resource doesn't exist");case 429:throw new Error("Too Many Requests: Please try again later");case 500:throw new Error("Server Error: Something went wrong on our end");case 503:throw new Error(g.message);default:throw new Error(`API Error: ${g.message}`)}throw g instanceof TypeError?new Error("Network Error: Please check your internet connection"):g||new Error("All API endpoints failed")})}const Qm={get:(c,s={})=>js(c,Ge(_e({},s),{method:"GET"})),post:(c,s,a={})=>(console.log(" API POST Debug:",{endpoint:c,data:s,dataType:typeof s,stringifiedData:JSON.stringify(s),options:a}),js(c,Ge(_e({},a),{method:"POST",body:JSON.stringify(s),headers:_e({"Content-Type":"application/json"},a.headers)}))),put:(c,s,a={})=>js(c,Ge(_e({},a),{method:"PUT",body:JSON.stringify(s)})),delete:(c,s={})=>js(c,Ge(_e({},s),{method:"DELETE"}))},Ss={},xu=c=>(c=c.replace(/<style[^>]*>([\s\S]*?)<\/style>/gi,(s,a)=>`<style>${a.replace(/([^{}]+){/g,(u,g)=>{if(g.trim().startsWith("@"))return u;const y=g.trim();return y&&!y.includes(".wireframe-content")?`.wireframe-content ${y} {`:u})}</style>`),c=c.replace(/<div[^>]*class="[^"]*text-placeholder-heading[^"]*"[^>]*><\/div>/gi,"<h2>Sample Heading</h2>"),c=c.replace(/<div[^>]*class="[^"]*text-placeholder-line[^"]*"[^>]*><\/div>/gi,"<p>This is sample text content that represents the actual content that would appear in the final design.</p>"),c=c.replace(/(<p>This is sample text content that represents the actual content that would appear in the final design\.<\/p>\s*){2,}/gi,"<p>This is sample text content that represents the actual content that would appear in the final design.</p><p>Here is additional sample content to show how multiple paragraphs would look in the actual implementation.</p>"),c=c.replace(/text-placeholder-[a-zA-Z-]+/gi,""),c),Km=c=>{if(c==null)return"";if(typeof c=="string"){let s=c.trim(),a=s.indexOf("<!DOCTYPE html>");if(a!==-1){const d=s.lastIndexOf("</html>");d!==-1&&(s=s.substring(a,d+7))}else if(a=s.indexOf("<html"),a!==-1){const d=s.lastIndexOf("</html>");d!==-1&&(s=s.substring(a,d+7))}return s=s.replace(/^```html\s*/gi,""),s=s.replace(/```\s*$/gi,""),s=s.replace(/^['"]+|['"]+$/g,""),s=xu(s),s.trim()}try{let s=String(c).trim(),a=s.indexOf("<!DOCTYPE html>");if(a!==-1){const d=s.lastIndexOf("</html>");d!==-1&&(s=s.substring(a,d+7))}else if(a=s.indexOf("<html"),a!==-1){const d=s.lastIndexOf("</html>");d!==-1&&(s=s.substring(a,d+7))}return s=s.replace(/^```html\s*/gi,""),s=s.replace(/```\s*$/gi,""),s=s.replace(/^['"]+|['"]+$/g,""),s=s.replace(/^```html\s*/gi,""),s=s.replace(/```\s*$/gi,""),s=xu(s),s.trim()}catch(s){return console.error("Failed to convert HTML content to string:",s),""}},Ym=()=>{const[c,s]=f.useState(!1),[a,d]=f.useState(""),[u,g]=f.useState(null),[y,h]=f.useState(!1),[b,w]=f.useState(0),O=f.useRef(null),E=f.useRef([]);f.useEffect(()=>()=>{E.current.forEach(k=>clearTimeout(k)),O.current&&O.current.abort()},[]);const I=f.useCallback(()=>{if(console.log(" FORCE STOP - cancelGeneration called!"),s(!1),d(""),g(null),E.current.forEach(k=>clearTimeout(k)),E.current=[],O.current){console.log(" Aborting request...");try{O.current.abort(),console.log(" Request aborted!")}catch(k){console.log(" Error aborting request:",k)}O.current=null}console.log(" FORCE STOP completed!")},[]),X=f.useCallback((k,z="microsoft",V="primary",Q=!1,he=!1,pe)=>we(null,null,function*(){var me,$e,Fe,re,le,be;I(),console.log(" Generating wireframe (INTELLIGENT FALLBACK):",{description:k.substring(0,100)+"...",theme:z,colorScheme:V,skipCache:Q,fastMode:he,baseUrl:En.BASE_URL}),s(!0),g(null),h(!1),d(" Connecting to AI wireframe service...");const _=`req-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ie=`${k}-${z}-${V}-${Date.now()}`;console.log(` [${_}] Starting wireframe generation for:`,{description:k.substring(0,50)+(k.length>50?"...":""),theme:z,colorScheme:V,requestId:_});const G=setTimeout(()=>d(" AI analyzing your description..."),2e3),M=setTimeout(()=>d(" Generating intelligent wireframe..."),6e3),ge=setTimeout(()=>d(" Finalizing design..."),12e3);E.current=[G,M,ge];try{const fe=new AbortController;O.current=fe,console.log(` [${_}] Attempting Azure Functions + OpenAI generation:`,{endpoint:En.ENDPOINTS.GENERATE_WIREFRAME,payload:{description:k,theme:z,colorScheme:V,fastMode:!1},timestamp:Date.now(),cacheKey:ie,requestId:_});let H=!1,T=k;/\[strict\]/i.test(k)&&(H=!0,T=k.replace(/\[strict\]/gi,"").trim(),console.log(" Strict mode token detected. Cleaned description:",T));const ce=ye=>typeof ye=="string"?ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g," ").replace(/\s+/g," ").trim():ye,ee=ye=>{if(!ye||typeof ye!="object")return ye;if(Array.isArray(ye))return ye.map(ee);const Y={};for(const $ of Object.keys(ye)){const oe=ye[$];oe&&typeof oe=="object"?Y[$]=ee(oe):Y[$]=ce(oe)}return Y},j=pe?ee(pe):void 0;pe&&j&&console.log(" Sanitized websiteAnalysis payload");const B=_e(_e({description:T,theme:z,colorScheme:V,fastMode:!1},j&&{websiteAnalysis:j}),H&&{strictMode:!0});console.log(` [${_}] Detailed request payload:`,JSON.stringify(B,null,2));const m=Date.now(),x=yield Promise.race([Qm.post(En.ENDPOINTS.GENERATE_WIREFRAME+`?t=${Date.now()}`,B,{signal:fe.signal,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}),new Promise((ye,Y)=>setTimeout(()=>Y(new Error("Azure Functions timeout")),6e4))]),R=Date.now();console.log(` [${_}] Azure Functions call succeeded in`,R-m,"ms");try{console.log(` [${_}] Raw API response JSON:`,x)}catch(ye){console.log(` [${_}] Raw API response could not be stringified`)}const de=(me=x==null?void 0:x.data)==null?void 0:me.html,Ce=(x==null?void 0:x.html)||de||"",ze=(x==null?void 0:x.source)||(($e=x==null?void 0:x.data)==null?void 0:$e.source)||"unknown",Be=(x==null?void 0:x.metadata)||((Fe=x==null?void 0:x.data)==null?void 0:Fe.metadata)||void 0,Ve=(x==null?void 0:x.processingTime)||(Be==null?void 0:Be.processingTimeMs)||R-m,lt=(x==null?void 0:x.fallback)||((re=x==null?void 0:x.data)==null?void 0:re.fallback)||!1;console.log(` [${_}] Normalized response info:`,{hasHtml:!!Ce,htmlLength:Ce==null?void 0:Ce.length,apiFallback:lt,processingMs:Ve,apiSource:ze,metadata:Be,shape:{topLevelKeys:Object.keys(x||{}),hasDataObject:!!(x!=null&&x.data)}}),(le=x.metadata)!=null&&le.description&&console.log(` [${_}] Template Detection:`,{requestedDescription:k,responseDescription:x.metadata.description,templateSource:x.source,match:k===x.metadata.description}),h(lt||!1),Ve&&w(Ve);const D=Km(Ce);if((be=x==null?void 0:x.metadata)!=null&&be.strictMode&&console.log(` Strict scaffold received (sections: ${x.metadata.sections||"n/a"})`),!D)throw new Error("No HTML content received from Azure Functions");return D.length>0&&!lt&&(Ss[ie]={html:D,timestamp:Date.now(),processingTime:Ve||0}),console.log(" Azure Functions + OpenAI generation successful"),{html:D,fallback:lt||!1,processingTime:Ve||0,fromCache:!1,source:"azure-functions"}}catch(fe){if(console.warn(" Azure Functions unavailable, using intelligent fallback:",fe),fe instanceof Error&&fe.name==="AbortError"&&!fe.message.includes("timeout"))throw g("Request was cancelled"),fe;try{d(" Using intelligent local generation...");const{generateFallbackWireframe:H}=yield zl(()=>we(null,null,function*(){const{generateFallbackWireframe:B}=yield import("./fallbackWireframeGenerator-CYPY5d3W.js");return{generateFallbackWireframe:B}}),[]);console.log(" Generating intelligent local wireframe...");const T=Date.now(),ce=yield H({description:k,theme:z,colorScheme:V}),ee=Date.now();console.log(" Intelligent fallback generated in",ee-T,"ms");const j={html:ce,fallback:!0,processingTime:ee-T,fromCache:!1,source:"client-side-intelligent"};return h(!0),w(j.processingTime),console.log(" Client-side intelligent generation successful"),j}catch(H){console.error(" All generation methods failed:",H);const T=fe instanceof Error?fe.message:"Unable to generate wireframe. Please try again.";throw g(`Generation Failed: ${T}`),fe}}finally{s(!1),d(""),E.current.forEach(fe=>clearTimeout(fe)),E.current=[],O.current=null}}),[I]),W=f.useCallback(()=>{const k=Object.keys(Ss).length;Object.keys(Ss).forEach(z=>delete Ss[z]),console.log(`Cleared ${k} items from wireframe cache`)},[]);return{generateWireframe:X,isLoading:c,loadingStage:a,error:u,fallback:y,processingTime:b,cancelGeneration:I,clearCache:W}},xl={};function Jm(c,s){xl[c]||(xl[c]={count:0,totalTime:0,minTime:s,maxTime:s,lastTime:s,avgTime:s});const a=xl[c];a.count++,a.totalTime+=s,a.minTime=Math.min(a.minTime,s),a.maxTime=Math.max(a.maxTime,s),a.lastTime=s,a.avgTime=a.totalTime/a.count}class yl{constructor(s){kr(this,"startTime");kr(this,"name");this.name=s,this.startTime=performance.now()}stop(){const a=performance.now()-this.startTime;return Jm(this.name,a),a}}function Zm(c={}){const{title:s="Learning for everyone, everywhere",summary:a="Explore Microsoft product documentation, training, credentials, Q&A, code references, and shows.",eyebrow:d="MICROSOFT LEARN",ctaText:u="Get Started",secondaryCtaText:g="Browse",showSecondaryButton:y=!0,backgroundColor:h="#E9ECEF",heroImageUrl:b="Microsoft-Learn-keyart-neutral-gray-angle-1.png"}=c;return`
    <!-- Microsoft Learn Accent Hero Section -->
    <section class="hero hero-image background-color-body-accent gradient-border-right gradient-border-body-accent" 
             style="--hero-background-image-light: url('${b}'); --hero-background-image-dark: url('${b}'); 
                    position: relative; display: flex; flex-direction: column; min-height: 300px; padding: 2rem; 
                    background-color: ${h}; background-image: var(--hero-background-image-light); 
                    background-size: cover; background-position: center; background-repeat: no-repeat;">
      
      <!-- Gradient Border Right -->
      <div style="content: ''; position: absolute; right: 0; top: 0; bottom: 0; width: 4px; 
                  background: linear-gradient(180deg, ${h} 0%, rgba(232, 230, 223, 0) 100%);"></div>
      
      <!-- Hero Content -->
      <div class="hero-content" style="max-width: 800px; z-index: 1;">
        <!-- Eyebrow Text -->
        <p class="letter-spacing-wide text-transform-uppercase font-size-sm" 
           style="letter-spacing: 0.2em; text-transform: uppercase; font-size: 0.875rem; 
                  line-height: 1.25rem; margin: 0 0 0.5rem 0; color: #3C4858; font-weight: 600;">
          ${d}
        </p>
        
        <!-- Main Title -->
        <h1 class="font-size-h1 font-weight-semibold" 
            style="font-size: 2.5rem; line-height: 3rem; font-weight: 600; margin: 0 0 1rem 0; color: #3C4858;">
          ${s}
        </h1>
        
        <!-- Summary Text -->
        <p class="font-size-lg font-weight-semibold margin-block-sm" 
           style="font-size: 1.125rem; line-height: 1.75rem; font-weight: 600; 
                  margin-top: 0.5rem; margin-bottom: 0.5rem; color: #3C4858;">
          ${a}
        </p>
        
        <!-- Action Buttons -->
        <div class="buttons margin-top-md" style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 1rem;">
          <button class="button border button-clear" 
                  style="display: inline-flex; align-items: center; justify-content: center; 
                         padding: 0.5rem 1rem; border-radius: 0.25rem; font-family: 'Segoe UI', sans-serif; 
                         font-size: 0.875rem; font-weight: 600; text-decoration: none; cursor: pointer; 
                         transition: all 0.2s ease; min-height: 2.5rem; border: 1px solid #8E9AAF; 
                         background-color: transparent; color: #8E9AAF;">
            ${u}
          </button>
          ${y?`
          <button class="button border" 
                  style="display: inline-flex; align-items: center; justify-content: center; 
                         padding: 0.5rem 1rem; border-radius: 0.25rem; font-family: 'Segoe UI', sans-serif; 
                         font-size: 0.875rem; font-weight: 600; text-decoration: none; cursor: pointer; 
                         transition: all 0.2s ease; min-height: 2.5rem; border: 1px solid #8E9AAF; 
                         background-color: #8E9AAF; color: white;">
            ${g}
          </button>
          `:""}
        </div>
      </div>
    </section>
    
    <style>
      /* Microsoft Learn Accent Hero CSS Classes */
      .hero {
        position: relative;
        display: flex;
        flex-direction: column;
        min-height: 300px;
        padding: 2rem;
        font-family: 'Segoe UI', sans-serif;
      }
      
      .hero-image {
        background-image: var(--hero-background-image-light);
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
      }
      
      .background-color-body-accent {
        background-color: #E9ECEF;
      }
      
      .gradient-border-right::after {
        content: '';
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(180deg, #E9ECEF 0%, rgba(232, 230, 223, 0) 100%);
      }
      
      .hero-content {
        max-width: 800px;
        z-index: 1;
      }
      
      .button:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }
      
      .button.button-clear:hover {
        background-color: #8E9AAF !important;
        color: white !important;
      }
      
      .button.border:hover {
        background-color: #68769C !important;
        border-color: #68769C !important;
      }
      
      @media (max-width: 768px) {
        .hero {
          padding: 1rem;
        }
        
        .font-size-h1 {
          font-size: 1.875rem !important;
          line-height: 2.25rem !important;
        }
        
        .buttons {
          flex-direction: column;
        }
        
        .button {
          width: 100%;
          justify-content: center;
        }
      }
    </style>
  `}const vl={primary:(c,s,a)=>`https://placehold.co/${c}x${s}/0078d4/ffffff?text=${encodeURIComponent(a||"Image")}`,secondary:(c,s,a)=>`https://placehold.co/${c}x${s}/106ebe/ffffff?text=${encodeURIComponent(a||"Image")}`,neutral:(c,s,a)=>`https://placehold.co/${c}x${s}/f3f2f1/323130?text=${encodeURIComponent(a||"Image")}`,avatar:c=>`https://placehold.co/${c}x${c}/ca5010/ffffff?text=`,icon:(c,s)=>`https://placehold.co/${c}x${c}/605e5c/ffffff?text=${encodeURIComponent(s||"")}`,microsoftLogo:(c=24)=>"/windowsLogo.png",mslearnLogo:(c=120)=>"/mslearn-logo.png"},Jn={avatar:{width:64,height:64},icon:{width:24,height:24},thumbnail:{width:150,height:150},card:{width:300,height:200},hero:{width:800,height:400},banner:{width:1200,height:300},product:{width:250,height:250},gallery:{width:400,height:300},logo:{width:120,height:40}};function qm(c,s="",a=""){const d=c.toLowerCase(),u=s.toLowerCase(),g=a.toLowerCase();return d.includes("avatar")||u.includes("avatar")||g.includes("avatar")?Jn.avatar:d.includes("icon")||u.includes("icon")||g.includes("icon")?Jn.icon:d.includes("logo")||u.includes("logo")||g.includes("logo")?Jn.logo:d.includes("hero")||u.includes("hero")||g.includes("hero")?Jn.hero:d.includes("banner")||u.includes("banner")||g.includes("banner")?Jn.banner:d.includes("product")||u.includes("product")||g.includes("product")?Jn.product:d.includes("gallery")||u.includes("gallery")||g.includes("gallery")?Jn.gallery:d.includes("thumb")||u.includes("thumb")||g.includes("thumb")?Jn.thumbnail:Jn.card}function Xm(c,s="",a="",d="neutral"){if(s.toLowerCase().includes("microsoft logo")||s.toLowerCase().includes("windows logo")||c.toLowerCase().includes("microsoft")||c.toLowerCase().includes("windows"))return vl.microsoftLogo();if(s.toLowerCase().includes("ms learn")||s.toLowerCase().includes("microsoft learn")||c.toLowerCase().includes("mslearn"))return vl.mslearnLogo();const u=qm(c,s,a),g=s||eg(c);return vl[d](u.width,u.height,g)}function eg(c){var a;return(((a=c.split("/").pop())==null?void 0:a.split(".")[0])||"").replace(/[-_]/g," ").replace(/\d+/g,"").trim().substring(0,20)||"Image"}function tg(c){const s=/<img([^>]*?)src=["']([^"']*?)["']([^>]*?)>/gi;return c.replace(s,(a,d,u,g)=>{if(u.includes("placehold.co")||u.includes("picsum.photos")||u.includes("dummyimage.com")||u.startsWith("/windowsLogo.png")||u.startsWith("/mslearn-logo.png")||u.startsWith("/cxsLogo.png"))return a;if(u.includes("via.placeholder.com")){const E=u.replace("via.placeholder.com","placehold.co");return`<img${d}src="${E}"${g}>`}if(u.startsWith("data:")||(u.startsWith("http://")||u.startsWith("https://"))&&!u.includes("via.placeholder.com"))return a;const y=a.match(/alt=["']([^"']*?)["']/i),h=a.match(/class=["']([^"']*?)["']/i),b=y?y[1]:"",w=h?h[1]:"",O=Xm(u,b,w);return`<img${d}src="${O}"${g}>`})}function ng(c){const s=/<img([^>]*?)>/gi;return c.replace(s,(a,d)=>{if(d.includes("onerror"))return a;const u=d.match(/width=["']?(\d+)["']?/i),g=d.match(/height=["']?(\d+)["']?/i),y=d.match(/alt=["']([^"']*?)["']/i),h=u?u[1]:"300",b=g?g[1]:"200",w=y?y[1]:"Image",E=`onerror="this.src='${`https://placehold.co/${h}x${b}/f3f2f1/323130?text=${encodeURIComponent(w)}`}'; this.onerror=null;"`;return`<img${d} ${E}>`})}function rg(c){let s=tg(c);return s=ng(s),s}function og(c){let s=c.replace(/https:\/\/via\.placeholder\.com\/\d+x\d+\/[^"']*text=Microsoft[^"']*/gi,"/windowsLogo.png");return s=s.replace(/src=["'][^"']*microsoft[^"']*logo[^"']*["']/gi,'src="/windowsLogo.png"'),s=s.replace(/<div[^>]*class=["'][^"']*docs-header-brand[^"']*["'][^>]*>[\s\S]*?<\/div>/gi,a=>a.includes("windowsLogo.png")?a:a.replace(/<img[^>]*>/gi,'<img src="/windowsLogo.png" alt="Microsoft Logo" width="24" height="24">')),s}function yu(c){let s=og(c);return s=rg(s),s=ig(s),s}function ig(c){if(!c.includes("--ms-color-primary")){const s=`
      <style>
        :root {
          --ms-color-primary: #8E9AAF;
          --ms-color-primary-hover: #68769C;
          --ms-color-white: #ffffff;
          --ms-color-gray-50: #f8f9fa;
          --ms-color-gray-900: #1a1a1a;
          --ms-font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        /* Microsoft Learn Logo Styling */
        .docs-header-brand img {
          transition: opacity 0.2s ease;
        }
        
        .docs-header-brand img:hover {
          opacity: 0.8;
        }
        
        /* Enhanced Microsoft Learn Components */
        .ms-learn-button {
          background: var(--ms-color-primary);
          color: var(--ms-color-white);
          border: none;
          border-radius: 4px;
          padding: 8px 16px;
          font-family: var(--ms-font-family);
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }
        
        .ms-learn-button:hover {
          background: var(--ms-color-primary-hover);
        }
      </style>
    `;c.includes("</head>")?c=c.replace("</head>",`${s}</head>`):c.includes("<head>")?c=c.replace("<head>",`<head>${s}`):c=`${s}${c}`}return c}function sg(c){const s=[];let a=c;const d=/https:\/\/via\.placeholder\.com[^"']*/g,u=c.match(d);u&&(s.push(`Found ${u.length} potentially broken placeholder images`),a=yu(a));const y=(c.match(/<img[^>]*>/g)||[]).filter(w=>!w.includes("alt="));y.length>0&&s.push(`Found ${y.length} images without alt attributes`);const h=c.includes("docs-header-brand"),b=c.includes("Microsoft Logo")||c.includes("windowsLogo.png");return h&&!b&&(s.push("Microsoft Learn header found but missing proper Microsoft logo"),a=yu(a)),{isValid:s.length===0,issues:s,fixedHtml:a}}function ag(c){const s=sg(c);return s.isValid||console.log("Wireframe validation issues:",s.issues),s.fixedHtml}const lg=()=>{const[c,s]=f.useState(!1);return{isVisible:c,toggle:()=>s(!c),show:()=>s(!0),hide:()=>s(!1)}},cg=[{keywords:["dashboard","admin","analytics"],suggestions:["Dashboard with key metrics and charts","Admin panel with user management","Analytics dashboard with real-time data"]},{keywords:["form","input","submit","contact"],suggestions:["Contact form with validation","Multi-step registration form","Login form with forgot password"]},{keywords:["landing","hero","homepage"],suggestions:["Hero section with call-to-action","Product landing page with features","Marketing homepage with testimonials"]},{keywords:["navigation","menu","navbar","header"],suggestions:["Navigation bar with search","Sidebar menu with icons","Breadcrumb navigation system"]},{keywords:["card","grid","list"],suggestions:["Card grid layout with hover effects","Product list with filters","Team member cards with bios"]},{keywords:["table","data","report"],suggestions:["Data table with sorting and filters","Financial report layout","User activity table with actions"]},{keywords:["modal","popup","dialog"],suggestions:["Modal dialog with form","Confirmation popup with actions","Image gallery with lightbox"]},{keywords:["ecommerce","shop","product","cart"],suggestions:["Product showcase with cart","E-commerce checkout flow","Shopping cart with totals"]},{keywords:["learn","education","course","tutorial"],suggestions:["Learning module with progress tracker","Course overview with lessons","Tutorial page with step-by-step guide"]},{keywords:["blog","article","news"],suggestions:["Blog layout with sidebar","Article page with comments","News feed with pagination"]}],dg=c=>{if(!c||c.length<2)return[];const s=c.toLowerCase().trim(),a=[];for(const u of cg)u.keywords.some(y=>s.includes(y)||y.includes(s))&&a.push(...u.suggestions);return[...new Set(a)].slice(0,5)},ug=c=>{const s=c.toLowerCase(),a=[];return(s.includes("microsoft")||s.includes("learn"))&&a.push("Microsoft Learn module with exercises","Documentation page with code samples","Learning path with prerequisites"),(s.includes("responsive")||s.includes("mobile"))&&a.push("Responsive layout with mobile-first design","Mobile navigation with hamburger menu","Adaptive grid that works on all devices"),(s.includes("accessible")||s.includes("aria"))&&a.push("Accessible form with proper labels","Screen reader friendly navigation","High contrast design with ARIA support"),a.slice(0,3)},pg=c=>{const s=dg(c),a=ug(c),d=[...s,...a];return[...new Set(d)].slice(0,6)},fg=c=>{if(c.length<10)return!1;const s=["complex","advanced","custom","specific","detailed","integrate","with authentication","with database","real-time","dynamic","interactive"],a=c.toLowerCase();return s.some(d=>a.includes(d))},zu=10800*1e3,Lu=c=>c.toLowerCase().replace(/\s+/g," ").trim().split(" ").filter(a=>!["a","an","the","and","or","but","for","with","in","on","at","to","of"].includes(a)).sort().join(" "),mg=(c,s,a="ai")=>{try{const d=Lu(c),u=localStorage.getItem("designetica_suggestion_cache"),g=u?JSON.parse(u):{};g[d]={key:d,suggestions:s,timestamp:Date.now(),source:a};const y=Object.fromEntries(Object.entries(g).filter(([,h])=>Date.now()-h.timestamp<zu));localStorage.setItem("designetica_suggestion_cache",JSON.stringify(y)),console.log(` Cached ${s.length} suggestions for "${c}"`)}catch(d){console.error("Failed to cache suggestions:",d)}},gg=c=>{try{const s=Lu(c),a=localStorage.getItem("designetica_suggestion_cache");if(!a)return null;const u=JSON.parse(a)[s];return u&&Date.now()-u.timestamp<zu?(console.log(` Cache hit for "${c}"`),{suggestions:u.suggestions,source:u.source}):null}catch(s){return console.error("Failed to retrieve cached suggestions:",s),null}};function hg({onLogout:c}){const[s,a]=f.useState(""),[d,u]=f.useState(""),[g,y]=f.useState([]),[h,b]=f.useState(!1),[w,O]=f.useState(""),[E,I]=f.useState(!1),[X,W]=f.useState([]),[k,z]=f.useState(!1),[V,Q]=f.useState(!1),[he]=f.useState(!1),pe="microsoft",[_,ie]=f.useState("primary"),[G,M]=f.useState(Date.now()),[ge,me]=f.useState(!0),[$e,Fe]=f.useState(!1),[re,le]=f.useState([]),[be,fe]=f.useState(!1),[H,T]=f.useState(!1),[ce,ee]=f.useState(!1),[j,B]=f.useState("drag"),m=f.useRef(null),x=f.useRef(null),R=f.useRef(null),de=f.useRef(null),Ee=f.useRef(null),Ce=f.useRef(null),ze=f.useRef(null),Be=f.useRef(null),Ve=()=>{console.log(" TOP TOOLBAR FIGMA BUTTON CLICKED - Opening Figma import (like landing page)..."),ee(!0)};f.useEffect(()=>{m.current=()=>{console.log(" PAGES TOOLBAR COMPONENT LIBRARY BUTTON CLICKED - Opening Component Library..."),x.current?x.current():console.warn("Component Library function not available")}},[]),f.useEffect(()=>{R.current=()=>{console.log(" DEV PLAYBOOKS BUTTON CLICKED - Opening Dev Playbooks...")}},[]),f.useEffect(()=>{de.current=()=>{console.log(" FIGMA COMPONENTS BUTTON CLICKED - Opening Figma Components...")}},[]);const lt=()=>{Ee.current?Ee.current():console.log("HTML code viewer function not available")},D=()=>{Ce.current?Ce.current():console.log("Download wireframe function not available")},ye=()=>{ze.current?ze.current():console.log("Presentation mode function not available")};lg();const{generateWireframe:Y,isLoading:$,loadingStage:oe,error:Ae,fallback:Re,processingTime:Ze,cancelGeneration:nt}=Ym(),[Qe,ct]=f.useState(""),[Fn,Cr]=f.useState(!1),[jr,Xn]=f.useState("");f.useEffect(()=>{localStorage.removeItem("snapframe_current"),localStorage.removeItem("currentWireframe"),localStorage.removeItem("lastUsedTheme"),localStorage.setItem("lastUsedTheme","microsoftlearn")},[]),f.useEffect(()=>{zn()},[]),f.useEffect(()=>{d?window.history.pushState({view:"wireframe"},"",window.location.pathname):window.history.replaceState({view:"landing"},"",window.location.pathname)},[d]);const qe=(U,se="success")=>{const J={id:Date.now()+Math.random(),message:U,type:se};le(P=>[...P,J])},xn=U=>{le(se=>se.filter(J=>J.id!==U))},zn=()=>{const U=localStorage.getItem("snapframe_saved");U&&y(JSON.parse(U))},yn=()=>{if(!d||!w.trim())return;const U={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:w.trim(),description:s,html:d,createdAt:new Date().toISOString()},se=[...g,U];y(se),localStorage.setItem("snapframe_saved",JSON.stringify(se)),b(!1),O(""),console.log("Wireframe Saved!",`"${w.trim()}" has been saved successfully.`)},er=U=>{It(U.html),a(U.description),I(!1),console.log("Wireframe Loaded!",`"${U.name}" has been loaded.`)},Qr=(U,se)=>{a(se),It(U,se),console.log("Wireframe opened from recent/favorites")},Kr=U=>{g.find(J=>J.id===U);const se=g.filter(J=>J.id!==U);y(se),localStorage.setItem("snapframe_saved",JSON.stringify(se))},Io=f.useRef(""),It=(U,se)=>{se&&se.trim().length&&(Io.current=se.trim());const J=(se==null?void 0:se.trim())||Io.current;console.log(" handleWireframeGenerated called",{effectiveDescription:J,htmlLength:U==null?void 0:U.length}),me(!1);let P="";try{const xe=Po(U,!0);xe.styles&&!/^\s*<style/i.test(xe.html)?P=`<style>${xe.styles}</style>
${xe.html}`:P=xe.html}catch(xe){console.error(" Error processing HTML:",xe)}if(P&&P.length>0){const xe=ag(P);u(xe);try{const Ie=window.addToRecents;if(Ie&&J){const dt=J.length>50?J.substring(0,47)+"...":J;Ie(dt,"Wireframe created",xe)}}catch(Ie){console.log("Could not add to recents:",Ie)}}else u("");M(Date.now())},an=(U,se,J)=>we(null,null,function*(){const P=se||s;if(console.log(" handleSubmit called with description:",P),console.log(" Website analysis data received:",!!J,J==null?void 0:J.url),U.preventDefault(),!P||P.trim().length===0){qe("Please enter a description for the wireframe","warning");return}const xe=new yl("wireframe-generation");try{console.log(" Generating wireframe with description:",P);const Ie=yield Y(P,pe,_,!1,!1,J);Ie&&Ie.html?typeof Ie.html=="string"&&Ie.html.length>0?(It(Ie.html,P),ct(""),me(!1),z(!1)):(console.error("Error: Received invalid wireframe data"),qe("Error: Received invalid wireframe data. Please try again.","error")):(console.error("Error: No wireframe generated"),qe("Error: No wireframe generated. Please try again.","error"))}catch(Ie){console.error(" Exception in handleSubmit:",Ie);const dt=Ie instanceof Error?Ie.message:"Unknown error occurred";qe(`Failed to generate wireframe: ${dt}`,"error")}finally{xe.stop()}}),tr=()=>{console.log(" App.tsx handleStop called!"),console.log(" cancelGeneration function:",typeof nt),console.log(" Current loading state:",$);try{nt(),console.log(" cancelGeneration called successfully from App.tsx")}catch(U){console.error(" Error calling cancelGeneration:",U)}},nr=U=>we(null,null,function*(){console.log(" AI suggestion clicked:",U),console.log(" Current designTheme:",pe),console.log(" Current colorScheme:",_),z(!1),a(U);const se=new yl("ai-suggestion-wireframe");try{const J=yield Y(U,pe,_);J&&J.html?typeof J.html=="string"&&J.html.length>0?(It(J.html,U),ct(""),me(!1)):(console.error("Error: Received invalid wireframe data"),qe("Error: Received invalid wireframe data. Please try again.","error")):(console.error("Error: No wireframe generated"),qe("Error: No wireframe generated. Please try again.","error"))}catch(J){console.error(" Exception in handleAiSuggestionClick:",J);const P=J instanceof Error?J.message:"Unknown error occurred";qe(`Failed to generate wireframe from suggestion: ${P}`,"error")}finally{se.stop()}}),Sr=U=>{console.log(" App.tsx: handleAddComponent called with:",U),console.log(" App.tsx: Current htmlWireframe length:",(d==null?void 0:d.length)||0);const se=U.placementInfo&&U.placementInfo.x!==void 0&&U.placementInfo.y!==void 0;se&&console.log(" App.tsx: Placing component with coordinates:",U.placementInfo);const J=cn(U);if(console.log(" App.tsx: Generated HTML:",J),d){let xe;se?xe=Yr(d,J,U.placementInfo):xe=rr(d,J),console.log(" App.tsx: Updating existing wireframe, new length:",xe.length),u(xe),console.log(" App.tsx:  Component added successfully!")}else{const xe=Ln(J);console.log(" App.tsx: Creating new wireframe, length:",xe.length),u(xe),console.log(" App.tsx:  Created new wireframe with component!")}M(Date.now()),qe(se?"Component placed at selected position!":"Component added successfully!","success")},ln=(U,se)=>we(null,null,function*(){try{console.log(`Generating ${se} content:`,U);const J=yield Y(U,pe,_),P=Po(J.html,!0);let xe=P.html;return P.styles&&!/^\s*<style/i.test(xe)&&(xe=`<style>${P.styles}</style>
${xe}`),xe}catch(J){throw console.error("Failed to generate page content:",J),J}}),cn=U=>{if(console.log(" generateComponentHtml: Processing component:",U),U.htmlCode){console.log(" generateComponentHtml: Using component.htmlCode");let xe=U.htmlCode;if(xe.trim().startsWith("<")&&xe.trim().endsWith(">")){const ut=new DOMParser().parseFromString(xe,"text/html").body.children;if(ut.length===1){const ft=ut[0];ft.setAttribute("data-user-added","true"),ft.classList.add("atlas-component"),xe=ft.outerHTML}else xe=`<div class="atlas-component component-container" data-user-added="true" style="display: inline-block; margin: 8px;">${xe}</div>`}return xe}const{id:se,name:J,defaultProps:P}=U;switch(console.log(" generateComponentHtml: Using fallback logic for ID:",se),se){case"ms-learn-layout":return`<div class="ms-learn-layout" style="margin: 10px; padding: 20px; border: 2px solid #8E9AAF; border-radius: 8px; background: #f8f9fa;">
          <h3 style="color: #8E9AAF;"> Microsoft Learn Complete Layout</h3>
          <p>Complete Microsoft Learn page layout with top nav, hero, content sections, and footer</p>
        </div>`;case"ms-learn-topnav":return`<nav class="ms-learn-topnav" style="margin: 10px; padding: 15px; background: #8E9AAF; color: white; border-radius: 4px;">
          <h4 style="margin: 0; color: white;"> Microsoft Learn Navigation</h4>
          <p style="margin: 5px 0 0 0; font-size: 14px; color: #e1f5fe;">Official Microsoft Learn top navigation with search, menus, and branding</p>
        </nav>`;case"microsoft-learn-topnav":return`<header class="microsoft-learn-header" style="
          width: 100%;
          background-color: #2B2B2B;
          color: white;
          padding: 12px 24px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        ">
          <div class="header-container" style="
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
          ">
            <div class="logo-section" style="display: flex; align-items: center;">
              <span class="ms-logo" style="
                font-size: 16px;
                font-weight: 600;
                color: #FFFFFF;
                margin-right: 32px;
              "> Microsoft Learn</span>
            </div>
            <nav class="main-nav" style="
              display: flex;
              align-items: center;
              gap: 24px;
            ">
              <a href="#" style="color: #CCCCCC; text-decoration: none; font-size: 14px;">Learning Paths</a>
              <a href="#" style="color: #CCCCCC; text-decoration: none; font-size: 14px;">Certifications</a>
              <a href="#" style="color: #CCCCCC; text-decoration: none; font-size: 14px;">Documentation</a>
              <a href="#" style="color: #CCCCCC; text-decoration: none; font-size: 14px;">Community</a>
            </nav>
            <div class="user-section" style="
              display: flex;
              align-items: center;
              gap: 16px;
            ">
              <button class="search-btn" style="
                background: none;
                border: none;
                color: #CCCCCC;
                font-size: 16px;
                cursor: pointer;
              "></button>
              <button class="profile-btn" style="
                background: #8E9AAF;
                border: none;
                color: white;
                padding: 6px 12px;
                border-radius: 4px;
                font-size: 14px;
                cursor: pointer;
              ">Sign in</button>
            </div>
          </div>
        </header>`;case"ms-learn-hero":return`<section class="ms-learn-hero" style="margin: 10px; padding: 30px; background: linear-gradient(135deg, #8E9AAF, #68769C); color: white; border-radius: 8px; text-align: center;">
          <h2 style="margin: 0 0 10px 0; color: white;"> Microsoft Learn Hero Section</h2>
          <p style="margin: 0; font-size: 16px;">Engaging hero section with call-to-action and learning paths</p>
        </section>`;case"ms-learn-footer":return`<footer class="ms-learn-footer" style="margin: 10px; padding: 20px; background: #3C4858; color: white; border-radius: 4px;">
          <h4 style="margin: 0 0 10px 0; color: white;"> Microsoft Learn Footer</h4>
          <p style="margin: 0; font-size: 14px; color: #d1d1d1;">Footer with community links and feedback options</p>
        </footer>`;case"atlas-button-primary":return`<button class="button button-primary button-lg atlas-component" data-user-added="true" style="margin: 10px; padding: 12px 24px; background: #CBC2C2; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Primary Button"}</button>`;case"atlas-button-primary-filled":return`<button class="button button-primary-filled" style="margin: 10px; padding: 12px 24px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Primary Filled Button"}</button>`;case"atlas-button-primary-clear":return`<button class="button button-primary-clear" style="margin: 10px; padding: 12px 24px; background: transparent; color: #8E9AAF; border: 2px solid #8E9AAF; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Primary Clear Button"}</button>`;case"atlas-button-secondary":return`<button class="button button-secondary button-lg" style="margin: 10px; padding: 12px 24px; background: #f3f2f1; color: #3C4858; border: 1px solid #e1dfdd; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Secondary Button"}</button>`;case"atlas-button-secondary-clear":return`<button class="button button-secondary-clear" style="margin: 10px; padding: 12px 24px; background: transparent; color: #3C4858; border: 2px solid #e1dfdd; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Secondary Clear Button"}</button>`;case"atlas-button-secondary-filled":return`<button class="button button-secondary-filled" style="margin: 10px; padding: 12px 24px; background: #68769C; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Secondary Filled Button"}</button>`;case"atlas-button-danger":return`<button class="button button-danger" style="margin: 10px; padding: 12px 24px; background: #d13438; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Danger Button"}</button>`;case"atlas-button-success":return`<button class="button button-success" style="margin: 10px; padding: 12px 24px; background: #107c10; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Success Button"}</button>`;case"atlas-button-warning":return`<button class="button button-warning" style="margin: 10px; padding: 12px 24px; background: #ffb900; color: #3C4858; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">${(P==null?void 0:P.text)||"Warning Button"}</button>`;case"atlas-button-loading":return'<button class="button button-loading" style="margin: 10px; padding: 12px 24px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;" disabled> Loading...</button>';case"atlas-button-small":return`<button class="button button-small" style="margin: 10px; padding: 8px 16px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 12px;">${(P==null?void 0:P.text)||"Small Button"}</button>`;case"atlas-button-large":return`<button class="button button-large" style="margin: 10px; padding: 16px 32px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 18px;">${(P==null?void 0:P.text)||"Large Button"}</button>`;case"atlas-button-block":return`<button class="button button-block" style="margin: 10px; padding: 12px 24px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; width: 100%; display: block;">${(P==null?void 0:P.text)||"Block Button"}</button>`;case"atlas-button-search":return`<button class="button button-primary button-lg button-search" style="margin: 10px; padding: 12px 24px; background: #8E9AAF; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; display: inline-flex; align-items: center; gap: 8px;"> ${(P==null?void 0:P.text)||"Search"}</button>`;case"atlas-input":return`<div style="margin: 10px;">
          <label style="display: block; margin-bottom: 5px; color: #3C4858; font-weight: 600;">${(P==null?void 0:P.label)||"Input Label"}</label>
          <input type="text" class="form-control" placeholder="${(P==null?void 0:P.placeholder)||"Enter text here..."}" style="width: 100%; padding: 8px 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-family: 'Segoe UI', sans-serif;">
        </div>`;case"atlas-textarea":return`<div style="margin: 10px;">
          <label style="display: block; margin-bottom: 5px; color: #3C4858; font-weight: 600;">${(P==null?void 0:P.label)||"Textarea Label"}</label>
          <textarea class="form-control" placeholder="${(P==null?void 0:P.placeholder)||"Enter your text here..."}" rows="4" style="width: 100%; padding: 8px 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-family: 'Segoe UI', sans-serif; resize: vertical;"></textarea>
        </div>`;case"atlas-select":return`<div style="margin: 10px;">
          <label style="display: block; margin-bottom: 5px; color: #3C4858; font-weight: 600;">${(P==null?void 0:P.label)||"Select Label"}</label>
          <select class="form-control" style="width: 100%; padding: 8px 12px; border: 1px solid #e1dfdd; border-radius: 4px; font-family: 'Segoe UI', sans-serif;">
            <option>Option 1</option>
            <option>Option 2</option>
            <option>Option 3</option>
          </select>
        </div>`;case"atlas-checkbox":return`<div style="margin: 10px;">
          <label style="display: flex; align-items: center; color: #3C4858; font-weight: 500; cursor: pointer;">
            <input type="checkbox" style="margin-right: 8px; width: 16px; height: 16px;">
            ${(P==null?void 0:P.label)||"Checkbox Label"}
          </label>
        </div>`;case"atlas-radio":return`<div style="margin: 10px;">
          <label style="display: flex; align-items: center; color: #3C4858; font-weight: 500; cursor: pointer;">
            <input type="radio" name="radio-group" style="margin-right: 8px; width: 16px; height: 16px;">
            ${(P==null?void 0:P.label)||"Radio Button Label"}
          </label>
        </div>`;case"atlas-toggle":return`<div style="margin: 10px;">
          <label style="display: flex; align-items: center; color: #3C4858; font-weight: 500; cursor: pointer;">
            <div style="position: relative; width: 44px; height: 24px; background: #e1dfdd; border-radius: 12px; margin-right: 8px; transition: background 0.3s;">
              <div style="position: absolute; top: 2px; left: 2px; width: 20px; height: 20px; background: white; border-radius: 50%; transition: transform 0.3s;"></div>
            </div>
            ${(P==null?void 0:P.label)||"Toggle Switch"}
          </label>
        </div>`;case"atlas-label":return`<label style="margin: 10px; display: block; color: #3C4858; font-weight: 600; font-size: 14px;">${(P==null?void 0:P.text)||"Form Label"}</label>`;case"atlas-breadcrumb":return`<nav style="margin: 10px; padding: 10px; background: #f8f9fa; border-radius: 4px;">
          <div style="color: #68769C; font-size: 14px;">
             <a href="#" style="color: #8E9AAF; text-decoration: none;">Home</a> &gt; 
            <a href="#" style="color: #8E9AAF; text-decoration: none;">Category</a> &gt; 
            <span style="color: #3C4858; font-weight: 600;">Current Page</span>
          </div>
        </nav>`;case"atlas-site-header":return`<header style="margin: 10px; padding: 20px; background: #3C4858; color: white; border-radius: 4px;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <h3 style="margin: 0; color: white;"> Atlas Site Header</h3>
            <nav style="display: flex; gap: 20px;">
              <a href="#" style="color: #ffffff; text-decoration: none;">Home</a>
              <a href="#" style="color: #ffffff; text-decoration: none;">About</a>
              <a href="#" style="color: #ffffff; text-decoration: none;">Contact</a>
            </nav>
          </div>
        </header>`;case"atlas-pagination":return`<nav style="margin: 10px; padding: 15px; text-align: center;">
          <div style="display: inline-flex; gap: 5px;">
            <button style="padding: 8px 12px; border: 1px solid #e1dfdd; background: white; border-radius: 4px; cursor: pointer;">&laquo;</button>
            <button style="padding: 8px 12px; border: 1px solid #8E9AAF; background: #8E9AAF; color: white; border-radius: 4px;">1</button>
            <button style="padding: 8px 12px; border: 1px solid #e1dfdd; background: white; border-radius: 4px; cursor: pointer;">2</button>
            <button style="padding: 8px 12px; border: 1px solid #e1dfdd; background: white; border-radius: 4px; cursor: pointer;">3</button>
            <button style="padding: 8px 12px; border: 1px solid #e1dfdd; background: white; border-radius: 4px; cursor: pointer;">&raquo;</button>
          </div>
        </nav>`;case"atlas-gradient-card":return`<div class="gradient-card" style="margin: 10px; padding: 25px; background: linear-gradient(135deg, #8E9AAF, #68769C); color: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,120,212,0.3);">
          <h4 style="margin: 0 0 10px 0; color: white;"> Gradient Card</h4>
          <p style="margin: 0; color: #e1f5fe;">A beautiful gradient card component with Microsoft Learn styling.</p>
        </div>`;case"atlas-hero":return Zm({title:"Build your next great idea",summary:"Transform your vision into reality with Microsoft Learn's comprehensive resources and tools.",eyebrow:"MICROSOFT LEARN",ctaText:"Get Started",showSecondaryButton:!0,secondaryCtaText:"Learn More",backgroundColor:"#E9ECEF",heroImageUrl:"hero-learn.svg"});case"atlas-banner":return`<div class="banner" style="margin: 10px; padding: 20px; background: #fff4ce; border: 1px solid #ffb900; border-radius: 4px; color: #3C4858;">
          <div style="display: flex; align-items: center; gap: 10px;">
            <span style="font-size: 20px;"></span>
            <div>
              <h4 style="margin: 0 0 5px 0; color: #3C4858;">Important Banner</h4>
              <p style="margin: 0; color: #68769C;">This is an informational banner component.</p>
            </div>
          </div>
        </div>`;case"atlas-container":return`<div class="container" style="margin: 10px; padding: 20px; border: 1px solid #e1dfdd; border-radius: 4px; background: #f9f9f9;">
          <h3 style="margin: 0 0 10px 0; color: #3C4858;"> Container</h3>
          <p style="margin: 0; color: #68769C;">This is a container component. Add your content here.</p>
        </div>`;case"atlas-card":return`<div class="card atlas-component" data-user-added="true" style="margin: 10px; padding: 20px; border: 1px solid #e1dfdd; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
          <h4 style="margin: 0 0 10px 0; color: #3C4858;"> Card Title</h4>
          <p style="margin: 0; color: #68769C;">Card content goes here. This is a Microsoft Learn styled card component.</p>
        </div>`;case"atlas-heading":return`<h2 style="margin: 10px; color: #3C4858; font-size: 2rem; font-weight: 600;"> ${(P==null?void 0:P.text)||"Heading Component"}</h2>`;case"atlas-text":return`<p style="margin: 10px; color: #68769C; line-height: 1.5; font-family: 'Segoe UI', sans-serif;">${(P==null?void 0:P.text)||"This is a text component. You can use it to display paragraphs of content with Microsoft Learn styling."}</p>`;default:return`<div style="margin: 10px; padding: 15px; border: 2px dashed #e1dfdd; border-radius: 4px; color: #68769C; text-align: center; background: #f9f9f9;">
          <h4 style="margin: 0 0 5px 0; color: #3C4858;"> ${J||"Unknown Component"}</h4>
          <p style="margin: 0; font-size: 12px;">Component ID: ${se}</p>
        </div>`}},rr=(U,se)=>{if(console.log(" insertComponentIntoWireframe: Adding component to Fluent UI layout"),U.includes("fluent-container")||U.includes("fluent-row")||U.includes("fluent-col")){const Ie=/<div class="col-[^"]*"[^>]*>/g,dt=U.match(Ie);if(dt&&dt.length>0){const ft=U.match(/<div class="col-[^"]*"[^>]*>[\s]*<\/div>/);if(ft)return U.replace(ft[0],ft[0].replace("</div>",`
              <div class="atlas-component-wrapper" data-user-added="true">
                ${se}
              </div>
            </div>`));{const zt=U.match(/(<div class="col-[^"]*"[^>]*>)([\s\S]*?)(<\/div>)(?![\s\S]*<div class="col-)/);if(zt){const Jt=zt[0],ir=Jt.replace(zt[3],`
              <div class="atlas-component-wrapper mb-3" data-user-added="true">
                ${se}
              </div>
            ${zt[3]}`);return U.replace(Jt,ir)}}}const ut=U.match(/(<div class="row[^"]*"[^>]*>[\s\S]*?<\/div>)(?![\s\S]*<div class="row)/);if(ut){const ft=ut[0],zt=`
          <div class="row mb-4">
            <div class="col-md-6">
              <div class="atlas-component-wrapper" data-user-added="true">
                ${se}
              </div>
            </div>
            <div class="col-md-6">
              <div class="p-4 border border-dashed rounded text-center text-muted">
                <p class="mb-0">Drop zone for additional components</p>
              </div>
            </div>
          </div>`;return U.replace(ft,ft+zt)}}const P=`
      <div class="atlas-component-wrapper mt-4" data-user-added="true" style="
        background: rgba(255, 255, 255, 0.95);
        border: 2px solid #8E9AAF;
        border-radius: 8px;
        padding: 15px;
        margin: 15px 0;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        animation: atlasSlideIn 0.6s ease-out;
      ">
        ${se}
      </div>
      
      <style>
        @keyframes atlasSlideIn {
          0% { transform: translateY(-20px) scale(0.95); opacity: 0; }
          100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        .atlas-component-wrapper:hover {
          transform: scale(1.02);
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
      </style>`;return U.match(/<\/body>/)?U.replace("</body>",P+`
</body>`):U+P},Yr=(U,se,J)=>{console.log(" insertComponentAtPosition: Placing component at:",J);const{x:P,y:xe,targetElement:Ie}=J,dt=`
      <div class="atlas-placed-component" data-user-added="true" data-placed="true" 
           ondblclick="this.remove()" 
           title="Double-click to remove this component"
           style="
        position: absolute;
        left: ${P}px;
        top: ${xe}px;
        z-index: 1000;
        border: 1px solid rgba(0, 120, 212, 0.3);
        border-radius: 4px;
        padding: 8px;
        animation: atlasPlaceIn 0.3s ease-out;
        cursor: pointer;
      ">
        ${se}
        <button class="remove-component-btn" onclick="this.parentElement.remove()" 
                title="Remove component" 
                style="
          position: absolute;
          top: -8px;
          right: -8px;
          width: 18px;
          height: 18px;
          border: none;
          background: #dc3545;
          color: white;
          border-radius: 50%;
          font-size: 12px;
          line-height: 1;
          cursor: pointer;
          display: none;
          align-items: center;
          justify-content: center;
        "></button>
      </div>
      
      <style>
        @keyframes atlasPlaceIn {
          0% { opacity: 0; transform: translateY(-4px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .atlas-placed-component:hover {
          border-color: rgba(0, 120, 212, 0.5);
        }
        .atlas-placed-component:hover .remove-component-btn {
          display: flex !important;
        }
        .remove-component-btn:hover {
          background: #c82333 !important;
          transform: scale(1.1);
        }
      </style>`;let ut=U;if(!U.includes("position: relative")){const zt=U.match(/<body[^>]*>/);if(zt){const Jt=zt[0],ir=Jt.includes("style=")?Jt.replace(/style="([^"]*)"/,'style="$1; position: relative;"'):Jt.replace(">",' style="position: relative;">');ut=ut.replace(Jt,ir)}}return ut.match(/<\/body>/)?ut=ut.replace("</body>",dt+`
</body>`):ut+=dt,console.log(" Component placed at position:",{x:P,y:xe}),ut},Ln=U=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Wireframe</title>
    <link href="https://static2.sharepointonline.com/files/fabric/office-ui-fabric-core/11.0.0/css/fabric.min.css" rel="stylesheet">
    <style>
      body { font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif; }
      .fluent-container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 16px; }
      .fluent-row { display: flex; flex-wrap: wrap; margin: 0 -8px; }
      .fluent-col { flex: 1; padding: 0 8px; min-width: 0; }
    </style>
    <style>
        body { 
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
          background-color: #f8f9fa;
          padding: 20px;
        }
        .wireframe-container { 
          background: white;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
          padding: 30px;
          min-height: 400px; 
        }
        .button { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; }
        .button-primary { background: #8E9AAF; color: white; }
        .button-secondary { background: #f3f2f1; color: #3C4858; border: 1px solid #e1dfdd; }
        .button-lg { padding: 12px 24px; }
        .button-search { display: inline-flex; align-items: center; gap: 8px; }
        
        /* Component entry animation */
        @keyframes atlasSlideIn {
          0% { transform: translateY(-20px) scale(0.95); opacity: 0; }
          100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        .atlas-component-wrapper {
          animation: atlasSlideIn 0.6s ease-out;
          transition: all 0.3s ease;
          background: rgba(255, 255, 255, 0.95);
          border: 2px solid #8E9AAF;
          border-radius: 8px;
          padding: 15px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
          min-height: 80px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .atlas-component-wrapper:hover {
          transform: scale(1.02);
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
        .atlas-component-wrapper .atlas-component {
          margin: 0 !important;
        }
    </style>
</head>
<body>
    <div style="width: 100%; padding: 0 16px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
        <div class="wireframe-container">
            <div class="row mb-4">
                <div class="col-12">
                    <h1 class="h3 text-primary mb-1">Component Library Wireframe</h1>
                    <p style="color: #68769C; font-size: 14px;">Components are added to the Fluent UI layout and can be rearranged using drag & drop.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <div class="atlas-component-wrapper" data-user-added="true">
                        ${U}
                    </div>
                </div>
                <div class="col-md-8 mb-3">
                    <div class="p-4 border border-dashed rounded text-center text-muted">
                        <h5>Drop Zone</h5>
                        <p class="mb-0">Add more components from the library or drag existing ones to rearrange.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`,Jr=(U,se)=>{console.log(" Injecting CSS into wireframe");const J=/(<head>[\s\S]*?)(<\/head>)/i,P=U.match(J);if(P){const xe=/(<style>[\s\S]*?<\/style>)/i,Ie=P[1].match(xe);if(Ie){const dt=Ie[1].replace("</style>",`
${se}
</style>`);return U.replace(Ie[1],dt)}else{const dt=P[1]+`
<style>
${se}
</style>
`;return U.replace(P[1],dt)}}else{const xe=/<head[^>]*>/i,Ie=U.match(xe);if(Ie)return U.replace(Ie[0],`${Ie[0]}
<style>
${se}
</style>`)}return`<style>
${se}
</style>
${U}`},or=(U,se)=>we(null,null,function*(){se&&ie(se);const J="microsoftlearn",P=se||_;if(!s.trim())return;const xe=new yl("design-change-wireframe");try{const Ie=yield Y(s,J,P);Ie&&Ie.html?typeof Ie.html=="string"&&Ie.html.length>0?It(Ie.html,s):(console.error("Error: Received invalid wireframe data"),qe("Error: Received invalid wireframe data. Please try again.","error")):(console.error("Error: No wireframe generated"),qe("Error: No wireframe generated. Please try again.","error"))}catch(Ie){console.error(" Error in design change:",Ie)}finally{xe.stop()}}),Nr=U=>we(null,null,function*(){try{const se=new AbortController,J=setTimeout(()=>se.abort(),1e4),P=yield fetch(qn(En.ENDPOINTS.GENERATE_SUGGESTIONS),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:U.trim()}),signal:se.signal});return clearTimeout(J),P.ok?(yield P.json()).suggestions||En.FALLBACK_SUGGESTIONS:(console.warn(`AI suggestions API returned ${P.status}, using fallback suggestions`),En.FALLBACK_SUGGESTIONS)}catch(se){return se instanceof Error?console.warn("AI suggestions temporarily unavailable, using fallback suggestions:",se.message):console.warn("AI suggestions temporarily unavailable, using fallback suggestions"),En.FALLBACK_SUGGESTIONS}}),Tn=f.useCallback(U=>we(null,null,function*(){if(U.trim().length>=2){const J=pg(U);J.length>0&&(W(J),z(!0),Q(!1));const P=gg(U);if(P&&P.suggestions.length>0){W(P.suggestions),z(!0),Q(!1);return}if(fg(U)||J.length===0){J.length===0&&Q(!0);try{const xe=yield Nr(U);xe.length>0&&(W(xe),z(!0),mg(U,xe,"ai"))}catch(xe){console.warn("AI suggestions failed, keeping instant suggestions")}finally{Q(!1)}}}else W([]),z(!1),Q(!1)}),[]),Pn=()=>{console.log("Multi-step feature clicked")},vn=U=>{console.log("Image uploaded:",U.name,U.size)},dn=()=>{u(""),ct(""),me(!0),a("")},Er=(U,se)=>we(null,null,function*(){console.log(" Starting direct image-to-wireframe conversion:",se,"Size:",U.length,"bytes"),Fe(!0);try{const J=yield fetch("/api/direct-image-to-wireframe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:U,designTheme:pe,colorScheme:_})});if(!J.ok)throw new Error(`Direct conversion failed: ${J.status}`);const P=yield J.json();if(!P.success)throw new Error(P.error||"Direct conversion failed");console.log(" Direct image-to-wireframe conversion completed successfully");const xe=`Pixel-perfect wireframe generated from uploaded image: ${se}. Preserves exact colors, text, and layout from the original design.`;a(xe),P.html&&It(P.html,xe)}catch(J){console.error(" Direct conversion failed, trying fallback:",J);try{const Ie=yield fetch("/api/analyzeUIImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:U,prompt:"Extract EXACT text content and EXACT hex colors from this image. Be pixel-perfect in color matching."})});if(Ie.ok){const dt=yield Ie.json();if(dt.success){const ut=`Recreate this UI design from image: ${se}. Use exact colors and text from analysis.`;a(ut);const ft=yield Y(ut,pe,_,dt);if(ft&&ft.html){It(ft.html,ut);return}}}}catch(Ie){console.error(" Fallback analysis also failed:",Ie)}const P=`Generate a wireframe based on the uploaded image: ${se}. Analyze the layout, components, and structure shown in the image.`;a(P);const xe=yield Y(P,pe,_);xe&&xe.html&&It(xe.html,P)}finally{Fe(!1)}}),In=U=>{if(console.log("Figma components imported:",U),U.length===0){qe("No components were imported","warning");return}let se="";if(U.forEach((J,P)=>{J.wireframeHtml&&(se+=`
          <div class="figma-imported-component" data-component-name="${J.componentName}" style="margin: 20px 0; padding: 20px; border: 2px solid #8E9AAF; border-radius: 8px; background: rgba(255,255,255,0.95);">
            <h4 style="margin: 0 0 15px 0; color: #8E9AAF; font-size: 16px;"> ${J.componentName}</h4>
            ${J.wireframeHtml}
          </div>
        `)}),se){if(d){const J=rr(d,se);u(J),qe(`Added ${U.length} Figma component(s) to wireframe`,"success")}else{const J=Ln(se);u(J),me(!1),qe(`Created wireframe with ${U.length} Figma component(s)`,"success")}M(Date.now())}else qe("Failed to process imported components","error");T(!1)},$n=U=>{if(console.log(" Adding components to wireframe:",U),U.length===0){qe("No components selected to add to wireframe","warning");return}let se=d,J=0,P="";U.forEach(xe=>{if(console.log(" Processing component:",xe.name,"content:",xe.content),xe.content){xe.css&&xe.css.trim()&&(P+=`
/* CSS for ${xe.name} */
${xe.css}
`,console.log(" Collected CSS for component:",xe.name));const Ie=`
          <div class="figma-imported-component" data-component-id="${xe.id}" style="margin: 10px 0;">
            ${xe.content}
          </div>
        `;console.log(" Individual component HTML:",Ie),se&&se.trim()!==""?se=rr(se,Ie):(se=Ln(Ie),me(!1)),J++}}),P.trim()&&(console.log(" Injecting component CSS into wireframe"),se=Jr(se,P)),J>0?(u(se),qe(`Added ${J} component(s) to wireframe`,"success"),M(Date.now())):qe("Failed to process component data","error"),T(!1)},Dn=(U,se)=>{console.log("Figma file imported:",se),u(U),me(!1),M(Date.now()),qe(`Figma design imported: ${se}`,"success")},Mn=U=>we(null,null,function*(){if(console.log("Exporting wireframe:",U),!d||d.trim()===""){qe("No wireframe to export. Please create a wireframe first.","error");return}try{const{wireframeExportService:se}=yield zl(()=>we(null,null,function*(){const{wireframeExportService:P}=yield import("./wireframeExport-OFNBTKrt.js");return{wireframeExportService:P}}),[]);let J;U==="figma-file"?J=yield se.exportAsHTML(d,{format:"html",filename:se.generateFilename("wireframe","html"),includeStyles:!0,includeInteractivity:!0}):U==="figma-components"&&(J=yield se.exportAsJSON(d,{description:s,theme:pe,colorScheme:_,exportedAt:new Date().toISOString()},{format:"figma-components",filename:se.generateFilename("wireframe-components","json")})),J!=null&&J.success?qe(` Wireframe exported successfully as ${J.filename}! 
          ${J.size?`(${Math.round(J.size/1024)} KB)`:""}`,"success"):qe(` Export failed: ${(J==null?void 0:J.error)||"Unknown error"}`,"error")}catch(se){console.error("Export error:",se),qe(" Export failed. Please try again.","error")}});return n.jsxs("div",{className:"app-content",children:[ge&&!d&&!Qe?n.jsx($m,{onLogoClick:dn,onLogout:c}):n.jsx(Im,{onLogoClick:dn,onLogout:c,onFigmaIntegration:Ve,onViewHtmlCode:lt,onPresentationMode:ye,onDownloadWireframe:D}),ge&&!d&&!Qe?n.jsx(rm,{error:Ae,savedWireframesCount:g.length,onLoadClick:()=>I(!0),description:s,onDescriptionChange:U=>{const se=U.target.value;a(se),se.length<=2&&z(!1)},onSubmit:an,loading:$,handleStop:tr,showAiSuggestions:k,aiSuggestions:X,suggestionLoading:V,onAiSuggestionClick:nr,onGenerateAiSuggestions:Tn,onImageUpload:vn,onAnalyzeImage:Er,isAnalyzingImage:$e,onFigmaImport:Dn,onFigmaExport:Mn,onOpenWireframe:Qr}):n.jsx(Pm,{description:s,setDescription:a,handleSubmit:an,loading:$,loadingStage:oe,fallback:Re,processingTime:Ze,handleStop:tr,showAiSuggestions:k,aiSuggestions:X,suggestionLoading:V,isAiSourced:he,setShowAiSuggestions:z,onGenerateAiSuggestions:Tn,error:Ae,savedWireframesCount:g.length,onLoadClick:()=>I(!0),htmlWireframe:Qe||d,setHtmlWireframe:u,reactComponent:Qe,setReactComponent:ct,onSave:()=>b(!0),onEnhancedSave:Be,onMultiStep:Pn,designTheme:pe,colorScheme:_,setColorScheme:ie,onDesignChange:or,onAiSuggestionClick:nr,forceUpdateKey:G,onBackToLanding:dn,onAddComponent:Sr,onGeneratePageContent:ln,onImageUpload:vn,onAnalyzeImage:Er,isAnalyzingImage:$e,onFigmaExport:Mn,onFigmaIntegration:m,onComponentLibrary:x,onDevPlaybooks:R,onFigmaComponents:de,onViewHtmlCode:Ee,onDownloadWireframe:Ce,onPresentationMode:ze,editingMode:j,onEditingModeChange:B}),h&&n.jsx(Dm,{saveTitle:w,setSaveTitle:O,onSave:yn,onCancel:()=>b(!1)}),E&&n.jsx(Mm,{savedWireframes:g,onLoad:er,onDelete:Kr,onClose:()=>I(!1)}),re.map(U=>n.jsx(Rm,{message:U.message,type:U.type,onClose:()=>xn(U.id)},U.id)),(console.log(" App.tsx render: showFigmaIntegration =",H),null),H&&n.jsx("div",{className:"figma-modal-overlay",children:n.jsx(Bm,{onComponentsImported:In,onAddToWireframe:$n,onClose:()=>T(!1),designSystem:"auto",mode:"add-to-wireframe"})}),ce&&n.jsx(Ts,{isOpen:ce,onClose:()=>ee(!1),onImport:(U,se,J)=>{Dn(U,se),J&&console.log("Design tokens extracted:",J),ee(!1)},onExport:U=>{console.log("Figma export requested:",U),ee(!1)},onTokensExtracted:U=>{console.log("Design tokens extracted:",U)},onFileProcessed:(U,se)=>{console.log("File processed:",U.name,se)}})]})}function xg(){const[c,s]=f.useState(!1),[a,d]=f.useState(!0);f.useEffect(()=>{if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port!==""){console.log(" Development mode: Bypassing Azure authentication"),s(!0),d(!1);return}console.log(" Production mode: Checking Azure authentication"),fetch("/.auth/me").then(h=>h.json()).then(h=>{console.log(" Azure auth response:",h),h.clientPrincipal&&s(!0),d(!1)}).catch(h=>{console.log(" Azure auth check failed:",h),d(!1)})},[]);const u=()=>{s(!0)},g=()=>{window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port!==""?window.location.reload():window.location.href="/.auth/logout"};return a?n.jsx("div",{className:"app-loading-container",children:n.jsx("div",{children:"Loading..."})}):c?n.jsx(hg,{onLogout:g}):n.jsx(Om,{onAuthSuccess:u})}const Ns="https://func-original-app-pgno4orkguix6.azurewebsites.net";function vu(c){return c==="localhost"||c==="127.0.0.1"||c==="[::1]"}(function(){if(typeof window=="undefined"||vu(window.location.hostname))return;const s=window.fetch.bind(window);window.fetch=(u,g)=>we(null,null,function*(){try{const y=typeof u=="string"?u:u instanceof URL?u.toString():u.url;if(typeof y=="string"&&y.includes("localhost:5001")){const h=y.replace(/https?:\/\/localhost:5001/gi,Ns);console.warn("[ProductionSafety] Rewriting localhost:5001 ->",Ns,`
 Original:`,y,`
 New:`,h),u=h}}catch(y){console.warn("[ProductionSafety] Fetch guard inspection failed:",y)}return s(u,g)});const a=window.XMLHttpRequest;class d extends a{open(g,y,h,b,w){if(y&&y.includes("localhost:5001")&&!vu(window.location.hostname)){const O=y.replace(/https?:\/\/localhost:5001/gi,Ns);return console.warn("[ProductionSafety][XHR] Rewriting localhost:5001 ->",Ns,`
 Original:`,y,`
 New:`,O),super.open(g,O,h!=null?h:!0,b,w)}return super.open(g,y,h!=null?h:!0,b,w)}}window.XMLHttpRequest=d})();window.React=Zn;const bu=document.getElementById("root");bu&&wf.createRoot(bu).render(n.jsx(f.StrictMode,{children:n.jsx(xg,{})}))});export default yg();
