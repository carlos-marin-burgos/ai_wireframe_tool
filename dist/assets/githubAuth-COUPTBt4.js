const d="https://func-original-app-pgno4orkguix6.azurewebsites.net";function p(){return new Promise(t=>{const a=`${d}/api/github/auth/start`,r=600,s=700,u=window.screenX+(window.outerWidth-r)/2,c=window.screenY+(window.outerHeight-s)/2,e=window.open(a,"github_auth",`width=${r},height=${s},left=${u},top=${c}`);if(!e){t({status:"error",error:"Popup blocked"});return}const i=setInterval(()=>{e.closed&&(clearInterval(i),window.removeEventListener("message",n),t({status:"error",error:"Popup closed"}))},500);function n(w){const o=w.data;if(!(!o||o.source!=="github-auth")){clearInterval(i),window.removeEventListener("message",n);try{e.close()}catch(h){}t(o)}}window.addEventListener("message",n)})}export{p as startGitHubAuth};
