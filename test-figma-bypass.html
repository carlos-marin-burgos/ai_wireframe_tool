<!DOCTYPE html>
<html>

<head>
    <title>Test Figma Bypass</title>
</head>

<body>
    <h1>Testing Figma Bypass Logic</h1>
    <button onclick="testBypass()">Test Bypass Logic</button>
    <div id="result"></div>

    <script>
        function testBypass() {
            console.log('Testing bypass logic...');

            // Simulate the bypass useEffect logic
            let isOpen = true;
            let isConnected = false;
            let authStatus = null;
            let activeTab = 'connect';

            // This is the exact logic from our bypass
            if (isOpen) {
                console.log('BYPASS: Auto-connecting to Figma with configured token');
                isConnected = true;
                authStatus = {
                    status: 'connected',
                    message: 'Connected using configured Figma token (OAuth bypassed)',
                    tokenInfo: { scope: 'file_read', hasToken: true }
                };
                activeTab = 'url'; // Go directly to the import tab
            }

            document.getElementById('result').innerHTML = `
                <h3>Bypass Test Results:</h3>
                <p><strong>isConnected:</strong> ${isConnected}</p>
                <p><strong>activeTab:</strong> ${activeTab}</p>
                <p><strong>authStatus:</strong> ${JSON.stringify(authStatus, null, 2)}</p>
            `;

            console.log('Bypass results:', { isConnected, activeTab, authStatus });
        }
    </script>
</body>

</html>