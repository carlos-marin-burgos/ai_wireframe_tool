<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Image Placeholder Fix</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 20px;
            background: #f8f9fa;
        }

        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .test-title {
            color: #323130;
            border-bottom: 2px solid #0078d4;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h2 class="test-title">Image Placeholder Test Cases</h2>

        <h3>Broken Images (should show placeholders):</h3>
        <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">

            <!-- Test 1: Broken URL -->
            <div>
                <h4>Broken URL</h4>
                <img src="https://example.com/broken-image.jpg" alt="Broken Image" width="200" height="150">
            </div>

            <!-- Test 2: Via placeholder broken -->
            <div>
                <h4>Via Placeholder (Broken)</h4>
                <img src="https://via.placeholder.com/200x150/broken" alt="Via Placeholder" width="200" height="150">
            </div>

            <!-- Test 3: No src attribute -->
            <div>
                <h4>No Source</h4>
                <img alt="No Source Image" width="200" height="150">
            </div>

            <!-- Test 4: Empty src -->
            <div>
                <h4>Empty Source</h4>
                <img src="" alt="Empty Source" width="200" height="150">
            </div>

            <!-- Test 5: Relative broken path -->
            <div>
                <h4>Relative Broken Path</h4>
                <img src="./images/nonexistent.jpg" alt="Relative Path" width="200" height="150">
            </div>

            <!-- Test 6: 404 URL -->
            <div>
                <h4>404 URL</h4>
                <img src="https://httpstat.us/404" alt="404 Image" width="200" height="150">
            </div>
        </div>

        <h3>Working Images (should display normally):</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">

            <!-- Test 7: Microsoft Logo -->
            <div>
                <h4>Microsoft Logo (Local)</h4>
                <img src="/windowsLogo.png" alt="Microsoft Logo" width="64" height="64">
            </div>

            <!-- Test 8: Placehold.co -->
            <div>
                <h4>Placehold.co (Working)</h4>
                <img src="https://placehold.co/200x150/0078d4/ffffff?text=Working" alt="Working Placeholder" width="200"
                    height="150">
            </div>

            <!-- Test 9: Picsum -->
            <div>
                <h4>Picsum Photos</h4>
                <img src="https://picsum.photos/200/150" alt="Picsum Photo" width="200" height="150">
            </div>
        </div>
    </div>

    <div class="test-container">
        <h2 class="test-title">Wireframe Image Examples</h2>
        <p>These examples simulate typical broken images in AI-generated wireframes:</p>

        <div style="display: flex; flex-wrap: wrap; gap: 20px;">
            <!-- Hero image placeholder -->
            <div style="flex: 1; min-width: 300px;">
                <h4>Hero Section Image</h4>
                <img src="hero-image.jpg" alt="Hero Image" style="width: 100%; height: 200px; object-fit: cover;">
            </div>

            <!-- Avatar placeholder -->
            <div>
                <h4>User Avatar</h4>
                <img src="user-avatar.png" alt="User Avatar" width="80" height="80" style="border-radius: 50%;">
            </div>

            <!-- Product image -->
            <div>
                <h4>Product Image</h4>
                <img src="product-image.jpg" alt="Product" width="150" height="150">
            </div>
        </div>
    </div>

    <script>
        // Add onerror handlers to test images that fail to load
        document.querySelectorAll('img').forEach(img => {
            if (!img.onerror) {
                img.onerror = function () {
                    console.log('Image failed to load:', this.src);
                    this.style.border = '2px solid #d83b01';
                    this.style.background = '#fdf2f2';
                };
            }
        });

        // Log which images are broken
        setTimeout(() => {
            const brokenImages = Array.from(document.querySelectorAll('img')).filter(img =>
                !img.complete || img.naturalHeight === 0
            );
            console.log('Detected broken images:', brokenImages.length);
            brokenImages.forEach(img => console.log('Broken:', img.src, img.alt));
        }, 2000);
    </script>
</body>

</html>